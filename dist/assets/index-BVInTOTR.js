var l1=Object.defineProperty;var Of=t=>{throw TypeError(t)};var c1=(t,s,n)=>s in t?l1(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var pl=(t,s,n)=>c1(t,typeof s!="symbol"?s+"":s,n),xu=(t,s,n)=>s.has(t)||Of("Cannot "+n);var oe=(t,s,n)=>(xu(t,s,"read from private field"),n?n.call(t):s.get(t)),$e=(t,s,n)=>s.has(t)?Of("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),Ie=(t,s,n,r)=>(xu(t,s,"write to private field"),r?r.call(t,n):s.set(t,n),n),Lt=(t,s,n)=>(xu(t,s,"access private method"),n);var fl=(t,s,n,r)=>({set _(a){Ie(t,s,a,n)},get _(){return oe(t,s,r)}});function d1(t,s){for(var n=0;n<s.length;n++){const r=s[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cv={exports:{}},Qc={},dv={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),u1=Symbol.for("react.portal"),m1=Symbol.for("react.fragment"),h1=Symbol.for("react.strict_mode"),p1=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),x1=Symbol.for("react.context"),g1=Symbol.for("react.forward_ref"),v1=Symbol.for("react.suspense"),y1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),Ff=Symbol.iterator;function N1(t){return t===null||typeof t!="object"?null:(t=Ff&&t[Ff]||t["@@iterator"],typeof t=="function"?t:null)}var uv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mv=Object.assign,hv={};function fi(t,s,n){this.props=t,this.context=s,this.refs=hv,this.updater=n||uv}fi.prototype.isReactComponent={};fi.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pv(){}pv.prototype=fi.prototype;function Th(t,s,n){this.props=t,this.context=s,this.refs=hv,this.updater=n||uv}var kh=Th.prototype=new pv;kh.constructor=Th;mv(kh,fi.prototype);kh.isPureReactComponent=!0;var Df=Array.isArray,fv=Object.prototype.hasOwnProperty,Mh={current:null},xv={key:!0,ref:!0,__self:!0,__source:!0};function gv(t,s,n){var r,a={},i=null,o=null;if(s!=null)for(r in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)fv.call(s,r)&&!xv.hasOwnProperty(r)&&(a[r]=s[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];a.children=d}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Vo,type:t,key:i,ref:o,props:a,_owner:Mh.current}}function S1(t,s){return{$$typeof:Vo,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Oh(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vo}function b1(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return s[n]})}var Lf=/\/+/g;function gu(t,s){return typeof t=="object"&&t!==null&&t.key!=null?b1(""+t.key):s.toString(36)}function Vl(t,s,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vo:case u1:o=!0}}if(o)return o=t,a=a(o),t=r===""?"."+gu(o,0):r,Df(a)?(n="",t!=null&&(n=t.replace(Lf,"$&/")+"/"),Vl(a,s,n,"",function(u){return u})):a!=null&&(Oh(a)&&(a=S1(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Lf,"$&/")+"/")+t)),s.push(a)),1;if(o=0,r=r===""?".":r+":",Df(t))for(var l=0;l<t.length;l++){i=t[l];var d=r+gu(i,l);o+=Vl(i,s,n,d,a)}else if(d=N1(t),typeof d=="function")for(t=d.call(t),l=0;!(i=t.next()).done;)i=i.value,d=r+gu(i,l++),o+=Vl(i,s,n,d,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function xl(t,s,n){if(t==null)return t;var r=[],a=0;return Vl(t,r,"","",function(i){return s.call(n,i,a++)}),r}function w1(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},ql={transition:null},C1={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:ql,ReactCurrentOwner:Mh};function vv(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:xl,forEach:function(t,s,n){xl(t,function(){s.apply(this,arguments)},n)},count:function(t){var s=0;return xl(t,function(){s++}),s},toArray:function(t){return xl(t,function(s){return s})||[]},only:function(t){if(!Oh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=fi;De.Fragment=m1;De.Profiler=p1;De.PureComponent=Th;De.StrictMode=h1;De.Suspense=v1;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C1;De.act=vv;De.cloneElement=function(t,s,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mv({},t.props),a=t.key,i=t.ref,o=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=Mh.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in s)fv.call(s,d)&&!xv.hasOwnProperty(d)&&(r[d]=s[d]===void 0&&l!==void 0?l[d]:s[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Vo,type:t.type,key:a,ref:i,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:x1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:f1,_context:t},t.Consumer=t};De.createElement=gv;De.createFactory=function(t){var s=gv.bind(null,t);return s.type=t,s};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:g1,render:t}};De.isValidElement=Oh;De.lazy=function(t){return{$$typeof:j1,_payload:{_status:-1,_result:t},_init:w1}};De.memo=function(t,s){return{$$typeof:y1,type:t,compare:s===void 0?null:s}};De.startTransition=function(t){var s=ql.transition;ql.transition={};try{t()}finally{ql.transition=s}};De.unstable_act=vv;De.useCallback=function(t,s){return Xt.current.useCallback(t,s)};De.useContext=function(t){return Xt.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};De.useEffect=function(t,s){return Xt.current.useEffect(t,s)};De.useId=function(){return Xt.current.useId()};De.useImperativeHandle=function(t,s,n){return Xt.current.useImperativeHandle(t,s,n)};De.useInsertionEffect=function(t,s){return Xt.current.useInsertionEffect(t,s)};De.useLayoutEffect=function(t,s){return Xt.current.useLayoutEffect(t,s)};De.useMemo=function(t,s){return Xt.current.useMemo(t,s)};De.useReducer=function(t,s,n){return Xt.current.useReducer(t,s,n)};De.useRef=function(t){return Xt.current.useRef(t)};De.useState=function(t){return Xt.current.useState(t)};De.useSyncExternalStore=function(t,s,n){return Xt.current.useSyncExternalStore(t,s,n)};De.useTransition=function(){return Xt.current.useTransition()};De.version="18.3.1";dv.exports=De;var c=dv.exports;const ve=lv(c),Fh=d1({__proto__:null,default:ve},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=c,E1=Symbol.for("react.element"),A1=Symbol.for("react.fragment"),I1=Object.prototype.hasOwnProperty,R1=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_1={key:!0,ref:!0,__self:!0,__source:!0};function yv(t,s,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(r in s)I1.call(s,r)&&!_1.hasOwnProperty(r)&&(a[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:E1,type:t,key:i,ref:o,props:a,_owner:R1.current}}Qc.Fragment=A1;Qc.jsx=yv;Qc.jsxs=yv;cv.exports=Qc;var e=cv.exports,jv={exports:{}},ys={},Nv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(H,q){var re=H.length;H.push(q);e:for(;0<re;){var Q=re-1>>>1,ie=H[Q];if(0<a(ie,q))H[Q]=q,H[re]=ie,re=Q;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],re=H.pop();if(re!==q){H[0]=re;e:for(var Q=0,ie=H.length,ue=ie>>>1;Q<ue;){var L=2*(Q+1)-1,ee=H[L],ne=L+1,$=H[ne];if(0>a(ee,re))ne<ie&&0>a($,ee)?(H[Q]=$,H[ne]=re,Q=ne):(H[Q]=ee,H[L]=re,Q=L);else if(ne<ie&&0>a($,re))H[Q]=$,H[ne]=re,Q=ne;else break e}}return q}function a(H,q){var re=H.sortIndex-q.sortIndex;return re!==0?re:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,m=null,p=3,x=!1,S=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=H)r(u),q.sortIndex=q.expirationTime,s(d,q);else break;q=n(u)}}function C(H){if(y=!1,N(H),!S)if(n(d)!==null)S=!0,V(P);else{var q=n(u);q!==null&&B(C,q.startTime-H)}}function P(H,q){S=!1,y&&(y=!1,v(A),A=-1),x=!0;var re=p;try{for(N(q),m=n(d);m!==null&&(!(m.expirationTime>q)||H&&!b());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,p=m.priorityLevel;var ie=Q(m.expirationTime<=q);q=t.unstable_now(),typeof ie=="function"?m.callback=ie:m===n(d)&&r(d),N(q)}else r(d);m=n(d)}if(m!==null)var ue=!0;else{var L=n(u);L!==null&&B(C,L.startTime-q),ue=!1}return ue}finally{m=null,p=re,x=!1}}var R=!1,g=null,A=-1,_=5,w=-1;function b(){return!(t.unstable_now()-w<_)}function I(){if(g!==null){var H=t.unstable_now();w=H;var q=!0;try{q=g(!0,H)}finally{q?k():(R=!1,g=null)}}else R=!1}var k;if(typeof f=="function")k=function(){f(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=I,k=function(){U.postMessage(null)}}else k=function(){j(I,0)};function V(H){g=H,R||(R=!0,k())}function B(H,q){A=j(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,V(P))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var re=p;p=q;try{return H()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=p;p=H;try{return q()}finally{p=re}},t.unstable_scheduleCallback=function(H,q,re){var Q=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Q+re:Q):re=Q,H){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=re+ie,H={id:h++,callback:q,priorityLevel:H,startTime:re,expirationTime:ie,sortIndex:-1},re>Q?(H.sortIndex=re,s(u,H),n(d)===null&&H===n(u)&&(y?(v(A),A=-1):y=!0,B(C,re-Q))):(H.sortIndex=ie,s(d,H),S||x||(S=!0,V(P))),H},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(H){var q=p;return function(){var re=p;p=q;try{return H.apply(this,arguments)}finally{p=re}}}})(Sv);Nv.exports=Sv;var T1=Nv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1=c,gs=T1;function pe(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bv=new Set,ao={};function pa(t,s){si(t,s),si(t+"Capture",s)}function si(t,s){for(ao[t]=s,t=0;t<s.length;t++)bv.add(s[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cm=Object.prototype.hasOwnProperty,M1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$f={},Uf={};function O1(t){return cm.call(Uf,t)?!0:cm.call($f,t)?!1:M1.test(t)?Uf[t]=!0:($f[t]=!0,!1)}function F1(t,s,n,r){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function D1(t,s,n,r){if(s===null||typeof s>"u"||F1(t,s,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Zt(t,s,n,r,a,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ft[s]=new Zt(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dh=/[\-:]([a-z])/g;function Lh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(Dh,Lh);Ft[s]=new Zt(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(Dh,Lh);Ft[s]=new Zt(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(Dh,Lh);Ft[s]=new Zt(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $h(t,s,n,r){var a=Ft.hasOwnProperty(s)?Ft[s]:null;(a!==null?a.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D1(s,n,a,r)&&(n=null),r||a===null?O1(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(s=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(s):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,s,n):t.setAttribute(s,n))))}var qn=k1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),dm=Symbol.for("react.profiler"),wv=Symbol.for("react.provider"),Cv=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),um=Symbol.for("react.suspense"),mm=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Pv=Symbol.for("react.offscreen"),Bf=Symbol.iterator;function ki(t){return t===null||typeof t!="object"?null:(t=Bf&&t[Bf]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,vu;function Vi(t){if(vu===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);vu=s&&s[1]||""}return`
`+vu+t}var yu=!1;function ju(t,s){if(!t||yu)return"";yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var r=u}Reflect.construct(t,[],s)}else{try{s.call()}catch(u){r=u}t.call(s.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var d=`
`+a[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=l);break}}}finally{yu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vi(t):""}function L1(t){switch(t.tag){case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return t=ju(t.type,!1),t;case 11:return t=ju(t.type.render,!1),t;case 1:return t=ju(t.type,!0),t;default:return""}}function hm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case Pa:return"Portal";case dm:return"Profiler";case Uh:return"StrictMode";case um:return"Suspense";case mm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cv:return(t.displayName||"Context")+".Consumer";case wv:return(t._context.displayName||"Context")+".Provider";case Bh:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zh:return s=t.displayName||null,s!==null?s:hm(t.type)||"Memo";case nr:s=t._payload,t=t._init;try{return hm(t(s))}catch{}}return null}function $1(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hm(s);case 8:return s===Uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ev(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function U1(t){var s=Ev(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function vl(t){t._valueTracker||(t._valueTracker=U1(t))}function Av(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),r="";return t&&(r=Ev(t)?t.checked?"true":"false":t.value),t=r,t!==n?(s.setValue(t),!0):!1}function lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pm(t,s){var n=s.checked;return mt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zf(t,s){var n=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;n=Ir(s.value!=null?s.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Iv(t,s){s=s.checked,s!=null&&$h(t,"checked",s,!1)}function fm(t,s){Iv(t,s);var n=Ir(s.value),r=s.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?xm(t,s.type,n):s.hasOwnProperty("defaultValue")&&xm(t,s.type,Ir(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Vf(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xm(t,s,n){(s!=="number"||lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qi=Array.isArray;function La(t,s,n,r){if(t=t.options,s){s={};for(var a=0;a<n.length;a++)s["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=s.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ir(n),s=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function gm(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(pe(91));return mt({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qf(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(pe(92));if(qi(n)){if(1<n.length)throw Error(pe(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:Ir(n)}}function Rv(t,s){var n=Ir(s.value),r=Ir(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gf(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function _v(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vm(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?_v(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yl,Tv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(s,n,r,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(yl=yl||document.createElement("div"),yl.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=yl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function io(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var Ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B1=["Webkit","ms","Moz","O"];Object.keys(Ki).forEach(function(t){B1.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ki[s]=Ki[t]})});function kv(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||Ki.hasOwnProperty(t)&&Ki[t]?(""+s).trim():s+"px"}function Mv(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=kv(n,s[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var z1=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(t,s){if(s){if(z1[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(pe(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(pe(61))}if(s.style!=null&&typeof s.style!="object")throw Error(pe(62))}}function jm(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=null;function Vh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sm=null,$a=null,Ua=null;function Hf(t){if(t=Ho(t)){if(typeof Sm!="function")throw Error(pe(280));var s=t.stateNode;s&&(s=sd(s),Sm(t.stateNode,t.type,s))}}function Ov(t){$a?Ua?Ua.push(t):Ua=[t]:$a=t}function Fv(){if($a){var t=$a,s=Ua;if(Ua=$a=null,Hf(t),s)for(t=0;t<s.length;t++)Hf(s[t])}}function Dv(t,s){return t(s)}function Lv(){}var Nu=!1;function $v(t,s,n){if(Nu)return t(s,n);Nu=!0;try{return Dv(t,s,n)}finally{Nu=!1,($a!==null||Ua!==null)&&(Lv(),Fv())}}function oo(t,s){var n=t.stateNode;if(n===null)return null;var r=sd(n);if(r===null)return null;n=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,s,typeof n));return n}var bm=!1;if(Dn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){bm=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{bm=!1}function V1(t,s,n,r,a,i,o,l,d){var u=Array.prototype.slice.call(arguments,3);try{s.apply(n,u)}catch(h){this.onError(h)}}var Ji=!1,cc=null,dc=!1,wm=null,q1={onError:function(t){Ji=!0,cc=t}};function G1(t,s,n,r,a,i,o,l,d){Ji=!1,cc=null,V1.apply(q1,arguments)}function H1(t,s,n,r,a,i,o,l,d){if(G1.apply(this,arguments),Ji){if(Ji){var u=cc;Ji=!1,cc=null}else throw Error(pe(198));dc||(dc=!0,wm=u)}}function fa(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function Uv(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Yf(t){if(fa(t)!==t)throw Error(pe(188))}function Y1(t){var s=t.alternate;if(!s){if(s=fa(t),s===null)throw Error(pe(188));return s!==t?null:t}for(var n=t,r=s;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Yf(a),t;if(i===r)return Yf(a),s;i=i.sibling}throw Error(pe(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:s}function Bv(t){return t=Y1(t),t!==null?zv(t):null}function zv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=zv(t);if(s!==null)return s;t=t.sibling}return null}var Vv=gs.unstable_scheduleCallback,Wf=gs.unstable_cancelCallback,W1=gs.unstable_shouldYield,K1=gs.unstable_requestPaint,vt=gs.unstable_now,J1=gs.unstable_getCurrentPriorityLevel,qh=gs.unstable_ImmediatePriority,qv=gs.unstable_UserBlockingPriority,uc=gs.unstable_NormalPriority,Q1=gs.unstable_LowPriority,Gv=gs.unstable_IdlePriority,Xc=null,pn=null;function X1(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Xc,t,void 0,(t.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:t2,Z1=Math.log,e2=Math.LN2;function t2(t){return t>>>=0,t===0?32:31-(Z1(t)/e2|0)|0}var jl=64,Nl=4194304;function Gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mc(t,s){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Gi(l):(i&=o,i!==0&&(r=Gi(i)))}else o=n&~a,o!==0?r=Gi(o):i!==0&&(r=Gi(i));if(r===0)return 0;if(s!==0&&s!==r&&!(s&a)&&(a=r&-r,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(r&4&&(r|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)n=31-Hs(s),a=1<<n,r|=t[n],s&=~a;return r}function s2(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n2(t,s){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hs(i),l=1<<o,d=a[o];d===-1?(!(l&n)||l&r)&&(a[o]=s2(l,s)):d<=s&&(t.expiredLanes|=l),i&=~l}}function Cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hv(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function Su(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function qo(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Hs(s),t[s]=n}function r2(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Hs(n),i=1<<a;s[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function Gh(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var r=31-Hs(n),a=1<<r;a&s|t[r]&s&&(t[r]|=s),n&=~a}}var Ye=0;function Yv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wv,Hh,Kv,Jv,Qv,Pm=!1,Sl=[],yr=null,jr=null,Nr=null,lo=new Map,co=new Map,ar=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(t,s){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":lo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(s.pointerId)}}function Oi(t,s,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},s!==null&&(s=Ho(s),s!==null&&Hh(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function i2(t,s,n,r,a){switch(s){case"focusin":return yr=Oi(yr,t,s,n,r,a),!0;case"dragenter":return jr=Oi(jr,t,s,n,r,a),!0;case"mouseover":return Nr=Oi(Nr,t,s,n,r,a),!0;case"pointerover":var i=a.pointerId;return lo.set(i,Oi(lo.get(i)||null,t,s,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,co.set(i,Oi(co.get(i)||null,t,s,n,r,a)),!0}return!1}function Xv(t){var s=Gr(t.target);if(s!==null){var n=fa(s);if(n!==null){if(s=n.tag,s===13){if(s=Uv(n),s!==null){t.blockedOn=s,Qv(t.priority,function(){Kv(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gl(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=Em(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nm=r,n.target.dispatchEvent(r),Nm=null}else return s=Ho(n),s!==null&&Hh(s),t.blockedOn=n,!1;s.shift()}return!0}function Jf(t,s,n){Gl(t)&&n.delete(s)}function o2(){Pm=!1,yr!==null&&Gl(yr)&&(yr=null),jr!==null&&Gl(jr)&&(jr=null),Nr!==null&&Gl(Nr)&&(Nr=null),lo.forEach(Jf),co.forEach(Jf)}function Fi(t,s){t.blockedOn===s&&(t.blockedOn=null,Pm||(Pm=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,o2)))}function uo(t){function s(a){return Fi(a,t)}if(0<Sl.length){Fi(Sl[0],t);for(var n=1;n<Sl.length;n++){var r=Sl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yr!==null&&Fi(yr,t),jr!==null&&Fi(jr,t),Nr!==null&&Fi(Nr,t),lo.forEach(s),co.forEach(s),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)Xv(n),n.blockedOn===null&&ar.shift()}var Ba=qn.ReactCurrentBatchConfig,hc=!0;function l2(t,s,n,r){var a=Ye,i=Ba.transition;Ba.transition=null;try{Ye=1,Yh(t,s,n,r)}finally{Ye=a,Ba.transition=i}}function c2(t,s,n,r){var a=Ye,i=Ba.transition;Ba.transition=null;try{Ye=4,Yh(t,s,n,r)}finally{Ye=a,Ba.transition=i}}function Yh(t,s,n,r){if(hc){var a=Em(t,s,n,r);if(a===null)Tu(t,s,r,pc,n),Kf(t,r);else if(i2(a,t,s,n,r))r.stopPropagation();else if(Kf(t,r),s&4&&-1<a2.indexOf(t)){for(;a!==null;){var i=Ho(a);if(i!==null&&Wv(i),i=Em(t,s,n,r),i===null&&Tu(t,s,r,pc,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Tu(t,s,r,null,n)}}var pc=null;function Em(t,s,n,r){if(pc=null,t=Vh(r),t=Gr(t),t!==null)if(s=fa(t),s===null)t=null;else if(n=s.tag,n===13){if(t=Uv(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return pc=t,null}function Zv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J1()){case qh:return 1;case qv:return 4;case uc:case Q1:return 16;case Gv:return 536870912;default:return 16}default:return 16}}var hr=null,Wh=null,Hl=null;function ey(){if(Hl)return Hl;var t,s=Wh,n=s.length,r,a="value"in hr?hr.value:hr.textContent,i=a.length;for(t=0;t<n&&s[t]===a[t];t++);var o=n-t;for(r=1;r<=o&&s[n-r]===a[i-r];r++);return Hl=a.slice(t,1<r?1-r:void 0)}function Yl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function Qf(){return!1}function js(t){function s(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bl:Qf,this.isPropagationStopped=Qf,this}return mt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),s}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kh=js(xi),Go=mt({},xi,{view:0,detail:0}),d2=js(Go),bu,wu,Di,Zc=mt({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(bu=t.screenX-Di.screenX,wu=t.screenY-Di.screenY):wu=bu=0,Di=t),bu)},movementY:function(t){return"movementY"in t?t.movementY:wu}}),Xf=js(Zc),u2=mt({},Zc,{dataTransfer:0}),m2=js(u2),h2=mt({},Go,{relatedTarget:0}),Cu=js(h2),p2=mt({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),f2=js(p2),x2=mt({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g2=js(x2),v2=mt({},xi,{data:0}),Zf=js(v2),y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S2(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=N2[t])?!!s[t]:!1}function Jh(){return S2}var b2=mt({},Go,{key:function(t){if(t.key){var s=y2[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),w2=js(b2),C2=mt({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ex=js(C2),P2=mt({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),E2=js(P2),A2=mt({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=js(A2),R2=mt({},Zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_2=js(R2),T2=[9,13,27,32],Qh=Dn&&"CompositionEvent"in window,Qi=null;Dn&&"documentMode"in document&&(Qi=document.documentMode);var k2=Dn&&"TextEvent"in window&&!Qi,ty=Dn&&(!Qh||Qi&&8<Qi&&11>=Qi),tx=" ",sx=!1;function sy(t,s){switch(t){case"keyup":return T2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ny(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function M2(t,s){switch(t){case"compositionend":return ny(s);case"keypress":return s.which!==32?null:(sx=!0,tx);case"textInput":return t=s.data,t===tx&&sx?null:t;default:return null}}function O2(t,s){if(Aa)return t==="compositionend"||!Qh&&sy(t,s)?(t=ey(),Hl=Wh=hr=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ty&&s.locale!=="ko"?null:s.data;default:return null}}var F2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nx(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!F2[t.type]:s==="textarea"}function ry(t,s,n,r){Ov(r),s=fc(s,"onChange"),0<s.length&&(n=new Kh("onChange","change",null,n,r),t.push({event:n,listeners:s}))}var Xi=null,mo=null;function D2(t){fy(t,0)}function ed(t){var s=_a(t);if(Av(s))return t}function L2(t,s){if(t==="change")return s}var ay=!1;if(Dn){var Pu;if(Dn){var Eu="oninput"in document;if(!Eu){var rx=document.createElement("div");rx.setAttribute("oninput","return;"),Eu=typeof rx.oninput=="function"}Pu=Eu}else Pu=!1;ay=Pu&&(!document.documentMode||9<document.documentMode)}function ax(){Xi&&(Xi.detachEvent("onpropertychange",iy),mo=Xi=null)}function iy(t){if(t.propertyName==="value"&&ed(mo)){var s=[];ry(s,mo,t,Vh(t)),$v(D2,s)}}function $2(t,s,n){t==="focusin"?(ax(),Xi=s,mo=n,Xi.attachEvent("onpropertychange",iy)):t==="focusout"&&ax()}function U2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ed(mo)}function B2(t,s){if(t==="click")return ed(s)}function z2(t,s){if(t==="input"||t==="change")return ed(s)}function V2(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ks=typeof Object.is=="function"?Object.is:V2;function ho(t,s){if(Ks(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!cm.call(s,a)||!Ks(t[a],s[a]))return!1}return!0}function ix(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ox(t,s){var n=ix(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=s&&r>=s)return{node:n,offset:s-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ix(n)}}function oy(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?oy(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ly(){for(var t=window,s=lc();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=lc(t.document)}return s}function Xh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function q2(t){var s=ly(),n=t.focusedElem,r=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&oy(n.ownerDocument.documentElement,n)){if(r!==null&&Xh(n)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=ox(n,i);var o=ox(n,r);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(s),t.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G2=Dn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Am=null,Zi=null,Im=!1;function lx(t,s,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||Ia==null||Ia!==lc(r)||(r=Ia,"selectionStart"in r&&Xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zi&&ho(Zi,r)||(Zi=r,r=fc(Am,"onSelect"),0<r.length&&(s=new Kh("onSelect","select",null,s,n),t.push({event:s,listeners:r}),s.target=Ia)))}function wl(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var Ra={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Au={},cy={};Dn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function td(t){if(Au[t])return Au[t];if(!Ra[t])return t;var s=Ra[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in cy)return Au[t]=s[n];return t}var dy=td("animationend"),uy=td("animationiteration"),my=td("animationstart"),hy=td("transitionend"),py=new Map,cx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,s){py.set(t,s),pa(s,[t])}for(var Iu=0;Iu<cx.length;Iu++){var Ru=cx[Iu],H2=Ru.toLowerCase(),Y2=Ru[0].toUpperCase()+Ru.slice(1);Mr(H2,"on"+Y2)}Mr(dy,"onAnimationEnd");Mr(uy,"onAnimationIteration");Mr(my,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(hy,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function dx(t,s,n){var r=t.type||"unknown-event";t.currentTarget=n,H1(r,s,void 0,t),t.currentTarget=null}function fy(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(s)for(var o=r.length-1;0<=o;o--){var l=r[o],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==i&&a.isPropagationStopped())break e;dx(a,l,u),i=d}else for(o=0;o<r.length;o++){if(l=r[o],d=l.instance,u=l.currentTarget,l=l.listener,d!==i&&a.isPropagationStopped())break e;dx(a,l,u),i=d}}}if(dc)throw t=wm,dc=!1,wm=null,t}function tt(t,s){var n=s[Mm];n===void 0&&(n=s[Mm]=new Set);var r=t+"__bubble";n.has(r)||(xy(s,t,2,!1),n.add(r))}function _u(t,s,n){var r=0;s&&(r|=4),xy(n,t,r,s)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function po(t){if(!t[Cl]){t[Cl]=!0,bv.forEach(function(n){n!=="selectionchange"&&(W2.has(n)||_u(n,!1,t),_u(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Cl]||(s[Cl]=!0,_u("selectionchange",!1,s))}}function xy(t,s,n,r){switch(Zv(s)){case 1:var a=l2;break;case 4:a=c2;break;default:a=Yh}n=a.bind(null,s,n,t),a=void 0,!bm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(s,n,{capture:!0,passive:a}):t.addEventListener(s,n,!0):a!==void 0?t.addEventListener(s,n,{passive:a}):t.addEventListener(s,n,!1)}function Tu(t,s,n,r,a){var i=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Gr(l),o===null)return;if(d=o.tag,d===5||d===6){r=i=o;continue e}l=l.parentNode}}r=r.return}$v(function(){var u=i,h=Vh(n),m=[];e:{var p=py.get(t);if(p!==void 0){var x=Kh,S=t;switch(t){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":x=w2;break;case"focusin":S="focus",x=Cu;break;case"focusout":S="blur",x=Cu;break;case"beforeblur":case"afterblur":x=Cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=m2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=E2;break;case dy:case uy:case my:x=f2;break;case hy:x=I2;break;case"scroll":x=d2;break;case"wheel":x=_2;break;case"copy":case"cut":case"paste":x=g2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ex}var y=(s&4)!==0,j=!y&&t==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var f=u,N;f!==null;){N=f;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,v!==null&&(C=oo(f,v),C!=null&&y.push(fo(f,C,N)))),j)break;f=f.return}0<y.length&&(p=new x(p,S,null,n,h),m.push({event:p,listeners:y}))}}if(!(s&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Nm&&(S=n.relatedTarget||n.fromElement)&&(Gr(S)||S[Ln]))break e;if((x||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=u,S=S?Gr(S):null,S!==null&&(j=fa(S),S!==j||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=u),x!==S)){if(y=Xf,C="onMouseLeave",v="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=ex,C="onPointerLeave",v="onPointerEnter",f="pointer"),j=x==null?p:_a(x),N=S==null?p:_a(S),p=new y(C,f+"leave",x,n,h),p.target=j,p.relatedTarget=N,C=null,Gr(h)===u&&(y=new y(v,f+"enter",S,n,h),y.target=N,y.relatedTarget=j,C=y),j=C,x&&S)t:{for(y=x,v=S,f=0,N=y;N;N=Sa(N))f++;for(N=0,C=v;C;C=Sa(C))N++;for(;0<f-N;)y=Sa(y),f--;for(;0<N-f;)v=Sa(v),N--;for(;f--;){if(y===v||v!==null&&y===v.alternate)break t;y=Sa(y),v=Sa(v)}y=null}else y=null;x!==null&&ux(m,p,x,y,!1),S!==null&&j!==null&&ux(m,j,S,y,!0)}}e:{if(p=u?_a(u):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var P=L2;else if(nx(p))if(ay)P=z2;else{P=U2;var R=$2}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=B2);if(P&&(P=P(t,u))){ry(m,P,n,h);break e}R&&R(t,p,u),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&xm(p,"number",p.value)}switch(R=u?_a(u):window,t){case"focusin":(nx(R)||R.contentEditable==="true")&&(Ia=R,Am=u,Zi=null);break;case"focusout":Zi=Am=Ia=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,lx(m,n,h);break;case"selectionchange":if(G2)break;case"keydown":case"keyup":lx(m,n,h)}var g;if(Qh)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Aa?sy(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(ty&&n.locale!=="ko"&&(Aa||A!=="onCompositionStart"?A==="onCompositionEnd"&&Aa&&(g=ey()):(hr=h,Wh="value"in hr?hr.value:hr.textContent,Aa=!0)),R=fc(u,A),0<R.length&&(A=new Zf(A,t,null,n,h),m.push({event:A,listeners:R}),g?A.data=g:(g=ny(n),g!==null&&(A.data=g)))),(g=k2?M2(t,n):O2(t,n))&&(u=fc(u,"onBeforeInput"),0<u.length&&(h=new Zf("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=g))}fy(m,s)})}function fo(t,s,n){return{instance:t,listener:s,currentTarget:n}}function fc(t,s){for(var n=s+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=oo(t,n),i!=null&&r.unshift(fo(t,i,a)),i=oo(t,s),i!=null&&r.push(fo(t,i,a))),t=t.return}return r}function Sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ux(t,s,n,r,a){for(var i=s._reactName,o=[];n!==null&&n!==r;){var l=n,d=l.alternate,u=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&u!==null&&(l=u,a?(d=oo(n,i),d!=null&&o.unshift(fo(n,d,l))):a||(d=oo(n,i),d!=null&&o.push(fo(n,d,l)))),n=n.return}o.length!==0&&t.push({event:s,listeners:o})}var K2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function mx(t){return(typeof t=="string"?t:""+t).replace(K2,`
`).replace(J2,"")}function Pl(t,s,n){if(s=mx(s),mx(t)!==s&&n)throw Error(pe(425))}function xc(){}var Rm=null,_m=null;function Tm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var km=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,X2=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(t){return hx.resolve(null).then(t).catch(Z2)}:km;function Z2(t){setTimeout(function(){throw t})}function ku(t,s){var n=s,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),uo(s);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);uo(s)}function Sr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function px(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var gi=Math.random().toString(36).slice(2),cn="__reactFiber$"+gi,xo="__reactProps$"+gi,Ln="__reactContainer$"+gi,Mm="__reactEvents$"+gi,eC="__reactListeners$"+gi,tC="__reactHandles$"+gi;function Gr(t){var s=t[cn];if(s)return s;for(var n=t.parentNode;n;){if(s=n[Ln]||n[cn]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=px(t);t!==null;){if(n=t[cn])return n;t=px(t)}return s}t=n,n=t.parentNode}return null}function Ho(t){return t=t[cn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function sd(t){return t[xo]||null}var Om=[],Ta=-1;function Or(t){return{current:t}}function st(t){0>Ta||(t.current=Om[Ta],Om[Ta]=null,Ta--)}function Ze(t,s){Ta++,Om[Ta]=t.current,t.current=s}var Rr={},zt=Or(Rr),rs=Or(!1),sa=Rr;function ni(t,s){var n=t.type.contextTypes;if(!n)return Rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=s[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function as(t){return t=t.childContextTypes,t!=null}function gc(){st(rs),st(zt)}function fx(t,s,n){if(zt.current!==Rr)throw Error(pe(168));Ze(zt,s),Ze(rs,n)}function gy(t,s,n){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in s))throw Error(pe(108,$1(t)||"Unknown",a));return mt({},n,r)}function vc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,sa=zt.current,Ze(zt,t),Ze(rs,rs.current),!0}function xx(t,s,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=gy(t,s,sa),r.__reactInternalMemoizedMergedChildContext=t,st(rs),st(zt),Ze(zt,t)):st(rs),Ze(rs,n)}var In=null,nd=!1,Mu=!1;function vy(t){In===null?In=[t]:In.push(t)}function sC(t){nd=!0,vy(t)}function Fr(){if(!Mu&&In!==null){Mu=!0;var t=0,s=Ye;try{var n=In;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}In=null,nd=!1}catch(a){throw In!==null&&(In=In.slice(t+1)),Vv(qh,Fr),a}finally{Ye=s,Mu=!1}}return null}var ka=[],Ma=0,yc=null,jc=0,bs=[],ws=0,na=null,_n=1,Tn="";function Vr(t,s){ka[Ma++]=jc,ka[Ma++]=yc,yc=t,jc=s}function yy(t,s,n){bs[ws++]=_n,bs[ws++]=Tn,bs[ws++]=na,na=t;var r=_n;t=Tn;var a=32-Hs(r)-1;r&=~(1<<a),n+=1;var i=32-Hs(s)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,_n=1<<32-Hs(s)+a|n<<a|r,Tn=i+t}else _n=1<<i|n<<a|r,Tn=t}function Zh(t){t.return!==null&&(Vr(t,1),yy(t,1,0))}function ep(t){for(;t===yc;)yc=ka[--Ma],ka[Ma]=null,jc=ka[--Ma],ka[Ma]=null;for(;t===na;)na=bs[--ws],bs[ws]=null,Tn=bs[--ws],bs[ws]=null,_n=bs[--ws],bs[ws]=null}var ps=null,hs=null,rt=!1,Gs=null;function jy(t,s){var n=Cs(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function gx(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,ps=t,hs=Sr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,ps=t,hs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=na!==null?{id:_n,overflow:Tn}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=Cs(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,ps=t,hs=null,!0):!1;default:return!1}}function Fm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dm(t){if(rt){var s=hs;if(s){var n=s;if(!gx(t,s)){if(Fm(t))throw Error(pe(418));s=Sr(n.nextSibling);var r=ps;s&&gx(t,s)?jy(r,n):(t.flags=t.flags&-4097|2,rt=!1,ps=t)}}else{if(Fm(t))throw Error(pe(418));t.flags=t.flags&-4097|2,rt=!1,ps=t}}}function vx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ps=t}function El(t){if(t!==ps)return!1;if(!rt)return vx(t),rt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Tm(t.type,t.memoizedProps)),s&&(s=hs)){if(Fm(t))throw Ny(),Error(pe(418));for(;s;)jy(t,s),s=Sr(s.nextSibling)}if(vx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){hs=Sr(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}hs=null}}else hs=ps?Sr(t.stateNode.nextSibling):null;return!0}function Ny(){for(var t=hs;t;)t=Sr(t.nextSibling)}function ri(){hs=ps=null,rt=!1}function tp(t){Gs===null?Gs=[t]:Gs.push(t)}var nC=qn.ReactCurrentBatchConfig;function Li(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var a=r,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Al(t,s){throw t=Object.prototype.toString.call(s),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function yx(t){var s=t._init;return s(t._payload)}function Sy(t){function s(v,f){if(t){var N=v.deletions;N===null?(v.deletions=[f],v.flags|=16):N.push(f)}}function n(v,f){if(!t)return null;for(;f!==null;)s(v,f),f=f.sibling;return null}function r(v,f){for(v=new Map;f!==null;)f.key!==null?v.set(f.key,f):v.set(f.index,f),f=f.sibling;return v}function a(v,f){return v=Pr(v,f),v.index=0,v.sibling=null,v}function i(v,f,N){return v.index=N,t?(N=v.alternate,N!==null?(N=N.index,N<f?(v.flags|=2,f):N):(v.flags|=2,f)):(v.flags|=1048576,f)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,f,N,C){return f===null||f.tag!==6?(f=Bu(N,v.mode,C),f.return=v,f):(f=a(f,N),f.return=v,f)}function d(v,f,N,C){var P=N.type;return P===Ea?h(v,f,N.props.children,C,N.key):f!==null&&(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nr&&yx(P)===f.type)?(C=a(f,N.props),C.ref=Li(v,f,N),C.return=v,C):(C=ec(N.type,N.key,N.props,null,v.mode,C),C.ref=Li(v,f,N),C.return=v,C)}function u(v,f,N,C){return f===null||f.tag!==4||f.stateNode.containerInfo!==N.containerInfo||f.stateNode.implementation!==N.implementation?(f=zu(N,v.mode,C),f.return=v,f):(f=a(f,N.children||[]),f.return=v,f)}function h(v,f,N,C,P){return f===null||f.tag!==7?(f=ta(N,v.mode,C,P),f.return=v,f):(f=a(f,N),f.return=v,f)}function m(v,f,N){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Bu(""+f,v.mode,N),f.return=v,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case gl:return N=ec(f.type,f.key,f.props,null,v.mode,N),N.ref=Li(v,null,f),N.return=v,N;case Pa:return f=zu(f,v.mode,N),f.return=v,f;case nr:var C=f._init;return m(v,C(f._payload),N)}if(qi(f)||ki(f))return f=ta(f,v.mode,N,null),f.return=v,f;Al(v,f)}return null}function p(v,f,N,C){var P=f!==null?f.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return P!==null?null:l(v,f,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case gl:return N.key===P?d(v,f,N,C):null;case Pa:return N.key===P?u(v,f,N,C):null;case nr:return P=N._init,p(v,f,P(N._payload),C)}if(qi(N)||ki(N))return P!==null?null:h(v,f,N,C,null);Al(v,N)}return null}function x(v,f,N,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(N)||null,l(f,v,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gl:return v=v.get(C.key===null?N:C.key)||null,d(f,v,C,P);case Pa:return v=v.get(C.key===null?N:C.key)||null,u(f,v,C,P);case nr:var R=C._init;return x(v,f,N,R(C._payload),P)}if(qi(C)||ki(C))return v=v.get(N)||null,h(f,v,C,P,null);Al(f,C)}return null}function S(v,f,N,C){for(var P=null,R=null,g=f,A=f=0,_=null;g!==null&&A<N.length;A++){g.index>A?(_=g,g=null):_=g.sibling;var w=p(v,g,N[A],C);if(w===null){g===null&&(g=_);break}t&&g&&w.alternate===null&&s(v,g),f=i(w,f,A),R===null?P=w:R.sibling=w,R=w,g=_}if(A===N.length)return n(v,g),rt&&Vr(v,A),P;if(g===null){for(;A<N.length;A++)g=m(v,N[A],C),g!==null&&(f=i(g,f,A),R===null?P=g:R.sibling=g,R=g);return rt&&Vr(v,A),P}for(g=r(v,g);A<N.length;A++)_=x(g,v,A,N[A],C),_!==null&&(t&&_.alternate!==null&&g.delete(_.key===null?A:_.key),f=i(_,f,A),R===null?P=_:R.sibling=_,R=_);return t&&g.forEach(function(b){return s(v,b)}),rt&&Vr(v,A),P}function y(v,f,N,C){var P=ki(N);if(typeof P!="function")throw Error(pe(150));if(N=P.call(N),N==null)throw Error(pe(151));for(var R=P=null,g=f,A=f=0,_=null,w=N.next();g!==null&&!w.done;A++,w=N.next()){g.index>A?(_=g,g=null):_=g.sibling;var b=p(v,g,w.value,C);if(b===null){g===null&&(g=_);break}t&&g&&b.alternate===null&&s(v,g),f=i(b,f,A),R===null?P=b:R.sibling=b,R=b,g=_}if(w.done)return n(v,g),rt&&Vr(v,A),P;if(g===null){for(;!w.done;A++,w=N.next())w=m(v,w.value,C),w!==null&&(f=i(w,f,A),R===null?P=w:R.sibling=w,R=w);return rt&&Vr(v,A),P}for(g=r(v,g);!w.done;A++,w=N.next())w=x(g,v,A,w.value,C),w!==null&&(t&&w.alternate!==null&&g.delete(w.key===null?A:w.key),f=i(w,f,A),R===null?P=w:R.sibling=w,R=w);return t&&g.forEach(function(I){return s(v,I)}),rt&&Vr(v,A),P}function j(v,f,N,C){if(typeof N=="object"&&N!==null&&N.type===Ea&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case gl:e:{for(var P=N.key,R=f;R!==null;){if(R.key===P){if(P=N.type,P===Ea){if(R.tag===7){n(v,R.sibling),f=a(R,N.props.children),f.return=v,v=f;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nr&&yx(P)===R.type){n(v,R.sibling),f=a(R,N.props),f.ref=Li(v,R,N),f.return=v,v=f;break e}n(v,R);break}else s(v,R);R=R.sibling}N.type===Ea?(f=ta(N.props.children,v.mode,C,N.key),f.return=v,v=f):(C=ec(N.type,N.key,N.props,null,v.mode,C),C.ref=Li(v,f,N),C.return=v,v=C)}return o(v);case Pa:e:{for(R=N.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===N.containerInfo&&f.stateNode.implementation===N.implementation){n(v,f.sibling),f=a(f,N.children||[]),f.return=v,v=f;break e}else{n(v,f);break}else s(v,f);f=f.sibling}f=zu(N,v.mode,C),f.return=v,v=f}return o(v);case nr:return R=N._init,j(v,f,R(N._payload),C)}if(qi(N))return S(v,f,N,C);if(ki(N))return y(v,f,N,C);Al(v,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,f!==null&&f.tag===6?(n(v,f.sibling),f=a(f,N),f.return=v,v=f):(n(v,f),f=Bu(N,v.mode,C),f.return=v,v=f),o(v)):n(v,f)}return j}var ai=Sy(!0),by=Sy(!1),Nc=Or(null),Sc=null,Oa=null,sp=null;function np(){sp=Oa=Sc=null}function rp(t){var s=Nc.current;st(Nc),t._currentValue=s}function Lm(t,s,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===n)break;t=t.return}}function za(t,s){Sc=t,sp=Oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(ns=!0),t.firstContext=null)}function Is(t){var s=t._currentValue;if(sp!==t)if(t={context:t,memoizedValue:s,next:null},Oa===null){if(Sc===null)throw Error(pe(308));Oa=t,Sc.dependencies={lanes:0,firstContext:t}}else Oa=Oa.next=t;return s}var Hr=null;function ap(t){Hr===null?Hr=[t]:Hr.push(t)}function wy(t,s,n,r){var a=s.interleaved;return a===null?(n.next=n,ap(s)):(n.next=a.next,a.next=n),s.interleaved=n,$n(t,r)}function $n(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function ip(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function br(t,s,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var a=r.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s,$n(t,n)}return a=r.interleaved,a===null?(s.next=s,ap(r)):(s.next=a.next,a.next=s),r.interleaved=s,$n(t,n)}function Wl(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Gh(t,n)}}function jx(t,s){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=s:i=i.next=s}else a=i=s;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function bc(t,s,n,r){var a=t.updateQueue;rr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,u=d.next;d.next=null,o===null?i=u:o.next=u,o=d;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=d))}if(i!==null){var m=a.baseState;o=0,h=u=d=null,l=i;do{var p=l.lane,x=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=t,y=l;switch(p=s,x=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){m=S.call(x,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,p=typeof S=="function"?S.call(x,m,p):S,p==null)break e;m=mt({},m,p);break e;case 2:rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else x={eventTime:x,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=x,d=m):h=h.next=x,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(h===null&&(d=m),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=h,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);aa|=o,t.lanes=o,t.memoizedState=m}}function Nx(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(pe(191,a));a.call(r)}}}var Yo={},fn=Or(Yo),go=Or(Yo),vo=Or(Yo);function Yr(t){if(t===Yo)throw Error(pe(174));return t}function op(t,s){switch(Ze(vo,s),Ze(go,t),Ze(fn,Yo),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vm(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=vm(s,t)}st(fn),Ze(fn,s)}function ii(){st(fn),st(go),st(vo)}function Py(t){Yr(vo.current);var s=Yr(fn.current),n=vm(s,t.type);s!==n&&(Ze(go,t),Ze(fn,n))}function lp(t){go.current===t&&(st(fn),st(go))}var ot=Or(0);function wc(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ou=[];function cp(){for(var t=0;t<Ou.length;t++)Ou[t]._workInProgressVersionPrimary=null;Ou.length=0}var Kl=qn.ReactCurrentDispatcher,Fu=qn.ReactCurrentBatchConfig,ra=0,dt=null,Ct=null,It=null,Cc=!1,eo=!1,yo=0,rC=0;function $t(){throw Error(pe(321))}function dp(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!Ks(t[n],s[n]))return!1;return!0}function up(t,s,n,r,a,i){if(ra=i,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Kl.current=t===null||t.memoizedState===null?lC:cC,t=n(r,a),eo){i=0;do{if(eo=!1,yo=0,25<=i)throw Error(pe(301));i+=1,It=Ct=null,s.updateQueue=null,Kl.current=dC,t=n(r,a)}while(eo)}if(Kl.current=Pc,s=Ct!==null&&Ct.next!==null,ra=0,It=Ct=dt=null,Cc=!1,s)throw Error(pe(300));return t}function mp(){var t=yo!==0;return yo=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=t:It=It.next=t,It}function Rs(){if(Ct===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ct.next;var s=It===null?dt.memoizedState:It.next;if(s!==null)It=s,Ct=t;else{if(t===null)throw Error(pe(310));Ct=t,t={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},It===null?dt.memoizedState=It=t:It=It.next=t}return It}function jo(t,s){return typeof s=="function"?s(t):s}function Du(t){var s=Rs(),n=s.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=Ct,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,d=null,u=i;do{var h=u.lane;if((ra&h)===h)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=m,o=r):d=d.next=m,dt.lanes|=h,aa|=h}u=u.next}while(u!==null&&u!==i);d===null?o=r:d.next=l,Ks(r,s.memoizedState)||(ns=!0),s.memoizedState=r,s.baseState=o,s.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,dt.lanes|=i,aa|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function Lu(t){var s=Rs(),n=s.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=s.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);Ks(i,s.memoizedState)||(ns=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),n.lastRenderedState=i}return[i,r]}function Ey(){}function Ay(t,s){var n=dt,r=Rs(),a=s(),i=!Ks(r.memoizedState,a);if(i&&(r.memoizedState=a,ns=!0),r=r.queue,hp(_y.bind(null,n,r,t),[t]),r.getSnapshot!==s||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,No(9,Ry.bind(null,n,r,a,s),void 0,null),Tt===null)throw Error(pe(349));ra&30||Iy(n,s,a)}return a}function Iy(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Ry(t,s,n,r){s.value=n,s.getSnapshot=r,Ty(s)&&ky(t)}function _y(t,s,n){return n(function(){Ty(s)&&ky(t)})}function Ty(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Ks(t,n)}catch{return!0}}function ky(t){var s=$n(t,1);s!==null&&Ys(s,t,1,-1)}function Sx(t){var s=rn();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},s.queue=t,t=t.dispatch=oC.bind(null,dt,t),[s.memoizedState,t]}function No(t,s,n,r){return t={tag:t,create:s,destroy:n,deps:r,next:null},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,s.lastEffect=t)),t}function My(){return Rs().memoizedState}function Jl(t,s,n,r){var a=rn();dt.flags|=t,a.memoizedState=No(1|s,n,void 0,r===void 0?null:r)}function rd(t,s,n,r){var a=Rs();r=r===void 0?null:r;var i=void 0;if(Ct!==null){var o=Ct.memoizedState;if(i=o.destroy,r!==null&&dp(r,o.deps)){a.memoizedState=No(s,n,i,r);return}}dt.flags|=t,a.memoizedState=No(1|s,n,i,r)}function bx(t,s){return Jl(8390656,8,t,s)}function hp(t,s){return rd(2048,8,t,s)}function Oy(t,s){return rd(4,2,t,s)}function Fy(t,s){return rd(4,4,t,s)}function Dy(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ly(t,s,n){return n=n!=null?n.concat([t]):null,rd(4,4,Dy.bind(null,s,t),n)}function pp(){}function $y(t,s){var n=Rs();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&dp(s,r[1])?r[0]:(n.memoizedState=[t,s],t)}function Uy(t,s){var n=Rs();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&dp(s,r[1])?r[0]:(t=t(),n.memoizedState=[t,s],t)}function By(t,s,n){return ra&21?(Ks(n,s)||(n=Hv(),dt.lanes|=n,aa|=n,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,ns=!0),t.memoizedState=n)}function aC(t,s){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=Fu.transition;Fu.transition={};try{t(!1),s()}finally{Ye=n,Fu.transition=r}}function zy(){return Rs().memoizedState}function iC(t,s,n){var r=Cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vy(t))qy(s,n);else if(n=wy(t,s,n,r),n!==null){var a=Wt();Ys(n,t,r,a),Gy(n,s,r)}}function oC(t,s,n){var r=Cr(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vy(t))qy(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Ks(l,o)){var d=s.interleaved;d===null?(a.next=a,ap(s)):(a.next=d.next,d.next=a),s.interleaved=a;return}}catch{}finally{}n=wy(t,s,a,r),n!==null&&(a=Wt(),Ys(n,t,r,a),Gy(n,s,r))}}function Vy(t){var s=t.alternate;return t===dt||s!==null&&s===dt}function qy(t,s){eo=Cc=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function Gy(t,s,n){if(n&4194240){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Gh(t,n)}}var Pc={readContext:Is,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},lC={readContext:Is,useCallback:function(t,s){return rn().memoizedState=[t,s===void 0?null:s],t},useContext:Is,useEffect:bx,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,Jl(4194308,4,Dy.bind(null,s,t),n)},useLayoutEffect:function(t,s){return Jl(4194308,4,t,s)},useInsertionEffect:function(t,s){return Jl(4,2,t,s)},useMemo:function(t,s){var n=rn();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var r=rn();return s=n!==void 0?n(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=iC.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var s=rn();return t={current:t},s.memoizedState=t},useState:Sx,useDebugValue:pp,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=Sx(!1),s=t[0];return t=aC.bind(null,t[1]),rn().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var r=dt,a=rn();if(rt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=s(),Tt===null)throw Error(pe(349));ra&30||Iy(r,s,n)}a.memoizedState=n;var i={value:n,getSnapshot:s};return a.queue=i,bx(_y.bind(null,r,i,t),[t]),r.flags|=2048,No(9,Ry.bind(null,r,i,n,s),void 0,null),n},useId:function(){var t=rn(),s=Tt.identifierPrefix;if(rt){var n=Tn,r=_n;n=(r&~(1<<32-Hs(r)-1)).toString(32)+n,s=":"+s+"R"+n,n=yo++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=rC++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},cC={readContext:Is,useCallback:$y,useContext:Is,useEffect:hp,useImperativeHandle:Ly,useInsertionEffect:Oy,useLayoutEffect:Fy,useMemo:Uy,useReducer:Du,useRef:My,useState:function(){return Du(jo)},useDebugValue:pp,useDeferredValue:function(t){var s=Rs();return By(s,Ct.memoizedState,t)},useTransition:function(){var t=Du(jo)[0],s=Rs().memoizedState;return[t,s]},useMutableSource:Ey,useSyncExternalStore:Ay,useId:zy,unstable_isNewReconciler:!1},dC={readContext:Is,useCallback:$y,useContext:Is,useEffect:hp,useImperativeHandle:Ly,useInsertionEffect:Oy,useLayoutEffect:Fy,useMemo:Uy,useReducer:Lu,useRef:My,useState:function(){return Lu(jo)},useDebugValue:pp,useDeferredValue:function(t){var s=Rs();return Ct===null?s.memoizedState=t:By(s,Ct.memoizedState,t)},useTransition:function(){var t=Lu(jo)[0],s=Rs().memoizedState;return[t,s]},useMutableSource:Ey,useSyncExternalStore:Ay,useId:zy,unstable_isNewReconciler:!1};function Us(t,s){if(t&&t.defaultProps){s=mt({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function $m(t,s,n,r){s=t.memoizedState,n=n(r,s),n=n==null?s:mt({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ad={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var r=Wt(),a=Cr(t),i=Mn(r,a);i.payload=s,n!=null&&(i.callback=n),s=br(t,i,a),s!==null&&(Ys(s,t,a,r),Wl(s,t,a))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var r=Wt(),a=Cr(t),i=Mn(r,a);i.tag=1,i.payload=s,n!=null&&(i.callback=n),s=br(t,i,a),s!==null&&(Ys(s,t,a,r),Wl(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=Wt(),r=Cr(t),a=Mn(n,r);a.tag=2,s!=null&&(a.callback=s),s=br(t,a,r),s!==null&&(Ys(s,t,r,n),Wl(s,t,r))}};function wx(t,s,n,r,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):s.prototype&&s.prototype.isPureReactComponent?!ho(n,r)||!ho(a,i):!0}function Hy(t,s,n){var r=!1,a=Rr,i=s.contextType;return typeof i=="object"&&i!==null?i=Is(i):(a=as(s)?sa:zt.current,r=s.contextTypes,i=(r=r!=null)?ni(t,a):Rr),s=new s(n,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ad,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function Cx(t,s,n,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,r),s.state!==t&&ad.enqueueReplaceState(s,s.state,null)}function Um(t,s,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},ip(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Is(i):(i=as(s)?sa:zt.current,a.context=ni(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&($m(t,s,i,n),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&ad.enqueueReplaceState(a,a.state,null),bc(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function oi(t,s){try{var n="",r=s;do n+=L1(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function $u(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function Bm(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var uC=typeof WeakMap=="function"?WeakMap:Map;function Yy(t,s,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=s.value;return n.callback=function(){Ac||(Ac=!0,Qm=r),Bm(t,s)},n}function Wy(t,s,n){n=Mn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;n.payload=function(){return r(a)},n.callback=function(){Bm(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bm(t,s),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),n}function Px(t,s,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uC;var a=new Set;r.set(s,a)}else a=r.get(s),a===void 0&&(a=new Set,r.set(s,a));a.has(n)||(a.add(n),t=CC.bind(null,t,s,n),s.then(t,t))}function Ex(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Ax(t,s,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=Mn(-1,1),s.tag=2,br(n,s,1))),n.lanes|=1),t)}var mC=qn.ReactCurrentOwner,ns=!1;function Ht(t,s,n,r){s.child=t===null?by(s,null,n,r):ai(s,t.child,n,r)}function Ix(t,s,n,r,a){n=n.render;var i=s.ref;return za(s,a),r=up(t,s,n,r,i,a),n=mp(),t!==null&&!ns?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Un(t,s,a)):(rt&&n&&Zh(s),s.flags|=1,Ht(t,s,r,a),s.child)}function Rx(t,s,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!Sp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=i,Ky(t,s,i,r,a)):(t=ec(n.type,null,r,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ho,n(o,r)&&t.ref===s.ref)return Un(t,s,a)}return s.flags|=1,t=Pr(i,r),t.ref=s.ref,t.return=s,s.child=t}function Ky(t,s,n,r,a){if(t!==null){var i=t.memoizedProps;if(ho(i,r)&&t.ref===s.ref)if(ns=!1,s.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(ns=!0);else return s.lanes=t.lanes,Un(t,s,a)}return zm(t,s,n,r,a)}function Jy(t,s,n){var r=s.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Da,ds),ds|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ze(Da,ds),ds|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze(Da,ds),ds|=r}else i!==null?(r=i.baseLanes|n,s.memoizedState=null):r=n,Ze(Da,ds),ds|=r;return Ht(t,s,a,n),s.child}function Qy(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function zm(t,s,n,r,a){var i=as(n)?sa:zt.current;return i=ni(s,i),za(s,a),n=up(t,s,n,r,i,a),r=mp(),t!==null&&!ns?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Un(t,s,a)):(rt&&r&&Zh(s),s.flags|=1,Ht(t,s,n,a),s.child)}function _x(t,s,n,r,a){if(as(n)){var i=!0;vc(s)}else i=!1;if(za(s,a),s.stateNode===null)Ql(t,s),Hy(s,n,r),Um(s,n,r,a),r=!0;else if(t===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var d=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Is(u):(u=as(n)?sa:zt.current,u=ni(s,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||d!==u)&&Cx(s,o,r,u),rr=!1;var p=s.memoizedState;o.state=p,bc(s,r,o,a),d=s.memoizedState,l!==r||p!==d||rs.current||rr?(typeof h=="function"&&($m(s,n,h,r),d=s.memoizedState),(l=rr||wx(s,n,l,r,p,d,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=d),o.props=r,o.state=d,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{o=s.stateNode,Cy(t,s),l=s.memoizedProps,u=s.type===s.elementType?l:Us(s.type,l),o.props=u,m=s.pendingProps,p=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=Is(d):(d=as(n)?sa:zt.current,d=ni(s,d));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==d)&&Cx(s,o,r,d),rr=!1,p=s.memoizedState,o.state=p,bc(s,r,o,a);var S=s.memoizedState;l!==m||p!==S||rs.current||rr?(typeof x=="function"&&($m(s,n,x,r),S=s.memoizedState),(u=rr||wx(s,n,u,r,p,S,d)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,d)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=S),o.props=r,o.state=S,o.context=d,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),r=!1)}return Vm(t,s,n,r,i,a)}function Vm(t,s,n,r,a,i){Qy(t,s);var o=(s.flags&128)!==0;if(!r&&!o)return a&&xx(s,n,!1),Un(t,s,i);r=s.stateNode,mC.current=s;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&o?(s.child=ai(s,t.child,null,i),s.child=ai(s,null,l,i)):Ht(t,s,l,i),s.memoizedState=r.state,a&&xx(s,n,!0),s.child}function Xy(t){var s=t.stateNode;s.pendingContext?fx(t,s.pendingContext,s.pendingContext!==s.context):s.context&&fx(t,s.context,!1),op(t,s.containerInfo)}function Tx(t,s,n,r,a){return ri(),tp(a),s.flags|=256,Ht(t,s,n,r),s.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Gm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zy(t,s,n){var r=s.pendingProps,a=ot.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ze(ot,a&1),t===null)return Dm(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=r.children,t=r.fallback,i?(r=s.mode,i=s.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ld(o,r,0,null),t=ta(t,r,n,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=Gm(n),s.memoizedState=qm,t):fp(s,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return hC(t,s,o,r,l,a,n);if(i){i=r.fallback,o=s.mode,a=t.child,l=a.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&s.child!==a?(r=s.child,r.childLanes=0,r.pendingProps=d,s.deletions=null):(r=Pr(a,d),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Pr(l,i):(i=ta(i,o,n,null),i.flags|=2),i.return=s,r.return=s,r.sibling=i,s.child=r,r=i,i=s.child,o=t.child.memoizedState,o=o===null?Gm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,s.memoizedState=qm,r}return i=t.child,t=i.sibling,r=Pr(i,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=n),r.return=s,r.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=r,s.memoizedState=null,r}function fp(t,s){return s=ld({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Il(t,s,n,r){return r!==null&&tp(r),ai(s,t.child,null,n),t=fp(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function hC(t,s,n,r,a,i,o){if(n)return s.flags&256?(s.flags&=-257,r=$u(Error(pe(422))),Il(t,s,o,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=r.fallback,a=s.mode,r=ld({mode:"visible",children:r.children},a,0,null),i=ta(i,a,o,null),i.flags|=2,r.return=s,i.return=s,r.sibling=i,s.child=r,s.mode&1&&ai(s,t.child,null,o),s.child.memoizedState=Gm(o),s.memoizedState=qm,i);if(!(s.mode&1))return Il(t,s,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(pe(419)),r=$u(i,r,void 0),Il(t,s,o,r)}if(l=(o&t.childLanes)!==0,ns||l){if(r=Tt,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,$n(t,a),Ys(r,t,a,-1))}return Np(),r=$u(Error(pe(421))),Il(t,s,o,r)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=PC.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,hs=Sr(a.nextSibling),ps=s,rt=!0,Gs=null,t!==null&&(bs[ws++]=_n,bs[ws++]=Tn,bs[ws++]=na,_n=t.id,Tn=t.overflow,na=s),s=fp(s,r.children),s.flags|=4096,s)}function kx(t,s,n){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),Lm(t.return,s,n)}function Uu(t,s,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function ej(t,s,n){var r=s.pendingProps,a=r.revealOrder,i=r.tail;if(Ht(t,s,r.children,n),r=ot.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kx(t,n,s);else if(t.tag===19)kx(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ot,r),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(n=s.child,a=null;n!==null;)t=n.alternate,t!==null&&wc(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=s.child,s.child=null):(a=n.sibling,n.sibling=null),Uu(s,!1,a,n,i);break;case"backwards":for(n=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&wc(t)===null){s.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Uu(s,!0,n,null,i);break;case"together":Uu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ql(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Un(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),aa|=s.lanes,!(n&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(pe(153));if(s.child!==null){for(t=s.child,n=Pr(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function pC(t,s,n){switch(s.tag){case 3:Xy(s),ri();break;case 5:Py(s);break;case 1:as(s.type)&&vc(s);break;case 4:op(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,a=s.memoizedProps.value;Ze(Nc,r._currentValue),r._currentValue=a;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ot,ot.current&1),s.flags|=128,null):n&s.child.childLanes?Zy(t,s,n):(Ze(ot,ot.current&1),t=Un(t,s,n),t!==null?t.sibling:null);Ze(ot,ot.current&1);break;case 19:if(r=(n&s.childLanes)!==0,t.flags&128){if(r)return ej(t,s,n);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ze(ot,ot.current),r)break;return null;case 22:case 23:return s.lanes=0,Jy(t,s,n)}return Un(t,s,n)}var tj,Hm,sj,nj;tj=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hm=function(){};sj=function(t,s,n,r){var a=t.memoizedProps;if(a!==r){t=s.stateNode,Yr(fn.current);var i=null;switch(n){case"input":a=pm(t,a),r=pm(t,r),i=[];break;case"select":a=mt({},a,{value:void 0}),r=mt({},r,{value:void 0}),i=[];break;case"textarea":a=gm(t,a),r=gm(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xc)}ym(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ao.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var d=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(i||(i=[]),i.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ao.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&tt("scroll",t),i||l===d||(i=[])):(i=i||[]).push(u,d))}n&&(i=i||[]).push("style",n);var u=i;(s.updateQueue=u)&&(s.flags|=4)}};nj=function(t,s,n,r){n!==r&&(s.flags|=4)};function $i(t,s){if(!rt)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(s)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,s}function fC(t,s,n){var r=s.pendingProps;switch(ep(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return as(s.type)&&gc(),Ut(s),null;case 3:return r=s.stateNode,ii(),st(rs),st(zt),cp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(El(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gs!==null&&(eh(Gs),Gs=null))),Hm(t,s),Ut(s),null;case 5:lp(s);var a=Yr(vo.current);if(n=s.type,t!==null&&s.stateNode!=null)sj(t,s,n,r,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(pe(166));return Ut(s),null}if(t=Yr(fn.current),El(s)){r=s.stateNode,n=s.type;var i=s.memoizedProps;switch(r[cn]=s,r[xo]=i,t=(s.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(a=0;a<Hi.length;a++)tt(Hi[a],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":zf(r,i),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},tt("invalid",r);break;case"textarea":qf(r,i),tt("invalid",r)}ym(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Pl(r.textContent,l,t),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Pl(r.textContent,l,t),a=["children",""+l]):ao.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&tt("scroll",r)}switch(n){case"input":vl(r),Vf(r,i,!0);break;case"textarea":vl(r),Gf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xc)}r=a,s.updateQueue=r,r!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_v(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cn]=s,t[xo]=r,tj(t,s,!1,!1),s.stateNode=t;e:{switch(o=jm(n,r),n){case"dialog":tt("cancel",t),tt("close",t),a=r;break;case"iframe":case"object":case"embed":tt("load",t),a=r;break;case"video":case"audio":for(a=0;a<Hi.length;a++)tt(Hi[a],t);a=r;break;case"source":tt("error",t),a=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),a=r;break;case"details":tt("toggle",t),a=r;break;case"input":zf(t,r),a=pm(t,r),tt("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=mt({},r,{value:void 0}),tt("invalid",t);break;case"textarea":qf(t,r),a=gm(t,r),tt("invalid",t);break;default:a=r}ym(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?Mv(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Tv(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&io(t,d):typeof d=="number"&&io(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ao.hasOwnProperty(i)?d!=null&&i==="onScroll"&&tt("scroll",t):d!=null&&$h(t,i,d,o))}switch(n){case"input":vl(t),Vf(t,r,!1);break;case"textarea":vl(t),Gf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ir(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?La(t,!!r.multiple,i,!1):r.defaultValue!=null&&La(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(t&&s.stateNode!=null)nj(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(pe(166));if(n=Yr(vo.current),Yr(fn.current),El(s)){if(r=s.stateNode,n=s.memoizedProps,r[cn]=s,(i=r.nodeValue!==n)&&(t=ps,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}i&&(s.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=s,s.stateNode=r}return Ut(s),null;case 13:if(st(ot),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&hs!==null&&s.mode&1&&!(s.flags&128))Ny(),ri(),s.flags|=98560,i=!1;else if(i=El(s),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(pe(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[cn]=s}else ri(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ut(s),i=!1}else Gs!==null&&(eh(Gs),Gs=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||ot.current&1?Pt===0&&(Pt=3):Np())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return ii(),Hm(t,s),t===null&&po(s.stateNode.containerInfo),Ut(s),null;case 10:return rp(s.type._context),Ut(s),null;case 17:return as(s.type)&&gc(),Ut(s),null;case 19:if(st(ot),i=s.memoizedState,i===null)return Ut(s),null;if(r=(s.flags&128)!==0,o=i.rendering,o===null)if(r)$i(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(o=wc(t),o!==null){for(s.flags|=128,$i(i,!1),r=o.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=n,n=s.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ot,ot.current&1|2),s.child}t=t.sibling}i.tail!==null&&vt()>li&&(s.flags|=128,r=!0,$i(i,!1),s.lanes=4194304)}else{if(!r)if(t=wc(o),t!==null){if(s.flags|=128,r=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),$i(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rt)return Ut(s),null}else 2*vt()-i.renderingStartTime>li&&n!==1073741824&&(s.flags|=128,r=!0,$i(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(n=i.last,n!==null?n.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=vt(),s.sibling=null,n=ot.current,Ze(ot,r?n&1|2:n&1),s):(Ut(s),null);case 22:case 23:return jp(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?ds&1073741824&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(pe(156,s.tag))}function xC(t,s){switch(ep(s),s.tag){case 1:return as(s.type)&&gc(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ii(),st(rs),st(zt),cp(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return lp(s),null;case 13:if(st(ot),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(pe(340));ri()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return st(ot),null;case 4:return ii(),null;case 10:return rp(s.type._context),null;case 22:case 23:return jp(),null;case 24:return null;default:return null}}var Rl=!1,Bt=!1,gC=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Fa(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,s,r)}else n.current=null}function Ym(t,s,n){try{n()}catch(r){pt(t,s,r)}}var Mx=!1;function vC(t,s){if(Rm=hc,t=ly(),Xh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,d=-1,u=0,h=0,m=t,p=null;t:for(;;){for(var x;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||r!==0&&m.nodeType!==3||(d=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===t)break t;if(p===n&&++u===a&&(l=o),p===i&&++h===r&&(d=o),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}n=l===-1||d===-1?null:{start:l,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:t,selectionRange:n},hc=!1,Ce=s;Ce!==null;)if(s=Ce,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ce=t;else for(;Ce!==null;){s=Ce;try{var S=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,j=S.memoizedState,v=s.stateNode,f=v.getSnapshotBeforeUpdate(s.elementType===s.type?y:Us(s.type,y),j);v.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var N=s.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(C){pt(s,s.return,C)}if(t=s.sibling,t!==null){t.return=s.return,Ce=t;break}Ce=s.return}return S=Mx,Mx=!1,S}function to(t,s,n){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ym(s,n,i)}a=a.next}while(a!==r)}}function id(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==s)}}function Wm(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function rj(t){var s=t.alternate;s!==null&&(t.alternate=null,rj(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[cn],delete s[xo],delete s[Mm],delete s[eC],delete s[tC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aj(t){return t.tag===5||t.tag===3||t.tag===4}function Ox(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Km(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=xc));else if(r!==4&&(t=t.child,t!==null))for(Km(t,s,n),t=t.sibling;t!==null;)Km(t,s,n),t=t.sibling}function Jm(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jm(t,s,n),t=t.sibling;t!==null;)Jm(t,s,n),t=t.sibling}var Mt=null,qs=!1;function Xn(t,s,n){for(n=n.child;n!==null;)ij(t,s,n),n=n.sibling}function ij(t,s,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Xc,n)}catch{}switch(n.tag){case 5:Bt||Fa(n,s);case 6:var r=Mt,a=qs;Mt=null,Xn(t,s,n),Mt=r,qs=a,Mt!==null&&(qs?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(qs?(t=Mt,n=n.stateNode,t.nodeType===8?ku(t.parentNode,n):t.nodeType===1&&ku(t,n),uo(t)):ku(Mt,n.stateNode));break;case 4:r=Mt,a=qs,Mt=n.stateNode.containerInfo,qs=!0,Xn(t,s,n),Mt=r,qs=a;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ym(n,s,o),a=a.next}while(a!==r)}Xn(t,s,n);break;case 1:if(!Bt&&(Fa(n,s),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pt(n,s,l)}Xn(t,s,n);break;case 21:Xn(t,s,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Xn(t,s,n),Bt=r):Xn(t,s,n);break;default:Xn(t,s,n)}}function Fx(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gC),s.forEach(function(r){var a=EC.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ds(t,s){var n=s.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:Mt=l.stateNode,qs=!1;break e;case 3:Mt=l.stateNode.containerInfo,qs=!0;break e;case 4:Mt=l.stateNode.containerInfo,qs=!0;break e}l=l.return}if(Mt===null)throw Error(pe(160));ij(i,o,a),Mt=null,qs=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){pt(a,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)oj(s,t),s=s.sibling}function oj(t,s){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ds(s,t),nn(t),r&4){try{to(3,t,t.return),id(3,t)}catch(y){pt(t,t.return,y)}try{to(5,t,t.return)}catch(y){pt(t,t.return,y)}}break;case 1:Ds(s,t),nn(t),r&512&&n!==null&&Fa(n,n.return);break;case 5:if(Ds(s,t),nn(t),r&512&&n!==null&&Fa(n,n.return),t.flags&32){var a=t.stateNode;try{io(a,"")}catch(y){pt(t,t.return,y)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Iv(a,i),jm(l,o);var u=jm(l,i);for(o=0;o<d.length;o+=2){var h=d[o],m=d[o+1];h==="style"?Mv(a,m):h==="dangerouslySetInnerHTML"?Tv(a,m):h==="children"?io(a,m):$h(a,h,m,u)}switch(l){case"input":fm(a,i);break;case"textarea":Rv(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?La(a,!!i.multiple,x,!1):p!==!!i.multiple&&(i.defaultValue!=null?La(a,!!i.multiple,i.defaultValue,!0):La(a,!!i.multiple,i.multiple?[]:"",!1))}a[xo]=i}catch(y){pt(t,t.return,y)}}break;case 6:if(Ds(s,t),nn(t),r&4){if(t.stateNode===null)throw Error(pe(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(y){pt(t,t.return,y)}}break;case 3:if(Ds(s,t),nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(y){pt(t,t.return,y)}break;case 4:Ds(s,t),nn(t);break;case 13:Ds(s,t),nn(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(vp=vt())),r&4&&Fx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||h,Ds(s,t),Bt=u):Ds(s,t),nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Ce=t,h=t.child;h!==null;){for(m=Ce=h;Ce!==null;){switch(p=Ce,x=p.child,p.tag){case 0:case 11:case 14:case 15:to(4,p,p.return);break;case 1:Fa(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{s=r,S.props=s.memoizedProps,S.state=s.memoizedState,S.componentWillUnmount()}catch(y){pt(r,n,y)}}break;case 5:Fa(p,p.return);break;case 22:if(p.memoizedState!==null){Lx(m);continue}}x!==null?(x.return=p,Ce=x):Lx(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{a=m.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=kv("display",o))}catch(y){pt(t,t.return,y)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){pt(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ds(s,t),nn(t),r&4&&Fx(t);break;case 21:break;default:Ds(s,t),nn(t)}}function nn(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(aj(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(io(a,""),r.flags&=-33);var i=Ox(t);Jm(t,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ox(t);Km(t,l,o);break;default:throw Error(pe(161))}}catch(d){pt(t,t.return,d)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function yC(t,s,n){Ce=t,lj(t)}function lj(t,s,n){for(var r=(t.mode&1)!==0;Ce!==null;){var a=Ce,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Rl;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Bt;l=Rl;var u=Bt;if(Rl=o,(Bt=d)&&!u)for(Ce=a;Ce!==null;)o=Ce,d=o.child,o.tag===22&&o.memoizedState!==null?$x(a):d!==null?(d.return=o,Ce=d):$x(a);for(;i!==null;)Ce=i,lj(i),i=i.sibling;Ce=a,Rl=l,Bt=u}Dx(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ce=i):Dx(t)}}function Dx(t){for(;Ce!==null;){var s=Ce;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Bt||id(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var a=s.elementType===s.type?n.memoizedProps:Us(s.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&Nx(s,i,r);break;case 3:var o=s.updateQueue;if(o!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}Nx(s,o,n)}break;case 5:var l=s.stateNode;if(n===null&&s.flags&4){n=l;var d=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&uo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Bt||s.flags&512&&Wm(s)}catch(p){pt(s,s.return,p)}}if(s===t){Ce=null;break}if(n=s.sibling,n!==null){n.return=s.return,Ce=n;break}Ce=s.return}}function Lx(t){for(;Ce!==null;){var s=Ce;if(s===t){Ce=null;break}var n=s.sibling;if(n!==null){n.return=s.return,Ce=n;break}Ce=s.return}}function $x(t){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{id(4,s)}catch(d){pt(s,n,d)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var a=s.return;try{r.componentDidMount()}catch(d){pt(s,a,d)}}var i=s.return;try{Wm(s)}catch(d){pt(s,i,d)}break;case 5:var o=s.return;try{Wm(s)}catch(d){pt(s,o,d)}}}catch(d){pt(s,s.return,d)}if(s===t){Ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ce=l;break}Ce=s.return}}var jC=Math.ceil,Ec=qn.ReactCurrentDispatcher,xp=qn.ReactCurrentOwner,Es=qn.ReactCurrentBatchConfig,ze=0,Tt=null,bt=null,Ot=0,ds=0,Da=Or(0),Pt=0,So=null,aa=0,od=0,gp=0,so=null,ss=null,vp=0,li=1/0,An=null,Ac=!1,Qm=null,wr=null,_l=!1,pr=null,Ic=0,no=0,Xm=null,Xl=-1,Zl=0;function Wt(){return ze&6?vt():Xl!==-1?Xl:Xl=vt()}function Cr(t){return t.mode&1?ze&2&&Ot!==0?Ot&-Ot:nC.transition!==null?(Zl===0&&(Zl=Hv()),Zl):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:Zv(t.type)),t):1}function Ys(t,s,n,r){if(50<no)throw no=0,Xm=null,Error(pe(185));qo(t,n,r),(!(ze&2)||t!==Tt)&&(t===Tt&&(!(ze&2)&&(od|=n),Pt===4&&ir(t,Ot)),is(t,r),n===1&&ze===0&&!(s.mode&1)&&(li=vt()+500,nd&&Fr()))}function is(t,s){var n=t.callbackNode;n2(t,s);var r=mc(t,t===Tt?Ot:0);if(r===0)n!==null&&Wf(n),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(n!=null&&Wf(n),s===1)t.tag===0?sC(Ux.bind(null,t)):vy(Ux.bind(null,t)),X2(function(){!(ze&6)&&Fr()}),n=null;else{switch(Yv(r)){case 1:n=qh;break;case 4:n=qv;break;case 16:n=uc;break;case 536870912:n=Gv;break;default:n=uc}n=xj(n,cj.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function cj(t,s){if(Xl=-1,Zl=0,ze&6)throw Error(pe(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=mc(t,t===Tt?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=Rc(t,r);else{s=r;var a=ze;ze|=2;var i=uj();(Tt!==t||Ot!==s)&&(An=null,li=vt()+500,ea(t,s));do try{bC();break}catch(l){dj(t,l)}while(!0);np(),Ec.current=i,ze=a,bt!==null?s=0:(Tt=null,Ot=0,s=Pt)}if(s!==0){if(s===2&&(a=Cm(t),a!==0&&(r=a,s=Zm(t,a))),s===1)throw n=So,ea(t,0),ir(t,r),is(t,vt()),n;if(s===6)ir(t,r);else{if(a=t.current.alternate,!(r&30)&&!NC(a)&&(s=Rc(t,r),s===2&&(i=Cm(t),i!==0&&(r=i,s=Zm(t,i))),s===1))throw n=So,ea(t,0),ir(t,r),is(t,vt()),n;switch(t.finishedWork=a,t.finishedLanes=r,s){case 0:case 1:throw Error(pe(345));case 2:qr(t,ss,An);break;case 3:if(ir(t,r),(r&130023424)===r&&(s=vp+500-vt(),10<s)){if(mc(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=km(qr.bind(null,t,ss,An),s);break}qr(t,ss,An);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(s=t.eventTimes,a=-1;0<r;){var o=31-Hs(r);i=1<<o,o=s[o],o>a&&(a=o),r&=~i}if(r=a,r=vt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jC(r/1960))-r,10<r){t.timeoutHandle=km(qr.bind(null,t,ss,An),r);break}qr(t,ss,An);break;case 5:qr(t,ss,An);break;default:throw Error(pe(329))}}}return is(t,vt()),t.callbackNode===n?cj.bind(null,t):null}function Zm(t,s){var n=so;return t.current.memoizedState.isDehydrated&&(ea(t,s).flags|=256),t=Rc(t,s),t!==2&&(s=ss,ss=n,s!==null&&eh(s)),t}function eh(t){ss===null?ss=t:ss.push.apply(ss,t)}function NC(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Ks(i(),a))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ir(t,s){for(s&=~gp,s&=~od,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-Hs(s),r=1<<n;t[n]=-1,s&=~r}}function Ux(t){if(ze&6)throw Error(pe(327));Va();var s=mc(t,0);if(!(s&1))return is(t,vt()),null;var n=Rc(t,s);if(t.tag!==0&&n===2){var r=Cm(t);r!==0&&(s=r,n=Zm(t,r))}if(n===1)throw n=So,ea(t,0),ir(t,s),is(t,vt()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,qr(t,ss,An),is(t,vt()),null}function yp(t,s){var n=ze;ze|=1;try{return t(s)}finally{ze=n,ze===0&&(li=vt()+500,nd&&Fr())}}function ia(t){pr!==null&&pr.tag===0&&!(ze&6)&&Va();var s=ze;ze|=1;var n=Es.transition,r=Ye;try{if(Es.transition=null,Ye=1,t)return t()}finally{Ye=r,Es.transition=n,ze=s,!(ze&6)&&Fr()}}function jp(){ds=Da.current,st(Da)}function ea(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Q2(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(ep(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gc();break;case 3:ii(),st(rs),st(zt),cp();break;case 5:lp(r);break;case 4:ii();break;case 13:st(ot);break;case 19:st(ot);break;case 10:rp(r.type._context);break;case 22:case 23:jp()}n=n.return}if(Tt=t,bt=t=Pr(t.current,null),Ot=ds=s,Pt=0,So=null,gp=od=aa=0,ss=so=null,Hr!==null){for(s=0;s<Hr.length;s++)if(n=Hr[s],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Hr=null}return t}function dj(t,s){do{var n=bt;try{if(np(),Kl.current=Pc,Cc){for(var r=dt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Cc=!1}if(ra=0,It=Ct=dt=null,eo=!1,yo=0,xp.current=null,n===null||n.return===null){Pt=1,So=s,bt=null;break}e:{var i=t,o=n.return,l=n,d=s;if(s=Ot,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Ex(o);if(x!==null){x.flags&=-257,Ax(x,o,l,i,s),x.mode&1&&Px(i,u,s),s=x,d=u;var S=s.updateQueue;if(S===null){var y=new Set;y.add(d),s.updateQueue=y}else S.add(d);break e}else{if(!(s&1)){Px(i,u,s),Np();break e}d=Error(pe(426))}}else if(rt&&l.mode&1){var j=Ex(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ax(j,o,l,i,s),tp(oi(d,l));break e}}i=d=oi(d,l),Pt!==4&&(Pt=2),so===null?so=[i]:so.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var v=Yy(i,d,s);jx(i,v);break e;case 1:l=d;var f=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(wr===null||!wr.has(N)))){i.flags|=65536,s&=-s,i.lanes|=s;var C=Wy(i,l,s);jx(i,C);break e}}i=i.return}while(i!==null)}hj(n)}catch(P){s=P,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function uj(){var t=Ec.current;return Ec.current=Pc,t===null?Pc:t}function Np(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Tt===null||!(aa&268435455)&&!(od&268435455)||ir(Tt,Ot)}function Rc(t,s){var n=ze;ze|=2;var r=uj();(Tt!==t||Ot!==s)&&(An=null,ea(t,s));do try{SC();break}catch(a){dj(t,a)}while(!0);if(np(),ze=n,Ec.current=r,bt!==null)throw Error(pe(261));return Tt=null,Ot=0,Pt}function SC(){for(;bt!==null;)mj(bt)}function bC(){for(;bt!==null&&!W1();)mj(bt)}function mj(t){var s=fj(t.alternate,t,ds);t.memoizedProps=t.pendingProps,s===null?hj(t):bt=s,xp.current=null}function hj(t){var s=t;do{var n=s.alternate;if(t=s.return,s.flags&32768){if(n=xC(n,s),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,bt=null;return}}else if(n=fC(n,s,ds),n!==null){bt=n;return}if(s=s.sibling,s!==null){bt=s;return}bt=s=t}while(s!==null);Pt===0&&(Pt=5)}function qr(t,s,n){var r=Ye,a=Es.transition;try{Es.transition=null,Ye=1,wC(t,s,n,r)}finally{Es.transition=a,Ye=r}return null}function wC(t,s,n,r){do Va();while(pr!==null);if(ze&6)throw Error(pe(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(r2(t,i),t===Tt&&(bt=Tt=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_l||(_l=!0,xj(uc,function(){return Va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Es.transition,Es.transition=null;var o=Ye;Ye=1;var l=ze;ze|=4,xp.current=null,vC(t,n),oj(n,t),q2(_m),hc=!!Rm,_m=Rm=null,t.current=n,yC(n),K1(),ze=l,Ye=o,Es.transition=i}else t.current=n;if(_l&&(_l=!1,pr=t,Ic=a),i=t.pendingLanes,i===0&&(wr=null),X1(n.stateNode),is(t,vt()),s!==null)for(r=t.onRecoverableError,n=0;n<s.length;n++)a=s[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ac)throw Ac=!1,t=Qm,Qm=null,t;return Ic&1&&t.tag!==0&&Va(),i=t.pendingLanes,i&1?t===Xm?no++:(no=0,Xm=t):no=0,Fr(),null}function Va(){if(pr!==null){var t=Yv(Ic),s=Es.transition,n=Ye;try{if(Es.transition=null,Ye=16>t?16:t,pr===null)var r=!1;else{if(t=pr,pr=null,Ic=0,ze&6)throw Error(pe(331));var a=ze;for(ze|=4,Ce=t.current;Ce!==null;){var i=Ce,o=i.child;if(Ce.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(Ce=u;Ce!==null;){var h=Ce;switch(h.tag){case 0:case 11:case 15:to(8,h,i)}var m=h.child;if(m!==null)m.return=h,Ce=m;else for(;Ce!==null;){h=Ce;var p=h.sibling,x=h.return;if(rj(h),h===u){Ce=null;break}if(p!==null){p.return=x,Ce=p;break}Ce=x}}}var S=i.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}Ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ce=o;else e:for(;Ce!==null;){if(i=Ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ce=v;break e}Ce=i.return}}var f=t.current;for(Ce=f;Ce!==null;){o=Ce;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ce=N;else e:for(o=f;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:id(9,l)}}catch(P){pt(l,l.return,P)}if(l===o){Ce=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Ce=C;break e}Ce=l.return}}if(ze=a,Fr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Xc,t)}catch{}r=!0}return r}finally{Ye=n,Es.transition=s}}return!1}function Bx(t,s,n){s=oi(n,s),s=Yy(t,s,1),t=br(t,s,1),s=Wt(),t!==null&&(qo(t,1,s),is(t,s))}function pt(t,s,n){if(t.tag===3)Bx(t,t,n);else for(;s!==null;){if(s.tag===3){Bx(s,t,n);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){t=oi(n,t),t=Wy(s,t,1),s=br(s,t,1),t=Wt(),s!==null&&(qo(s,1,t),is(s,t));break}}s=s.return}}function CC(t,s,n){var r=t.pingCache;r!==null&&r.delete(s),s=Wt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Ot&n)===n&&(Pt===4||Pt===3&&(Ot&130023424)===Ot&&500>vt()-vp?ea(t,0):gp|=n),is(t,s)}function pj(t,s){s===0&&(t.mode&1?(s=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):s=1);var n=Wt();t=$n(t,s),t!==null&&(qo(t,s,n),is(t,n))}function PC(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),pj(t,n)}function EC(t,s){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(s),pj(t,n)}var fj;fj=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||rs.current)ns=!0;else{if(!(t.lanes&n)&&!(s.flags&128))return ns=!1,pC(t,s,n);ns=!!(t.flags&131072)}else ns=!1,rt&&s.flags&1048576&&yy(s,jc,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;Ql(t,s),t=s.pendingProps;var a=ni(s,zt.current);za(s,n),a=up(null,s,r,t,a,n);var i=mp();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,as(r)?(i=!0,vc(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ip(s),a.updater=ad,s.stateNode=a,a._reactInternals=s,Um(s,r,t,n),s=Vm(null,s,r,!0,i,n)):(s.tag=0,rt&&i&&Zh(s),Ht(null,s,a,n),s=s.child),s;case 16:r=s.elementType;e:{switch(Ql(t,s),t=s.pendingProps,a=r._init,r=a(r._payload),s.type=r,a=s.tag=IC(r),t=Us(r,t),a){case 0:s=zm(null,s,r,t,n);break e;case 1:s=_x(null,s,r,t,n);break e;case 11:s=Ix(null,s,r,t,n);break e;case 14:s=Rx(null,s,r,Us(r.type,t),n);break e}throw Error(pe(306,r,""))}return s;case 0:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),zm(t,s,r,a,n);case 1:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),_x(t,s,r,a,n);case 3:e:{if(Xy(s),t===null)throw Error(pe(387));r=s.pendingProps,i=s.memoizedState,a=i.element,Cy(t,s),bc(s,r,null,n);var o=s.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=oi(Error(pe(423)),s),s=Tx(t,s,r,n,a);break e}else if(r!==a){a=oi(Error(pe(424)),s),s=Tx(t,s,r,n,a);break e}else for(hs=Sr(s.stateNode.containerInfo.firstChild),ps=s,rt=!0,Gs=null,n=by(s,null,r,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ri(),r===a){s=Un(t,s,n);break e}Ht(t,s,r,n)}s=s.child}return s;case 5:return Py(s),t===null&&Dm(s),r=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,Tm(r,a)?o=null:i!==null&&Tm(r,i)&&(s.flags|=32),Qy(t,s),Ht(t,s,o,n),s.child;case 6:return t===null&&Dm(s),null;case 13:return Zy(t,s,n);case 4:return op(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=ai(s,null,r,n):Ht(t,s,r,n),s.child;case 11:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),Ix(t,s,r,a,n);case 7:return Ht(t,s,s.pendingProps,n),s.child;case 8:return Ht(t,s,s.pendingProps.children,n),s.child;case 12:return Ht(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(r=s.type._context,a=s.pendingProps,i=s.memoizedProps,o=a.value,Ze(Nc,r._currentValue),r._currentValue=o,i!==null)if(Ks(i.value,o)){if(i.children===a.children&&!rs.current){s=Un(t,s,n);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=Mn(-1,n&-n),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?d.next=d:(d.next=h.next,h.next=d),u.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Lm(i.return,n,s),l.lanes|=n;break}d=d.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(pe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lm(o,n,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ht(t,s,a.children,n),s=s.child}return s;case 9:return a=s.type,r=s.pendingProps.children,za(s,n),a=Is(a),r=r(a),s.flags|=1,Ht(t,s,r,n),s.child;case 14:return r=s.type,a=Us(r,s.pendingProps),a=Us(r.type,a),Rx(t,s,r,a,n);case 15:return Ky(t,s,s.type,s.pendingProps,n);case 17:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:Us(r,a),Ql(t,s),s.tag=1,as(r)?(t=!0,vc(s)):t=!1,za(s,n),Hy(s,r,a),Um(s,r,a,n),Vm(null,s,r,!0,t,n);case 19:return ej(t,s,n);case 22:return Jy(t,s,n)}throw Error(pe(156,s.tag))};function xj(t,s){return Vv(t,s)}function AC(t,s,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(t,s,n,r){return new AC(t,s,n,r)}function Sp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IC(t){if(typeof t=="function")return Sp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bh)return 11;if(t===zh)return 14}return 2}function Pr(t,s){var n=t.alternate;return n===null?(n=Cs(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ec(t,s,n,r,a,i){var o=2;if(r=t,typeof t=="function")Sp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ea:return ta(n.children,a,i,s);case Uh:o=8,a|=8;break;case dm:return t=Cs(12,n,s,a|2),t.elementType=dm,t.lanes=i,t;case um:return t=Cs(13,n,s,a),t.elementType=um,t.lanes=i,t;case mm:return t=Cs(19,n,s,a),t.elementType=mm,t.lanes=i,t;case Pv:return ld(n,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wv:o=10;break e;case Cv:o=9;break e;case Bh:o=11;break e;case zh:o=14;break e;case nr:o=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return s=Cs(o,n,s,a),s.elementType=t,s.type=r,s.lanes=i,s}function ta(t,s,n,r){return t=Cs(7,t,r,s),t.lanes=n,t}function ld(t,s,n,r){return t=Cs(22,t,r,s),t.elementType=Pv,t.lanes=n,t.stateNode={isHidden:!1},t}function Bu(t,s,n){return t=Cs(6,t,null,s),t.lanes=n,t}function zu(t,s,n){return s=Cs(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function RC(t,s,n,r,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bp(t,s,n,r,a,i,o,l,d){return t=new RC(t,s,n,l,d),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Cs(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(i),t}function _C(t,s,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:s,implementation:n}}function gj(t){if(!t)return Rr;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(pe(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(as(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(as(n))return gy(t,n,s)}return s}function vj(t,s,n,r,a,i,o,l,d){return t=bp(n,r,!0,t,a,i,o,l,d),t.context=gj(null),n=t.current,r=Wt(),a=Cr(n),i=Mn(r,a),i.callback=s??null,br(n,i,a),t.current.lanes=a,qo(t,a,r),is(t,r),t}function cd(t,s,n,r){var a=s.current,i=Wt(),o=Cr(a);return n=gj(n),s.context===null?s.context=n:s.pendingContext=n,s=Mn(i,o),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=br(a,s,o),t!==null&&(Ys(t,a,o,i),Wl(t,a,o)),o}function _c(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function wp(t,s){zx(t,s),(t=t.alternate)&&zx(t,s)}function TC(){return null}var yj=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cp(t){this._internalRoot=t}dd.prototype.render=Cp.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(pe(409));cd(t,s,null,null)};dd.prototype.unmount=Cp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ia(function(){cd(null,t,null,null)}),s[Ln]=null}};function dd(t){this._internalRoot=t}dd.prototype.unstable_scheduleHydration=function(t){if(t){var s=Jv();t={blockedOn:null,target:t,priority:s};for(var n=0;n<ar.length&&s!==0&&s<ar[n].priority;n++);ar.splice(n,0,t),n===0&&Xv(t)}};function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vx(){}function kC(t,s,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=_c(o);i.call(u)}}var o=vj(s,r,t,0,null,!1,!1,"",Vx);return t._reactRootContainer=o,t[Ln]=o.current,po(t.nodeType===8?t.parentNode:t),ia(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=_c(d);l.call(u)}}var d=bp(t,0,!1,null,null,!1,!1,"",Vx);return t._reactRootContainer=d,t[Ln]=d.current,po(t.nodeType===8?t.parentNode:t),ia(function(){cd(s,d,n,r)}),d}function md(t,s,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var d=_c(o);l.call(d)}}cd(s,o,t,a)}else o=kC(n,s,t,a,r);return _c(o)}Wv=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=Gi(s.pendingLanes);n!==0&&(Gh(s,n|1),is(s,vt()),!(ze&6)&&(li=vt()+500,Fr()))}break;case 13:ia(function(){var r=$n(t,1);if(r!==null){var a=Wt();Ys(r,t,1,a)}}),wp(t,1)}};Hh=function(t){if(t.tag===13){var s=$n(t,134217728);if(s!==null){var n=Wt();Ys(s,t,134217728,n)}wp(t,134217728)}};Kv=function(t){if(t.tag===13){var s=Cr(t),n=$n(t,s);if(n!==null){var r=Wt();Ys(n,t,s,r)}wp(t,s)}};Jv=function(){return Ye};Qv=function(t,s){var n=Ye;try{return Ye=t,s()}finally{Ye=n}};Sm=function(t,s,n){switch(s){case"input":if(fm(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var r=n[s];if(r!==t&&r.form===t.form){var a=sd(r);if(!a)throw Error(pe(90));Av(r),fm(r,a)}}}break;case"textarea":Rv(t,n);break;case"select":s=n.value,s!=null&&La(t,!!n.multiple,s,!1)}};Dv=yp;Lv=ia;var MC={usingClientEntryPoint:!1,Events:[Ho,_a,sd,Ov,Fv,yp]},Ui={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OC={bundleType:Ui.bundleType,version:Ui.version,rendererPackageName:Ui.rendererPackageName,rendererConfig:Ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bv(t),t===null?null:t.stateNode},findFiberByHostInstance:Ui.findFiberByHostInstance||TC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{Xc=Tl.inject(OC),pn=Tl}catch{}}ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;ys.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(s))throw Error(pe(200));return _C(t,s,null,n)};ys.createRoot=function(t,s){if(!Pp(t))throw Error(pe(299));var n=!1,r="",a=yj;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=bp(t,1,!1,null,null,n,!1,r,a),t[Ln]=s.current,po(t.nodeType===8?t.parentNode:t),new Cp(s)};ys.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=Bv(s),t=t===null?null:t.stateNode,t};ys.flushSync=function(t){return ia(t)};ys.hydrate=function(t,s,n){if(!ud(s))throw Error(pe(200));return md(null,t,s,!0,n)};ys.hydrateRoot=function(t,s,n){if(!Pp(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=yj;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),s=vj(s,null,t,1,n??null,a,!1,i,o),t[Ln]=s.current,po(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,a]:s.mutableSourceEagerHydrationData.push(n,a);return new dd(s)};ys.render=function(t,s,n){if(!ud(s))throw Error(pe(200));return md(null,t,s,!1,n)};ys.unmountComponentAtNode=function(t){if(!ud(t))throw Error(pe(40));return t._reactRootContainer?(ia(function(){md(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};ys.unstable_batchedUpdates=yp;ys.unstable_renderSubtreeIntoContainer=function(t,s,n,r){if(!ud(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return md(t,s,n,!1,r)};ys.version="18.3.1-next-f1338f8080-20240426";function jj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jj)}catch(t){console.error(t)}}jj(),jv.exports=ys;var xa=jv.exports;const Nj=lv(xa);var Sj,qx=xa;Sj=qx.createRoot,qx.hydrateRoot;const FC=1,DC=1e6;let Vu=0;function LC(){return Vu=(Vu+1)%Number.MAX_SAFE_INTEGER,Vu.toString()}const qu=new Map,Gx=t=>{if(qu.has(t))return;const s=setTimeout(()=>{qu.delete(t),ro({type:"REMOVE_TOAST",toastId:t})},DC);qu.set(t,s)},$C=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,FC)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?Gx(n):t.toasts.forEach(r=>{Gx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},tc=[];let sc={toasts:[]};function ro(t){sc=$C(sc,t),tc.forEach(s=>{s(sc)})}function UC({...t}){const s=LC(),n=a=>ro({type:"UPDATE_TOAST",toast:{...a,id:s}}),r=()=>ro({type:"DISMISS_TOAST",toastId:s});return ro({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||r()}}}),{id:s,dismiss:r,update:n}}function _e(){const[t,s]=c.useState(sc);return c.useEffect(()=>(tc.push(s),()=>{const n=tc.indexOf(s);n>-1&&tc.splice(n,1)}),[t]),{...t,toast:UC,dismiss:n=>ro({type:"DISMISS_TOAST",toastId:n})}}function ge(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function Hx(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function hd(...t){return s=>{let n=!1;const r=t.map(a=>{const i=Hx(a,s);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Hx(t[a],null)}}}}function Te(...t){return c.useCallback(hd(...t),t)}function BC(t,s){const n=c.createContext(s),r=i=>{const{children:o,...l}=i,d=c.useMemo(()=>l,Object.values(l));return e.jsx(n.Provider,{value:d,children:o})};r.displayName=t+"Provider";function a(i){const o=c.useContext(n);if(o)return o;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,a]}function Vt(t,s=[]){let n=[];function r(i,o){const l=c.createContext(o),d=n.length;n=[...n,o];const u=m=>{var v;const{scope:p,children:x,...S}=m,y=((v=p==null?void 0:p[t])==null?void 0:v[d])||l,j=c.useMemo(()=>S,Object.values(S));return e.jsx(y.Provider,{value:j,children:x})};u.displayName=i+"Provider";function h(m,p){var y;const x=((y=p==null?void 0:p[t])==null?void 0:y[d])||l,S=c.useContext(x);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,h]}const a=()=>{const i=n.map(o=>c.createContext(o));return function(l){const d=(l==null?void 0:l[t])||i;return c.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return a.scopeName=t,[r,zC(a,...s)]}function zC(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return c.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return n.scopeName=s.scopeName,n}function oa(t){const s=VC(t),n=c.forwardRef((r,a)=>{const{children:i,...o}=r,l=c.Children.toArray(i),d=l.find(qC);if(d){const u=d.props.children,h=l.map(m=>m===d?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...o,ref:a,children:c.isValidElement(u)?c.cloneElement(u,void 0,h):null})}return e.jsx(s,{...o,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}var vi=oa("Slot");function VC(t){const s=c.forwardRef((n,r)=>{const{children:a,...i}=n;if(c.isValidElement(a)){const o=HC(a),l=GC(i,a.props);return a.type!==c.Fragment&&(l.ref=r?hd(r,o):o),c.cloneElement(a,l)}return c.Children.count(a)>1?c.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var bj=Symbol("radix.slottable");function wj(t){const s=({children:n})=>e.jsx(e.Fragment,{children:n});return s.displayName=`${t}.Slottable`,s.__radixId=bj,s}function qC(t){return c.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bj}function GC(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function HC(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pd(t){const s=t+"CollectionProvider",[n,r]=Vt(s),[a,i]=n(s,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:j,children:v}=y,f=ve.useRef(null),N=ve.useRef(new Map).current;return e.jsx(a,{scope:j,itemMap:N,collectionRef:f,children:v})};o.displayName=s;const l=t+"CollectionSlot",d=oa(l),u=ve.forwardRef((y,j)=>{const{scope:v,children:f}=y,N=i(l,v),C=Te(j,N.collectionRef);return e.jsx(d,{ref:C,children:f})});u.displayName=l;const h=t+"CollectionItemSlot",m="data-radix-collection-item",p=oa(h),x=ve.forwardRef((y,j)=>{const{scope:v,children:f,...N}=y,C=ve.useRef(null),P=Te(j,C),R=i(h,v);return ve.useEffect(()=>(R.itemMap.set(C,{ref:C,...N}),()=>void R.itemMap.delete(C))),e.jsx(p,{[m]:"",ref:P,children:f})});x.displayName=h;function S(y){const j=i(t+"CollectionConsumer",y);return ve.useCallback(()=>{const f=j.collectionRef.current;if(!f)return[];const N=Array.from(f.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((R,g)=>N.indexOf(R.ref.current)-N.indexOf(g.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:u,ItemSlot:x},S,r]}var YC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=YC.reduce((t,s)=>{const n=oa(`Primitive.${s}`),r=c.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...l,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function Ep(t,s){t&&xa.flushSync(()=>t.dispatchEvent(s))}function ft(t){const s=c.useRef(t);return c.useEffect(()=>{s.current=t}),c.useMemo(()=>(...n)=>{var r;return(r=s.current)==null?void 0:r.call(s,...n)},[])}function WC(t,s=globalThis==null?void 0:globalThis.document){const n=ft(t);c.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[n,s])}var KC="DismissableLayer",th="dismissableLayer.update",JC="dismissableLayer.pointerDownOutside",QC="dismissableLayer.focusOutside",Yx,Cj=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yi=c.forwardRef((t,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=t,u=c.useContext(Cj),[h,m]=c.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=c.useState({}),S=Te(s,g=>m(g)),y=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(j),f=h?y.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,C=f>=v,P=ZC(g=>{const A=g.target,_=[...u.branches].some(w=>w.contains(A));!C||_||(a==null||a(g),o==null||o(g),g.defaultPrevented||l==null||l())},p),R=eP(g=>{const A=g.target;[...u.branches].some(w=>w.contains(A))||(i==null||i(g),o==null||o(g),g.defaultPrevented||l==null||l())},p);return WC(g=>{f===u.layers.size-1&&(r==null||r(g),!g.defaultPrevented&&l&&(g.preventDefault(),l()))},p),c.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Yx=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Wx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Yx)}},[h,p,n,u]),c.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Wx())},[h,u]),c.useEffect(()=>{const g=()=>x({});return document.addEventListener(th,g),()=>document.removeEventListener(th,g)},[]),e.jsx(Ee.div,{...d,ref:S,style:{pointerEvents:N?C?"auto":"none":void 0,...t.style},onFocusCapture:ge(t.onFocusCapture,R.onFocusCapture),onBlurCapture:ge(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ge(t.onPointerDownCapture,P.onPointerDownCapture)})});yi.displayName=KC;var XC="DismissableLayerBranch",Pj=c.forwardRef((t,s)=>{const n=c.useContext(Cj),r=c.useRef(null),a=Te(s,r);return c.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),e.jsx(Ee.div,{...t,ref:a})});Pj.displayName=XC;function ZC(t,s=globalThis==null?void 0:globalThis.document){const n=ft(t),r=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let d=function(){Ej(JC,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=d,s.addEventListener("click",a.current,{once:!0})):d()}else s.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,n]),{onPointerDownCapture:()=>r.current=!0}}function eP(t,s=globalThis==null?void 0:globalThis.document){const n=ft(t),r=c.useRef(!1);return c.useEffect(()=>{const a=i=>{i.target&&!r.current&&Ej(QC,n,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wx(){const t=new CustomEvent(th);document.dispatchEvent(t)}function Ej(t,s,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});s&&a.addEventListener(t,s,{once:!0}),r?Ep(a,i):a.dispatchEvent(i)}var tP=yi,sP=Pj,yt=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},nP="Portal",Wo=c.forwardRef((t,s)=>{var l;const{container:n,...r}=t,[a,i]=c.useState(!1);yt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Nj.createPortal(e.jsx(Ee.div,{...r,ref:s}),o):null});Wo.displayName=nP;function rP(t,s){return c.useReducer((n,r)=>s[n][r]??n,t)}var Dt=t=>{const{present:s,children:n}=t,r=aP(s),a=typeof n=="function"?n({present:r.isPresent}):c.Children.only(n),i=Te(r.ref,iP(a));return typeof n=="function"||r.isPresent?c.cloneElement(a,{ref:i}):null};Dt.displayName="Presence";function aP(t){const[s,n]=c.useState(),r=c.useRef(null),a=c.useRef(t),i=c.useRef("none"),o=t?"mounted":"unmounted",[l,d]=rP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=kl(r.current);i.current=l==="mounted"?u:"none"},[l]),yt(()=>{const u=r.current,h=a.current;if(h!==t){const p=i.current,x=kl(u);t?d("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&p!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),yt(()=>{if(s){let u;const h=s.ownerDocument.defaultView??window,m=x=>{const y=kl(r.current).includes(CSS.escape(x.animationName));if(x.target===s&&y&&(d("ANIMATION_END"),!a.current)){const j=s.style.animationFillMode;s.style.animationFillMode="forwards",u=h.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=j)})}},p=x=>{x.target===s&&(i.current=kl(r.current))};return s.addEventListener("animationstart",p),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{h.clearTimeout(u),s.removeEventListener("animationstart",p),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:c.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function kl(t){return(t==null?void 0:t.animationName)||"none"}function iP(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var oP=Fh[" useInsertionEffect ".trim().toString()]||yt;function vn({prop:t,defaultProp:s,onChange:n=()=>{},caller:r}){const[a,i,o]=lP({defaultProp:s,onChange:n}),l=t!==void 0,d=l?t:a;{const h=c.useRef(t!==void 0);c.useEffect(()=>{const m=h.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=c.useCallback(h=>{var m;if(l){const p=cP(h)?h(t):h;p!==t&&((m=o.current)==null||m.call(o,p))}else i(h)},[l,t,i,o]);return[d,u]}function lP({defaultProp:t,onChange:s}){const[n,r]=c.useState(t),a=c.useRef(n),i=c.useRef(s);return oP(()=>{i.current=s},[s]),c.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function cP(t){return typeof t=="function"}var Aj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dP="VisuallyHidden",fd=c.forwardRef((t,s)=>e.jsx(Ee.span,{...t,ref:s,style:{...Aj,...t.style}}));fd.displayName=dP;var uP=fd,Ap="ToastProvider",[Ip,mP,hP]=pd("Toast"),[Ij]=Vt("Toast",[hP]),[pP,xd]=Ij(Ap),Rj=t=>{const{__scopeToast:s,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,d]=c.useState(null),[u,h]=c.useState(0),m=c.useRef(!1),p=c.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ap}\`. Expected non-empty \`string\`.`),e.jsx(Ip.Provider,{scope:s,children:e.jsx(pP,{scope:s,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:c.useCallback(()=>h(x=>x+1),[]),onToastRemove:c.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};Rj.displayName=Ap;var _j="ToastViewport",fP=["F8"],sh="toast.viewportPause",nh="toast.viewportResume",Tj=c.forwardRef((t,s)=>{const{__scopeToast:n,hotkey:r=fP,label:a="Notifications ({hotkey})",...i}=t,o=xd(_j,n),l=mP(n),d=c.useRef(null),u=c.useRef(null),h=c.useRef(null),m=c.useRef(null),p=Te(s,m,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;c.useEffect(()=>{const j=v=>{var N;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((N=m.current)==null||N.focus())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),c.useEffect(()=>{const j=d.current,v=m.current;if(S&&j&&v){const f=()=>{if(!o.isClosePausedRef.current){const R=new CustomEvent(sh);v.dispatchEvent(R),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const R=new CustomEvent(nh);v.dispatchEvent(R),o.isClosePausedRef.current=!1}},C=R=>{!j.contains(R.relatedTarget)&&N()},P=()=>{j.contains(document.activeElement)||N()};return j.addEventListener("focusin",f),j.addEventListener("focusout",C),j.addEventListener("pointermove",f),j.addEventListener("pointerleave",P),window.addEventListener("blur",f),window.addEventListener("focus",N),()=>{j.removeEventListener("focusin",f),j.removeEventListener("focusout",C),j.removeEventListener("pointermove",f),j.removeEventListener("pointerleave",P),window.removeEventListener("blur",f),window.removeEventListener("focus",N)}}},[S,o.isClosePausedRef]);const y=c.useCallback(({tabbingDirection:j})=>{const f=l().map(N=>{const C=N.ref.current,P=[C,...AP(C)];return j==="forwards"?P:P.reverse()});return(j==="forwards"?f.reverse():f).flat()},[l]);return c.useEffect(()=>{const j=m.current;if(j){const v=f=>{var P,R,g;const N=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!N){const A=document.activeElement,_=f.shiftKey;if(f.target===j&&_){(P=u.current)==null||P.focus();return}const I=y({tabbingDirection:_?"backwards":"forwards"}),k=I.findIndex(O=>O===A);Gu(I.slice(k+1))?f.preventDefault():_?(R=u.current)==null||R.focus():(g=h.current)==null||g.focus()}};return j.addEventListener("keydown",v),()=>j.removeEventListener("keydown",v)}},[l,y]),e.jsxs(sP,{ref:d,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&e.jsx(rh,{ref:u,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"forwards"});Gu(j)}}),e.jsx(Ip.Slot,{scope:n,children:e.jsx(Ee.ol,{tabIndex:-1,...i,ref:p})}),S&&e.jsx(rh,{ref:h,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"backwards"});Gu(j)}})]})});Tj.displayName=_j;var kj="ToastFocusProxy",rh=c.forwardRef((t,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=t,i=xd(kj,n);return e.jsx(fd,{tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});rh.displayName=kj;var Ko="Toast",xP="toast.swipeStart",gP="toast.swipeMove",vP="toast.swipeCancel",yP="toast.swipeEnd",Mj=c.forwardRef((t,s)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=t,[l,d]=vn({prop:r,defaultProp:a??!0,onChange:i,caller:Ko});return e.jsx(Dt,{present:n||l,children:e.jsx(SP,{open:l,...o,ref:s,onClose:()=>d(!1),onPause:ft(t.onPause),onResume:ft(t.onResume),onSwipeStart:ge(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(t.onSwipeMove,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ge(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(t.onSwipeEnd,u=>{const{x:h,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});Mj.displayName=Ko;var[jP,NP]=Ij(Ko,{onClose(){}}),SP=c.forwardRef((t,s)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:x,...S}=t,y=xd(Ko,n),[j,v]=c.useState(null),f=Te(s,O=>v(O)),N=c.useRef(null),C=c.useRef(null),P=a||y.duration,R=c.useRef(0),g=c.useRef(P),A=c.useRef(0),{onToastAdd:_,onToastRemove:w}=y,b=ft(()=>{var U;(j==null?void 0:j.contains(document.activeElement))&&((U=y.viewport)==null||U.focus()),o()}),I=c.useCallback(O=>{!O||O===1/0||(window.clearTimeout(A.current),R.current=new Date().getTime(),A.current=window.setTimeout(b,O))},[b]);c.useEffect(()=>{const O=y.viewport;if(O){const U=()=>{I(g.current),u==null||u()},V=()=>{const B=new Date().getTime()-R.current;g.current=g.current-B,window.clearTimeout(A.current),d==null||d()};return O.addEventListener(sh,V),O.addEventListener(nh,U),()=>{O.removeEventListener(sh,V),O.removeEventListener(nh,U)}}},[y.viewport,P,d,u,I]),c.useEffect(()=>{i&&!y.isClosePausedRef.current&&I(P)},[i,P,y.isClosePausedRef,I]),c.useEffect(()=>(_(),()=>w()),[_,w]);const k=c.useMemo(()=>j?Bj(j):null,[j]);return y.viewport?e.jsxs(e.Fragment,{children:[k&&e.jsx(bP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:k}),e.jsx(jP,{scope:n,onClose:b,children:xa.createPortal(e.jsx(Ip.ItemSlot,{scope:n,children:e.jsx(tP,{asChild:!0,onEscapeKeyDown:ge(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||b(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Ee.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ge(t.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,b()))}),onPointerDown:ge(t.onPointerDown,O=>{O.button===0&&(N.current={x:O.clientX,y:O.clientY})}),onPointerMove:ge(t.onPointerMove,O=>{if(!N.current)return;const U=O.clientX-N.current.x,V=O.clientY-N.current.y,B=!!C.current,H=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,re=H?q(0,U):0,Q=H?0:q(0,V),ie=O.pointerType==="touch"?10:2,ue={x:re,y:Q},L={originalEvent:O,delta:ue};B?(C.current=ue,Ml(gP,m,L,{discrete:!1})):Kx(ue,y.swipeDirection,ie)?(C.current=ue,Ml(xP,h,L,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(U)>ie||Math.abs(V)>ie)&&(N.current=null)}),onPointerUp:ge(t.onPointerUp,O=>{const U=C.current,V=O.target;if(V.hasPointerCapture(O.pointerId)&&V.releasePointerCapture(O.pointerId),C.current=null,N.current=null,U){const B=O.currentTarget,H={originalEvent:O,delta:U};Kx(U,y.swipeDirection,y.swipeThreshold)?Ml(yP,x,H,{discrete:!0}):Ml(vP,p,H,{discrete:!0}),B.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),bP=t=>{const{__scopeToast:s,children:n,...r}=t,a=xd(Ko,s),[i,o]=c.useState(!1),[l,d]=c.useState(!1);return PP(()=>o(!0)),c.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:e.jsx(Wo,{asChild:!0,children:e.jsx(fd,{...r,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",n]})})})},wP="ToastTitle",Oj=c.forwardRef((t,s)=>{const{__scopeToast:n,...r}=t;return e.jsx(Ee.div,{...r,ref:s})});Oj.displayName=wP;var CP="ToastDescription",Fj=c.forwardRef((t,s)=>{const{__scopeToast:n,...r}=t;return e.jsx(Ee.div,{...r,ref:s})});Fj.displayName=CP;var Dj="ToastAction",Lj=c.forwardRef((t,s)=>{const{altText:n,...r}=t;return n.trim()?e.jsx(Uj,{altText:n,asChild:!0,children:e.jsx(Rp,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dj}\`. Expected non-empty \`string\`.`),null)});Lj.displayName=Dj;var $j="ToastClose",Rp=c.forwardRef((t,s)=>{const{__scopeToast:n,...r}=t,a=NP($j,n);return e.jsx(Uj,{asChild:!0,children:e.jsx(Ee.button,{type:"button",...r,ref:s,onClick:ge(t.onClick,a.onClose)})})});Rp.displayName=$j;var Uj=c.forwardRef((t,s)=>{const{__scopeToast:n,altText:r,...a}=t;return e.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:s})});function Bj(t){const s=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),EP(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&s.push(o)}else s.push(...Bj(r))}}),s}function Ml(t,s,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});s&&a.addEventListener(t,s,{once:!0}),r?Ep(a,i):a.dispatchEvent(i)}var Kx=(t,s,n=0)=>{const r=Math.abs(t.x),a=Math.abs(t.y),i=r>a;return s==="left"||s==="right"?i&&r>n:!i&&a>n};function PP(t=()=>{}){const s=ft(t);yt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[s])}function EP(t){return t.nodeType===t.ELEMENT_NODE}function AP(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function Gu(t){const s=document.activeElement;return t.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var IP=Rj,zj=Tj,Vj=Mj,qj=Oj,Gj=Fj,Hj=Lj,Yj=Rp;function Wj(t){var s,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(n=Wj(t[s]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Kj(){for(var t,s,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(s=Wj(t))&&(r&&(r+=" "),r+=s);return r}const Jx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qx=Kj,ga=(t,s)=>n=>{var r;if((s==null?void 0:s.variants)==null)return Qx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=s,o=Object.keys(a).map(u=>{const h=n==null?void 0:n[u],m=i==null?void 0:i[u];if(h===null)return null;const p=Jx(h)||Jx(m);return a[u][p]}),l=n&&Object.entries(n).reduce((u,h)=>{let[m,p]=h;return p===void 0||(u[m]=p),u},{}),d=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:m,className:p,...x}=h;return Object.entries(x).every(S=>{let[y,j]=S;return Array.isArray(j)?j.includes({...i,...l}[y]):{...i,...l}[y]===j})?[...u,m,p]:u},[]);return Qx(t,o,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jj=(...t)=>t.filter((s,n,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=c.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},d)=>c.createElement("svg",{ref:d,..._P,width:s,height:s,stroke:t,strokeWidth:r?Number(n)*24/Number(s):n,className:Jj("lucide",a),...l},[...o.map(([u,h])=>c.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,s)=>{const n=c.forwardRef(({className:r,...a},i)=>c.createElement(TP,{ref:i,iconNode:s,className:Jj(`lucide-${RP(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=be("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=be("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=be("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=be("HandHeart",[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=be("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=be("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=be("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=be("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=be("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=be("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=be("Signature",[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284",key:"y32ogt"}],["path",{d:"M3 21h18",key:"itz85i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=be("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=be("University",[["circle",{cx:"12",cy:"10",r:"1",key:"1gnqs8"}],["path",{d:"M22 20V8h-4l-6-4-6 4H2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"1qj5sn"}],["path",{d:"M6 17v.01",key:"roodi6"}],["path",{d:"M6 13v.01",key:"67c122"}],["path",{d:"M18 17v.01",key:"12ktxm"}],["path",{d:"M18 13v.01",key:"tn1rt1"}],["path",{d:"M14 22v-5a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5",key:"11g7fi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=be("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=be("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dp="-",JP=t=>{const s=XP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Dp);return l[0]===""&&l.length!==1&&l.shift(),sN(l,s)||QP(o)},getConflictingClassGroupIds:(o,l)=>{const d=n[o]||[];return l&&r[o]?[...d,...r[o]]:d}}},sN=(t,s)=>{var o;if(t.length===0)return s.classGroupId;const n=t[0],r=s.nextPart.get(n),a=r?sN(t.slice(1),r):void 0;if(a)return a;if(s.validators.length===0)return;const i=t.join(Dp);return(o=s.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},tg=/^\[(.+)\]$/,QP=t=>{if(tg.test(t)){const s=tg.exec(t)[1],n=s==null?void 0:s.substring(0,s.indexOf(":"));if(n)return"arbitrary.."+n}},XP=t=>{const{theme:s,prefix:n}=t,r={nextPart:new Map,validators:[]};return eE(Object.entries(t.classGroups),n).forEach(([i,o])=>{ah(o,r,i,s)}),r},ah=(t,s,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?s:sg(s,a);i.classGroupId=n;return}if(typeof a=="function"){if(ZP(a)){ah(a(r),s,n,r);return}s.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{ah(o,sg(s,i),n,r)})})},sg=(t,s)=>{let n=t;return s.split(Dp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ZP=t=>t.isThemeGetter,eE=(t,s)=>s?t.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[s+o,l])):i);return[n,a]}):t,tE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),s++,s>t&&(s=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},nN="!",sE=t=>{const{separator:s,experimentalParseClassName:n}=t,r=s.length===1,a=s[0],i=s.length,o=l=>{const d=[];let u=0,h=0,m;for(let j=0;j<l.length;j++){let v=l[j];if(u===0){if(v===a&&(r||l.slice(j,j+i)===s)){d.push(l.slice(h,j)),h=j+i;continue}if(v==="/"){m=j;continue}}v==="["?u++:v==="]"&&u--}const p=d.length===0?l:l.substring(h),x=p.startsWith(nN),S=x?p.substring(1):p,y=m&&m>h?m-h:void 0;return{modifiers:d,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:o}):o},nE=t=>{if(t.length<=1)return t;const s=[];let n=[];return t.forEach(r=>{r[0]==="["?(s.push(...n.sort(),r),n=[]):n.push(r)}),s.push(...n.sort()),s},rE=t=>({cache:tE(t.cacheSize),parseClassName:sE(t),...JP(t)}),aE=/\s+/,iE=(t,s)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=s,i=[],o=t.trim().split(aE);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}=n(u);let S=!!x,y=r(S?p.substring(0,x):p);if(!y){if(!S){l=u+(l.length>0?" "+l:l);continue}if(y=r(p),!y){l=u+(l.length>0?" "+l:l);continue}S=!1}const j=nE(h).join(":"),v=m?j+nN:j,f=v+y;if(i.includes(f))continue;i.push(f);const N=a(y,S);for(let C=0;C<N.length;++C){const P=N[C];i.push(v+P)}l=u+(l.length>0?" "+l:l)}return l};function oE(){let t=0,s,n,r="";for(;t<arguments.length;)(s=arguments[t++])&&(n=rN(s))&&(r&&(r+=" "),r+=n);return r}const rN=t=>{if(typeof t=="string")return t;let s,n="";for(let r=0;r<t.length;r++)t[r]&&(s=rN(t[r]))&&(n&&(n+=" "),n+=s);return n};function lE(t,...s){let n,r,a,i=o;function o(d){const u=s.reduce((h,m)=>m(h),t());return n=rE(u),r=n.cache.get,a=n.cache.set,i=l,l(d)}function l(d){const u=r(d);if(u)return u;const h=iE(d,n);return a(d,h),h}return function(){return i(oE.apply(null,arguments))}}const et=t=>{const s=n=>n[t]||[];return s.isThemeGetter=!0,s},aN=/^\[(?:([a-z-]+):)?(.+)\]$/i,cE=/^\d+\/\d+$/,dE=new Set(["px","full","screen"]),uE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pn=t=>qa(t)||dE.has(t)||cE.test(t),Zn=t=>Ni(t,"length",bE),qa=t=>!!t&&!Number.isNaN(Number(t)),Yu=t=>Ni(t,"number",qa),Bi=t=>!!t&&Number.isInteger(Number(t)),xE=t=>t.endsWith("%")&&qa(t.slice(0,-1)),Me=t=>aN.test(t),er=t=>uE.test(t),gE=new Set(["length","size","percentage"]),vE=t=>Ni(t,gE,iN),yE=t=>Ni(t,"position",iN),jE=new Set(["image","url"]),NE=t=>Ni(t,jE,CE),SE=t=>Ni(t,"",wE),zi=()=>!0,Ni=(t,s,n)=>{const r=aN.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):n(r[2]):!1},bE=t=>mE.test(t)&&!hE.test(t),iN=()=>!1,wE=t=>pE.test(t),CE=t=>fE.test(t),PE=()=>{const t=et("colors"),s=et("spacing"),n=et("blur"),r=et("brightness"),a=et("borderColor"),i=et("borderRadius"),o=et("borderSpacing"),l=et("borderWidth"),d=et("contrast"),u=et("grayscale"),h=et("hueRotate"),m=et("invert"),p=et("gap"),x=et("gradientColorStops"),S=et("gradientColorStopPositions"),y=et("inset"),j=et("margin"),v=et("opacity"),f=et("padding"),N=et("saturate"),C=et("scale"),P=et("sepia"),R=et("skew"),g=et("space"),A=et("translate"),_=()=>["auto","contain","none"],w=()=>["auto","hidden","clip","visible","scroll"],b=()=>["auto",Me,s],I=()=>[Me,s],k=()=>["",Pn,Zn],O=()=>["auto",qa,Me],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Me],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[qa,Me];return{cacheSize:500,separator:":",theme:{colors:[zi],spacing:[Pn,Zn],blur:["none","",er,Me],brightness:Q(),borderColor:[t],borderRadius:["none","","full",er,Me],borderSpacing:I(),borderWidth:k(),contrast:Q(),grayscale:q(),hueRotate:Q(),invert:q(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[xE,Zn],inset:b(),margin:b(),opacity:Q(),padding:I(),saturate:Q(),scale:Q(),sepia:q(),skew:Q(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[er]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Me]}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bi,Me]}],basis:[{basis:b()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Bi,Me]}],"grid-cols":[{"grid-cols":[zi]}],"col-start-end":[{col:["auto",{span:["full",Bi,Me]},Me]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[zi]}],"row-start-end":[{row:["auto",{span:[Bi,Me]},Me]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[g]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[g]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,s]}],"min-w":[{"min-w":[Me,s,"min","max","fit"]}],"max-w":[{"max-w":[Me,s,"none","full","min","max","fit","prose",{screen:[er]},er]}],h:[{h:[Me,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,s,"auto","min","max","fit"]}],"font-size":[{text:["base",er,Zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yu]}],"font-family":[{font:[zi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",qa,Yu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pn,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pn,Zn]}],"underline-offset":[{"underline-offset":["auto",Pn,Me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),yE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Pn,Me]}],"outline-w":[{outline:[Pn,Zn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Pn,Zn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",er,SE]}],"shadow-color":[{shadow:[zi]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",er,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[N]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Bi,Me]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Pn,Zn,Yu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EE=lE(PE);function de(...t){return EE(Kj(t))}const AE=IP,oN=c.forwardRef(({className:t,...s},n)=>e.jsx(zj,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));oN.displayName=zj.displayName;const IE=ga("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),lN=c.forwardRef(({className:t,variant:s,...n},r)=>e.jsx(Vj,{ref:r,className:de(IE({variant:s}),t),...n}));lN.displayName=Vj.displayName;const RE=c.forwardRef(({className:t,...s},n)=>e.jsx(Hj,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...s}));RE.displayName=Hj.displayName;const cN=c.forwardRef(({className:t,...s},n)=>e.jsx(Yj,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(jn,{className:"h-4 w-4"})}));cN.displayName=Yj.displayName;const dN=c.forwardRef(({className:t,...s},n)=>e.jsx(qj,{ref:n,className:de("text-sm font-semibold",t),...s}));dN.displayName=qj.displayName;const uN=c.forwardRef(({className:t,...s},n)=>e.jsx(Gj,{ref:n,className:de("text-sm opacity-90",t),...s}));uN.displayName=Gj.displayName;function mN(){const{toasts:t}=_e();return e.jsxs(AE,{children:[t.map(function({id:s,title:n,description:r,action:a,...i}){return e.jsxs(lN,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(dN,{children:n}),r&&e.jsx(uN,{children:r})]}),a,e.jsx(cN,{})]},s)}),e.jsx(oN,{})]})}const hN=c.createContext(void 0),pN=()=>{const t=c.useContext(hN);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},_E=({children:t})=>{const[s,n]=c.useState([]),r=c.useMemo(()=>s.filter(u=>!u.read).length,[s]),a=c.useCallback(u=>{const h={...u,id:Date.now(),timestamp:new Date().toISOString(),read:!1};n(m=>[h,...m])},[]),i=c.useCallback(u=>{n(h=>h.map(m=>m.id===u?{...m,read:!0}:m))},[]),o=c.useCallback(()=>{n(u=>u.map(h=>({...h,read:!0})))},[]),l=c.useCallback(()=>s,[s]),d=c.useMemo(()=>({notifications:s,unreadCount:r,addNotification:a,markAsRead:i,markAllAsRead:o,getNotifications:l}),[s,r,a,i,o,l]);return e.jsx(hN.Provider,{value:d,children:t})};var ng=["light","dark"],TE="(prefers-color-scheme: dark)",kE=c.createContext(void 0),ME={setTheme:t=>{},themes:[]},OE=()=>{var t;return(t=c.useContext(kE))!=null?t:ME};c.memo(({forcedTheme:t,storageKey:s,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:d})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=a?ng.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,y=!1,j=!0)=>{let v=o?o[S]:S,f=y?S+"|| ''":`'${v}'`,N="";return a&&j&&!y&&ng.includes(S)&&(N+=`d.style.colorScheme = '${S}';`),n==="class"?y||v?N+=`c.add(${f})`:N+="null":v&&(N+=`d[s](n,${f})`),N},x=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${u})){var t='${TE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${s}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${m}}catch(t){}}();`;return c.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:x}})});var FE=t=>{switch(t){case"success":return $E;case"info":return BE;case"warning":return UE;case"error":return zE;default:return null}},DE=Array(12).fill(0),LE=({visible:t,className:s})=>ve.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},ve.createElement("div",{className:"sonner-spinner"},DE.map((n,r)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$E=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UE=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BE=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zE=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VE=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qE=()=>{let[t,s]=ve.useState(document.hidden);return ve.useEffect(()=>{let n=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ih=1,GE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:n,...r}=t,a=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ih++,i=this.toasts.find(l=>l.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:n}),{...l,...t,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let r=t instanceof Promise?t:t(),a=n!==void 0,i,o=r.then(async d=>{if(i=["resolve",d],ve.isValidElement(d))a=!1,this.create({id:n,type:"default",message:d});else if(YE(d)&&!d.ok){a=!1;let u=typeof s.error=="function"?await s.error(`HTTP error! status: ${d.status}`):s.error,h=typeof s.description=="function"?await s.description(`HTTP error! status: ${d.status}`):s.description;this.create({id:n,type:"error",message:u,description:h})}else if(s.success!==void 0){a=!1;let u=typeof s.success=="function"?await s.success(d):s.success,h=typeof s.description=="function"?await s.description(d):s.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async d=>{if(i=["reject",d],s.error!==void 0){a=!1;let u=typeof s.error=="function"?await s.error(d):s.error,h=typeof s.description=="function"?await s.description(d):s.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var d;a&&(this.dismiss(n),n=void 0),(d=s.finally)==null||d.call(s)}),l=()=>new Promise((d,u)=>o.then(()=>i[0]==="reject"?u(i[1]):d(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,s)=>{let n=(s==null?void 0:s.id)||ih++;return this.create({jsx:t(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ts=new GE,HE=(t,s)=>{let n=(s==null?void 0:s.id)||ih++;return ts.addToast({title:t,...s,id:n}),n},YE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WE=HE,KE=()=>ts.toasts,JE=()=>ts.getActiveToasts();Object.assign(WE,{success:ts.success,info:ts.info,warning:ts.warning,error:ts.error,custom:ts.custom,message:ts.message,promise:ts.promise,dismiss:ts.dismiss,loading:ts.loading},{getHistory:KE,getToasts:JE});function QE(t,{insertAt:s}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}QE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ol(t){return t.label!==void 0}var XE=3,ZE="32px",eA="16px",rg=4e3,tA=356,sA=14,nA=20,rA=200;function Ls(...t){return t.filter(Boolean).join(" ")}function aA(t){let[s,n]=t.split("-"),r=[];return s&&r.push(s),n&&r.push(n),r}var iA=t=>{var s,n,r,a,i,o,l,d,u,h,m;let{invert:p,toast:x,unstyled:S,interacting:y,setHeights:j,visibleToasts:v,heights:f,index:N,toasts:C,expanded:P,removeToast:R,defaultRichColors:g,closeButton:A,style:_,cancelButtonStyle:w,actionButtonStyle:b,className:I="",descriptionClassName:k="",duration:O,position:U,gap:V,loadingIcon:B,expandByDefault:H,classNames:q,icons:re,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:ie}=t,[ue,L]=ve.useState(null),[ee,ne]=ve.useState(null),[$,T]=ve.useState(!1),[G,X]=ve.useState(!1),[Y,z]=ve.useState(!1),[W,ae]=ve.useState(!1),[Pe,Ae]=ve.useState(!1),[qe,gt]=ve.useState(0),[M,J]=ve.useState(0),fe=ve.useRef(x.duration||O||rg),we=ve.useRef(null),Le=ve.useRef(null),jt=N===0,tn=N+1<=v,Ue=x.type,Ns=x.dismissible!==!1,$r=x.className||"",Ur=x.descriptionClassName||"",sn=ve.useMemo(()=>f.findIndex(ke=>ke.toastId===x.id)||0,[f,x.id]),ml=ve.useMemo(()=>{var ke;return(ke=x.closeButton)!=null?ke:A},[x.closeButton,A]),Ri=ve.useMemo(()=>x.duration||O||rg,[x.duration,O]),Na=ve.useRef(0),wn=ve.useRef(0),_i=ve.useRef(0),Cn=ve.useRef(null),[Br,hl]=U.split("-"),Ti=ve.useMemo(()=>f.reduce((ke,We,nt)=>nt>=sn?ke:ke+We.height,0),[f,sn]),Nt=qE(),i1=x.invert||p,fu=Ue==="loading";wn.current=ve.useMemo(()=>sn*V+Ti,[sn,Ti]),ve.useEffect(()=>{fe.current=Ri},[Ri]),ve.useEffect(()=>{T(!0)},[]),ve.useEffect(()=>{let ke=Le.current;if(ke){let We=ke.getBoundingClientRect().height;return J(We),j(nt=>[{toastId:x.id,height:We,position:x.position},...nt]),()=>j(nt=>nt.filter(Ms=>Ms.toastId!==x.id))}},[j,x.id]),ve.useLayoutEffect(()=>{if(!$)return;let ke=Le.current,We=ke.style.height;ke.style.height="auto";let nt=ke.getBoundingClientRect().height;ke.style.height=We,J(nt),j(Ms=>Ms.find(Os=>Os.toastId===x.id)?Ms.map(Os=>Os.toastId===x.id?{...Os,height:nt}:Os):[{toastId:x.id,height:nt,position:x.position},...Ms])},[$,x.title,x.description,j,x.id]);let Kn=ve.useCallback(()=>{X(!0),gt(wn.current),j(ke=>ke.filter(We=>We.toastId!==x.id)),setTimeout(()=>{R(x)},rA)},[x,R,j,wn]);ve.useEffect(()=>{if(x.promise&&Ue==="loading"||x.duration===1/0||x.type==="loading")return;let ke;return P||y||ie&&Nt?(()=>{if(_i.current<Na.current){let We=new Date().getTime()-Na.current;fe.current=fe.current-We}_i.current=new Date().getTime()})():fe.current!==1/0&&(Na.current=new Date().getTime(),ke=setTimeout(()=>{var We;(We=x.onAutoClose)==null||We.call(x,x),Kn()},fe.current)),()=>clearTimeout(ke)},[P,y,x,Ue,ie,Nt,Kn]),ve.useEffect(()=>{x.delete&&Kn()},[Kn,x.delete]);function o1(){var ke,We,nt;return re!=null&&re.loading?ve.createElement("div",{className:Ls(q==null?void 0:q.loader,(ke=x==null?void 0:x.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":Ue==="loading"},re.loading):B?ve.createElement("div",{className:Ls(q==null?void 0:q.loader,(We=x==null?void 0:x.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":Ue==="loading"},B):ve.createElement(LE,{className:Ls(q==null?void 0:q.loader,(nt=x==null?void 0:x.classNames)==null?void 0:nt.loader),visible:Ue==="loading"})}return ve.createElement("li",{tabIndex:0,ref:Le,className:Ls(I,$r,q==null?void 0:q.toast,(s=x==null?void 0:x.classNames)==null?void 0:s.toast,q==null?void 0:q.default,q==null?void 0:q[Ue],(n=x==null?void 0:x.classNames)==null?void 0:n[Ue]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:g,"data-styled":!(x.jsx||x.unstyled||S),"data-mounted":$,"data-promise":!!x.promise,"data-swiped":Pe,"data-removed":G,"data-visible":tn,"data-y-position":Br,"data-x-position":hl,"data-index":N,"data-front":jt,"data-swiping":Y,"data-dismissible":Ns,"data-type":Ue,"data-invert":i1,"data-swipe-out":W,"data-swipe-direction":ee,"data-expanded":!!(P||H&&$),style:{"--index":N,"--toasts-before":N,"--z-index":C.length-N,"--offset":`${G?qe:wn.current}px`,"--initial-height":H?"auto":`${M}px`,..._,...x.style},onDragEnd:()=>{z(!1),L(null),Cn.current=null},onPointerDown:ke=>{fu||!Ns||(we.current=new Date,gt(wn.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(z(!0),Cn.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,We,nt,Ms;if(W||!Ns)return;Cn.current=null;let Os=Number(((ke=Le.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Jn=Number(((We=Le.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zr=new Date().getTime()-((nt=we.current)==null?void 0:nt.getTime()),Fs=ue==="x"?Os:Jn,Qn=Math.abs(Fs)/zr;if(Math.abs(Fs)>=nA||Qn>.11){gt(wn.current),(Ms=x.onDismiss)==null||Ms.call(x,x),ne(ue==="x"?Os>0?"right":"left":Jn>0?"down":"up"),Kn(),ae(!0),Ae(!1);return}z(!1),L(null)},onPointerMove:ke=>{var We,nt,Ms,Os;if(!Cn.current||!Ns||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;let Jn=ke.clientY-Cn.current.y,zr=ke.clientX-Cn.current.x,Fs=(nt=t.swipeDirections)!=null?nt:aA(U);!ue&&(Math.abs(zr)>1||Math.abs(Jn)>1)&&L(Math.abs(zr)>Math.abs(Jn)?"x":"y");let Qn={x:0,y:0};ue==="y"?(Fs.includes("top")||Fs.includes("bottom"))&&(Fs.includes("top")&&Jn<0||Fs.includes("bottom")&&Jn>0)&&(Qn.y=Jn):ue==="x"&&(Fs.includes("left")||Fs.includes("right"))&&(Fs.includes("left")&&zr<0||Fs.includes("right")&&zr>0)&&(Qn.x=zr),(Math.abs(Qn.x)>0||Math.abs(Qn.y)>0)&&Ae(!0),(Ms=Le.current)==null||Ms.style.setProperty("--swipe-amount-x",`${Qn.x}px`),(Os=Le.current)==null||Os.style.setProperty("--swipe-amount-y",`${Qn.y}px`)}},ml&&!x.jsx?ve.createElement("button",{"aria-label":Q,"data-disabled":fu,"data-close-button":!0,onClick:fu||!Ns?()=>{}:()=>{var ke;Kn(),(ke=x.onDismiss)==null||ke.call(x,x)},className:Ls(q==null?void 0:q.closeButton,(a=x==null?void 0:x.classNames)==null?void 0:a.closeButton)},(i=re==null?void 0:re.close)!=null?i:VE):null,x.jsx||c.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:ve.createElement(ve.Fragment,null,Ue||x.icon||x.promise?ve.createElement("div",{"data-icon":"",className:Ls(q==null?void 0:q.icon,(o=x==null?void 0:x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||o1():null,x.type!=="loading"?x.icon||(re==null?void 0:re[Ue])||FE(Ue):null):null,ve.createElement("div",{"data-content":"",className:Ls(q==null?void 0:q.content,(l=x==null?void 0:x.classNames)==null?void 0:l.content)},ve.createElement("div",{"data-title":"",className:Ls(q==null?void 0:q.title,(d=x==null?void 0:x.classNames)==null?void 0:d.title)},typeof x.title=="function"?x.title():x.title),x.description?ve.createElement("div",{"data-description":"",className:Ls(k,Ur,q==null?void 0:q.description,(u=x==null?void 0:x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),c.isValidElement(x.cancel)?x.cancel:x.cancel&&Ol(x.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||w,onClick:ke=>{var We,nt;Ol(x.cancel)&&Ns&&((nt=(We=x.cancel).onClick)==null||nt.call(We,ke),Kn())},className:Ls(q==null?void 0:q.cancelButton,(h=x==null?void 0:x.classNames)==null?void 0:h.cancelButton)},x.cancel.label):null,c.isValidElement(x.action)?x.action:x.action&&Ol(x.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||b,onClick:ke=>{var We,nt;Ol(x.action)&&((nt=(We=x.action).onClick)==null||nt.call(We,ke),!ke.defaultPrevented&&Kn())},className:Ls(q==null?void 0:q.actionButton,(m=x==null?void 0:x.classNames)==null?void 0:m.actionButton)},x.action.label):null))};function ag(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function oA(t,s){let n={};return[t,s].forEach((r,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?eA:ZE;function d(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):d(l)}),n}var lA=c.forwardRef(function(t,s){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:d,mobileOffset:u,theme:h="light",richColors:m,duration:p,style:x,visibleToasts:S=XE,toastOptions:y,dir:j=ag(),gap:v=sA,loadingIcon:f,icons:N,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:P}=t,[R,g]=ve.useState([]),A=ve.useMemo(()=>Array.from(new Set([r].concat(R.filter(ie=>ie.position).map(ie=>ie.position)))),[R,r]),[_,w]=ve.useState([]),[b,I]=ve.useState(!1),[k,O]=ve.useState(!1),[U,V]=ve.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=ve.useRef(null),H=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=ve.useRef(null),re=ve.useRef(!1),Q=ve.useCallback(ie=>{g(ue=>{var L;return(L=ue.find(ee=>ee.id===ie.id))!=null&&L.delete||ts.dismiss(ie.id),ue.filter(({id:ee})=>ee!==ie.id)})},[]);return ve.useEffect(()=>ts.subscribe(ie=>{if(ie.dismiss){g(ue=>ue.map(L=>L.id===ie.id?{...L,delete:!0}:L));return}setTimeout(()=>{Nj.flushSync(()=>{g(ue=>{let L=ue.findIndex(ee=>ee.id===ie.id);return L!==-1?[...ue.slice(0,L),{...ue[L],...ie},...ue.slice(L+1)]:[ie,...ue]})})})}),[]),ve.useEffect(()=>{if(h!=="system"){V(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:ue})=>{V(ue?"dark":"light")})}catch{ie.addListener(({matches:L})=>{try{V(L?"dark":"light")}catch(ee){console.error(ee)}})}},[h]),ve.useEffect(()=>{R.length<=1&&I(!1)},[R]),ve.useEffect(()=>{let ie=ue=>{var L,ee;a.every(ne=>ue[ne]||ue.code===ne)&&(I(!0),(L=B.current)==null||L.focus()),ue.code==="Escape"&&(document.activeElement===B.current||(ee=B.current)!=null&&ee.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[a]),ve.useEffect(()=>{if(B.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,re.current=!1)}},[B.current]),ve.createElement("section",{ref:s,"aria-label":`${C} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((ie,ue)=>{var L;let[ee,ne]=ie.split("-");return R.length?ve.createElement("ol",{key:ie,dir:j==="auto"?ag():j,tabIndex:-1,ref:B,className:l,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":ee,"data-lifted":b&&R.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((L=_[0])==null?void 0:L.height)||0}px`,"--width":`${tA}px`,"--gap":`${v}px`,...x,...oA(d,u)},onBlur:$=>{re.current&&!$.currentTarget.contains($.relatedTarget)&&(re.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||re.current||(re.current=!0,q.current=$.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{k||I(!1)},onDragEnd:()=>I(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},R.filter($=>!$.position&&ue===0||$.position===ie).map(($,T)=>{var G,X;return ve.createElement(iA,{key:$.id,icons:N,index:T,toast:$,defaultRichColors:m,duration:(G=y==null?void 0:y.duration)!=null?G:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:S,closeButton:(X=y==null?void 0:y.closeButton)!=null?X:o,interacting:k,position:ie,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Q,toasts:R.filter(Y=>Y.position==$.position),heights:_.filter(Y=>Y.position==$.position),setHeights:w,expandByDefault:i,gap:v,loadingIcon:f,expanded:b,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const cA=({...t})=>{const{theme:s="system"}=OE();return e.jsx(lA,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var dA=Fh[" useId ".trim().toString()]||(()=>{}),uA=0;function Ws(t){const[s,n]=c.useState(dA());return yt(()=>{n(r=>r??String(uA++))},[t]),s?`radix-${s}`:""}const mA=["top","right","bottom","left"],Tr=Math.min,us=Math.max,Fc=Math.round,Fl=Math.floor,xn=t=>({x:t,y:t}),hA={left:"right",right:"left",bottom:"top",top:"bottom"},pA={start:"end",end:"start"};function oh(t,s,n){return us(t,Tr(s,n))}function zn(t,s){return typeof t=="function"?t(s):t}function Vn(t){return t.split("-")[0]}function Si(t){return t.split("-")[1]}function Lp(t){return t==="x"?"y":"x"}function $p(t){return t==="y"?"height":"width"}const fA=new Set(["top","bottom"]);function hn(t){return fA.has(Vn(t))?"y":"x"}function Up(t){return Lp(hn(t))}function xA(t,s,n){n===void 0&&(n=!1);const r=Si(t),a=Up(t),i=$p(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(o=Dc(o)),[o,Dc(o)]}function gA(t){const s=Dc(t);return[lh(t),s,lh(s)]}function lh(t){return t.replace(/start|end/g,s=>pA[s])}const ig=["left","right"],og=["right","left"],vA=["top","bottom"],yA=["bottom","top"];function jA(t,s,n){switch(t){case"top":case"bottom":return n?s?og:ig:s?ig:og;case"left":case"right":return s?vA:yA;default:return[]}}function NA(t,s,n,r){const a=Si(t);let i=jA(Vn(t),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),s&&(i=i.concat(i.map(lh)))),i}function Dc(t){return t.replace(/left|right|bottom|top/g,s=>hA[s])}function SA(t){return{top:0,right:0,bottom:0,left:0,...t}}function fN(t){return typeof t!="number"?SA(t):{top:t,right:t,bottom:t,left:t}}function Lc(t){const{x:s,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:s,right:s+r,bottom:n+a,x:s,y:n}}function lg(t,s,n){let{reference:r,floating:a}=t;const i=hn(s),o=Up(s),l=$p(o),d=Vn(s),u=i==="y",h=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let x;switch(d){case"top":x={x:h,y:r.y-a.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-a.width,y:m};break;default:x={x:r.x,y:r.y}}switch(Si(s)){case"start":x[o]-=p*(n&&u?-1:1);break;case"end":x[o]+=p*(n&&u?-1:1);break}return x}const bA=async(t,s,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(s));let u=await o.getElementRects({reference:t,floating:s,strategy:a}),{x:h,y:m}=lg(u,r,d),p=r,x={},S=0;for(let y=0;y<l.length;y++){const{name:j,fn:v}=l[y],{x:f,y:N,data:C,reset:P}=await v({x:h,y:m,initialPlacement:r,placement:p,strategy:a,middlewareData:x,rects:u,platform:o,elements:{reference:t,floating:s}});h=f??h,m=N??m,x={...x,[j]:{...x[j],...C}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:t,floating:s,strategy:a}):P.rects),{x:h,y:m}=lg(u,p,d)),y=-1)}return{x:h,y:m,placement:p,strategy:a,middlewareData:x}};async function wo(t,s){var n;s===void 0&&(s={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:d}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:x=0}=zn(s,t),S=fN(x),j=l[p?m==="floating"?"reference":"floating":m],v=Lc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:d})),f=m==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},P=Lc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:f,offsetParent:N,strategy:d}):f);return{top:(v.top-P.top+S.top)/C.y,bottom:(P.bottom-v.bottom+S.bottom)/C.y,left:(v.left-P.left+S.left)/C.x,right:(P.right-v.right+S.right)/C.x}}const wA=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:d}=s,{element:u,padding:h=0}=zn(t,s)||{};if(u==null)return{};const m=fN(h),p={x:n,y:r},x=Up(a),S=$p(x),y=await o.getDimensions(u),j=x==="y",v=j?"top":"left",f=j?"bottom":"right",N=j?"clientHeight":"clientWidth",C=i.reference[S]+i.reference[x]-p[x]-i.floating[S],P=p[x]-i.reference[x],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let g=R?R[N]:0;(!g||!await(o.isElement==null?void 0:o.isElement(R)))&&(g=l.floating[N]||i.floating[S]);const A=C/2-P/2,_=g/2-y[S]/2-1,w=Tr(m[v],_),b=Tr(m[f],_),I=w,k=g-y[S]-b,O=g/2-y[S]/2+A,U=oh(I,O,k),V=!d.arrow&&Si(a)!=null&&O!==U&&i.reference[S]/2-(O<I?w:b)-y[S]/2<0,B=V?O<I?O-I:O-k:0;return{[x]:p[x]+B,data:{[x]:U,centerOffset:O-U-B,...V&&{alignmentOffset:B}},reset:V}}}),CA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=s,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...j}=zn(t,s);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Vn(a),f=hn(l),N=Vn(l)===l,C=await(d.isRTL==null?void 0:d.isRTL(u.floating)),P=p||(N||!y?[Dc(l)]:gA(l)),R=S!=="none";!p&&R&&P.push(...NA(l,y,S,C));const g=[l,...P],A=await wo(s,j),_=[];let w=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&_.push(A[v]),m){const O=xA(a,o,C);_.push(A[O[0]],A[O[1]])}if(w=[...w,{placement:a,overflows:_}],!_.every(O=>O<=0)){var b,I;const O=(((b=i.flip)==null?void 0:b.index)||0)+1,U=g[O];if(U&&(!(m==="alignment"?f!==hn(U):!1)||w.every(H=>hn(H.placement)===f?H.overflows[0]>0:!0)))return{data:{index:O,overflows:w},reset:{placement:U}};let V=(I=w.filter(B=>B.overflows[0]<=0).sort((B,H)=>B.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!V)switch(x){case"bestFit":{var k;const B=(k=w.filter(H=>{if(R){const q=hn(H.placement);return q===f||q==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(q=>q>0).reduce((q,re)=>q+re,0)]).sort((H,q)=>H[1]-q[1])[0])==null?void 0:k[0];B&&(V=B);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function cg(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function dg(t){return mA.some(s=>t[s]>=0)}const PA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...a}=zn(t,s);switch(r){case"referenceHidden":{const i=await wo(s,{...a,elementContext:"reference"}),o=cg(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dg(o)}}}case"escaped":{const i=await wo(s,{...a,altBoundary:!0}),o=cg(i,n.floating);return{data:{escapedOffsets:o,escaped:dg(o)}}}default:return{}}}}},xN=new Set(["left","top"]);async function EA(t,s){const{placement:n,platform:r,elements:a}=t,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Vn(n),l=Si(n),d=hn(n)==="y",u=xN.has(o)?-1:1,h=i&&d?-1:1,m=zn(s,t);let{mainAxis:p,crossAxis:x,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof S=="number"&&(x=l==="end"?S*-1:S),d?{x:x*h,y:p*u}:{x:p*u,y:x*h}}const AA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=s,d=await EA(s,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},IA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:a}=s,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:v,y:f}=j;return{x:v,y:f}}},...d}=zn(t,s),u={x:n,y:r},h=await wo(s,d),m=hn(Vn(a)),p=Lp(m);let x=u[p],S=u[m];if(i){const j=p==="y"?"top":"left",v=p==="y"?"bottom":"right",f=x+h[j],N=x-h[v];x=oh(f,x,N)}if(o){const j=m==="y"?"top":"left",v=m==="y"?"bottom":"right",f=S+h[j],N=S-h[v];S=oh(f,S,N)}const y=l.fn({...s,[p]:x,[m]:S});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[m]:o}}}}}},RA=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=s,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=zn(t,s),h={x:n,y:r},m=hn(a),p=Lp(m);let x=h[p],S=h[m];const y=zn(l,s),j=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const N=p==="y"?"height":"width",C=i.reference[p]-i.floating[N]+j.mainAxis,P=i.reference[p]+i.reference[N]-j.mainAxis;x<C?x=C:x>P&&(x=P)}if(u){var v,f;const N=p==="y"?"width":"height",C=xN.has(Vn(a)),P=i.reference[m]-i.floating[N]+(C&&((v=o.offset)==null?void 0:v[m])||0)+(C?0:j.crossAxis),R=i.reference[m]+i.reference[N]+(C?0:((f=o.offset)==null?void 0:f[m])||0)-(C?j.crossAxis:0);S<P?S=P:S>R&&(S=R)}return{[p]:x,[m]:S}}}},_A=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:a,rects:i,platform:o,elements:l}=s,{apply:d=()=>{},...u}=zn(t,s),h=await wo(s,u),m=Vn(a),p=Si(a),x=hn(a)==="y",{width:S,height:y}=i.floating;let j,v;m==="top"||m==="bottom"?(j=m,v=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,j=p==="end"?"top":"bottom");const f=y-h.top-h.bottom,N=S-h.left-h.right,C=Tr(y-h[j],f),P=Tr(S-h[v],N),R=!s.middlewareData.shift;let g=C,A=P;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(A=N),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(g=f),R&&!p){const w=us(h.left,0),b=us(h.right,0),I=us(h.top,0),k=us(h.bottom,0);x?A=S-2*(w!==0||b!==0?w+b:us(h.left,h.right)):g=y-2*(I!==0||k!==0?I+k:us(h.top,h.bottom))}await d({...s,availableWidth:A,availableHeight:g});const _=await o.getDimensions(l.floating);return S!==_.width||y!==_.height?{reset:{rects:!0}}:{}}}};function Nd(){return typeof window<"u"}function bi(t){return gN(t)?(t.nodeName||"").toLowerCase():"#document"}function fs(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Nn(t){var s;return(s=(gN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function gN(t){return Nd()?t instanceof Node||t instanceof fs(t).Node:!1}function Qs(t){return Nd()?t instanceof Element||t instanceof fs(t).Element:!1}function yn(t){return Nd()?t instanceof HTMLElement||t instanceof fs(t).HTMLElement:!1}function ug(t){return!Nd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fs(t).ShadowRoot}const TA=new Set(["inline","contents"]);function Xo(t){const{overflow:s,overflowX:n,overflowY:r,display:a}=Xs(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!TA.has(a)}const kA=new Set(["table","td","th"]);function MA(t){return kA.has(bi(t))}const OA=[":popover-open",":modal"];function Sd(t){return OA.some(s=>{try{return t.matches(s)}catch{return!1}})}const FA=["transform","translate","scale","rotate","perspective"],DA=["transform","translate","scale","rotate","perspective","filter"],LA=["paint","layout","strict","content"];function Bp(t){const s=zp(),n=Qs(t)?Xs(t):t;return FA.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||DA.some(r=>(n.willChange||"").includes(r))||LA.some(r=>(n.contain||"").includes(r))}function $A(t){let s=kr(t);for(;yn(s)&&!di(s);){if(Bp(s))return s;if(Sd(s))return null;s=kr(s)}return null}function zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UA=new Set(["html","body","#document"]);function di(t){return UA.has(bi(t))}function Xs(t){return fs(t).getComputedStyle(t)}function bd(t){return Qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kr(t){if(bi(t)==="html")return t;const s=t.assignedSlot||t.parentNode||ug(t)&&t.host||Nn(t);return ug(s)?s.host:s}function vN(t){const s=kr(t);return di(s)?t.ownerDocument?t.ownerDocument.body:t.body:yn(s)&&Xo(s)?s:vN(s)}function Co(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=vN(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),o=fs(a);if(i){const l=ch(o);return s.concat(o,o.visualViewport||[],Xo(a)?a:[],l&&n?Co(l):[])}return s.concat(a,Co(a,[],n))}function ch(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yN(t){const s=Xs(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const a=yn(t),i=a?t.offsetWidth:n,o=a?t.offsetHeight:r,l=Fc(n)!==i||Fc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Vp(t){return Qs(t)?t:t.contextElement}function Ga(t){const s=Vp(t);if(!yn(s))return xn(1);const n=s.getBoundingClientRect(),{width:r,height:a,$:i}=yN(s);let o=(i?Fc(n.width):n.width)/r,l=(i?Fc(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const BA=xn(0);function jN(t){const s=fs(t);return!zp()||!s.visualViewport?BA:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function zA(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==fs(t)?!1:s}function ca(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=Vp(t);let o=xn(1);s&&(r?Qs(r)&&(o=Ga(r)):o=Ga(t));const l=zA(i,n,r)?jN(i):xn(0);let d=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,h=a.width/o.x,m=a.height/o.y;if(i){const p=fs(i),x=r&&Qs(r)?fs(r):r;let S=p,y=ch(S);for(;y&&r&&x!==S;){const j=Ga(y),v=y.getBoundingClientRect(),f=Xs(y),N=v.left+(y.clientLeft+parseFloat(f.paddingLeft))*j.x,C=v.top+(y.clientTop+parseFloat(f.paddingTop))*j.y;d*=j.x,u*=j.y,h*=j.x,m*=j.y,d+=N,u+=C,S=fs(y),y=ch(S)}}return Lc({width:h,height:m,x:d,y:u})}function wd(t,s){const n=bd(t).scrollLeft;return s?s.left+n:ca(Nn(t)).left+n}function NN(t,s){const n=t.getBoundingClientRect(),r=n.left+s.scrollLeft-wd(t,n),a=n.top+s.scrollTop;return{x:r,y:a}}function VA(t){let{elements:s,rect:n,offsetParent:r,strategy:a}=t;const i=a==="fixed",o=Nn(r),l=s?Sd(s.floating):!1;if(r===o||l&&i)return n;let d={scrollLeft:0,scrollTop:0},u=xn(1);const h=xn(0),m=yn(r);if((m||!m&&!i)&&((bi(r)!=="body"||Xo(o))&&(d=bd(r)),yn(r))){const x=ca(r);u=Ga(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const p=o&&!m&&!i?NN(o,d):xn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-d.scrollTop*u.y+h.y+p.y}}function qA(t){return Array.from(t.getClientRects())}function GA(t){const s=Nn(t),n=bd(t),r=t.ownerDocument.body,a=us(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),i=us(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wd(t);const l=-n.scrollTop;return Xs(r).direction==="rtl"&&(o+=us(s.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const mg=25;function HA(t,s){const n=fs(t),r=Nn(t),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,d=0;if(a){i=a.width,o=a.height;const h=zp();(!h||h&&s==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}const u=wd(r);if(u<=0){const h=r.ownerDocument,m=h.body,p=getComputedStyle(m),x=h.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,S=Math.abs(r.clientWidth-m.clientWidth-x);S<=mg&&(i-=S)}else u<=mg&&(i+=u);return{width:i,height:o,x:l,y:d}}const YA=new Set(["absolute","fixed"]);function WA(t,s){const n=ca(t,!0,s==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,i=yn(t)?Ga(t):xn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,d=a*i.x,u=r*i.y;return{width:o,height:l,x:d,y:u}}function hg(t,s,n){let r;if(s==="viewport")r=HA(t,n);else if(s==="document")r=GA(Nn(t));else if(Qs(s))r=WA(s,n);else{const a=jN(t);r={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Lc(r)}function SN(t,s){const n=kr(t);return n===s||!Qs(n)||di(n)?!1:Xs(n).position==="fixed"||SN(n,s)}function KA(t,s){const n=s.get(t);if(n)return n;let r=Co(t,[],!1).filter(l=>Qs(l)&&bi(l)!=="body"),a=null;const i=Xs(t).position==="fixed";let o=i?kr(t):t;for(;Qs(o)&&!di(o);){const l=Xs(o),d=Bp(o);!d&&l.position==="fixed"&&(a=null),(i?!d&&!a:!d&&l.position==="static"&&!!a&&YA.has(a.position)||Xo(o)&&!d&&SN(t,o))?r=r.filter(h=>h!==o):a=l,o=kr(o)}return s.set(t,r),r}function JA(t){let{element:s,boundary:n,rootBoundary:r,strategy:a}=t;const o=[...n==="clippingAncestors"?Sd(s)?[]:KA(s,this._c):[].concat(n),r],l=o[0],d=o.reduce((u,h)=>{const m=hg(s,h,a);return u.top=us(m.top,u.top),u.right=Tr(m.right,u.right),u.bottom=Tr(m.bottom,u.bottom),u.left=us(m.left,u.left),u},hg(s,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function QA(t){const{width:s,height:n}=yN(t);return{width:s,height:n}}function XA(t,s,n){const r=yn(s),a=Nn(s),i=n==="fixed",o=ca(t,!0,i,s);let l={scrollLeft:0,scrollTop:0};const d=xn(0);function u(){d.x=wd(a)}if(r||!r&&!i)if((bi(s)!=="body"||Xo(a))&&(l=bd(s)),r){const x=ca(s,!0,i,s);d.x=x.x+s.clientLeft,d.y=x.y+s.clientTop}else a&&u();i&&!r&&a&&u();const h=a&&!r&&!i?NN(a,l):xn(0),m=o.left+l.scrollLeft-d.x-h.x,p=o.top+l.scrollTop-d.y-h.y;return{x:m,y:p,width:o.width,height:o.height}}function Wu(t){return Xs(t).position==="static"}function pg(t,s){if(!yn(t)||Xs(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return Nn(t)===n&&(n=n.ownerDocument.body),n}function bN(t,s){const n=fs(t);if(Sd(t))return n;if(!yn(t)){let a=kr(t);for(;a&&!di(a);){if(Qs(a)&&!Wu(a))return a;a=kr(a)}return n}let r=pg(t,s);for(;r&&MA(r)&&Wu(r);)r=pg(r,s);return r&&di(r)&&Wu(r)&&!Bp(r)?n:r||$A(t)||n}const ZA=async function(t){const s=this.getOffsetParent||bN,n=this.getDimensions,r=await n(t.floating);return{reference:XA(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eI(t){return Xs(t).direction==="rtl"}const tI={convertOffsetParentRelativeRectToViewportRelativeRect:VA,getDocumentElement:Nn,getClippingRect:JA,getOffsetParent:bN,getElementRects:ZA,getClientRects:qA,getDimensions:QA,getScale:Ga,isElement:Qs,isRTL:eI};function wN(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function sI(t,s){let n=null,r;const a=Nn(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=t.getBoundingClientRect(),{left:h,top:m,width:p,height:x}=u;if(l||s(),!p||!x)return;const S=Fl(m),y=Fl(a.clientWidth-(h+p)),j=Fl(a.clientHeight-(m+x)),v=Fl(h),N={rootMargin:-S+"px "+-y+"px "+-j+"px "+-v+"px",threshold:us(0,Tr(1,d))||1};let C=!0;function P(R){const g=R[0].intersectionRatio;if(g!==d){if(!C)return o();g?o(!1,g):r=setTimeout(()=>{o(!1,1e-7)},1e3)}g===1&&!wN(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(P,{...N,root:a.ownerDocument})}catch{n=new IntersectionObserver(P,N)}n.observe(t)}return o(!0),i}function nI(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,u=Vp(t),h=a||i?[...u?Co(u):[],...Co(s)]:[];h.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const m=u&&l?sI(u,n):null;let p=-1,x=null;o&&(x=new ResizeObserver(v=>{let[f]=v;f&&f.target===u&&x&&(x.unobserve(s),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=x)==null||N.observe(s)})),n()}),u&&!d&&x.observe(u),x.observe(s));let S,y=d?ca(t):null;d&&j();function j(){const v=ca(t);y&&!wN(y,v)&&n(),y=v,S=requestAnimationFrame(j)}return n(),()=>{var v;h.forEach(f=>{a&&f.removeEventListener("scroll",n),i&&f.removeEventListener("resize",n)}),m==null||m(),(v=x)==null||v.disconnect(),x=null,d&&cancelAnimationFrame(S)}}const rI=AA,aI=IA,iI=CA,oI=_A,lI=PA,fg=wA,cI=RA,dI=(t,s,n)=>{const r=new Map,a={platform:tI,...n},i={...a.platform,_c:r};return bA(t,s,{...a,platform:i})};var uI=typeof document<"u",mI=function(){},nc=uI?c.useLayoutEffect:mI;function $c(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!$c(t[r],s[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&t.$$typeof)&&!$c(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function CN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xg(t,s){const n=CN(t);return Math.round(s*n)/n}function Ku(t){const s=c.useRef(t);return nc(()=>{s.current=t}),s}function hI(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=t,[h,m]=c.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[p,x]=c.useState(r);$c(p,r)||x(r);const[S,y]=c.useState(null),[j,v]=c.useState(null),f=c.useCallback(H=>{H!==R.current&&(R.current=H,y(H))},[]),N=c.useCallback(H=>{H!==g.current&&(g.current=H,v(H))},[]),C=i||S,P=o||j,R=c.useRef(null),g=c.useRef(null),A=c.useRef(h),_=d!=null,w=Ku(d),b=Ku(a),I=Ku(u),k=c.useCallback(()=>{if(!R.current||!g.current)return;const H={placement:s,strategy:n,middleware:p};b.current&&(H.platform=b.current),dI(R.current,g.current,H).then(q=>{const re={...q,isPositioned:I.current!==!1};O.current&&!$c(A.current,re)&&(A.current=re,xa.flushSync(()=>{m(re)}))})},[p,s,n,b,I]);nc(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[u]);const O=c.useRef(!1);nc(()=>(O.current=!0,()=>{O.current=!1}),[]),nc(()=>{if(C&&(R.current=C),P&&(g.current=P),C&&P){if(w.current)return w.current(C,P,k);k()}},[C,P,k,w,_]);const U=c.useMemo(()=>({reference:R,floating:g,setReference:f,setFloating:N}),[f,N]),V=c.useMemo(()=>({reference:C,floating:P}),[C,P]),B=c.useMemo(()=>{const H={position:n,left:0,top:0};if(!V.floating)return H;const q=xg(V.floating,h.x),re=xg(V.floating,h.y);return l?{...H,transform:"translate("+q+"px, "+re+"px)",...CN(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:re}},[n,l,V.floating,h.x,h.y]);return c.useMemo(()=>({...h,update:k,refs:U,elements:V,floatingStyles:B}),[h,k,U,V,B])}const pI=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?fg({element:r.current,padding:a}).fn(n):{}:r?fg({element:r,padding:a}).fn(n):{}}}},fI=(t,s)=>({...rI(t),options:[t,s]}),xI=(t,s)=>({...aI(t),options:[t,s]}),gI=(t,s)=>({...cI(t),options:[t,s]}),vI=(t,s)=>({...iI(t),options:[t,s]}),yI=(t,s)=>({...oI(t),options:[t,s]}),jI=(t,s)=>({...lI(t),options:[t,s]}),NI=(t,s)=>({...pI(t),options:[t,s]});var SI="Arrow",PN=c.forwardRef((t,s)=>{const{children:n,width:r=10,height:a=5,...i}=t;return e.jsx(Ee.svg,{...i,ref:s,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});PN.displayName=SI;var bI=PN;function qp(t){const[s,n]=c.useState(void 0);return yt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),s}var Gp="Popper",[EN,wi]=Vt(Gp),[wI,AN]=EN(Gp),IN=t=>{const{__scopePopper:s,children:n}=t,[r,a]=c.useState(null);return e.jsx(wI,{scope:s,anchor:r,onAnchorChange:a,children:n})};IN.displayName=Gp;var RN="PopperAnchor",_N=c.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...a}=t,i=AN(RN,n),o=c.useRef(null),l=Te(s,o),d=c.useRef(null);return c.useEffect(()=>{const u=d.current;d.current=(r==null?void 0:r.current)||o.current,u!==d.current&&i.onAnchorChange(d.current)}),r?null:e.jsx(Ee.div,{...a,ref:l})});_N.displayName=RN;var Hp="PopperContent",[CI,PI]=EN(Hp),TN=c.forwardRef((t,s)=>{var $,T,G,X,Y,z;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:x="optimized",onPlaced:S,...y}=t,j=AN(Hp,n),[v,f]=c.useState(null),N=Te(s,W=>f(W)),[C,P]=c.useState(null),R=qp(C),g=(R==null?void 0:R.width)??0,A=(R==null?void 0:R.height)??0,_=r+(i!=="center"?"-"+i:""),w=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},b=Array.isArray(u)?u:[u],I=b.length>0,k={padding:w,boundary:b.filter(AI),altBoundary:I},{refs:O,floatingStyles:U,placement:V,isPositioned:B,middlewareData:H}=hI({strategy:"fixed",placement:_,whileElementsMounted:(...W)=>nI(...W,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[fI({mainAxis:a+A,alignmentAxis:o}),d&&xI({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?gI():void 0,...k}),d&&vI({...k}),yI({...k,apply:({elements:W,rects:ae,availableWidth:Pe,availableHeight:Ae})=>{const{width:qe,height:gt}=ae.reference,M=W.floating.style;M.setProperty("--radix-popper-available-width",`${Pe}px`),M.setProperty("--radix-popper-available-height",`${Ae}px`),M.setProperty("--radix-popper-anchor-width",`${qe}px`),M.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),C&&NI({element:C,padding:l}),II({arrowWidth:g,arrowHeight:A}),p&&jI({strategy:"referenceHidden",...k})]}),[q,re]=ON(V),Q=ft(S);yt(()=>{B&&(Q==null||Q())},[B,Q]);const ie=($=H.arrow)==null?void 0:$.x,ue=(T=H.arrow)==null?void 0:T.y,L=((G=H.arrow)==null?void 0:G.centerOffset)!==0,[ee,ne]=c.useState();return yt(()=>{v&&ne(window.getComputedStyle(v).zIndex)},[v]),e.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:B?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(X=H.transformOrigin)==null?void 0:X.x,(Y=H.transformOrigin)==null?void 0:Y.y].join(" "),...((z=H.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(CI,{scope:n,placedSide:q,onArrowChange:P,arrowX:ie,arrowY:ue,shouldHideArrow:L,children:e.jsx(Ee.div,{"data-side":q,"data-align":re,...y,ref:N,style:{...y.style,animation:B?void 0:"none"}})})})});TN.displayName=Hp;var kN="PopperArrow",EI={top:"bottom",right:"left",bottom:"top",left:"right"},MN=c.forwardRef(function(s,n){const{__scopePopper:r,...a}=s,i=PI(kN,r),o=EI[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(bI,{...a,ref:n,style:{...a.style,display:"block"}})})});MN.displayName=kN;function AI(t){return t!==null}var II=t=>({name:"transformOrigin",options:t,fn(s){var j,v,f;const{placement:n,rects:r,middlewareData:a}=s,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[u,h]=ON(n),m={start:"0%",center:"50%",end:"100%"}[h],p=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,x=(((f=a.arrow)==null?void 0:f.y)??0)+d/2;let S="",y="";return u==="bottom"?(S=o?m:`${p}px`,y=`${-d}px`):u==="top"?(S=o?m:`${p}px`,y=`${r.floating.height+d}px`):u==="right"?(S=`${-d}px`,y=o?m:`${x}px`):u==="left"&&(S=`${r.floating.width+d}px`,y=o?m:`${x}px`),{data:{x:S,y}}}});function ON(t){const[s,n="center"]=t.split("-");return[s,n]}var Yp=IN,Wp=_N,Kp=TN,Jp=MN,[Cd]=Vt("Tooltip",[wi]),Pd=wi(),FN="TooltipProvider",RI=700,dh="tooltip.open",[_I,Qp]=Cd(FN),DN=t=>{const{__scopeTooltip:s,delayDuration:n=RI,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=t,o=c.useRef(!0),l=c.useRef(!1),d=c.useRef(0);return c.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),e.jsx(_I,{scope:s,isOpenDelayedRef:o,delayDuration:n,onOpen:c.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:c.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};DN.displayName=FN;var Po="Tooltip",[TI,Ed]=Cd(Po),LN=t=>{const{__scopeTooltip:s,children:n,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,d=Qp(Po,t.__scopeTooltip),u=Pd(s),[h,m]=c.useState(null),p=Ws(),x=c.useRef(0),S=o??d.disableHoverableContent,y=l??d.delayDuration,j=c.useRef(!1),[v,f]=vn({prop:r,defaultProp:a??!1,onChange:g=>{g?(d.onOpen(),document.dispatchEvent(new CustomEvent(dh))):d.onClose(),i==null||i(g)},caller:Po}),N=c.useMemo(()=>v?j.current?"delayed-open":"instant-open":"closed",[v]),C=c.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j.current=!1,f(!0)},[f]),P=c.useCallback(()=>{window.clearTimeout(x.current),x.current=0,f(!1)},[f]),R=c.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{j.current=!0,f(!0),x.current=0},y)},[y,f]);return c.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),e.jsx(Yp,{...u,children:e.jsx(TI,{scope:s,contentId:p,open:v,stateAttribute:N,trigger:h,onTriggerChange:m,onTriggerEnter:c.useCallback(()=>{d.isOpenDelayedRef.current?R():C()},[d.isOpenDelayedRef,R,C]),onTriggerLeave:c.useCallback(()=>{S?P():(window.clearTimeout(x.current),x.current=0)},[P,S]),onOpen:C,onClose:P,disableHoverableContent:S,children:n})})};LN.displayName=Po;var uh="TooltipTrigger",$N=c.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=Ed(uh,n),i=Qp(uh,n),o=Pd(n),l=c.useRef(null),d=Te(s,l,a.onTriggerChange),u=c.useRef(!1),h=c.useRef(!1),m=c.useCallback(()=>u.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(Wp,{asChild:!0,...o,children:e.jsx(Ee.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:d,onPointerMove:ge(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:ge(t.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:ge(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ge(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:ge(t.onBlur,a.onClose),onClick:ge(t.onClick,a.onClose)})})});$N.displayName=uh;var kI="TooltipPortal",[BF,MI]=Cd(kI,{forceMount:void 0}),ui="TooltipContent",UN=c.forwardRef((t,s)=>{const n=MI(ui,t.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=t,o=Ed(ui,t.__scopeTooltip);return e.jsx(Dt,{present:r||o.open,children:o.disableHoverableContent?e.jsx(BN,{side:a,...i,ref:s}):e.jsx(OI,{side:a,...i,ref:s})})}),OI=c.forwardRef((t,s)=>{const n=Ed(ui,t.__scopeTooltip),r=Qp(ui,t.__scopeTooltip),a=c.useRef(null),i=Te(s,a),[o,l]=c.useState(null),{trigger:d,onClose:u}=n,h=a.current,{onPointerInTransitChange:m}=r,p=c.useCallback(()=>{l(null),m(!1)},[m]),x=c.useCallback((S,y)=>{const j=S.currentTarget,v={x:S.clientX,y:S.clientY},f=UI(v,j.getBoundingClientRect()),N=BI(v,f),C=zI(y.getBoundingClientRect()),P=qI([...N,...C]);l(P),m(!0)},[m]);return c.useEffect(()=>()=>p(),[p]),c.useEffect(()=>{if(d&&h){const S=j=>x(j,h),y=j=>x(j,d);return d.addEventListener("pointerleave",S),h.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",y)}}},[d,h,x,p]),c.useEffect(()=>{if(o){const S=y=>{const j=y.target,v={x:y.clientX,y:y.clientY},f=(d==null?void 0:d.contains(j))||(h==null?void 0:h.contains(j)),N=!VI(v,o);f?p():N&&(p(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,h,o,u,p]),e.jsx(BN,{...t,ref:i})}),[FI,DI]=Cd(Po,{isInside:!1}),LI=wj("TooltipContent"),BN=c.forwardRef((t,s)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,d=Ed(ui,n),u=Pd(n),{onClose:h}=d;return c.useEffect(()=>(document.addEventListener(dh,h),()=>document.removeEventListener(dh,h)),[h]),c.useEffect(()=>{if(d.trigger){const m=p=>{const x=p.target;x!=null&&x.contains(d.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,h]),e.jsx(yi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:e.jsxs(Kp,{"data-state":d.stateAttribute,...u,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(LI,{children:r}),e.jsx(FI,{scope:n,isInside:!0,children:e.jsx(uP,{id:d.contentId,role:"tooltip",children:a||r})})]})})});UN.displayName=ui;var zN="TooltipArrow",$I=c.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=Pd(n);return DI(zN,n).isInside?null:e.jsx(Jp,{...a,...r,ref:s})});$I.displayName=zN;function UI(t,s){const n=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),a=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function BI(t,s,n=5){const r=[];switch(s){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function zI(t){const{top:s,right:n,bottom:r,left:a}=t;return[{x:a,y:s},{x:n,y:s},{x:n,y:r},{x:a,y:r}]}function VI(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i],d=s[o],u=l.x,h=l.y,m=d.x,p=d.y;h>r!=p>r&&n<(m-u)*(r-h)/(p-h)+u&&(a=!a)}return a}function qI(t){const s=t.slice();return s.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),GI(s)}function GI(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const a=t[r];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))s.pop();else break}s.push(a)}s.pop();const n=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),s.length===1&&n.length===1&&s[0].x===n[0].x&&s[0].y===n[0].y?s:s.concat(n)}var HI=DN,YI=LN,WI=$N,VN=UN;const qN=HI,KI=YI,JI=WI,GN=c.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(VN,{ref:r,sideOffset:s,className:de("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));GN.displayName=VN.displayName;var Ad=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},QI={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},or,_h,Zg,XI=(Zg=class{constructor(){$e(this,or,QI);$e(this,_h,!1)}setTimeoutProvider(t){Ie(this,or,t)}setTimeout(t,s){return oe(this,or).setTimeout(t,s)}clearTimeout(t){oe(this,or).clearTimeout(t)}setInterval(t,s){return oe(this,or).setInterval(t,s)}clearInterval(t){oe(this,or).clearInterval(t)}},or=new WeakMap,_h=new WeakMap,Zg),mh=new XI;function ZI(t){setTimeout(t,0)}var Id=typeof window>"u"||"Deno"in globalThis;function Bs(){}function eR(t,s){return typeof t=="function"?t(s):t}function tR(t){return typeof t=="number"&&t>=0&&t!==1/0}function sR(t,s){return Math.max(t+(s||0)-Date.now(),0)}function hh(t,s){return typeof t=="function"?t(s):t}function nR(t,s){return typeof t=="function"?t(s):t}function gg(t,s){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(s.queryHash!==Xp(o,s.options))return!1}else if(!Ao(s.queryKey,o))return!1}if(n!=="all"){const d=s.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||a&&a!==s.state.fetchStatus||i&&!i(s))}function vg(t,s){const{exact:n,status:r,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(n){if(Eo(s.options.mutationKey)!==Eo(i))return!1}else if(!Ao(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||a&&!a(s))}function Xp(t,s){return((s==null?void 0:s.queryKeyHashFn)||Eo)(t)}function Eo(t){return JSON.stringify(t,(s,n)=>ph(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Ao(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(n=>Ao(t[n],s[n])):!1}var rR=Object.prototype.hasOwnProperty;function HN(t,s){if(t===s)return t;const n=yg(t)&&yg(s);if(!n&&!(ph(t)&&ph(s)))return s;const a=(n?t:Object.keys(t)).length,i=n?s:Object.keys(s),o=i.length,l=n?new Array(o):{};let d=0;for(let u=0;u<o;u++){const h=n?u:i[u],m=t[h],p=s[h];if(m===p){l[h]=m,(n?u<a:rR.call(t,h))&&d++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[h]=p;continue}const x=HN(m,p);l[h]=x,x===m&&d++}return a===o&&d===a?t:l}function yg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ph(t){if(!jg(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!jg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function jg(t){return Object.prototype.toString.call(t)==="[object Object]"}function aR(t){return new Promise(s=>{mh.setTimeout(s,t)})}function iR(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?HN(t,s):s}function oR(t,s,n=0){const r=[...t,s];return n&&r.length>n?r.slice(1):r}function lR(t,s,n=0){const r=[s,...t];return n&&r.length>n?r.slice(0,-1):r}var Zp=Symbol();function YN(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Zp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wr,lr,Wa,ev,cR=(ev=class extends Ad{constructor(){super();$e(this,Wr);$e(this,lr);$e(this,Wa);Ie(this,Wa,s=>{if(!Id&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,lr)||this.setEventListener(oe(this,Wa))}onUnsubscribe(){var s;this.hasListeners()||((s=oe(this,lr))==null||s.call(this),Ie(this,lr,void 0))}setEventListener(s){var n;Ie(this,Wa,s),(n=oe(this,lr))==null||n.call(this),Ie(this,lr,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){oe(this,Wr)!==s&&(Ie(this,Wr,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof oe(this,Wr)=="boolean"?oe(this,Wr):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Wr=new WeakMap,lr=new WeakMap,Wa=new WeakMap,ev),WN=new cR;function dR(){let t,s;const n=new Promise((a,i)=>{t=a,s=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),s(a)},n}var uR=ZI;function mR(){let t=[],s=0,n=l=>{l()},r=l=>{l()},a=uR;const i=l=>{s?t.push(l):a(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{r(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;s++;try{d=l()}finally{s--,s||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Yt=mR(),Ka,cr,Ja,tv,hR=(tv=class extends Ad{constructor(){super();$e(this,Ka,!0);$e(this,cr);$e(this,Ja);Ie(this,Ja,s=>{if(!Id&&window.addEventListener){const n=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,cr)||this.setEventListener(oe(this,Ja))}onUnsubscribe(){var s;this.hasListeners()||((s=oe(this,cr))==null||s.call(this),Ie(this,cr,void 0))}setEventListener(s){var n;Ie(this,Ja,s),(n=oe(this,cr))==null||n.call(this),Ie(this,cr,s(this.setOnline.bind(this)))}setOnline(s){oe(this,Ka)!==s&&(Ie(this,Ka,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return oe(this,Ka)}},Ka=new WeakMap,cr=new WeakMap,Ja=new WeakMap,tv),Uc=new hR;function pR(t){return Math.min(1e3*2**t,3e4)}function KN(t){return(t??"online")==="online"?Uc.isOnline():!0}var fh=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function JN(t){let s=!1,n=0,r;const a=dR(),i=()=>a.status!=="pending",o=y=>{var j;if(!i()){const v=new fh(y);p(v),(j=t.onCancel)==null||j.call(t,v)}},l=()=>{s=!0},d=()=>{s=!1},u=()=>WN.isFocused()&&(t.networkMode==="always"||Uc.isOnline())&&t.canRun(),h=()=>KN(t.networkMode)&&t.canRun(),m=y=>{i()||(r==null||r(),a.resolve(y))},p=y=>{i()||(r==null||r(),a.reject(y))},x=()=>new Promise(y=>{var j;r=v=>{(i()||u())&&y(v)},(j=t.onPause)==null||j.call(t)}).then(()=>{var y;r=void 0,i()||(y=t.onContinue)==null||y.call(t)}),S=()=>{if(i())return;let y;const j=n===0?t.initialPromise:void 0;try{y=j??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(m).catch(v=>{var R;if(i())return;const f=t.retry??(Id?0:3),N=t.retryDelay??pR,C=typeof N=="function"?N(n,v):N,P=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,v);if(s||!P){p(v);return}n++,(R=t.onFail)==null||R.call(t,n,v),aR(C).then(()=>u()?void 0:x()).then(()=>{s?p(v):S()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:d,canStart:h,start:()=>(h()?S():x().then(S),a)}}var Kr,sv,QN=(sv=class{constructor(){$e(this,Kr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tR(this.gcTime)&&Ie(this,Kr,mh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Id?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Kr)&&(mh.clearTimeout(oe(this,Kr)),Ie(this,Kr,void 0))}},Kr=new WeakMap,sv),Jr,Qa,Ss,Qr,At,Uo,Xr,zs,En,nv,fR=(nv=class extends QN{constructor(s){super();$e(this,zs);$e(this,Jr);$e(this,Qa);$e(this,Ss);$e(this,Qr);$e(this,At);$e(this,Uo);$e(this,Xr);Ie(this,Xr,!1),Ie(this,Uo,s.defaultOptions),this.setOptions(s.options),this.observers=[],Ie(this,Qr,s.client),Ie(this,Ss,oe(this,Qr).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Ie(this,Jr,Ng(this.options)),this.state=s.state??oe(this,Jr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=oe(this,At))==null?void 0:s.promise}setOptions(s){if(this.options={...oe(this,Uo),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ng(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Ie(this,Jr,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,Ss).remove(this)}setData(s,n){const r=iR(this.state.data,s,this.options);return Lt(this,zs,En).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(s,n){Lt(this,zs,En).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var r,a;const n=(r=oe(this,At))==null?void 0:r.promise;return(a=oe(this,At))==null||a.cancel(s),n?n.then(Bs).catch(Bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Jr))}isActive(){return this.observers.some(s=>nR(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>hh(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!sR(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=oe(this,At))==null||n.continue()}onOnline(){var n;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=oe(this,At))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),oe(this,Ss).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(oe(this,At)&&(oe(this,Xr)?oe(this,At).cancel({revert:!0}):oe(this,At).cancelRetry()),this.scheduleGc()),oe(this,Ss).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,zs,En).call(this,{type:"invalidate"})}async fetch(s,n){var d,u,h,m,p,x,S,y,j,v,f,N;if(this.state.fetchStatus!=="idle"&&((d=oe(this,At))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(oe(this,At))return oe(this,At).continueRetry(),oe(this,At).promise}if(s&&this.setOptions(s),!this.options.queryFn){const C=this.observers.find(P=>P.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Ie(this,Xr,!0),r.signal)})},i=()=>{const C=YN(this.options,n),R=(()=>{const g={client:oe(this,Qr),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return Ie(this,Xr,!1),this.options.persister?this.options.persister(C,R,this):C(R)},l=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:oe(this,Qr),state:this.state,fetchFn:i};return a(C),C})();(u=this.options.behavior)==null||u.onFetch(l,this),Ie(this,Qa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Lt(this,zs,En).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),Ie(this,At,JN({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof fh&&C.revert&&this.setState({...oe(this,Qa),fetchStatus:"idle"}),r.abort()},onFail:(C,P)=>{Lt(this,zs,En).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Lt(this,zs,En).call(this,{type:"pause"})},onContinue:()=>{Lt(this,zs,En).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await oe(this,At).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(x=(p=oe(this,Ss).config).onSuccess)==null||x.call(p,C,this),(y=(S=oe(this,Ss).config).onSettled)==null||y.call(S,C,this.state.error,this),C}catch(C){if(C instanceof fh){if(C.silent)return oe(this,At).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Lt(this,zs,En).call(this,{type:"error",error:C}),(v=(j=oe(this,Ss).config).onError)==null||v.call(j,C,this),(N=(f=oe(this,Ss).config).onSettled)==null||N.call(f,this.state.data,C,this),C}finally{this.scheduleGc()}}},Jr=new WeakMap,Qa=new WeakMap,Ss=new WeakMap,Qr=new WeakMap,At=new WeakMap,Uo=new WeakMap,Xr=new WeakMap,zs=new WeakSet,En=function(s){const n=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...xR(r.data,this.options),fetchMeta:s.meta??null};case"success":const a={...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ie(this,Qa,s.manual?a:void 0),a;case"error":const i=s.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=n(this.state),Yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),oe(this,Ss).notify({query:this,type:"updated",action:s})})},nv);function xR(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:KN(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ng(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,n=s!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Sg(t){return{onFetch:(s,n)=>{var h,m,p,x,S;const r=s.options,a=(p=(m=(h=s.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,i=((x=s.state.data)==null?void 0:x.pages)||[],o=((S=s.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let y=!1;const j=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(s.signal.aborted?y=!0:s.signal.addEventListener("abort",()=>{y=!0}),s.signal)})},v=YN(s.options,s.fetchOptions),f=async(N,C,P)=>{if(y)return Promise.reject();if(C==null&&N.pages.length)return Promise.resolve(N);const g=(()=>{const b={client:s.client,queryKey:s.queryKey,pageParam:C,direction:P?"backward":"forward",meta:s.options.meta};return j(b),b})(),A=await v(g),{maxPages:_}=s.options,w=P?lR:oR;return{pages:w(N.pages,A,_),pageParams:w(N.pageParams,C,_)}};if(a&&i.length){const N=a==="backward",C=N?gR:bg,P={pages:i,pageParams:o},R=C(r,P);l=await f(P,R,N)}else{const N=t??i.length;do{const C=d===0?o[0]??r.initialPageParam:bg(r,l);if(d>0&&C==null)break;l=await f(l,C),d++}while(d<N)}return l};s.options.persister?s.fetchFn=()=>{var y,j;return(j=(y=s.options).persister)==null?void 0:j.call(y,u,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n)}:s.fetchFn=u}}}function bg(t,{pages:s,pageParams:n}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,n[r],n):void 0}function gR(t,{pages:s,pageParams:n}){var r;return s.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,s[0],s,n[0],n):void 0}var Bo,an,Gt,Zr,on,tr,rv,vR=(rv=class extends QN{constructor(s){super();$e(this,on);$e(this,Bo);$e(this,an);$e(this,Gt);$e(this,Zr);Ie(this,Bo,s.client),this.mutationId=s.mutationId,Ie(this,Gt,s.mutationCache),Ie(this,an,[]),this.state=s.state||yR(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){oe(this,an).includes(s)||(oe(this,an).push(s),this.clearGcTimeout(),oe(this,Gt).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Ie(this,an,oe(this,an).filter(n=>n!==s)),this.scheduleGc(),oe(this,Gt).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){oe(this,an).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Gt).remove(this))}continue(){var s;return((s=oe(this,Zr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var o,l,d,u,h,m,p,x,S,y,j,v,f,N,C,P,R,g,A,_;const n=()=>{Lt(this,on,tr).call(this,{type:"continue"})},r={client:oe(this,Bo),meta:this.options.meta,mutationKey:this.options.mutationKey};Ie(this,Zr,JN({fn:()=>this.options.mutationFn?this.options.mutationFn(s,r):Promise.reject(new Error("No mutationFn found")),onFail:(w,b)=>{Lt(this,on,tr).call(this,{type:"failed",failureCount:w,error:b})},onPause:()=>{Lt(this,on,tr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Gt).canRun(this)}));const a=this.state.status==="pending",i=!oe(this,Zr).canStart();try{if(a)n();else{Lt(this,on,tr).call(this,{type:"pending",variables:s,isPaused:i}),await((l=(o=oe(this,Gt).config).onMutate)==null?void 0:l.call(o,s,this,r));const b=await((u=(d=this.options).onMutate)==null?void 0:u.call(d,s,r));b!==this.state.context&&Lt(this,on,tr).call(this,{type:"pending",context:b,variables:s,isPaused:i})}const w=await oe(this,Zr).start();return await((m=(h=oe(this,Gt).config).onSuccess)==null?void 0:m.call(h,w,s,this.state.context,this,r)),await((x=(p=this.options).onSuccess)==null?void 0:x.call(p,w,s,this.state.context,r)),await((y=(S=oe(this,Gt).config).onSettled)==null?void 0:y.call(S,w,null,this.state.variables,this.state.context,this,r)),await((v=(j=this.options).onSettled)==null?void 0:v.call(j,w,null,s,this.state.context,r)),Lt(this,on,tr).call(this,{type:"success",data:w}),w}catch(w){try{throw await((N=(f=oe(this,Gt).config).onError)==null?void 0:N.call(f,w,s,this.state.context,this,r)),await((P=(C=this.options).onError)==null?void 0:P.call(C,w,s,this.state.context,r)),await((g=(R=oe(this,Gt).config).onSettled)==null?void 0:g.call(R,void 0,w,this.state.variables,this.state.context,this,r)),await((_=(A=this.options).onSettled)==null?void 0:_.call(A,void 0,w,s,this.state.context,r)),w}finally{Lt(this,on,tr).call(this,{type:"error",error:w})}}finally{oe(this,Gt).runNext(this)}}},Bo=new WeakMap,an=new WeakMap,Gt=new WeakMap,Zr=new WeakMap,on=new WeakSet,tr=function(s){const n=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yt.batch(()=>{oe(this,an).forEach(r=>{r.onMutationUpdate(s)}),oe(this,Gt).notify({mutation:this,type:"updated",action:s})})},rv);function yR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rn,Vs,zo,av,jR=(av=class extends Ad{constructor(s={}){super();$e(this,Rn);$e(this,Vs);$e(this,zo);this.config=s,Ie(this,Rn,new Set),Ie(this,Vs,new Map),Ie(this,zo,0)}build(s,n,r){const a=new vR({client:s,mutationCache:this,mutationId:++fl(this,zo)._,options:s.defaultMutationOptions(n),state:r});return this.add(a),a}add(s){oe(this,Rn).add(s);const n=Dl(s);if(typeof n=="string"){const r=oe(this,Vs).get(n);r?r.push(s):oe(this,Vs).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(oe(this,Rn).delete(s)){const n=Dl(s);if(typeof n=="string"){const r=oe(this,Vs).get(n);if(r)if(r.length>1){const a=r.indexOf(s);a!==-1&&r.splice(a,1)}else r[0]===s&&oe(this,Vs).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=Dl(s);if(typeof n=="string"){const r=oe(this,Vs).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var r;const n=Dl(s);if(typeof n=="string"){const a=(r=oe(this,Vs).get(n))==null?void 0:r.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yt.batch(()=>{oe(this,Rn).forEach(s=>{this.notify({type:"removed",mutation:s})}),oe(this,Rn).clear(),oe(this,Vs).clear()})}getAll(){return Array.from(oe(this,Rn))}find(s){const n={exact:!0,...s};return this.getAll().find(r=>vg(n,r))}findAll(s={}){return this.getAll().filter(n=>vg(s,n))}notify(s){Yt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return Yt.batch(()=>Promise.all(s.map(n=>n.continue().catch(Bs))))}},Rn=new WeakMap,Vs=new WeakMap,zo=new WeakMap,av);function Dl(t){var s;return(s=t.options.scope)==null?void 0:s.id}var ln,iv,NR=(iv=class extends Ad{constructor(s={}){super();$e(this,ln);this.config=s,Ie(this,ln,new Map)}build(s,n,r){const a=n.queryKey,i=n.queryHash??Xp(a,n);let o=this.get(i);return o||(o=new fR({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(n),state:r,defaultOptions:s.getQueryDefaults(a)}),this.add(o)),o}add(s){oe(this,ln).has(s.queryHash)||(oe(this,ln).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=oe(this,ln).get(s.queryHash);n&&(s.destroy(),n===s&&oe(this,ln).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Yt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return oe(this,ln).get(s)}getAll(){return[...oe(this,ln).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(r=>gg(n,r))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(r=>gg(s,r)):n}notify(s){Yt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ln=new WeakMap,iv),ht,dr,ur,Xa,Za,mr,ei,ti,ov,SR=(ov=class{constructor(t={}){$e(this,ht);$e(this,dr);$e(this,ur);$e(this,Xa);$e(this,Za);$e(this,mr);$e(this,ei);$e(this,ti);Ie(this,ht,t.queryCache||new NR),Ie(this,dr,t.mutationCache||new jR),Ie(this,ur,t.defaultOptions||{}),Ie(this,Xa,new Map),Ie(this,Za,new Map),Ie(this,mr,0)}mount(){fl(this,mr)._++,oe(this,mr)===1&&(Ie(this,ei,WN.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,ht).onFocus())})),Ie(this,ti,Uc.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,ht).onOnline())})))}unmount(){var t,s;fl(this,mr)._--,oe(this,mr)===0&&((t=oe(this,ei))==null||t.call(this),Ie(this,ei,void 0),(s=oe(this,ti))==null||s.call(this),Ie(this,ti,void 0))}isFetching(t){return oe(this,ht).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return oe(this,dr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const s=this.defaultQueryOptions({queryKey:t});return(n=oe(this,ht).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=oe(this,ht).build(this,s),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(hh(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return oe(this,ht).findAll(t).map(({queryKey:s,state:n})=>{const r=n.data;return[s,r]})}setQueryData(t,s,n){const r=this.defaultQueryOptions({queryKey:t}),a=oe(this,ht).get(r.queryHash),i=a==null?void 0:a.state.data,o=eR(s,i);if(o!==void 0)return oe(this,ht).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,s,n){return Yt.batch(()=>oe(this,ht).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,n)]))}getQueryState(t){var n;const s=this.defaultQueryOptions({queryKey:t});return(n=oe(this,ht).get(s.queryHash))==null?void 0:n.state}removeQueries(t){const s=oe(this,ht);Yt.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=oe(this,ht);return Yt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},r=Yt.batch(()=>oe(this,ht).findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(Bs).catch(Bs)}invalidateQueries(t,s={}){return Yt.batch(()=>(oe(this,ht).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},r=Yt.batch(()=>oe(this,ht).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Bs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Bs)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=oe(this,ht).build(this,s);return n.isStaleByTime(hh(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bs).catch(Bs)}fetchInfiniteQuery(t){return t.behavior=Sg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bs).catch(Bs)}ensureInfiniteQueryData(t){return t.behavior=Sg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uc.isOnline()?oe(this,dr).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,ht)}getMutationCache(){return oe(this,dr)}getDefaultOptions(){return oe(this,ur)}setDefaultOptions(t){Ie(this,ur,t)}setQueryDefaults(t,s){oe(this,Xa).set(Eo(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...oe(this,Xa).values()],n={};return s.forEach(r=>{Ao(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,s){oe(this,Za).set(Eo(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...oe(this,Za).values()],n={};return s.forEach(r=>{Ao(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...oe(this,ur).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Xp(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Zp&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...oe(this,ur).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){oe(this,ht).clear(),oe(this,dr).clear()}},ht=new WeakMap,dr=new WeakMap,ur=new WeakMap,Xa=new WeakMap,Za=new WeakMap,mr=new WeakMap,ei=new WeakMap,ti=new WeakMap,ov),bR=c.createContext(void 0),wR=({client:t,children:s})=>(c.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(bR.Provider,{value:t,children:s}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Io.apply(this,arguments)}var fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fr||(fr={}));const wg="popstate";function CR(t){t===void 0&&(t={});function s(r,a){let{pathname:i,search:o,hash:l}=r.location;return xh("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Bc(a)}return ER(s,n,null,t)}function ut(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function XN(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function PR(){return Math.random().toString(36).substr(2,8)}function Cg(t,s){return{usr:t.state,key:t.key,idx:s}}function xh(t,s,n,r){return n===void 0&&(n=null),Io({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Ci(s):s,{state:n,key:s&&s.key||r||PR()})}function Bc(t){let{pathname:s="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Ci(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function ER(t,s,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=fr.Pop,d=null,u=h();u==null&&(u=0,o.replaceState(Io({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=fr.Pop;let j=h(),v=j==null?null:j-u;u=j,d&&d({action:l,location:y.location,delta:v})}function p(j,v){l=fr.Push;let f=xh(y.location,j,v);u=h()+1;let N=Cg(f,u),C=y.createHref(f);try{o.pushState(N,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(C)}i&&d&&d({action:l,location:y.location,delta:1})}function x(j,v){l=fr.Replace;let f=xh(y.location,j,v);u=h();let N=Cg(f,u),C=y.createHref(f);o.replaceState(N,"",C),i&&d&&d({action:l,location:y.location,delta:0})}function S(j){let v=a.location.origin!=="null"?a.location.origin:a.location.href,f=typeof j=="string"?j:Bc(j);return f=f.replace(/ $/,"%20"),ut(v,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,v)}let y={get action(){return l},get location(){return t(a,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(wg,m),d=j,()=>{a.removeEventListener(wg,m),d=null}},createHref(j){return s(a,j)},createURL:S,encodeLocation(j){let v=S(j);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:x,go(j){return o.go(j)}};return y}var Pg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pg||(Pg={}));function AR(t,s,n){return n===void 0&&(n="/"),IR(t,s,n)}function IR(t,s,n,r){let a=typeof s=="string"?Ci(s):s,i=mi(a.pathname||"/",n);if(i==null)return null;let o=ZN(t);RR(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=BR(i);l=$R(o[d],u)}return l}function ZN(t,s,n,r){s===void 0&&(s=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ut(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let u=Er([r,d.relativePath]),h=n.concat(d);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZN(i.children,s,h,u)),!(i.path==null&&!i.index)&&s.push({path:u,score:DR(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let d of e0(i.path))a(i,o,d)}),s}function e0(t){let s=t.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=e0(r.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function RR(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:LR(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _R=/^:[\w-]+$/,TR=3,kR=2,MR=1,OR=10,FR=-2,Eg=t=>t==="*";function DR(t,s){let n=t.split("/"),r=n.length;return n.some(Eg)&&(r+=FR),s&&(r+=kR),n.filter(a=>!Eg(a)).reduce((a,i)=>a+(_R.test(i)?TR:i===""?MR:OR),r)}function LR(t,s){return t.length===s.length&&t.slice(0,-1).every((r,a)=>r===s[a])?t[t.length-1]-s[s.length-1]:0}function $R(t,s,n){let{routesMeta:r}=t,a={},i="/",o=[];for(let l=0;l<r.length;++l){let d=r[l],u=l===r.length-1,h=i==="/"?s:s.slice(i.length)||"/",m=gh({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),p=d.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Er([i,m.pathname]),pathnameBase:GR(Er([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Er([i,m.pathnameBase]))}return o}function gh(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UR(t.path,t.caseSensitive,t.end),a=s.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,h,m)=>{let{paramName:p,isOptional:x}=h;if(p==="*"){let y=l[m]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const S=l[m];return x&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function UR(t,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),XN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function BR(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return XN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function mi(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zR(t,s){s===void 0&&(s="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ci(t):t;return{pathname:n?n.startsWith("/")?n:VR(n,s):s,search:HR(r),hash:YR(a)}}function VR(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ju(t,s,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qR(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function ef(t,s){let n=qR(t);return s?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tf(t,s,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Ci(t):(a=Io({},t),ut(!a.pathname||!a.pathname.includes("?"),Ju("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),Ju("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),Ju("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let m=s.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}l=m>=0?s[m]:"/"}let d=zR(a,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}const Er=t=>t.join("/").replace(/\/\/+/g,"/"),GR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const t0=["post","put","patch","delete"];new Set(t0);const KR=["get",...t0];new Set(KR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(this,arguments)}const Rd=c.createContext(null),s0=c.createContext(null),Yn=c.createContext(null),_d=c.createContext(null),Sn=c.createContext({outlet:null,matches:[],isDataRoute:!1}),n0=c.createContext(null);function JR(t,s){let{relative:n}=s===void 0?{}:s;Pi()||ut(!1);let{basename:r,navigator:a}=c.useContext(Yn),{hash:i,pathname:o,search:l}=Td(t,{relative:n}),d=o;return r!=="/"&&(d=o==="/"?r:Er([r,o])),a.createHref({pathname:d,search:l,hash:i})}function Pi(){return c.useContext(_d)!=null}function Zs(){return Pi()||ut(!1),c.useContext(_d).location}function r0(t){c.useContext(Yn).static||c.useLayoutEffect(t)}function wt(){let{isDataRoute:t}=c.useContext(Sn);return t?u_():QR()}function QR(){Pi()||ut(!1);let t=c.useContext(Rd),{basename:s,future:n,navigator:r}=c.useContext(Yn),{matches:a}=c.useContext(Sn),{pathname:i}=Zs(),o=JSON.stringify(ef(a,n.v7_relativeSplatPath)),l=c.useRef(!1);return r0(()=>{l.current=!0}),c.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=tf(u,JSON.parse(o),i,h.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:Er([s,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[s,r,o,i,t])}const XR=c.createContext(null);function ZR(t){let s=c.useContext(Sn).outlet;return s&&c.createElement(XR.Provider,{value:t},s)}function Zo(){let{matches:t}=c.useContext(Sn),s=t[t.length-1];return s?s.params:{}}function Td(t,s){let{relative:n}=s===void 0?{}:s,{future:r}=c.useContext(Yn),{matches:a}=c.useContext(Sn),{pathname:i}=Zs(),o=JSON.stringify(ef(a,r.v7_relativeSplatPath));return c.useMemo(()=>tf(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function e_(t,s){return t_(t,s)}function t_(t,s,n,r){Pi()||ut(!1);let{navigator:a}=c.useContext(Yn),{matches:i}=c.useContext(Sn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=Zs(),h;if(s){var m;let j=typeof s=="string"?Ci(s):s;d==="/"||(m=j.pathname)!=null&&m.startsWith(d)||ut(!1),h=j}else h=u;let p=h.pathname||"/",x=p;if(d!=="/"){let j=d.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=AR(t,{pathname:x}),y=i_(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Er([d,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?d:Er([d,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return s&&y?c.createElement(_d.Provider,{value:{location:Ro({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fr.Pop}},y):y}function s_(){let t=d_(),s=WR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},s),n?c.createElement("pre",{style:a},n):null,null)}const n_=c.createElement(s_,null);class r_ extends c.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?c.createElement(Sn.Provider,{value:this.props.routeContext},c.createElement(n0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a_(t){let{routeContext:s,match:n,children:r}=t,a=c.useContext(Rd);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Sn.Provider,{value:s},r)}function i_(t,s,n,r){var a;if(s===void 0&&(s=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(a=n)==null?void 0:a.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||ut(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:x}=n,S=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||S){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,p)=>{let x,S=!1,y=null,j=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||n_,d&&(u<0&&p===0?(m_("route-fallback"),S=!0,j=null):u===p&&(S=!0,j=m.route.hydrateFallbackElement||null)));let v=s.concat(o.slice(0,p+1)),f=()=>{let N;return x?N=y:S?N=j:m.route.Component?N=c.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,c.createElement(a_,{match:m,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?c.createElement(r_,{location:n.location,revalidation:n.revalidation,component:y,error:x,children:f(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):f()},null)}var a0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(a0||{}),i0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(i0||{});function o_(t){let s=c.useContext(Rd);return s||ut(!1),s}function l_(t){let s=c.useContext(s0);return s||ut(!1),s}function c_(t){let s=c.useContext(Sn);return s||ut(!1),s}function o0(t){let s=c_(),n=s.matches[s.matches.length-1];return n.route.id||ut(!1),n.route.id}function d_(){var t;let s=c.useContext(n0),n=l_(),r=o0();return s!==void 0?s:(t=n.errors)==null?void 0:t[r]}function u_(){let{router:t}=o_(a0.UseNavigateStable),s=o0(i0.UseNavigateStable),n=c.useRef(!1);return r0(()=>{n.current=!0}),c.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Ro({fromRouteId:s},i)))},[t,s])}const Ag={};function m_(t,s,n){Ag[t]||(Ag[t]=!0)}function h_(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xr(t){let{to:s,replace:n,state:r,relative:a}=t;Pi()||ut(!1);let{future:i,static:o}=c.useContext(Yn),{matches:l}=c.useContext(Sn),{pathname:d}=Zs(),u=wt(),h=tf(s,ef(l,i.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(h);return c.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:a}),[u,m,a,n,r]),null}function sf(t){return ZR(t.context)}function Oe(t){ut(!1)}function p_(t){let{basename:s="/",children:n=null,location:r,navigationType:a=fr.Pop,navigator:i,static:o=!1,future:l}=t;Pi()&&ut(!1);let d=s.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:d,navigator:i,static:o,future:Ro({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof r=="string"&&(r=Ci(r));let{pathname:h="/",search:m="",hash:p="",state:x=null,key:S="default"}=r,y=c.useMemo(()=>{let j=mi(h,d);return j==null?null:{location:{pathname:j,search:m,hash:p,state:x,key:S},navigationType:a}},[d,h,m,p,x,S,a]);return y==null?null:c.createElement(Yn.Provider,{value:u},c.createElement(_d.Provider,{children:n,value:y}))}function f_(t){let{children:s,location:n}=t;return e_(vh(s),n)}new Promise(()=>{});function vh(t,s){s===void 0&&(s=[]);let n=[];return c.Children.forEach(t,(r,a)=>{if(!c.isValidElement(r))return;let i=[...s,a];if(r.type===c.Fragment){n.push.apply(n,vh(r.props.children,i));return}r.type!==Oe&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}function l0(t,s){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=t[a]);return n}function x_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g_(t,s){return t.button===0&&(!s||s==="_self")&&!x_(t)}const v_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],j_="6";try{window.__reactRouterVersion=j_}catch{}const N_=c.createContext({isTransitioning:!1}),S_="startTransition",Ig=Fh[S_];function b_(t){let{basename:s,children:n,future:r,window:a}=t,i=c.useRef();i.current==null&&(i.current=CR({window:a,v5Compat:!0}));let o=i.current,[l,d]=c.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=c.useCallback(m=>{u&&Ig?Ig(()=>d(m)):d(m)},[d,u]);return c.useLayoutEffect(()=>o.listen(h),[o,h]),c.useEffect(()=>h_(r),[r]),c.createElement(p_,{basename:s,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ms=c.forwardRef(function(s,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m}=s,p=l0(s,v_),{basename:x}=c.useContext(Yn),S,y=!1;if(typeof u=="string"&&C_.test(u)&&(S=u,w_))try{let N=new URL(window.location.href),C=u.startsWith("//")?new URL(N.protocol+u):new URL(u),P=mi(C.pathname,x);C.origin===N.origin&&P!=null?u=P+C.search+C.hash:y=!0}catch{}let j=JR(u,{relative:a}),v=E_(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:m});function f(N){r&&r(N),N.defaultPrevented||v(N)}return c.createElement("a",zc({},p,{href:S||j,onClick:y||i?r:f,ref:n,target:d}))}),nf=c.forwardRef(function(s,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:u,children:h}=s,m=l0(s,y_),p=Td(d,{relative:m.relative}),x=Zs(),S=c.useContext(s0),{navigator:y,basename:j}=c.useContext(Yn),v=S!=null&&A_(p)&&u===!0,f=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,N=x.pathname,C=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(N=N.toLowerCase(),C=C?C.toLowerCase():null,f=f.toLowerCase()),C&&j&&(C=mi(C,j)||C);const P=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let R=N===f||!o&&N.startsWith(f)&&N.charAt(P)==="/",g=C!=null&&(C===f||!o&&C.startsWith(f)&&C.charAt(f.length)==="/"),A={isActive:R,isPending:g,isTransitioning:v},_=R?r:void 0,w;typeof i=="function"?w=i(A):w=[i,R?"active":null,g?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let b=typeof l=="function"?l(A):l;return c.createElement(ms,zc({},m,{"aria-current":_,className:w,ref:n,style:b,to:d,viewTransition:u}),typeof h=="function"?h(A):h)});var yh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yh||(yh={}));var Rg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rg||(Rg={}));function P_(t){let s=c.useContext(Rd);return s||ut(!1),s}function E_(t,s){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,d=wt(),u=Zs(),h=Td(t,{relative:o});return c.useCallback(m=>{if(g_(m,n)){m.preventDefault();let p=r!==void 0?r:Bc(u)===Bc(h);d(t,{replace:p,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,d,h,r,a,n,t,i,o,l])}function A_(t,s){s===void 0&&(s={});let n=c.useContext(N_);n==null&&ut(!1);let{basename:r}=P_(yh.useViewTransitionState),a=Td(t,{relative:s.relative});if(!n.isTransitioning)return!1;let i=mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gh(a.pathname,o)!=null||gh(a.pathname,i)!=null}const I_="http://localhost:8000/api/v1";class R_{constructor(s=I_){pl(this,"baseURL");this.baseURL=s}async request(s,n={}){const r=`${this.baseURL}${s}`;console.log(" Making API request to:",r);const a={};n.body instanceof FormData||(a["Content-Type"]="application/json");const i=localStorage.getItem("authToken");i?(a.Authorization=`Bearer ${i}`,console.log("Adding auth token to request:",i.substring(0,50)+"...")):console.log("No auth token found in localStorage");const o={...n,headers:{...a,...n.headers}};try{const l=await fetch(r,o),d=await l.json();if(console.log(" API Response:",{url:r,status:l.status,statusText:l.statusText,data:d}),!l.ok){console.error("API Error Details:",{url:r,status:l.status,statusText:l.statusText,data:d,headers:o.headers}),l.status===401&&(d.detail==="Invalid authentication credentials"||d.detail==="Student not found"||d.detail==="Admin not found"||d.detail==="Institute not found")&&(console.log(" Invalid token detected, clearing localStorage..."),localStorage.removeItem("authToken"),localStorage.removeItem("user"),typeof window<"u"&&(window.location.href="/login"));const u=d&&(d.detail||d.message||d.error);throw new Error(u||`HTTP error! status: ${l.status}`)}return{data:d,status:l.status}}catch(l){throw console.error("API request failed:",l),l}}async adminLogin(s,n){return this.request("/auth/admin/login",{method:"POST",body:JSON.stringify({email:s,password:n})})}async studentLogin(s,n){return this.request("/auth/students/login",{method:"POST",body:JSON.stringify({email:s,password:n})})}async instituteLogin(s,n){return this.request("/auth/institutes/login",{method:"POST",body:JSON.stringify({email:s,password:n})})}async sendOTP(s,n,r="login"){return this.request("/otp/send",{method:"POST",body:JSON.stringify({email:s,type:n,purpose:r})})}async sendStudentOTP(s,n="Student",r="registration"){return this.request("/otp/send/student",{method:"POST",body:JSON.stringify({email:s,name:n,purpose:r})})}async sendInstitutionOTP(s,n="Institution",r="registration"){return this.request("/otp/send/institution",{method:"POST",body:JSON.stringify({email:s,name:n,purpose:r})})}async verifyOTP(s,n){return this.request("/otp/verify",{method:"POST",body:JSON.stringify({otp_id:s,code:n})})}async verifyOTPWithEmail(s,n){return this.request("/otp/verify",{method:"POST",body:JSON.stringify({email:s,code:n})})}async sendEmailVerification(s,n){return this.request("/email-verification/send",{method:"POST",body:JSON.stringify({email:s,email_type:n})})}async verifyEmailVerification(s,n,r){return this.request("/email-verification/verify",{method:"POST",body:JSON.stringify({email:s,otp_code:n,email_type:r})})}async logout(){return this.request("/auth/logout",{method:"POST"})}async getStudents(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/students${n}`)}async getStudent(s){return this.request(`/students/${s}`)}async createStudent(s){return this.request("/admin/students",{method:"POST",body:JSON.stringify(s)})}async getStudentDetails(s){return this.request(`/admin/students/${s}`)}async updateStudent(s,n){return this.request(`/admin/students/${s}`,{method:"PUT",body:JSON.stringify(n)})}async createInstitutionStudent(s){return this.request("/students/institution/students",{method:"POST",body:JSON.stringify(s)})}async updateStudent(s,n){return this.request(`/students/${s}`,{method:"PUT",body:JSON.stringify(n)})}async updateInstitutionStudent(s,n){return this.request(`/students/institution/students/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteStudent(s){return this.request(`/students/${s}`,{method:"DELETE"})}async getStudentMedicalInfo(s){return this.request(`/students/${s}/medical-info`)}async updateStudentMedicalInfo(s,n){return this.request(`/students/${s}/medical-info`,{method:"PUT",body:JSON.stringify(n)})}async getStudentHealthInfo(s){return this.request(`/students/${s}/health-info`)}async updateStudentHealthInfo(s,n){return this.request(`/students/${s}/health-info`,{method:"PUT",body:JSON.stringify(n)})}async getParentInfo(s){return this.request(`/students/${s}/parents`)}async updateParentInfo(s,n){return this.request(`/students/${s}/parents`,{method:"PUT",body:JSON.stringify(n)})}async getInstitutes(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/institutes${n}`)}async getInstitute(s){return this.request(`/institutes/${s}`)}async createInstitute(s){return this.request("/institutes",{method:"POST",body:JSON.stringify(s)})}async getInstituteByEmail(s){return this.request(`/institutes/by-email/${encodeURIComponent(s)}`)}async updateInstitute(s,n){return this.request(`/institutes/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteInstitute(s){return this.request(`/institutes/${s}`,{method:"DELETE"})}async getContactPersons(s){return this.request(`/institutes/${s}/contact-persons`)}async updateContactPerson(s,n){return this.request(`/institutes/${s}/contact-persons`,{method:"PUT",body:JSON.stringify(n)})}async getInstituteInformation(s){return this.request(`/institutes/${s}/information`)}async updateInstituteInformation(s,n){return this.request(`/institutes/${s}/information`,{method:"PUT",body:JSON.stringify(n)})}async getSports(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/sports${n}`)}async getSport(s){return this.request(`/sports/${s}`)}async createSport(s){return this.request("/sports",{method:"POST",body:JSON.stringify(s)})}async updateSport(s,n){return this.request(`/sports/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSport(s){return this.request(`/sports/${s}`,{method:"DELETE"})}async getSportCategories(s){return this.request(`/sports/${s}/categories`)}async getCategories(){return this.request("/categories")}async createCategory(s){return this.request("/categories",{method:"POST",body:JSON.stringify(s)})}async updateCategory(s,n){return this.request(`/categories/${s}`,{method:"PUT",body:JSON.stringify(n)})}async getSubCategories(s){return this.request(`/categories/${s}/subcategories`)}async createSubCategory(s){return this.request("/subcategories",{method:"POST",body:JSON.stringify(s)})}async updateSubCategory(s,n){return this.request(`/subcategories/${s}`,{method:"PUT",body:JSON.stringify(n)})}async createSportAssignment(s){return this.request("/sport-assignments",{method:"POST",body:JSON.stringify(s)})}async getSportAssignments(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/sport-assignments${n}`)}async updateSportAssignment(s,n){return this.request(`/sport-assignments/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSportAssignment(s){return this.request(`/sport-assignments/${s}`,{method:"DELETE"})}async getStudentSportAssignments(s){return this.request(`/students/${s}/sport-assignments`)}async getInstituteSportAssignments(s){return this.request(`/institutes/${s}/sport-assignments`)}async createPayment(s){return this.request("/payments",{method:"POST",body:JSON.stringify(s)})}async getPayments(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/payments${n}`)}async createSponsorship(s){return this.request("/sponsorships",{method:"POST",body:JSON.stringify(s)})}async getSponsorships(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/sponsorships${n}`)}async getDashboardStats(){return this.request("/dashboard/stats")}async healthCheck(){return this.request("/healthz")}async getAdminDashboardStats(){return this.request("/admin/dashboard/stats")}async getAdminInstitutions(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.institution_type&&n.append("institution_type",s.institution_type),s!=null&&s.payment_status&&n.append("payment_status",s.payment_status),(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString();return this.request(`/admin/institutions${r?`?${r}`:""}`)}async getAdminInstitutionTypes(){return this.request("/admin/institution-types")}async addInstitution(s){return this.request("/admin/institutions",{method:"POST",body:JSON.stringify(s)})}async getInstitutionDetails(s){return this.request(`/admin/institutions/${s}`)}async getAdminStudents(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.institution_type&&n.append("institution_type",s.institution_type),s!=null&&s.payment_status&&n.append("payment_status",s.payment_status),(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString();return this.request(`/admin/students${r?`?${r}`:""}`)}async getAdminPayments(s){const n=new URLSearchParams;s!=null&&s.status_filter&&n.append("status_filter",s.status_filter),s!=null&&s.type_filter&&n.append("type_filter",s.type_filter),s!=null&&s.search&&n.append("search",s.search),(s==null?void 0:s.page)!==void 0&&n.append("page",s.page.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString()),s!=null&&s.sort_by&&n.append("sort_by",s.sort_by),s!=null&&s.sort_order&&n.append("sort_order",s.sort_order);const r=n.toString();return this.request(`/admin/payments${r?`?${r}`:""}`)}async getPaymentsSummary(){return this.request("/admin/payments/summary")}async getPaymentDetails(s,n){return this.request(`/admin/payments/${s}/${n}`)}async getAdminInvoices(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.status&&n.append("status",s.status),s!=null&&s.institution&&n.append("institution",s.institution);const r=n.toString();return this.request(`/admin/invoices${r?`?${r}`:""}`)}async getInstitutionStudents(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.payment_status&&n.append("payment_status",s.payment_status),(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString();return this.request(`/institution/students${r?`?${r}`:""}`)}async getInstitutionPayments(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.status&&n.append("status",s.status),(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString();return this.request(`/institution/payments${r?`?${r}`:""}`)}async getInstitutionSponsorships(){return this.request("/institution/sponsorships")}async getInstitutionStats(){return this.request("/institution/stats")}async getInstitutionSports(s){const n=new URLSearchParams;(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString()),s!=null&&s.sport_type&&n.append("sport_type",s.sport_type);const r=n.toString();return this.request(`/institution/sports${r?`?${r}`:""}`)}async getAvailableSports(){return this.request("/institution/sports/available")}async getAdminSports(s){console.log(" getAdminSports called with params:",s);const n=new URLSearchParams;(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString(),a=await this.request(`/admin/sports${r?`?${r}`:""}`);return console.log(" getAdminSports result:",a),a}async addSubCategory(s,n){return this.request(`/sports/${s}/subcategories`,{method:"POST",body:JSON.stringify(n)})}async deleteSubCategory(s){return this.request(`/subcategories/${s}`,{method:"DELETE"})}async getAdminSponsorships(){return this.request("/admin/sponsorships")}async registerStudent(s){return this.request("/students/register",{method:"POST",body:JSON.stringify(s)})}async getStudentByUserId(s){return this.request(`/students/user/${s}`)}async addStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"POST",body:JSON.stringify({selectedSports:n})})}async updateStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"PUT",body:JSON.stringify({selectedSports:n})})}async removeStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"DELETE",body:JSON.stringify({sportIds:n})})}async getStudentSports(s){return this.request(`/students/${s}/sports`)}async removeStudentFromSport(s,n){return this.request(`/students/${s}/sports/${n}`,{method:"DELETE"})}async removeStudentFromCategory(s,n){return this.request(`/students/${s}/categories/${n}`,{method:"DELETE"})}async getStudentsBySport(s){return this.request(`/sports/${s}/students`)}async getInstitutionSports(){return this.request("/sports/institution/sports")}async getInstitutionStudents(){return this.request("/students/institution/students")}async addSportCategory(s,n){return this.request(`/sports/${s}/categories`,{method:"POST",body:JSON.stringify(n)})}async addSportSubCategory(s,n){return this.request(`/categories/${s}/subcategories`,{method:"POST",body:JSON.stringify(n)})}async deleteSportCategory(s){return this.request(`/categories/${s}`,{method:"DELETE"})}async deleteSportSubCategory(s){return this.request(`/subcategories/${s}`,{method:"DELETE"})}async assignStudentsToSport(s,n){return this.request(`/sports/${s}/assign-students`,{method:"POST",body:JSON.stringify(n)})}async getSponsors(){return this.request("/sponsors")}async createSponsor(s){return this.request("/sponsors",{method:"POST",body:JSON.stringify(s)})}async updateSponsor(s,n){return this.request(`/sponsors/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSponsor(s){return this.request(`/sponsors/${s}`,{method:"DELETE"})}async getInstituteSponsorships(s){const n=s?`?institute_id=${s}`:"";return this.request(`/sponsorships${n}`)}async createInstituteSponsorship(s){return this.request("/sponsorships",{method:"POST",body:JSON.stringify(s)})}async updateInstituteSponsorship(s,n){return this.request(`/sponsorships/${s}`,{method:"PUT",body:JSON.stringify(n)})}async getSponsorAlignments(){return this.request("/sponsor-alignments")}async createSponsorAlignment(s){return this.request("/sponsor-alignments",{method:"POST",body:JSON.stringify(s)})}async getFees(s){const n=s?`?sport_id=${s}`:"";return this.request(`/fees${n}`)}async createFee(s){return this.request("/fees",{method:"POST",body:JSON.stringify(s)})}async updateFee(s,n){return this.request(`/fees/${s}`,{method:"PUT",body:JSON.stringify(n)})}async getSportInfo(s){const n=s?`?sport_id=${s}`:"";return this.request(`/sport-info${n}`)}async createSportInfo(s){return this.request("/sport-info",{method:"POST",body:JSON.stringify(s)})}async updateSportInfo(s,n){return this.request(`/sport-info/${s}`,{method:"PUT",body:JSON.stringify(n)})}async assignStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"POST",body:JSON.stringify(n)})}async saveStudentRegistrationProgress(s){return this.request("/registration/student/progress",{method:"POST",body:JSON.stringify(s)})}async getStudentRegistrationProgress(s){return this.request(`/registration/student/progress/${s}`,{method:"GET"})}async getCompleteStudentData(s){return this.request(`/students/complete-data/${s}`,{method:"GET"})}async deleteStudentRegistrationProgress(s){return this.request(`/registration/student/progress/${s}`,{method:"DELETE"})}async saveInstitutionRegistrationProgress(s){return this.request("/registration/institution/progress",{method:"POST",body:JSON.stringify(s)})}async getInstitutionRegistrationProgress(s){return this.request(`/registration/institution/progress/${s}`,{method:"GET"})}async deleteInstitutionRegistrationProgress(s){return this.request(`/registration/institution/progress/${s}`,{method:"DELETE"})}async savePersonalDetails(s){return this.request("/students/personal-details",{method:"POST",body:JSON.stringify(s)})}async saveDocuments(s){return this.request("/students/documents",{method:"POST",body:JSON.stringify(s)})}async saveParentMedical(s){return this.request("/students/parent-medical",{method:"POST",body:JSON.stringify(s)})}async saveSportsSelection(s){return this.request("/students/sports-selection",{method:"POST",body:JSON.stringify(s)})}async saveSportAssignments(s){return this.request("/sports/sport-assignments",{method:"POST",body:JSON.stringify(s)})}async completeRegistration(s){return this.request("/students/complete-registration",{method:"POST",body:JSON.stringify(s)})}async createPaymentRequest(s){return this.request("/students/payment-request",{method:"POST",body:JSON.stringify(s)})}async getInstituteTypes(){return this.request("/public/institute-types")}async getInstitutesPublic(s){const n=s?`?institute_type=${s}`:"";return this.request(`/public/institutes${n}`)}async getSportsPublic(s){const r=`/public/sports${s?`?sport_type=${s}`:""}`;return console.log(" API Call - getSportsPublic:",r),this.request(r)}async getSportCategoriesPublic(s){return this.request(`/public/sports/${s}/categories`)}async getSubCategoriesPublic(s,n){return this.request(`/public/sports/${s}/categories/${n}/sub-categories`)}async getSubCategoriesBySport(s,n){return this.getSubCategoriesPublic(s,n)}async uploadDocuments(s,n,r){const a=new FormData;return a.append("email",s),n&&a.append("student_id_image",n),r&&a.append("age_proof_document",r),this.request("/documents/upload-documents",{method:"POST",body:a})}async calculateTotalFees(s){return this.request("/fee-calculation/calculate-total-fees",{method:"POST",body:JSON.stringify(s)})}async getStudentDocuments(s){return this.request(`/documents/${s}`)}async downloadDocument(s,n){return this.request(`/documents/${s}/download/${n}`,{method:"GET"})}async getFeeRules(s,n){const r=new URLSearchParams;return s&&r.append("sport_id",s.toString()),n!==void 0&&r.append("discipline_count",n.toString()),this.request(`/fees/fee-rules?${r.toString()}`)}async getFeeRulesBySport(s){return this.request(`/fees/fee-rules/sport/${s}`)}async createFeeRule(s,n,r){return this.request("/fees/fee-rules",{method:"POST",body:JSON.stringify({sportId:s,disciplineCount:n,fee:r})})}async updateFeeRule(s,n){return this.request(`/fees/fee-rules/${s}`,{method:"PUT",body:JSON.stringify({fee:n})})}async deleteFeeRule(s){return this.request(`/fees/fee-rules/${s}`,{method:"DELETE"})}async calculateFee(s,n){return this.request(`/fees/calculate-fee?sport_id=${s}&discipline_count=${n}`)}async getParentPasses(s,n){const r=new URLSearchParams;return s!==void 0&&r.append("category",s.toString()),n&&r.append("pass_type",n),this.request(`/parent-passes?${r.toString()}`)}async getParentPassesByCategory(s){return this.request(`/parent-passes/category/${s}`)}async getCurrentPricing(s){return this.request(`/parent-passes/current-pricing?category=${s}`)}async createParentPass(s,n,r,a){return this.request("/parent-passes",{method:"POST",body:JSON.stringify({category:s,amount:n,passType:r,passDate:a})})}async updateParentPass(s,n){return this.request(`/parent-passes/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteParentPass(s){return this.request(`/parent-passes/${s}`,{method:"DELETE"})}async getPricingSummary(){return this.request("/parent-passes/pricing-summary")}async getGenderOptions(){return this.request("/public/gender-options")}async calculateTotalFees(s){return this.request("/fee-calculation/calculate-total-fees",{method:"POST",body:JSON.stringify(s)})}async clearOTPForEmail(s){return this.request("/otp/clear",{method:"POST",body:JSON.stringify({email:s})})}async clearAllOTPs(){return this.request("/otp/clear-all",{method:"POST"})}async validateRegistrationEmail(s){return this.request("/checkpoint/validate-email",{method:"POST",body:JSON.stringify({email:s})})}async saveRegistrationCheckpoint(s,n,r){return this.request("/checkpoint/save",{method:"POST",body:JSON.stringify({email:s,step:n,data:r})})}async loadRegistrationCheckpoint(s){return this.request(`/checkpoint/load/${s}`)}async createSponsorshipRequest(s){return this.request("/payment/institute/sponsorship-request",{method:"POST",body:JSON.stringify(s)})}async createStudentPaymentRequests(s){return this.request("/payment/institute/student-payment-requests",{method:"POST",body:JSON.stringify(s)})}async createInstitutePaymentRequest(s){return this.request("/payment/institute/payment-request",{method:"POST",body:JSON.stringify(s)})}async createStudentsFromInstitution(s){return this.request("/payment/students/create-from-institution",{method:"POST",body:JSON.stringify(s)})}async calculateInstitutionFees(s){return this.request("/fee-calculation/calculate-institution-fees",{method:"POST",body:JSON.stringify(s)})}async clearRegistrationCheckpoint(s){return this.request(`/checkpoint/clear/${s}`,{method:"DELETE"})}async getStudentDashboard(){return this.request("/students/dashboard")}async getStudentRegistrations(){return this.request("/students/dashboard")}async getStudentPaymentInfo(s){return this.request(`/students/public/${s}/payment-info`)}async getStudentProfile(){return this.request("/auth/me/student")}async processStudentPayment(s,n){return this.request(`/payments/institution/students/${s}/payment`,{method:"POST",body:JSON.stringify(n)})}async sendPaymentLinkToStudent(s,n){return this.request(`/payments/institution/students/${s}/send-payment-link`,{method:"POST",body:JSON.stringify(n)})}async getStudentPaymentStatus(s){return this.request(`/payments/institution/students/${s}/payment-status`)}async updatePaymentStatus(s,n,r){return this.request(`/admin/payments/${s}/${n}/status`,{method:"PUT",body:JSON.stringify({status:r})})}async getAdminInstitutionDetails(s){return this.request(`/admin/institutions/${s}`)}async updateInstitution(s,n){return this.request(`/admin/institutions/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteInstitution(s){return this.request(`/admin/institutions/${s}`,{method:"DELETE"})}async getInstitutionSports(s){return this.request(`/admin/institutions/${s}/sports`)}async getInstitutionStudents(s){const n=new URLSearchParams;return n.append("institution_id",s.institution_id.toString()),s.limit&&n.append("limit",s.limit.toString()),this.request(`/admin/students?${n.toString()}`)}async sendStudentLoginOTP(s){return this.request("/otp/send/student",{method:"POST",body:JSON.stringify(s)})}async getInstitutionProfile(){return this.request("/auth/me/institute")}async getStudentPrefillData(s){return this.request(`/students/prefill/${s}`)}async updateInstitutionProfile(s){return this.request("/institutes/profile",{method:"PUT",body:JSON.stringify(s)})}async addInstitutionSport(s){return this.request("/admin/institutions/sports",{method:"POST",body:JSON.stringify(s)})}async addInstitutionStudent(s){return this.request("/admin/institutions/students",{method:"POST",body:JSON.stringify(s)})}async getStudentDocuments(s){return this.request(`/documents/documents/${s}`)}async downloadDocument(s,n){const r=`${this.baseURL}/documents/documents/${s}/download/${n}`,a=localStorage.getItem("authToken"),i={};a&&(i.Authorization=`Bearer ${a}`);const o=await fetch(r,{method:"GET",headers:i});if(!o.ok)throw new Error(`Failed to download document: ${o.statusText}`);return o}}const Z=new R_,c0=c.createContext(void 0),qt=()=>{const t=c.useContext(c0);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},__=({children:t})=>{const[s,n]=c.useState(()=>{const p=localStorage.getItem("student");if(p)try{return JSON.parse(p)}catch(x){return console.error("Error parsing stored student on init:",x),localStorage.removeItem("student"),localStorage.removeItem("authToken"),localStorage.removeItem("adminSession"),localStorage.removeItem("institutionSession"),null}return null}),[r,a]=c.useState(()=>!!localStorage.getItem("student"));c.useEffect(()=>{const p=localStorage.getItem("student");if(p&&!s)try{const x=JSON.parse(p);n(x),a(!0)}catch(x){console.error("Error parsing stored student in useEffect:",x),localStorage.removeItem("student"),localStorage.removeItem("authToken"),localStorage.removeItem("adminSession"),localStorage.removeItem("institutionSession"),a(!1)}else!p&&s&&(n(null),a(!1))},[s]);const m={student:s,isAuthenticated:r,login:async(p,x)=>{var S,y;try{const j=await Z.adminLogin(p,x);if(console.log("Admin login response:",j),console.log("Response data:",j.data),j.data&&typeof j.data=="object"){const f=j.data;if(console.log("Response data.data:",f.data),console.log("Access token:",(S=f.data)==null?void 0:S.access_token),f.success){if((y=f.data)!=null&&y.access_token)localStorage.setItem("authToken",f.data.access_token),console.log("Auth token stored successfully:",f.data.access_token.substring(0,50)+"...");else return console.error("No access token in admin response:",j),!1;const N={id:0,fname:"Admin",lname:"User",email:p,dob:"",gender:"Other",fullName:"Admin User",instituteName:"System Administration",student_id:"ADMIN",isEmailVerified:!0};return n(N),a(!0),localStorage.setItem("student",JSON.stringify(N)),localStorage.setItem("adminSession",JSON.stringify({email:p,role:"admin"})),!0}else return console.log("Admin login failed:",f.message),!1}const v=await Z.studentLogin(p,x);if(v.data&&typeof v.data=="object"){const f=v.data,N={id:f.id||0,fname:f.fname||"",mname:f.mname||"",lname:f.lname||"",email:f.email||"",dob:f.dob||"",gender:f.gender||"Other",phone:f.phone||"",address:f.address||"",institute_id:f.institute_id||0,student_id:f.student_id||"",fullName:`${f.fname||""} ${f.mname||""} ${f.lname||""}`.trim(),dateOfBirth:f.dob||"",isEmailVerified:!0};return n(N),a(!0),localStorage.setItem("student",JSON.stringify(N)),!0}return!1}catch(j){return console.error("Login failed:",j),!1}},loginWithOTP:async p=>{var x,S;try{console.log("OTP login with user data:",p),p.access_token&&(localStorage.setItem("authToken",p.access_token),console.log("Auth token stored successfully:",p.access_token.substring(0,50)+"..."));const y={id:p.user_id||0,fname:((x=p.full_name)==null?void 0:x.split(" ")[0])||"User",lname:((S=p.full_name)==null?void 0:S.split(" ").slice(1).join(" "))||"",email:p.email||"",dob:"",gender:"Other",phone:"",address:"",institute_id:0,student_id:p.student_id||"",fullName:p.full_name||"User",instituteName:p.role==="institution"?"Institution":"Student",isEmailVerified:p.is_verified||!0};return n(y),a(!0),localStorage.setItem("student",JSON.stringify(y)),p.role==="institution"&&localStorage.setItem("institutionSession",JSON.stringify({email:p.email,role:"institution"})),console.log("OTP login successful for:",p.role),!0}catch(y){return console.error("OTP login failed:",y),!1}},register:async p=>{var x,S;try{const y={fname:p.fname||((x=p.fullName)==null?void 0:x.split(" ")[0])||"",mname:p.mname||"",lname:p.lname||((S=p.fullName)==null?void 0:S.split(" ").slice(1).join(" "))||"",email:p.email,dob:p.dob||p.dateOfBirth||"",gender:p.gender||"Other",phone:p.phone||"",address:p.address||"",student_id:p.student_id||"",institute_id:p.institute_id,password:p.password},j=await Z.createStudent(y);return j.data&&typeof j.data=="object"&&j.data.success||!1}catch(y){return console.error("Registration failed:",y),!1}},logout:async()=>{try{await Z.logout()}catch(p){console.error("Logout error:",p)}finally{n(null),a(!1),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(p=>{const x=p.indexOf("="),S=x>-1?p.substr(0,x):p;document.cookie=S+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/",document.cookie=S+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain="+window.location.hostname,document.cookie=S+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=."+window.location.hostname})}},updateProfile:p=>{if(s){const x={...s,...p};n(x),localStorage.setItem("student",JSON.stringify(x))}},checkAuthStatus:()=>{const p=localStorage.getItem("student"),x=localStorage.getItem("authToken");if(!p||!x)return n(null),a(!1),!1;try{const S=JSON.parse(p);return!S||!S.email?(n(null),a(!1),!1):(n(S),a(!0),!0)}catch(S){return console.error("Error parsing stored student in checkAuthStatus:",S),n(null),a(!1),!1}}};return e.jsx(c0.Provider,{value:m,children:t})},rf=ga("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=c.forwardRef(({className:t,variant:s,size:n,asChild:r=!1,...a},i)=>{const o=r?vi:"button";return e.jsx(o,{className:de(rf({variant:s,size:n,className:t})),ref:i,...a})});F.displayName="Button";const te=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:de("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));te.displayName="Card";const le=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",t),...s}));le.displayName="CardHeader";const ce=c.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight",t),...s}));ce.displayName="CardTitle";const Re=c.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",t),...s}));Re.displayName="CardDescription";const se=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:de("p-6 pt-0",t),...s}));se.displayName="CardContent";const T_=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",t),...s}));T_.displayName="CardFooter";const D=c.forwardRef(({className:t,type:s,...n},r)=>e.jsx("input",{type:s,className:de("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));D.displayName="Input";var k_="Label",d0=c.forwardRef((t,s)=>e.jsx(Ee.label,{...t,ref:s,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));d0.displayName=k_;var u0=d0;const M_=ga("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=c.forwardRef(({className:t,...s},n)=>e.jsx(u0,{ref:n,className:de(M_(),t),...s}));E.displayName=u0.displayName;function jh(t,[s,n]){return Math.min(n,Math.max(s,t))}var O_=c.createContext(void 0);function Ei(t){const s=c.useContext(O_);return t||s||"ltr"}var Qu=0;function af(){c.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_g()),document.body.insertAdjacentElement("beforeend",t[1]??_g()),Qu++,()=>{Qu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Qu--}},[])}function _g(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xu="focusScope.autoFocusOnMount",Zu="focusScope.autoFocusOnUnmount",Tg={bubbles:!1,cancelable:!0},F_="FocusScope",kd=c.forwardRef((t,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,d]=c.useState(null),u=ft(a),h=ft(i),m=c.useRef(null),p=Te(s,y=>d(y)),x=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let y=function(N){if(x.paused||!l)return;const C=N.target;l.contains(C)?m.current=C:sr(m.current,{select:!0})},j=function(N){if(x.paused||!l)return;const C=N.relatedTarget;C!==null&&(l.contains(C)||sr(m.current,{select:!0}))},v=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&sr(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",j);const f=new MutationObserver(v);return l&&f.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),f.disconnect()}}},[r,l,x.paused]),c.useEffect(()=>{if(l){Mg.add(x);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(Xu,Tg);l.addEventListener(Xu,u),l.dispatchEvent(v),v.defaultPrevented||(D_(z_(m0(l)),{select:!0}),document.activeElement===y&&sr(l))}return()=>{l.removeEventListener(Xu,u),setTimeout(()=>{const v=new CustomEvent(Zu,Tg);l.addEventListener(Zu,h),l.dispatchEvent(v),v.defaultPrevented||sr(y??document.body,{select:!0}),l.removeEventListener(Zu,h),Mg.remove(x)},0)}}},[l,u,h,x]);const S=c.useCallback(y=>{if(!n&&!r||x.paused)return;const j=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(j&&v){const f=y.currentTarget,[N,C]=L_(f);N&&C?!y.shiftKey&&v===C?(y.preventDefault(),n&&sr(N,{select:!0})):y.shiftKey&&v===N&&(y.preventDefault(),n&&sr(C,{select:!0})):v===f&&y.preventDefault()}},[n,r,x.paused]);return e.jsx(Ee.div,{tabIndex:-1,...o,ref:p,onKeyDown:S})});kd.displayName=F_;function D_(t,{select:s=!1}={}){const n=document.activeElement;for(const r of t)if(sr(r,{select:s}),document.activeElement!==n)return}function L_(t){const s=m0(t),n=kg(s,t),r=kg(s.reverse(),t);return[n,r]}function m0(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function kg(t,s){for(const n of t)if(!$_(n,{upTo:s}))return n}function $_(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U_(t){return t instanceof HTMLInputElement&&"select"in t}function sr(t,{select:s=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U_(t)&&s&&t.select()}}var Mg=B_();function B_(){let t=[];return{add(s){const n=t[0];s!==n&&(n==null||n.pause()),t=Og(t,s),t.unshift(s)},remove(s){var n;t=Og(t,s),(n=t[0])==null||n.resume()}}}function Og(t,s){const n=[...t],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function z_(t){return t.filter(s=>s.tagName!=="A")}function of(t){const s=c.useRef({value:t,previous:t});return c.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var V_=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},ba=new WeakMap,Ll=new WeakMap,$l={},em=0,h0=function(t){return t&&(t.host||h0(t.parentNode))},q_=function(t,s){return s.map(function(n){if(t.contains(n))return n;var r=h0(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},G_=function(t,s,n,r){var a=q_(s,Array.isArray(t)?t:[t]);$l[n]||($l[n]=new WeakMap);var i=$l[n],o=[],l=new Set,d=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))h(p);else try{var x=p.getAttribute(r),S=x!==null&&x!=="false",y=(ba.get(p)||0)+1,j=(i.get(p)||0)+1;ba.set(p,y),i.set(p,j),o.push(p),y===1&&S&&Ll.set(p,!0),j===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return h(s),l.clear(),em++,function(){o.forEach(function(m){var p=ba.get(m)-1,x=i.get(m)-1;ba.set(m,p),i.set(m,x),p||(Ll.has(m)||m.removeAttribute(r),Ll.delete(m)),x||m.removeAttribute(n)}),em--,em||(ba=new WeakMap,ba=new WeakMap,Ll=new WeakMap,$l={})}},lf=function(t,s,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=V_(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),G_(r,a,n,"aria-hidden")):function(){return null}},un=function(){return un=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},un.apply(this,arguments)};function p0(t,s){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function H_(t,s,n){if(n||arguments.length===2)for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}var rc="right-scroll-bar-position",ac="width-before-scroll-bar",Y_="with-scroll-bars-hidden",W_="--removed-body-scroll-bar-size";function tm(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function K_(t,s){var n=c.useState(function(){return{value:t,callback:s,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=s,n.facade}var J_=typeof window<"u"?c.useLayoutEffect:c.useEffect,Fg=new WeakMap;function Q_(t,s){var n=K_(null,function(r){return t.forEach(function(a){return tm(a,r)})});return J_(function(){var r=Fg.get(n);if(r){var a=new Set(r),i=new Set(t),o=n.current;a.forEach(function(l){i.has(l)||tm(l,null)}),i.forEach(function(l){a.has(l)||tm(l,o)})}Fg.set(n,t)},[t]),n}function X_(t){return t}function Z_(t,s){s===void 0&&(s=X_);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=s(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var d=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return a}function eT(t){t===void 0&&(t={});var s=Z_(null);return s.options=un({async:!0,ssr:!1},t),s}var f0=function(t){var s=t.sideCar,n=p0(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,un({},n))};f0.isSideCarExport=!0;function tT(t,s){return t.useMedium(s),f0}var x0=eT(),sm=function(){},Md=c.forwardRef(function(t,s){var n=c.useRef(null),r=c.useState({onScrollCapture:sm,onWheelCapture:sm,onTouchMoveCapture:sm}),a=r[0],i=r[1],o=t.forwardProps,l=t.children,d=t.className,u=t.removeScrollBar,h=t.enabled,m=t.shards,p=t.sideCar,x=t.noRelative,S=t.noIsolation,y=t.inert,j=t.allowPinchZoom,v=t.as,f=v===void 0?"div":v,N=t.gapMode,C=p0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,R=Q_([n,s]),g=un(un({},C),a);return c.createElement(c.Fragment,null,h&&c.createElement(P,{sideCar:x0,removeScrollBar:u,shards:m,noRelative:x,noIsolation:S,inert:y,setCallbacks:i,allowPinchZoom:!!j,lockRef:n,gapMode:N}),o?c.cloneElement(c.Children.only(l),un(un({},g),{ref:R})):c.createElement(f,un({},g,{className:d,ref:R}),l))});Md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Md.classNames={fullWidth:ac,zeroRight:rc};var sT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nT(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=sT();return s&&t.setAttribute("nonce",s),t}function rT(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function aT(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var iT=function(){var t=0,s=null;return{add:function(n){t==0&&(s=nT())&&(rT(s,n),aT(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},oT=function(){var t=iT();return function(s,n){c.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&n])}},g0=function(){var t=oT(),s=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return s},lT={left:0,top:0,right:0,gap:0},nm=function(t){return parseInt(t||"",10)||0},cT=function(t){var s=window.getComputedStyle(document.body),n=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[nm(n),nm(r),nm(a)]},dT=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lT;var s=cT(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-n+s[2]-s[0])}},uT=g0(),Ha="data-scroll-locked",mT=function(t,s,n,r){var a=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Y_,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rc,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ac,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(rc," .").concat(rc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ac," .").concat(ac,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ha,`] {
    `).concat(W_,": ").concat(l,`px;
  }
`)},Dg=function(){var t=parseInt(document.body.getAttribute(Ha)||"0",10);return isFinite(t)?t:0},hT=function(){c.useEffect(function(){return document.body.setAttribute(Ha,(Dg()+1).toString()),function(){var t=Dg()-1;t<=0?document.body.removeAttribute(Ha):document.body.setAttribute(Ha,t.toString())}},[])},pT=function(t){var s=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;hT();var i=c.useMemo(function(){return dT(a)},[a]);return c.createElement(uT,{styles:mT(i,!s,a,n?"":"!important")})},Nh=!1;if(typeof window<"u")try{var Ul=Object.defineProperty({},"passive",{get:function(){return Nh=!0,!0}});window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Nh=!1}var wa=Nh?{passive:!1}:!1,fT=function(t){return t.tagName==="TEXTAREA"},v0=function(t,s){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!fT(t)&&n[s]==="visible")},xT=function(t){return v0(t,"overflowY")},gT=function(t){return v0(t,"overflowX")},Lg=function(t,s){var n=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=y0(t,r);if(a){var i=j0(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},vT=function(t){var s=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[s,n,r]},yT=function(t){var s=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[s,n,r]},y0=function(t,s){return t==="v"?xT(s):gT(s)},j0=function(t,s){return t==="v"?vT(s):yT(s)},jT=function(t,s){return t==="h"&&s==="rtl"?-1:1},NT=function(t,s,n,r,a){var i=jT(t,window.getComputedStyle(s).direction),o=i*r,l=n.target,d=s.contains(l),u=!1,h=o>0,m=0,p=0;do{if(!l)break;var x=j0(t,l),S=x[0],y=x[1],j=x[2],v=y-j-i*S;(S||v)&&y0(t,l)&&(m+=v,p+=S);var f=l.parentNode;l=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!d&&l!==document.body||d&&(s.contains(l)||s===l));return(h&&Math.abs(m)<1||!h&&Math.abs(p)<1)&&(u=!0),u},Bl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},$g=function(t){return[t.deltaX,t.deltaY]},Ug=function(t){return t&&"current"in t?t.current:t},ST=function(t,s){return t[0]===s[0]&&t[1]===s[1]},bT=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wT=0,Ca=[];function CT(t){var s=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),a=c.useState(wT++)[0],i=c.useState(g0)[0],o=c.useRef(t);c.useEffect(function(){o.current=t},[t]),c.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var y=H_([t.lockRef.current],(t.shards||[]).map(Ug),!0).filter(Boolean);return y.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=c.useCallback(function(y,j){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=Bl(y),f=n.current,N="deltaX"in y?y.deltaX:f[0]-v[0],C="deltaY"in y?y.deltaY:f[1]-v[1],P,R=y.target,g=Math.abs(N)>Math.abs(C)?"h":"v";if("touches"in y&&g==="h"&&R.type==="range")return!1;var A=Lg(g,R);if(!A)return!0;if(A?P=g:(P=g==="v"?"h":"v",A=Lg(g,R)),!A)return!1;if(!r.current&&"changedTouches"in y&&(N||C)&&(r.current=P),!P)return!0;var _=r.current||P;return NT(_,j,y,_==="h"?N:C)},[]),d=c.useCallback(function(y){var j=y;if(!(!Ca.length||Ca[Ca.length-1]!==i)){var v="deltaY"in j?$g(j):Bl(j),f=s.current.filter(function(P){return P.name===j.type&&(P.target===j.target||j.target===P.shadowParent)&&ST(P.delta,v)})[0];if(f&&f.should){j.cancelable&&j.preventDefault();return}if(!f){var N=(o.current.shards||[]).map(Ug).filter(Boolean).filter(function(P){return P.contains(j.target)}),C=N.length>0?l(j,N[0]):!o.current.noIsolation;C&&j.cancelable&&j.preventDefault()}}},[]),u=c.useCallback(function(y,j,v,f){var N={name:y,delta:j,target:v,should:f,shadowParent:PT(v)};s.current.push(N),setTimeout(function(){s.current=s.current.filter(function(C){return C!==N})},1)},[]),h=c.useCallback(function(y){n.current=Bl(y),r.current=void 0},[]),m=c.useCallback(function(y){u(y.type,$g(y),y.target,l(y,t.lockRef.current))},[]),p=c.useCallback(function(y){u(y.type,Bl(y),y.target,l(y,t.lockRef.current))},[]);c.useEffect(function(){return Ca.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",d,wa),document.addEventListener("touchmove",d,wa),document.addEventListener("touchstart",h,wa),function(){Ca=Ca.filter(function(y){return y!==i}),document.removeEventListener("wheel",d,wa),document.removeEventListener("touchmove",d,wa),document.removeEventListener("touchstart",h,wa)}},[]);var x=t.removeScrollBar,S=t.inert;return c.createElement(c.Fragment,null,S?c.createElement(i,{styles:bT(a)}):null,x?c.createElement(pT,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function PT(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const ET=tT(x0,CT);var Od=c.forwardRef(function(t,s){return c.createElement(Md,un({},t,{ref:s,sideCar:ET}))});Od.classNames=Md.classNames;var AT=[" ","Enter","ArrowUp","ArrowDown"],IT=[" ","Enter"],da="Select",[Fd,Dd,RT]=pd(da),[Ai]=Vt(da,[RT,wi]),Ld=wi(),[_T,Dr]=Ai(da),[TT,kT]=Ai(da),N0=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:m,disabled:p,required:x,form:S}=t,y=Ld(s),[j,v]=c.useState(null),[f,N]=c.useState(null),[C,P]=c.useState(!1),R=Ei(u),[g,A]=vn({prop:r,defaultProp:a??!1,onChange:i,caller:da}),[_,w]=vn({prop:o,defaultProp:l,onChange:d,caller:da}),b=c.useRef(null),I=j?S||!!j.closest("form"):!0,[k,O]=c.useState(new Set),U=Array.from(k).map(V=>V.props.value).join(";");return e.jsx(Yp,{...y,children:e.jsxs(_T,{required:x,scope:s,trigger:j,onTriggerChange:v,valueNode:f,onValueNodeChange:N,valueNodeHasChildren:C,onValueNodeHasChildrenChange:P,contentId:Ws(),value:_,onValueChange:w,open:g,onOpenChange:A,dir:R,triggerPointerDownPosRef:b,disabled:p,children:[e.jsx(Fd.Provider,{scope:s,children:e.jsx(TT,{scope:t.__scopeSelect,onNativeOptionAdd:c.useCallback(V=>{O(B=>new Set(B).add(V))},[]),onNativeOptionRemove:c.useCallback(V=>{O(B=>{const H=new Set(B);return H.delete(V),H})},[]),children:n})}),I?e.jsxs(G0,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:m,value:_,onChange:V=>w(V.target.value),disabled:p,form:S,children:[_===void 0?e.jsx("option",{value:""}):null,Array.from(k)]},U):null]})})};N0.displayName=da;var S0="SelectTrigger",b0=c.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,i=Ld(n),o=Dr(S0,n),l=o.disabled||r,d=Te(s,o.onTriggerChange),u=Dd(n),h=c.useRef("touch"),[m,p,x]=Y0(y=>{const j=u().filter(N=>!N.disabled),v=j.find(N=>N.value===o.value),f=W0(j,y,v);f!==void 0&&o.onValueChange(f.value)}),S=y=>{l||(o.onOpenChange(!0),x()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(Wp,{asChild:!0,...i,children:e.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":H0(o.value)?"":void 0,...a,ref:d,onClick:ge(a.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&S(y)}),onPointerDown:ge(a.onPointerDown,y=>{h.current=y.pointerType;const j=y.target;j.hasPointerCapture(y.pointerId)&&j.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:ge(a.onKeyDown,y=>{const j=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(j&&y.key===" ")&&AT.includes(y.key)&&(S(),y.preventDefault())})})})});b0.displayName=S0;var w0="SelectValue",C0=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=t,d=Dr(w0,n),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,m=Te(s,d.onValueNodeChange);return yt(()=>{u(h)},[u,h]),e.jsx(Ee.span,{...l,ref:m,style:{pointerEvents:"none"},children:H0(d.value)?e.jsx(e.Fragment,{children:o}):i})});C0.displayName=w0;var MT="SelectIcon",P0=c.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...a}=t;return e.jsx(Ee.span,{"aria-hidden":!0,...a,ref:s,children:r||""})});P0.displayName=MT;var OT="SelectPortal",E0=t=>e.jsx(Wo,{asChild:!0,...t});E0.displayName=OT;var ua="SelectContent",A0=c.forwardRef((t,s)=>{const n=Dr(ua,t.__scopeSelect),[r,a]=c.useState();if(yt(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?xa.createPortal(e.jsx(I0,{scope:t.__scopeSelect,children:e.jsx(Fd.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(R0,{...t,ref:s})});A0.displayName=ua;var $s=10,[I0,Lr]=Ai(ua),FT="SelectContentImpl",DT=oa("SelectContent.RemoveScroll"),R0=c.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:S,hideWhenDetached:y,avoidCollisions:j,...v}=t,f=Dr(ua,n),[N,C]=c.useState(null),[P,R]=c.useState(null),g=Te(s,$=>C($)),[A,_]=c.useState(null),[w,b]=c.useState(null),I=Dd(n),[k,O]=c.useState(!1),U=c.useRef(!1);c.useEffect(()=>{if(N)return lf(N)},[N]),af();const V=c.useCallback($=>{const[T,...G]=I().map(z=>z.ref.current),[X]=G.slice(-1),Y=document.activeElement;for(const z of $)if(z===Y||(z==null||z.scrollIntoView({block:"nearest"}),z===T&&P&&(P.scrollTop=0),z===X&&P&&(P.scrollTop=P.scrollHeight),z==null||z.focus(),document.activeElement!==Y))return},[I,P]),B=c.useCallback(()=>V([A,N]),[V,A,N]);c.useEffect(()=>{k&&B()},[k,B]);const{onOpenChange:H,triggerPointerDownPosRef:q}=f;c.useEffect(()=>{if(N){let $={x:0,y:0};const T=X=>{var Y,z;$={x:Math.abs(Math.round(X.pageX)-(((Y=q.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(X.pageY)-(((z=q.current)==null?void 0:z.y)??0))}},G=X=>{$.x<=10&&$.y<=10?X.preventDefault():N.contains(X.target)||H(!1),document.removeEventListener("pointermove",T),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",G,{capture:!0})}}},[N,H,q]),c.useEffect(()=>{const $=()=>H(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[H]);const[re,Q]=Y0($=>{const T=I().filter(Y=>!Y.disabled),G=T.find(Y=>Y.ref.current===document.activeElement),X=W0(T,$,G);X&&setTimeout(()=>X.ref.current.focus())}),ie=c.useCallback(($,T,G)=>{const X=!U.current&&!G;(f.value!==void 0&&f.value===T||X)&&(_($),X&&(U.current=!0))},[f.value]),ue=c.useCallback(()=>N==null?void 0:N.focus(),[N]),L=c.useCallback(($,T,G)=>{const X=!U.current&&!G;(f.value!==void 0&&f.value===T||X)&&b($)},[f.value]),ee=r==="popper"?Sh:_0,ne=ee===Sh?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:p,collisionPadding:x,sticky:S,hideWhenDetached:y,avoidCollisions:j}:{};return e.jsx(I0,{scope:n,content:N,viewport:P,onViewportChange:R,itemRefCallback:ie,selectedItem:A,onItemLeave:ue,itemTextRefCallback:L,focusSelectedItem:B,selectedItemText:w,position:r,isPositioned:k,searchRef:re,children:e.jsx(Od,{as:DT,allowPinchZoom:!0,children:e.jsx(kd,{asChild:!0,trapped:f.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:ge(a,$=>{var T;(T=f.trigger)==null||T.focus({preventScroll:!0}),$.preventDefault()}),children:e.jsx(yi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(ee,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:$=>$.preventDefault(),...v,...ne,onPlaced:()=>O(!0),ref:g,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ge(v.onKeyDown,$=>{const T=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!T&&$.key.length===1&&Q($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let X=I().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes($.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const Y=$.target,z=X.indexOf(Y);X=X.slice(z+1)}setTimeout(()=>V(X)),$.preventDefault()}})})})})})})});R0.displayName=FT;var LT="SelectItemAlignedPosition",_0=c.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,i=Dr(ua,n),o=Lr(ua,n),[l,d]=c.useState(null),[u,h]=c.useState(null),m=Te(s,g=>h(g)),p=Dd(n),x=c.useRef(!1),S=c.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:v,focusSelectedItem:f}=o,N=c.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&j&&v){const g=i.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),w=v.getBoundingClientRect();if(i.dir!=="rtl"){const Y=w.left-A.left,z=_.left-Y,W=g.left-z,ae=g.width+W,Pe=Math.max(ae,A.width),Ae=window.innerWidth-$s,qe=jh(z,[$s,Math.max($s,Ae-Pe)]);l.style.minWidth=ae+"px",l.style.left=qe+"px"}else{const Y=A.right-w.right,z=window.innerWidth-_.right-Y,W=window.innerWidth-g.right-z,ae=g.width+W,Pe=Math.max(ae,A.width),Ae=window.innerWidth-$s,qe=jh(z,[$s,Math.max($s,Ae-Pe)]);l.style.minWidth=ae+"px",l.style.right=qe+"px"}const b=p(),I=window.innerHeight-$s*2,k=y.scrollHeight,O=window.getComputedStyle(u),U=parseInt(O.borderTopWidth,10),V=parseInt(O.paddingTop,10),B=parseInt(O.borderBottomWidth,10),H=parseInt(O.paddingBottom,10),q=U+V+k+H+B,re=Math.min(j.offsetHeight*5,q),Q=window.getComputedStyle(y),ie=parseInt(Q.paddingTop,10),ue=parseInt(Q.paddingBottom,10),L=g.top+g.height/2-$s,ee=I-L,ne=j.offsetHeight/2,$=j.offsetTop+ne,T=U+V+$,G=q-T;if(T<=L){const Y=b.length>0&&j===b[b.length-1].ref.current;l.style.bottom="0px";const z=u.clientHeight-y.offsetTop-y.offsetHeight,W=Math.max(ee,ne+(Y?ue:0)+z+B),ae=T+W;l.style.height=ae+"px"}else{const Y=b.length>0&&j===b[0].ref.current;l.style.top="0px";const W=Math.max(L,U+y.offsetTop+(Y?ie:0)+ne)+G;l.style.height=W+"px",y.scrollTop=T-L+y.offsetTop}l.style.margin=`${$s}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[p,i.trigger,i.valueNode,l,u,y,j,v,i.dir,r]);yt(()=>N(),[N]);const[C,P]=c.useState();yt(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const R=c.useCallback(g=>{g&&S.current===!0&&(N(),f==null||f(),S.current=!1)},[N,f]);return e.jsx(UT,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:R,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:e.jsx(Ee.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});_0.displayName=LT;var $T="SelectPopperPosition",Sh=c.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=$s,...i}=t,o=Ld(n);return e.jsx(Kp,{...o,...i,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sh.displayName=$T;var[UT,cf]=Ai(ua,{}),bh="SelectViewport",T0=c.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...a}=t,i=Lr(bh,n),o=cf(bh,n),l=Te(s,i.onViewportChange),d=c.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Fd.Slot,{scope:n,children:e.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ge(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&m){const x=Math.abs(d.current-h.scrollTop);if(x>0){const S=window.innerHeight-$s*2,y=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),v=Math.max(y,j);if(v<S){const f=v+x,N=Math.min(S,f),C=f-N;m.style.height=N+"px",m.style.bottom==="0px"&&(h.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});T0.displayName=bh;var k0="SelectGroup",[BT,zT]=Ai(k0),VT=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=Ws();return e.jsx(BT,{scope:n,id:a,children:e.jsx(Ee.div,{role:"group","aria-labelledby":a,...r,ref:s})})});VT.displayName=k0;var M0="SelectLabel",O0=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=zT(M0,n);return e.jsx(Ee.div,{id:a.id,...r,ref:s})});O0.displayName=M0;var Vc="SelectItem",[qT,F0]=Ai(Vc),D0=c.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=t,l=Dr(Vc,n),d=Lr(Vc,n),u=l.value===r,[h,m]=c.useState(i??""),[p,x]=c.useState(!1),S=Te(s,f=>{var N;return(N=d.itemRefCallback)==null?void 0:N.call(d,f,r,a)}),y=Ws(),j=c.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(qT,{scope:n,value:r,disabled:a,textId:y,isSelected:u,onItemTextChange:c.useCallback(f=>{m(N=>N||((f==null?void 0:f.textContent)??"").trim())},[]),children:e.jsx(Fd.ItemSlot,{scope:n,value:r,disabled:a,textValue:h,children:e.jsx(Ee.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:S,onFocus:ge(o.onFocus,()=>x(!0)),onBlur:ge(o.onBlur,()=>x(!1)),onClick:ge(o.onClick,()=>{j.current!=="mouse"&&v()}),onPointerUp:ge(o.onPointerUp,()=>{j.current==="mouse"&&v()}),onPointerDown:ge(o.onPointerDown,f=>{j.current=f.pointerType}),onPointerMove:ge(o.onPointerMove,f=>{var N;j.current=f.pointerType,a?(N=d.onItemLeave)==null||N.call(d):j.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(o.onPointerLeave,f=>{var N;f.currentTarget===document.activeElement&&((N=d.onItemLeave)==null||N.call(d))}),onKeyDown:ge(o.onKeyDown,f=>{var C;((C=d.searchRef)==null?void 0:C.current)!==""&&f.key===" "||(IT.includes(f.key)&&v(),f.key===" "&&f.preventDefault())})})})})});D0.displayName=Vc;var Yi="SelectItemText",L0=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=t,o=Dr(Yi,n),l=Lr(Yi,n),d=F0(Yi,n),u=kT(Yi,n),[h,m]=c.useState(null),p=Te(s,v=>m(v),d.onItemTextChange,v=>{var f;return(f=l.itemTextRefCallback)==null?void 0:f.call(l,v,d.value,d.disabled)}),x=h==null?void 0:h.textContent,S=c.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=u;return yt(()=>(y(S),()=>j(S)),[y,j,S]),e.jsxs(e.Fragment,{children:[e.jsx(Ee.span,{id:d.textId,...i,ref:p}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xa.createPortal(i.children,o.valueNode):null]})});L0.displayName=Yi;var $0="SelectItemIndicator",U0=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return F0($0,n).isSelected?e.jsx(Ee.span,{"aria-hidden":!0,...r,ref:s}):null});U0.displayName=$0;var wh="SelectScrollUpButton",B0=c.forwardRef((t,s)=>{const n=Lr(wh,t.__scopeSelect),r=cf(wh,t.__scopeSelect),[a,i]=c.useState(!1),o=Te(s,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(V0,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});B0.displayName=wh;var Ch="SelectScrollDownButton",z0=c.forwardRef((t,s)=>{const n=Lr(Ch,t.__scopeSelect),r=cf(Ch,t.__scopeSelect),[a,i]=c.useState(!1),o=Te(s,r.onScrollButtonChange);return yt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(V0,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});z0.displayName=Ch;var V0=c.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,i=Lr("SelectScrollButton",n),o=c.useRef(null),l=Dd(n),d=c.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),yt(()=>{var h;const u=l().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),e.jsx(Ee.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:ge(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ge(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ge(a.onPointerLeave,()=>{d()})})}),GT="SelectSeparator",q0=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx(Ee.div,{"aria-hidden":!0,...r,ref:s})});q0.displayName=GT;var Ph="SelectArrow",HT=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=Ld(n),i=Dr(Ph,n),o=Lr(Ph,n);return i.open&&o.position==="popper"?e.jsx(Jp,{...a,...r,ref:s}):null});HT.displayName=Ph;var YT="SelectBubbleInput",G0=c.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const a=c.useRef(null),i=Te(r,a),o=of(s);return c.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==s&&h){const m=new Event("change",{bubbles:!0});h.call(l,s),l.dispatchEvent(m)}},[o,s]),e.jsx(Ee.select,{...n,style:{...Aj,...n.style},ref:i,defaultValue:s})});G0.displayName=YT;function H0(t){return t===""||t===void 0}function Y0(t){const s=ft(t),n=c.useRef(""),r=c.useRef(0),a=c.useCallback(o=>{const l=n.current+o;s(l),function d(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(l)},[s]),i=c.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function W0(t,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let o=WT(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function WT(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var KT=N0,K0=b0,JT=C0,QT=P0,XT=E0,J0=A0,ZT=T0,Q0=O0,X0=D0,e4=L0,t4=U0,Z0=B0,eS=z0,tS=q0;const Ne=KT,Se=JT,ye=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(K0,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(QT,{asChild:!0,children:e.jsx(kc,{className:"h-4 w-4 opacity-50"})})]}));ye.displayName=K0.displayName;const sS=c.forwardRef(({className:t,...s},n)=>e.jsx(Z0,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(FP,{className:"h-4 w-4"})}));sS.displayName=Z0.displayName;const nS=c.forwardRef(({className:t,...s},n)=>e.jsx(eS,{ref:n,className:de("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(kc,{className:"h-4 w-4"})}));nS.displayName=eS.displayName;const je=c.forwardRef(({className:t,children:s,position:n="popper",...r},a)=>e.jsx(XT,{children:e.jsxs(J0,{ref:a,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(sS,{}),e.jsx(ZT,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(nS,{})]})}));je.displayName=J0.displayName;const s4=c.forwardRef(({className:t,...s},n)=>e.jsx(Q0,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));s4.displayName=Q0.displayName;const K=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(X0,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(t4,{children:e.jsx(gd,{className:"h-4 w-4"})})}),e.jsx(e4,{children:s})]}));K.displayName=X0.displayName;const n4=c.forwardRef(({className:t,...s},n)=>e.jsx(tS,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...s}));n4.displayName=tS.displayName;var $d="Checkbox",[r4]=Vt($d),[a4,df]=r4($d);function i4(t){const{__scopeCheckbox:s,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:d,required:u,value:h="on",internal_do_not_use_render:m}=t,[p,x]=vn({prop:n,defaultProp:a??!1,onChange:d,caller:$d}),[S,y]=c.useState(null),[j,v]=c.useState(null),f=c.useRef(!1),N=S?!!o||!!S.closest("form"):!0,C={checked:p,disabled:i,setChecked:x,control:S,setControl:y,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:f,required:u,defaultChecked:Ar(a)?!1:a,isFormControl:N,bubbleInput:j,setBubbleInput:v};return e.jsx(a4,{scope:s,...C,children:o4(m)?m(C):r})}var rS="CheckboxTrigger",aS=c.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:d,required:u,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:x,bubbleInput:S}=df(rS,t),y=Te(a,h),j=c.useRef(d);return c.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const f=()=>m(j.current);return v.addEventListener("reset",f),()=>v.removeEventListener("reset",f)}},[i,m]),e.jsx(Ee.button,{type:"button",role:"checkbox","aria-checked":Ar(d)?"mixed":d,"aria-required":u,"data-state":dS(d),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:y,onKeyDown:ge(s,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ge(n,v=>{m(f=>Ar(f)?!0:!f),S&&x&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});aS.displayName=rS;var uf=c.forwardRef((t,s)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:u,form:h,...m}=t;return e.jsx(i4,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:h,value:d,internal_do_not_use_render:({isFormControl:p})=>e.jsxs(e.Fragment,{children:[e.jsx(aS,{...m,ref:s,__scopeCheckbox:n}),p&&e.jsx(cS,{__scopeCheckbox:n})]})})});uf.displayName=$d;var iS="CheckboxIndicator",oS=c.forwardRef((t,s)=>{const{__scopeCheckbox:n,forceMount:r,...a}=t,i=df(iS,n);return e.jsx(Dt,{present:r||Ar(i.checked)||i.checked===!0,children:e.jsx(Ee.span,{"data-state":dS(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});oS.displayName=iS;var lS="CheckboxBubbleInput",cS=c.forwardRef(({__scopeCheckbox:t,...s},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:d,name:u,value:h,form:m,bubbleInput:p,setBubbleInput:x}=df(lS,t),S=Te(n,x),y=of(i),j=qp(r);c.useEffect(()=>{const f=p;if(!f)return;const N=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(N,"checked").set,R=!a.current;if(y!==i&&P){const g=new Event("click",{bubbles:R});f.indeterminate=Ar(i),P.call(f,Ar(i)?!1:i),f.dispatchEvent(g)}},[p,y,i,a]);const v=c.useRef(Ar(i)?!1:i);return e.jsx(Ee.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:d,name:u,value:h,form:m,...s,tabIndex:-1,ref:S,style:{...s.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});cS.displayName=lS;function o4(t){return typeof t=="function"}function Ar(t){return t==="indeterminate"}function dS(t){return Ar(t)?"indeterminate":t?"checked":"unchecked"}const Ps=c.forwardRef(({className:t,...s},n)=>e.jsx(uf,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(oS,{className:de("flex items-center justify-center text-current"),children:e.jsx(gd,{className:"h-4 w-4"})})}));Ps.displayName=uf.displayName;const at=c.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));at.displayName="Textarea";const l4=ga("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function he({className:t,variant:s,...n}){return e.jsx("div",{className:de(l4({variant:s}),t),...n})}const c4=ga("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),lt=c.forwardRef(({className:t,variant:s,...n},r)=>e.jsx("div",{ref:r,role:"alert",className:de(c4({variant:s}),t),...n}));lt.displayName="Alert";const d4=c.forwardRef(({className:t,...s},n)=>e.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",t),...s}));d4.displayName="AlertTitle";const ct=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed",t),...s}));ct.displayName="AlertDescription";const Ud="/assets/sports-hero-OvSH1ljx.jpg",u4=["University of Technology","State College of Engineering","National Institute of Sports","City University","Technical Institute","Other"],m4=["Badminton","Chess","Athletics","Swimming","Tennis","Table Tennis","Cycling","Boxing","Wrestling","Archery","Golf"],h4=["Football","Basketball","Volleyball","Cricket","Hockey","Rugby","Handball","Baseball","Water Polo","Kabaddi"],p4=()=>{const t=wt(),{register:s}=qt(),{toast:n}=_e(),[r,a]=c.useState(!1),[i,o]=c.useState(1),[l,d]=c.useState(!1),[u,h]=c.useState(!1),[m,p]=c.useState(""),[x,S]=c.useState(""),[y,j]=c.useState([]),[v,f]=c.useState([]),[N,C]=c.useState(!1),P=5,R=["Personal Details","Document Upload","Parent & Medical Info","Sports Selection","Review & Payment"],[g,A]=c.useState({email:"",firstName:"",middleName:"",lastName:"",dateOfBirth:"",gender:"",instituteName:"",otherInstitute:"",studentId:"",phone:"",address:"",participationType:"",selectedSports:[],documents:{studentIdImage:null,ageProofDocument:null},parentInfo:{parentsAttending:"no",parents:[]},medicalInfo:{medicalFacilities:"no",medicalFacilitiesDetails:"",allergiesConditions:"no",allergiesDetails:""},sportsSelection:{participationType:"",selectedSports:[]},paymentInfo:{amount:0,currency:"KES",status:"pending",paymentRequests:[]}}),[_,w]=c.useState({studentIdImage:null,ageProofImage:null,profilePicture:null,academicCertificate:null,sportsCertificate:null,medicalCertificate:null,parentIdProof:null,addressProof:null}),[b,I]=c.useState({waiver:!1,privacy:!1,declaration:!1}),k=async $=>{if(g.email)try{const T={email:g.email,current_phase:$,completed_phases:[...v,$],personal_details:$>=1?{fname:g.fname,mname:g.mname,lname:g.lname,email:g.email,dob:g.dob,gender:g.gender,instituteName:g.instituteName,otherInstitute:g.otherInstitute,student_id:g.student_id,phone:g.phone}:null,documents:$>=2?g.documents:null,parent_info:$>=3?g.parentInfo:null,medical_info:$>=3?g.medicalInfo:null,sports_selection:$>=4?g.sportsSelection:null,payment_info:$>=5?g.paymentInfo:null};await Z.saveStudentRegistrationProgress(T),f(G=>[...G,$]),n({title:"Progress Saved ",description:`Your progress for phase ${$} has been saved successfully.`})}catch(T){console.error("Error saving progress:",T),n({title:"Save Failed",description:"Failed to save your progress. Please try again.",variant:"destructive"})}},O=async $=>{if($){C(!0);try{const T=await Z.getCompleteStudentData($);if(T.data&&T.data.success){const Y=T.data.data;if(Y.student&&A(Pe=>{var Ae,qe;return{...Pe,firstName:Y.student.fname||"",middleName:Y.student.mname||"",lastName:Y.student.lname||"",email:Y.student.email||"",dateOfBirth:Y.student.dob||"",gender:Y.student.gender||"",phoneNumber:Y.student.phone||"",address:Y.student.address||"",studentId:Y.student.student_id||"",instituteName:((Ae=Y.institute)==null?void 0:Ae.name)||"",instituteType:((qe=Y.institute)==null?void 0:qe.type)||"",participationType:Y.student.participation_type||"",selectedSports:Y.student.selected_sports||[]}}),Y.documents&&A(Pe=>({...Pe,documents:{studentIdImage:{filename:Y.documents.student_id_filename,filetype:Y.documents.student_id_filetype},ageProofDocument:{filename:Y.documents.age_proof_filename,filetype:Y.documents.age_proof_filetype}}})),(Y.parent_info||Y.medical_info||Y.health_info)&&A(Pe=>{var Ae,qe,gt,M,J;return{...Pe,parentInfo:{parentsAttending:((Ae=Y.parent_info)==null?void 0:Ae.parents_coming)||"no",parents:Y.parent_info?[{name:Y.parent_info.name||"",relation:Y.parent_info.relation||"",phone:Y.parent_info.phone||"",email:Y.parent_info.email||"",age:Y.parent_info.age||0}]:[]},medicalInfo:{medicalFacilities:((qe=Y.medical_info)==null?void 0:qe.have_medinfo)||"no",medicalFacilitiesDetails:((gt=Y.medical_info)==null?void 0:gt.text)||"",allergiesConditions:((M=Y.health_info)==null?void 0:M.status)==="Yes"?"yes":"no",allergiesDetails:((J=Y.health_info)==null?void 0:J.text)||""}}}),Y.sport_assignments&&Y.sport_assignments.length>0&&A(Pe=>({...Pe,participationType:Y.student.participation_type||"",selectedSports:Y.student.selected_sports||[],sportsSelection:{participationType:Y.student.participation_type||"",selectedSports:Y.sport_assignments||[]}})),Y.payment_requests&&Y.payment_requests.length>0){const Pe=Y.payment_requests.reduce((qe,gt)=>qe+gt.amount,0),Ae=Y.registration_status.payment_completed;A(qe=>({...qe,paymentInfo:{amount:Pe,currency:"KES",status:Ae?"completed":"pending",paymentRequests:Y.payment_requests}}))}const z=Y.registration_status;let W=1;const ae=[];z.has_personal_details&&(ae.push(1),W=2),z.has_documents&&(ae.push(2),W=3),z.has_medical_info&&z.has_parent_info&&(ae.push(3),W=4),z.has_sports&&(ae.push(4),W=5),z.has_payment&&(ae.push(5),W=5),o(W),f(ae),n({title:"Data Loaded ",description:`Welcome back! Your registration data has been loaded. ${z.payment_completed?"Payment completed!":""}`});return}const X=(await Z.getStudentRegistrationProgress($)).data;X&&(X.personal_details&&A(Y=>({...Y,...X.personal_details})),X.documents&&A(Y=>({...Y,documents:X.documents})),X.parent_info&&A(Y=>({...Y,parentInfo:X.parent_info})),X.medical_info&&A(Y=>({...Y,medicalInfo:X.medical_info})),X.sports_selection&&A(Y=>({...Y,participationType:X.sports_selection.participationType||"",selectedSports:X.sports_selection.selectedSports||[],sportsSelection:X.sports_selection})),X.payment_info&&A(Y=>({...Y,paymentInfo:X.payment_info})),o(X.current_phase||1),f(X.completed_phases||[]),n({title:"Progress Loaded ",description:"Your previous registration progress has been loaded."}))}catch(T){console.error("Error loading progress:",T)}finally{C(!1)}}};c.useEffect(()=>{g.email&&O(g.email)},[g.email]);const U=($,T)=>{A(G=>({...G,[$]:T})),j([])},V=($,T)=>{w(G=>({...G,[$]:T})),j([])},B=$=>{A(T=>({...T,selectedSports:T.selectedSports.includes($)?T.selectedSports.filter(G=>G!==$):[...T.selectedSports,$]}))},H=$=>{const T=[];switch($){case 1:g.firstName||T.push("First Name is required"),g.lastName||T.push("Last Name is required"),g.email||T.push("Email Address is required"),g.dateOfBirth||T.push("Date of Birth is required"),g.gender||T.push("Gender is required"),g.instituteName||T.push("Institute is required"),g.studentId||T.push("Student ID is required"),g.phone||T.push("Phone Number is required"),l||T.push("Phone number must be verified");break;case 2:_.studentIdImage||T.push("Student ID Image is required"),_.ageProofImage||T.push("Age Proof Image is required");break;case 3:g.parentGuardianName||T.push("Parent/Guardian Name is required"),g.parentPhone||T.push("Parent/Guardian Phone is required"),g.parentEmail||T.push("Parent/Guardian Email is required");break;case 4:g.streetAddress||T.push("Street Address is required"),g.city||T.push("City is required"),g.state||T.push("State is required"),g.country||T.push("Country is required"),g.postalCode||T.push("Postal Code is required");break;case 5:g.emergencyContactName||T.push("Emergency Contact Name is required"),g.emergencyContactRelation||T.push("Relationship is required"),g.emergencyContactPhone||T.push("Emergency Contact Phone is required");break;case 6:g.medicalQuestion1||T.push("Medical Question 1 is required"),g.medicalQuestion2||T.push("Medical Question 2 is required");break;case 7:g.participationType||T.push("Participation Type is required"),g.selectedSports.length===0&&T.push("At least one sport must be selected");break;case 8:b.waiver||T.push("Waiver agreement is required");break;case 9:b.privacy||T.push("Privacy policy agreement is required");break;case 10:b.declaration||T.push("Declaration agreement is required");break}return T},q=async()=>{const $=H(i);if($.length>0){j($);return}j([]),await k(i),i<P&&o(i+1)},re=()=>{j([]),i>1&&o(i-1)},Q=$=>{$>=1&&$<=P&&(o($),j([]))},ie=async()=>{var $;if(!g.email){n({title:"Email Required",description:"Please enter your email address first.",variant:"destructive"});return}try{const G=(await Z.sendStudentOTP(g.email,"Student","registration")).data;S((($=G.data)==null?void 0:$.otp_id)||G.otp_id),h(!0),n({title:"OTP Sent! ",description:`Verification code sent to ${g.email}. Please check your email inbox.`})}catch{n({title:"Failed to Send OTP",description:"Please try again later.",variant:"destructive"})}},ue=async()=>{if(!m){n({title:"OTP Required",description:"Please enter the OTP code.",variant:"destructive"});return}try{const T=(await Z.verifyOTP(x,m)).data;d(!0),h(!1),n({title:"Phone Verified ",description:"Your phone number has been successfully verified."})}catch{n({title:"Invalid OTP",description:"Please check the OTP code and try again.",variant:"destructive"})}},L=()=>g.selectedSports.length*25,ee=async()=>{const $=H(i);if($.length>0){j($);return}a(!0);try{const T=g.instituteName==="Other"?g.otherInstitute:g.instituteName,G={fname:g.fname||g.firstName,mname:g.mname||g.middleName||null,lname:g.lname||g.lastName,email:g.email,dob:g.dob||g.dateOfBirth,gender:g.gender,phone:g.phone,address:`${g.streetAddress}, ${g.city}, ${g.state} ${g.zipCode}`,student_id:g.student_id||g.studentId,password:"defaultPassword123",parent_guardian_name:g.parentGuardianName,parent_phone:g.parentPhone,parent_email:g.parentEmail,emergency_contact_name:g.emergencyContactName,emergency_contact_relation:g.emergencyContactRelation,emergency_contact_phone:g.emergencyContactPhone,emergency_contact_email:g.emergencyContactEmail,medical_question_1:g.medicalQuestion1,medical_question_2:g.medicalQuestion2,has_allergies:g.hasAllergies,allergies_details:g.allergiesDetails||null,participation_type:g.participationType,selected_sports:g.selectedSports,institution_name:T},X=await Z.createStudent(G);if(X.status===200||X.status===201)n({title:" Registration Complete!",description:"Your account has been created successfully. Please log in to access your dashboard."}),t("/login");else throw new Error(X.message||"Registration failed")}catch{n({title:"Registration Failed",description:"An error occurred during registration. Please try again.",variant:"destructive"})}finally{a(!1)}},ne=()=>{var $,T,G,X,Y;switch(i){case 1:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"First Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your first name",value:g.firstName,onChange:z=>A(W=>({...W,firstName:z.target.value})),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Middle Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your middle name (optional)",value:g.middleName,onChange:z=>A(W=>({...W,middleName:z.target.value})),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Last Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your last name",value:g.lastName,onChange:z=>A(W=>({...W,lastName:z.target.value})),className:"pl-12 h-12 text-base"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{type:"email",placeholder:"Enter your email address",value:g.email,onChange:z=>A(W=>({...W,email:z.target.value})),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Date of Birth *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{type:"date",placeholder:"Select your date of birth",value:g.dateOfBirth,onChange:z=>A(W=>({...W,dateOfBirth:z.target.value})),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Gender *"}),e.jsxs(Ne,{value:g.gender,onValueChange:z=>A(W=>({...W,gender:z})),children:[e.jsx(ye,{className:"h-12 text-base",children:e.jsx(Se,{placeholder:"Select your gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Student ID *"}),e.jsxs("div",{className:"relative",children:[e.jsx(jd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your student ID",value:g.studentId,onChange:z=>A(W=>({...W,studentId:z.target.value})),className:"pl-12 h-12 text-base"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Institution *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Op,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsxs(Ne,{value:g.instituteName,onValueChange:z=>A(W=>({...W,instituteName:z})),children:[e.jsx(ye,{className:"pl-12 h-12 text-base",children:e.jsx(Se,{placeholder:"Select your institution"})}),e.jsx(je,{children:u4.map(z=>e.jsx(K,{value:z,children:z},z))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Phone Number *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_r,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your phone number",value:g.phone,onChange:z=>A(W=>({...W,phone:z.target.value})),className:"pl-12 h-12 text-base"})]}),e.jsx(F,{type:"button",variant:l?"default":"outline",onClick:u?ue:ie,disabled:l||!g.phone,className:"min-w-[120px] h-12 text-base",children:l?e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"h-4 w-4 mr-1"}),"Verified"]}):u?"Verify":"Send OTP"})]})]})]}),g.instituteName==="Other"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Institution Name *"}),e.jsx(D,{placeholder:"Enter your institution name",value:g.otherInstitute,onChange:z=>A(W=>({...W,otherInstitute:z.target.value})),className:"h-12 text-base"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-base font-semibold",children:"Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(MapPin,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your address",value:g.address,onChange:z=>A(W=>({...W,address:z.target.value})),className:"pl-12 h-12 text-base"})]})]}),u&&!l&&e.jsxs("div",{className:"space-y-4 p-6 border rounded-lg bg-muted/30",children:[e.jsx(E,{className:"text-base font-semibold",children:"Enter OTP Code"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(D,{placeholder:"Enter the OTP code",value:m,onChange:z=>p(z.target.value),className:"flex-1 h-12 text-base"}),e.jsx(F,{type:"button",variant:"outline",onClick:ue,disabled:!m,className:"h-12 text-base",children:"Verify"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["OTP sent to ",g.email]})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Document Upload"}),e.jsx("p",{className:"text-muted-foreground",children:"Please upload the required documents. Files should be clear and readable."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{className:"text-base font-semibold",children:"Student ID Image *"}),e.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center hover:border-muted-foreground/50 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(kn,{className:"mx-auto h-8 w-8 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Upload a clear photo of your student ID card"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Accepted formats: JPG, PNG, JPEG only. Max size: 10MB"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(D,{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:z=>{var ae;const W=((ae=z.target.files)==null?void 0:ae[0])||null;V("studentIdImage",W)},className:"hidden",id:"studentIdImage"}),e.jsx(F,{type:"button",variant:"outline",onClick:()=>{var z;return(z=document.getElementById("studentIdImage"))==null?void 0:z.click()},className:"h-10",children:"Choose File"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:_.studentIdImage?_.studentIdImage.name:"No file chosen"})]}),((T=($=g.documents)==null?void 0:$.studentIdImage)==null?void 0:T.filename)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:["Previously uploaded: ",g.documents.studentIdImage.filename]})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{className:"text-base font-semibold",children:"Age Proof Document *"}),e.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center hover:border-muted-foreground/50 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(kn,{className:"mx-auto h-8 w-8 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Birth certificate, passport, or similar official document"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Accepted formats: JPG, PNG, JPEG only. Max size: 10MB"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(D,{type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:z=>{var ae;const W=((ae=z.target.files)==null?void 0:ae[0])||null;V("ageProofImage",W)},className:"hidden",id:"ageProofImage"}),e.jsx(F,{type:"button",variant:"outline",onClick:()=>{var z;return(z=document.getElementById("ageProofImage"))==null?void 0:z.click()},className:"h-10",children:"Choose File"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:_.ageProofImage?_.ageProofImage.name:"No file chosen"})]}),((X=(G=g.documents)==null?void 0:G.ageProofDocument)==null?void 0:X.filename)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:["Previously uploaded: ",g.documents.ageProofDocument.filename]})]})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(E,{className:"text-base font-semibold",children:"Document Guidelines:"})]}),e.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground pl-6",children:[e.jsx("li",{children:" Only JPG, PNG, and JPEG files are accepted (PDFs not allowed)"}),e.jsx("li",{children:" Ensure documents are clear and all text is readable"}),e.jsx("li",{children:" Photos should be well-lit with no shadows or glare"}),e.jsx("li",{children:" Full document should be visible in the image"}),e.jsx("li",{children:" Files will be securely stored and only used for verification"})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Parent/Guardian Name *"}),e.jsx(D,{placeholder:"Full Name",value:g.parentGuardianName,onChange:z=>U("parentGuardianName",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Occupation"}),e.jsx(D,{placeholder:"e.g., Engineer, Teacher, Doctor",value:g.parentOccupation,onChange:z=>U("parentOccupation",z.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Designation"}),e.jsx(D,{placeholder:"e.g., Senior Manager, Principal",value:g.parentDesignation,onChange:z=>U("parentDesignation",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Workplace"}),e.jsx(D,{placeholder:"Company/Organization Name",value:g.parentWorkplace,onChange:z=>U("parentWorkplace",z.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Phone Number *"}),e.jsx(D,{placeholder:"+91 9876543210",value:g.parentPhone,onChange:z=>U("parentPhone",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Email Address *"}),e.jsx(D,{type:"email",placeholder:"parent@email.com",value:g.parentEmail,onChange:z=>U("parentEmail",z.target.value)})]})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Street Address *"}),e.jsx(at,{placeholder:"Complete street address",value:g.streetAddress,onChange:z=>U("streetAddress",z.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"City *"}),e.jsx(D,{placeholder:"New Delhi",value:g.city,onChange:z=>U("city",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"State *"}),e.jsx(D,{placeholder:"Delhi",value:g.state,onChange:z=>U("state",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Postal Code *"}),e.jsx(D,{placeholder:"110001",value:g.postalCode,onChange:z=>U("postalCode",z.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Country *"}),e.jsx(D,{placeholder:"India",value:g.country,onChange:z=>U("country",z.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Landmark"}),e.jsx(D,{placeholder:"Near Metro Station",value:g.landmark,onChange:z=>U("landmark",z.target.value)})]})]})]});case 5:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Emergency Contact Full Name *",value:g.emergencyContactName,onChange:z=>U("emergencyContactName",z.target.value),className:"pl-10"})]}),e.jsxs(Ne,{value:g.emergencyContactRelation,onValueChange:z=>U("emergencyContactRelation",z),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Relationship with Student *"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Parent",children:"Parent"}),e.jsx(K,{value:"Guardian",children:"Guardian"}),e.jsx(K,{value:"Sibling",children:"Sibling"}),e.jsx(K,{value:"Relative",children:"Relative"}),e.jsx(K,{value:"Friend",children:"Friend"}),e.jsx(K,{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(_r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Emergency Contact Phone Number *",value:g.emergencyContactPhone,onChange:z=>U("emergencyContactPhone",z.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{type:"email",placeholder:"Emergency Contact Email (Optional)",value:g.emergencyContactEmail,onChange:z=>U("emergencyContactEmail",z.target.value),className:"pl-10"})]})]});case 6:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Medical Question 1 *"}),e.jsx(at,{placeholder:"Do you have any existing medical conditions?",value:g.medicalQuestion1,onChange:z=>U("medicalQuestion1",z.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Medical Question 2 *"}),e.jsx(at,{placeholder:"Are you currently taking any medications?",value:g.medicalQuestion2,onChange:z=>U("medicalQuestion2",z.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{id:"allergies",checked:g.hasAllergies,onCheckedChange:z=>U("hasAllergies",!!z)}),e.jsx(E,{htmlFor:"allergies",className:"cursor-pointer",children:"Any Allergies/Health Conditions?"})]}),g.hasAllergies&&e.jsx(at,{placeholder:"Please provide details about allergies or health conditions",value:g.allergiesDetails,onChange:z=>U("allergiesDetails",z.target.value),rows:3})]})]});case 7:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{className:"text-base font-semibold",children:"Participation Type *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${g.participationType==="Individual"?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onClick:()=>A(z=>({...z,participationType:"Individual"})),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Qo,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Individual"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compete individually"})]})]})}),e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${g.participationType==="Team"?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onClick:()=>A(z=>({...z,participationType:"Team"})),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ve,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Team"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compete in team events"})]})]})})]})]}),g.participationType&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(E,{className:"text-base font-semibold",children:["Select ",g.participationType," Sports *"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:(g.participationType==="Individual"?m4:h4).map(z=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${g.selectedSports.includes(z)?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onClick:()=>B(z),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(kP,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:z})]})},z))})]}),((Y=g.sportsSelection)==null?void 0:Y.selectedSports)&&g.sportsSelection.selectedSports.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{className:"text-base font-semibold text-green-600",children:"Previously Selected Sports:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.sportsSelection.selectedSports.map((z,W)=>e.jsx("div",{className:"p-3 border border-green-200 rounded-lg bg-green-50",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-green-800",children:z.sport_name}),e.jsxs("p",{className:"text-xs text-green-600",children:[z.category_name," - ",z.sub_category_name," (",z.gender_label,", Age ",z.ageFrom,"-",z.ageTo,")"]})]})]})},W))})]}),g.selectedSports.length>0&&e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Selected Sports:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.selectedSports.map(z=>e.jsx(he,{variant:"secondary",children:z},z))}),e.jsxs("div",{className:"text-lg font-bold text-primary",children:["Final Fees: ",L()]})]})]});case 8:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"max-h-60 overflow-y-auto p-4 border rounded-lg bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Waiver & Release of Liability"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I understand that participation in sports activities involves inherent risks, including but not limited to the risk of injury, disability, or death. I voluntarily assume all risks associated with participation and hereby release and hold harmless the event organizers, sponsors, and all associated parties from any and all claims, demands, or causes of action arising out of or related to any loss, damage, or injury that may be sustained by the participant."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"I acknowledge that I have read and understand this waiver, and I voluntarily agree to its terms and conditions."})]}),e.jsxs("div",{className:"flex items-start space-x-2 p-4 border rounded-lg",children:[e.jsx(Ps,{id:"waiver",checked:b.waiver,onCheckedChange:z=>I(W=>({...W,waiver:!!z}))}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"waiver",className:"cursor-pointer font-medium",children:"I agree to the Waiver & Release of Liability *"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"By checking this box, I acknowledge that I have read, understood, and agree to the terms."})]})]})]});case 9:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"max-h-60 overflow-y-auto p-4 border rounded-lg bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Data Protection & Privacy Notice"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We collect and process your personal data to facilitate your participation in sports events. This includes your contact information, medical details, and performance data. Your information will be used for event management, emergency contact purposes, and improving our services."}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We implement appropriate security measures to protect your data and will not share your information with third parties without your consent, except as required by law or for event safety purposes."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You have the right to access, correct, or delete your personal data at any time by contacting our support team."})]}),e.jsxs("div",{className:"flex items-start space-x-2 p-4 border rounded-lg",children:[e.jsx(Ps,{id:"privacy",checked:b.privacy,onCheckedChange:z=>I(W=>({...W,privacy:!!z}))}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"privacy",className:"cursor-pointer font-medium",children:"I agree to the Data Protection & Privacy Policy *"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"I consent to the collection and processing of my personal data as described."})]})]})]});case 10:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Final Declaration"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I hereby declare that all information provided in this registration form is true, accurate, and complete to the best of my knowledge. I understand that any false or misleading information may result in disqualification from the event."}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I acknowledge that I have read and understood all the terms, conditions, and policies associated with this event registration. I agree to abide by all rules and regulations set forth by the event organizers."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"By submitting this registration, I confirm my commitment to participate in the selected events and understand the associated responsibilities."})]}),e.jsxs("div",{className:"flex items-start space-x-2 p-4 border rounded-lg",children:[e.jsx(Ps,{id:"declaration",checked:b.declaration,onCheckedChange:z=>I(W=>({...W,declaration:!!z}))}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"declaration",className:"cursor-pointer font-medium",children:"I hereby declare that the information provided is true *"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"I confirm the accuracy of all information and my commitment to participate."})]})]})]});default:return null}};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:e.jsx("div",{className:"w-full max-w-7xl",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12 items-start",children:[e.jsx("div",{className:"text-center md:text-left space-y-6 md:sticky md:top-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Ud,alt:"Sports Event Management",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx(Fe,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Join Sports Events"}),e.jsx("p",{className:"text-xl opacity-90",children:"Complete registration to participate"})]})})]})}),e.jsxs(te,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(le,{className:"text-center pb-8 px-8",children:[e.jsx(ce,{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Student Registration"}),e.jsxs(Re,{className:"text-lg text-muted-foreground mt-2",children:["Step ",i," of ",P,": ",R[i-1]]})]}),e.jsxs(se,{className:"space-y-8 px-8 pb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:Array.from({length:P},($,T)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold cursor-pointer transition-all duration-200 ${T+1===i?"bg-primary text-primary-foreground":v.includes(T+1)?"bg-green-500 text-white hover:bg-green-600":"bg-muted text-muted-foreground hover:bg-muted/80"}`,onClick:()=>Q(T+1),title:`Step ${T+1}: ${R[T]}`,children:v.includes(T+1)?"":T+1}),T<P-1&&e.jsx("div",{className:`w-6 h-1 ml-2 ${T+1<i?"bg-primary":"bg-muted"}`})]},T))}),y.length>0&&e.jsxs(lt,{variant:"destructive",className:"p-6",children:[e.jsx(dn,{className:"h-5 w-5"}),e.jsx(ct,{className:"text-base",children:e.jsx("ul",{className:"list-disc list-inside space-y-2",children:y.map(($,T)=>e.jsx("li",{children:$},T))})})]}),e.jsx("div",{className:"space-y-8",children:ne()}),e.jsxs("div",{className:"flex justify-between pt-8",children:[e.jsx(F,{variant:"outline",onClick:re,disabled:i===1,className:"h-12 px-8 text-base",children:"Back"}),i===P?e.jsx(F,{onClick:ee,className:"bg-gradient-primary hover:shadow-glow transition-all duration-300 h-12 px-8 text-base",disabled:r,children:r?"Submitting...":"Submit Registration"}):e.jsx(F,{onClick:q,className:"bg-gradient-primary h-12 px-8 text-base",children:"Save & Continue"})]}),e.jsxs("div",{className:"text-center text-sm pt-4 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),e.jsx(ms,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign In"})]})]})]})]})})})};var rm="rovingFocusGroup.onEntryFocus",f4={bubbles:!1,cancelable:!0},el="RovingFocusGroup",[Eh,uS,x4]=pd(el),[g4,Ii]=Vt(el,[x4]),[v4,y4]=g4(el),mS=c.forwardRef((t,s)=>e.jsx(Eh.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Eh.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(j4,{...t,ref:s})})}));mS.displayName=el;var j4=c.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=t,p=c.useRef(null),x=Te(s,p),S=Ei(i),[y,j]=vn({prop:o,defaultProp:l??null,onChange:d,caller:el}),[v,f]=c.useState(!1),N=ft(u),C=uS(n),P=c.useRef(!1),[R,g]=c.useState(0);return c.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(rm,N),()=>A.removeEventListener(rm,N)},[N]),e.jsx(v4,{scope:n,orientation:r,dir:S,loop:a,currentTabStopId:y,onItemFocus:c.useCallback(A=>j(A),[j]),onItemShiftTab:c.useCallback(()=>f(!0),[]),onFocusableItemAdd:c.useCallback(()=>g(A=>A+1),[]),onFocusableItemRemove:c.useCallback(()=>g(A=>A-1),[]),children:e.jsx(Ee.div,{tabIndex:v||R===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...t.style},onMouseDown:ge(t.onMouseDown,()=>{P.current=!0}),onFocus:ge(t.onFocus,A=>{const _=!P.current;if(A.target===A.currentTarget&&_&&!v){const w=new CustomEvent(rm,f4);if(A.currentTarget.dispatchEvent(w),!w.defaultPrevented){const b=C().filter(V=>V.focusable),I=b.find(V=>V.active),k=b.find(V=>V.id===y),U=[I,k,...b].filter(Boolean).map(V=>V.ref.current);fS(U,h)}}P.current=!1}),onBlur:ge(t.onBlur,()=>f(!1))})})}),hS="RovingFocusGroupItem",pS=c.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=t,d=Ws(),u=i||d,h=y4(hS,n),m=h.currentTabStopId===u,p=uS(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:y}=h;return c.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),e.jsx(Eh.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:e.jsx(Ee.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:s,onMouseDown:ge(t.onMouseDown,j=>{r?h.onItemFocus(u):j.preventDefault()}),onFocus:ge(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:ge(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){h.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const v=b4(j,h.orientation,h.dir);if(v!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let N=p().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")N.reverse();else if(v==="prev"||v==="next"){v==="prev"&&N.reverse();const C=N.indexOf(j.currentTarget);N=h.loop?w4(N,C+1):N.slice(C+1)}setTimeout(()=>fS(N))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:y!=null}):o})})});pS.displayName=hS;var N4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S4(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function b4(t,s,n){const r=S4(t.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return N4[r]}function fS(t,s=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function w4(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var mf=mS,hf=pS,pf="Radio",[C4,xS]=Vt(pf),[P4,E4]=C4(pf),gS=c.forwardRef((t,s)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...h}=t,[m,p]=c.useState(null),x=Te(s,j=>p(j)),S=c.useRef(!1),y=m?u||!!m.closest("form"):!0;return e.jsxs(P4,{scope:n,checked:a,disabled:o,children:[e.jsx(Ee.button,{type:"button",role:"radio","aria-checked":a,"data-state":NS(a),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:x,onClick:ge(t.onClick,j=>{a||d==null||d(),y&&(S.current=j.isPropagationStopped(),S.current||j.stopPropagation())})}),y&&e.jsx(jS,{control:m,bubbles:!S.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});gS.displayName=pf;var vS="RadioIndicator",yS=c.forwardRef((t,s)=>{const{__scopeRadio:n,forceMount:r,...a}=t,i=E4(vS,n);return e.jsx(Dt,{present:r||i.checked,children:e.jsx(Ee.span,{"data-state":NS(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})})});yS.displayName=vS;var A4="RadioBubbleInput",jS=c.forwardRef(({__scopeRadio:t,control:s,checked:n,bubbles:r=!0,...a},i)=>{const o=c.useRef(null),l=Te(o,i),d=of(n),u=qp(s);return c.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&x){const S=new Event("click",{bubbles:r});x.call(h,n),h.dispatchEvent(S)}},[d,n,r]),e.jsx(Ee.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jS.displayName=A4;function NS(t){return t?"checked":"unchecked"}var I4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bd="RadioGroup",[R4]=Vt(Bd,[Ii,xS]),SS=Ii(),bS=xS(),[_4,T4]=R4(Bd),wS=c.forwardRef((t,s)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:h=!0,onValueChange:m,...p}=t,x=SS(n),S=Ei(u),[y,j]=vn({prop:i,defaultProp:a??null,onChange:m,caller:Bd});return e.jsx(_4,{scope:n,name:r,required:o,disabled:l,value:y,onValueChange:j,children:e.jsx(mf,{asChild:!0,...x,orientation:d,dir:S,loop:h,children:e.jsx(Ee.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:S,...p,ref:s})})})});wS.displayName=Bd;var CS="RadioGroupItem",PS=c.forwardRef((t,s)=>{const{__scopeRadioGroup:n,disabled:r,...a}=t,i=T4(CS,n),o=i.disabled||r,l=SS(n),d=bS(n),u=c.useRef(null),h=Te(s,u),m=i.value===a.value,p=c.useRef(!1);return c.useEffect(()=>{const x=y=>{I4.includes(y.key)&&(p.current=!0)},S=()=>p.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",S)}},[]),e.jsx(hf,{asChild:!0,...l,focusable:!o,active:m,children:e.jsx(gS,{disabled:o,required:i.required,checked:m,...d,...a,name:i.name,ref:h,onCheck:()=>i.onValueChange(a.value),onKeyDown:ge(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:ge(a.onFocus,()=>{var x;p.current&&((x=u.current)==null||x.click())})})})});PS.displayName=CS;var k4="RadioGroupIndicator",ES=c.forwardRef((t,s)=>{const{__scopeRadioGroup:n,...r}=t,a=bS(n);return e.jsx(yS,{...a,...r,ref:s})});ES.displayName=k4;var AS=wS,IS=PS,M4=ES;const gn=c.forwardRef(({className:t,...s},n)=>e.jsx(AS,{className:de("grid gap-2",t),...s,ref:n}));gn.displayName=AS.displayName;const St=c.forwardRef(({className:t,...s},n)=>e.jsx(IS,{ref:n,className:de("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(M4,{className:"flex items-center justify-center",children:e.jsx(Qj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));St.displayName=IS.displayName;const RS=({onTypeSelect:t})=>{const[s,n]=c.useState(""),r=()=>{s&&t(s)};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-5xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsx("div",{className:"text-center md:text-left space-y-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Ud,alt:"Registration Portal",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Join Our Platform"}),e.jsx("p",{className:"text-xl opacity-90",children:"Choose your registration type to get started"})]})})]})}),e.jsxs(te,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(le,{className:"text-center pb-4",children:[e.jsx(ce,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Select Registration Type"}),e.jsx(Re,{className:"text-muted-foreground",children:"Choose how you want to register"})]}),e.jsxs(se,{className:"space-y-6",children:[e.jsx(gn,{value:s,onValueChange:a=>n(a),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsx(St,{value:"student",id:"student"}),e.jsx(E,{htmlFor:"student",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(yd,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Student Registration"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Register as a student to participate in sports events"})]})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsx(St,{value:"institution",id:"institution"}),e.jsx(E,{htmlFor:"institution",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Et,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Institution Registration"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Register your institution to manage students and events"})]})]})})]})]})}),e.jsx(F,{onClick:r,className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:!s,children:"Continue Registration"})]})]})]})})})},_S=({onComplete:t,onBack:s,userType:n="student",purpose:r="registration"})=>{const[a,i]=c.useState(""),[o,l]=c.useState(""),[d,u]=c.useState("email"),[h,m]=c.useState(!1),[p,x]=c.useState(""),[S,y]=c.useState(""),[j,v]=c.useState(!1),{toast:f}=_e(),{loginWithOTP:N}=qt(),C=async()=>{v(!1),x(""),await P()},P=async()=>{var g,A;if(!a){x("Email is required");return}m(!0),x("");try{let _;n==="institution"?_=await Z.sendInstitutionOTP(a,"Institution",r):_=await Z.sendStudentOTP(a,"Student",r);const w=_.data;console.log("OTP Send Response:",_),console.log("OTP Send Data:",w),console.log("OTP ID from data:",w.otp_id),console.log("OTP ID from data.data:",(g=w.data)==null?void 0:g.otp_id);const b=((A=w.data)==null?void 0:A.otp_id)||w.otp_id||w.id;console.log("Final OTP ID:",b),y(b),u("otp"),f({title:"OTP Sent! ",description:`Verification code sent to ${a}. Please check your email inbox.`})}catch(_){console.log("Error details:",_),console.log("Error message:",_==null?void 0:_.message);const w=(_==null?void 0:_.message)||"";if(w.includes("already exists and has completed registration"))f({title:"Registration Already Complete! ",description:"Congratulations! Your registration has already been completed successfully. You can now proceed to login and access your account.",variant:"default"}),setTimeout(()=>{f({title:"Redirecting to Login... ",description:"Taking you to the login page to access your account."})},1500),setTimeout(()=>{window.location.href="/login"},3e3);else if(w.includes("already exists")){const b=n==="institution"?"institution":"student";f({title:"Email Already Registered",description:`This email is already registered as a ${b==="institution"?"student":"institution"}. Please use a different email or try logging in instead.`,variant:"destructive"}),x(`Email already registered as ${b==="institution"?"student":"institution"}`)}else w.includes("OTP already sent")?(v(!0),f({title:"OTP Already Sent! ",description:"An OTP has already been sent to this email. You can resend it using the button below, or check your email inbox.",variant:"destructive"}),x("OTP already sent. You can resend it or check your email inbox.")):(x("Failed to send OTP. Please try again."),f({title:"Error",description:w||"Failed to send OTP. Please try again.",variant:"destructive"}))}finally{m(!1)}},R=async()=>{var g,A,_;if(!o){x("OTP is required");return}m(!0),x("");try{console.log("Verifying OTP with:",{otpId:S,otp:o,email:a});let w,b;if(S?(w=await Z.verifyOTP(S,o),b=w.data):(w=await Z.verifyOTPWithEmail(a,o),b=w.data),console.log("OTP Verification Response:",b),console.log("Purpose:",r),console.log("UserType:",n),console.log("Data role:",b.role),console.log("Data email:",b.email),b.success)if(r==="login")if(b.role==="institution")if(await N(b)){f({title:"Login Successful! ",description:"Welcome back to your institution dashboard."}),setTimeout(()=>{window.location.href=n==="institution"?"/institution":"/dashboard"},1500);return}else throw new Error("Failed to complete login process");else{f({title:"Not Registered",description:`This email is not registered as a ${n}. Please register first.`,variant:"destructive"}),setTimeout(()=>{window.location.href=n==="institution"?"/institution/register/phase1":"/register"},2e3);return}else console.log("Registration flow - proceeding with onComplete"),console.log("Email role from backend:",b.role),console.log("Email from backend:",b.email),console.log("Continuing with registration regardless of existing registration"),f({title:"Email Verified ",description:"Your email has been successfully verified. Please continue with registration."}),t(a);else throw new Error(b.message||"OTP verification failed")}catch(w){console.log("OTP Verification Error:",w),console.log("Error response:",w==null?void 0:w.response),console.log("Error data:",(g=w==null?void 0:w.response)==null?void 0:g.data);const b=((_=(A=w==null?void 0:w.response)==null?void 0:A.data)==null?void 0:_.detail)||(w==null?void 0:w.message)||"Failed to verify OTP";x(b),f({title:"Verification Failed",description:b,variant:"destructive"})}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:e.jsxs(te,{className:"w-full max-w-md shadow-large",children:[e.jsxs(le,{className:"text-center",children:[e.jsx(ce,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Registration"}),e.jsxs(Re,{children:[d==="email"&&"Enter your email to get started",d==="otp"&&"Enter the OTP sent to your email"]})]}),e.jsxs(se,{className:"space-y-4",children:[p&&e.jsxs(lt,{variant:"destructive",children:[e.jsx(ct,{children:p}),j&&e.jsx("div",{className:"mt-2",children:e.jsx(F,{variant:"outline",size:"sm",onClick:C,disabled:h,className:"w-full",children:h?"Sending...":"Resend OTP"})})]}),d==="email"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"Enter your email",value:a,onChange:g=>i(g.target.value),className:"pl-10",disabled:h})]})]}),e.jsxs("div",{className:"flex gap-3",children:[s&&e.jsx(F,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:"Back"}),e.jsx(F,{onClick:P,className:"flex-1 bg-gradient-primary",disabled:h,children:h?"Sending...":"Send OTP"})]})]}),d==="otp"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"otp",children:"Enter OTP"}),e.jsx(D,{id:"otp",placeholder:"Enter 6-digit OTP",value:o,onChange:g=>l(g.target.value),maxLength:6,disabled:h}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["OTP sent to ",a,". Check your email for the verification code."]})]}),e.jsx(F,{onClick:R,className:"w-full bg-gradient-primary",disabled:h,children:h?"Verifying...":"Verify OTP"}),e.jsx(F,{variant:"outline",onClick:()=>u("email"),className:"w-full",children:"Back to Email"})]})]})]})})},am=[{id:1,title:"Personal Details",icon:Ge,description:"Basic information"},{id:2,title:"Document Upload",icon:kn,description:"Required documents"},{id:3,title:"Parent & Medical Info",icon:Ve,description:"Guardian & health details"},{id:4,title:"Sports Selection",icon:Fe,description:"Choose your sports"},{id:5,title:"Review & Payment",icon:kt,description:"Final review"}],Bg=({currentStep:t,completedSteps:s,showOnMobile:n=!1})=>e.jsxs("div",{className:(n?"block":"hidden md:block")+" w-64 bg-card border-r border-border p-6 min-h-screen md:sticky md:top-0 md:self-start md:max-h-screen overflow-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Registration Progress"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Complete all steps to register"})]}),e.jsx("nav",{className:"space-y-2",children:am.map(r=>{const a=t===r.id,i=s.includes(r.id),o=r.id<=t||i;return e.jsxs("div",{className:de("flex items-center space-x-3 p-3 rounded-lg transition-smooth",a&&"bg-primary/10 border border-primary/20",i&&!a&&"bg-accent/10",!o&&"opacity-50"),children:[e.jsx("div",{className:de("flex items-center justify-center w-8 h-8 rounded-full transition-smooth",i?"bg-accent text-accent-foreground":a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:i?e.jsx(it,{className:"h-4 w-4"}):e.jsx(r.icon,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:de("text-sm font-medium transition-smooth",a?"text-primary":i?"text-accent":"text-foreground"),children:r.title}),e.jsx("div",{className:"text-xs text-muted-foreground",children:r.description})]}),a&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]},r.id)})}),e.jsxs("div",{className:"mt-8 p-4 bg-gradient-card rounded-lg border",children:[e.jsxs("div",{className:"text-sm font-medium text-foreground mb-2",children:["Progress: ",s.length," of ",am.length," steps"]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-primary h-2 rounded-full transition-smooth",style:{width:`${s.length/am.length*100}%`}})})]})]}),O4=/^(?:07\d{8}|01\d{8}|\+254(?:7\d{8}|1\d{8})|\+\d{10,15})$/,F4=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\.?$/;function ic(t){if(!t)return"";const s=t.replace(/[\s\-\(\)]/g,"");return s.startsWith("07")||s.startsWith("01")?"+254"+s.substring(1):s}const TS=["0712345678","0112345678","+254712345678","+254112345678"];function D4(t){if(!t||t.trim()==="")return{isValid:!1,errorMessage:"Phone number is required"};const s=t.replace(/[\s\-\(\)]/g,"");return O4.test(s)?{isValid:!0,errorMessage:""}:{isValid:!1,errorMessage:`Invalid phone number format. Please use Kenyan format (${TS.join(", ")}) or international format (+1234567890)`}}function Ah(t){return!t||t.trim()===""?{isValid:!1,errorMessage:"Email is required"}:F4.test(t.trim())?{isValid:!0,errorMessage:""}:{isValid:!1,errorMessage:"Please enter a valid email address (e.g., user@example.com)"}}const L4=["School","College","University","Academy","Institute"],$4=({initialData:t,onComplete:s,onBack:n})=>{const{toast:r}=_e();console.log("PersonalDetailsStep received initialData:",t);const[a,i]=c.useState({firstName:(t==null?void 0:t.firstName)||"",middleName:(t==null?void 0:t.middleName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",dateOfBirth:(t==null?void 0:t.dateOfBirth)||"",gender:(t==null?void 0:t.gender)||"",instituteName:(t==null?void 0:t.instituteName)||"",otherInstitute:(t==null?void 0:t.otherInstitute)||"",instituteType:(t==null?void 0:t.instituteType)||"",studentId:(t==null?void 0:t.studentId)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",address:(t==null?void 0:t.address)||""}),[o,l]=c.useState([]),[d,u]=c.useState(!1),[h,m]=c.useState(L4),[p,x]=c.useState([]),[S,y]=c.useState(!0),[j,v]=c.useState(!1),[f,N]=c.useState(null);c.useEffect(()=>{t!=null&&t.email&&t.email!==f&&(i({firstName:t.firstName||"",middleName:t.middleName||"",lastName:t.lastName||"",email:t.email,dateOfBirth:t.dateOfBirth||"",gender:t.gender||"",instituteName:t.instituteName||"",otherInstitute:t.otherInstitute||"",instituteType:t.instituteType||"",studentId:t.studentId||"",phoneNumber:t.phoneNumber||"",address:t.address||""}),N(t.email))},[t==null?void 0:t.email,f]),c.useEffect(()=>{(async()=>{if(a.email&&a.email!==f)try{const A=await Z.getStudentRegistrationProgress(a.email);if(A.data.success&&A.data.data){const _=A.data.data;_.personal_details&&i(w=>({...w,firstName:_.personal_details.firstName||"",middleName:_.personal_details.middleName||"",lastName:_.personal_details.lastName||"",email:_.personal_details.email||w.email,dateOfBirth:_.personal_details.dateOfBirth||"",gender:_.personal_details.gender||"",instituteName:_.personal_details.instituteName||"",otherInstitute:_.personal_details.otherInstitute||"",instituteType:_.personal_details.instituteType||"",studentId:_.personal_details.studentId||"",phoneNumber:_.personal_details.phoneNumber||"",address:_.personal_details.address||""}))}N(a.email)}catch(A){console.error("Failed to load existing progress:",A),N(a.email)}})()},[a.email,f]),c.useEffect(()=>{(async()=>{try{const A=await Z.getInstituteTypes();if(A.data&&typeof A.data=="object"&&"success"in A.data){const _=A.data;_.success&&_.data&&m(_.data)}}catch(A){console.error("Failed to load institute types:",A)}finally{y(!1)}})()},[]),c.useEffect(()=>{(async()=>{if(!a.instituteType){x([]);return}v(!0);try{const A=await Z.getInstitutesPublic(a.instituteType);if(A.data.success){const _=A.data.data.map(w=>w.name);x([..._,"Other"])}}catch(A){console.error("Failed to load institutes:",A),x(["Other"])}finally{v(!1)}})()},[a.instituteType]);const C=(g,A)=>{i(_=>({..._,[g]:A})),l([]),g==="instituteType"&&i(_=>({..._,instituteName:"",otherInstitute:""}))},P=()=>{const g=[];a.firstName||g.push("First Name is required"),a.lastName||g.push("Last Name is required");const A=Ah(a.email);A.isValid||g.push(A.errorMessage),a.dateOfBirth||g.push("Date of Birth is required"),a.gender||g.push("Gender is required"),a.instituteType||g.push("Institute Type is required"),a.instituteName||g.push("Institution is required"),a.instituteName==="Other"&&!a.otherInstitute&&g.push("Please specify institution name"),a.studentId||g.push("Student ID is required");const _=D4(a.phoneNumber);return _.isValid||g.push(_.errorMessage),a.address||g.push("Address is required"),g},R=async()=>{const g=P();if(g.length>0){l(g);return}u(!0);try{const A=await Z.savePersonalDetails(a);if(A.data.success){const _={email:a.email,personal_details:a,current_phase:1,completed_phases:[1],is_completed:!1};await Z.saveStudentRegistrationProgress(_),r({title:"Personal Details Saved! ",description:"Your personal information has been saved successfully."}),s({...a,student_id:A.data.data.student_id,registration_step:A.data.data.registration_step})}else throw new Error(A.data.message||"Failed to save personal details")}catch(A){console.error("Error saving personal details:",A),r({title:"Error Saving Details",description:A instanceof Error?A.message:"Failed to save personal details. Please try again.",variant:"destructive"}),l(["Failed to save personal details. Please try again."])}finally{u(!1)}};return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-2xl font-bold text-primary",children:"Personal Details"}),e.jsx(Re,{children:"Please fill in your basic information accurately"})]}),e.jsxs(se,{className:"space-y-6",children:[o.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:o.map((g,A)=>e.jsx("li",{children:g},A))})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"firstName",children:"First Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"firstName",placeholder:"First Name",value:a.firstName,onChange:g=>C("firstName",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"middleName",children:"Middle Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"middleName",placeholder:"Middle Name (Optional)",value:a.middleName,onChange:g=>C("middleName",g.target.value),className:"pl-10"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"lastName",children:"Last Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"lastName",placeholder:"Last Name",value:a.lastName,onChange:g=>C("lastName",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"Email (pre-filled)",value:a.email,readOnly:!0,className:"pl-10 bg-muted"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:g=>C("dateOfBirth",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Gender *"}),e.jsxs(Ne,{value:a.gender,onValueChange:g=>C("gender",g),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select Gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Institute Type *"}),e.jsxs("div",{className:"relative",children:[e.jsx(la,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsxs(Ne,{value:a.instituteType,onValueChange:g=>C("instituteType",g),disabled:S,children:[e.jsx(ye,{className:"pl-10",children:e.jsx(Se,{placeholder:S?"Loading types...":"Select Institute Type"})}),e.jsx(je,{children:h.map(g=>e.jsx(K,{value:g,children:g},g))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Institution *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Op,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsxs(Ne,{value:a.instituteName,onValueChange:g=>C("instituteName",g),disabled:j||!a.instituteType,children:[e.jsx(ye,{className:"pl-10",children:e.jsx(Se,{placeholder:a.instituteType?j?"Loading institutes...":"Select Institution":"Select Institute Type first"})}),e.jsx(je,{children:p.map(g=>e.jsx(K,{value:g,children:g},g))})]})]})]})]}),a.instituteName==="Other"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"otherInstitute",children:"Institution Name *"}),e.jsx(D,{id:"otherInstitute",placeholder:"Enter Institution Name",value:a.otherInstitute,onChange:g=>C("otherInstitute",g.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"studentId",children:"Student ID *"}),e.jsxs("div",{className:"relative",children:[e.jsx(jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"studentId",placeholder:"Student ID / Roll Number",value:a.studentId,onChange:g=>C("studentId",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"phoneNumber",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(_r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"phoneNumber",placeholder:"e.g., 0712345678, 0112345678, +254712345678",value:a.phoneNumber,onChange:g=>{const A=ic(g.target.value);C("phoneNumber",A)},className:"pl-10"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enter a valid Kenyan phone number. Examples: ",TS.join(", ")]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"address",children:"Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xj,{className:"absolute left-3 top-3 text-muted-foreground h-4 w-4"}),e.jsx(at,{id:"address",placeholder:"Enter your complete address",value:a.address,onChange:g=>C("address",g.target.value),className:"pl-10 min-h-[100px]",rows:4})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[n&&e.jsx(F,{variant:"outline",onClick:n,children:"Back"}),e.jsx(F,{onClick:R,className:"bg-gradient-primary ml-auto",disabled:d,children:d?"Saving...":"Save and Continue"})]})]})]})})},U4=({initialData:t,email:s,onComplete:n,onBack:r})=>{const{toast:a}=_e(),[i,o]=c.useState({studentIdImage:(t==null?void 0:t.studentIdImage)||null,ageProofDocument:(t==null?void 0:t.ageProofDocument)||null}),[l,d]=c.useState([]),[u,h]=c.useState(!1),m=(j,v)=>{o(f=>({...f,[j]:v})),d([])},p=()=>{const j=[];return i.studentIdImage||j.push("Student ID Image is required"),i.ageProofDocument||j.push("Age Proof Document is required"),i.studentIdImage&&!x(i.studentIdImage)&&j.push("Student ID Image must be JPG, PNG, or JPEG format"),i.ageProofDocument&&!x(i.ageProofDocument)&&j.push("Age Proof Document must be JPG, PNG, or JPEG format"),j},x=j=>{const v=["image/jpeg","image/jpg","image/png"],f=[".jpg",".jpeg",".png"],N=v.includes(j.type.toLowerCase()),C=f.some(P=>j.name.toLowerCase().endsWith(P));return N||C},S=async()=>{const j=p();if(j.length>0){d(j);return}h(!0);try{const v=await Z.uploadDocuments(s||(t==null?void 0:t.email),i.studentIdImage||void 0,i.ageProofDocument||void 0);if(v.data&&v.data.success){const f={email:s||(t==null?void 0:t.email),documents:i,current_phase:2,completed_phases:[1,2],is_completed:!1};await Z.saveStudentRegistrationProgress(f),a({title:"Documents Uploaded! ",description:"Your documents have been uploaded successfully."}),n(i)}else throw new Error(v.data&&v.data.message||"Failed to upload documents")}catch(v){console.error("Error uploading documents:",v),a({title:"Error Uploading Documents",description:v instanceof Error?v.message:"Failed to upload documents. Please try again.",variant:"destructive"}),d(["Failed to upload documents. Please try again."])}finally{h(!1)}},y=j=>{if(j===0)return"0 Bytes";const v=1024,f=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(j)/Math.log(v));return parseFloat((j/Math.pow(v,N)).toFixed(2))+" "+f[N]};return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-2xl font-bold text-primary",children:"Document Upload"}),e.jsx(Re,{children:"Please upload the required documents. Files should be clear and readable."})]}),e.jsxs(se,{className:"space-y-6",children:[l.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:l.map((j,v)=>e.jsx("li",{children:j},v))})})}),e.jsxs("div",{className:"space-y-12 mt-8",children:[e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6 hover:border-primary/50 transition-smooth",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:i.studentIdImage?e.jsx(it,{className:"h-6 w-6 text-accent"}):e.jsx(kn,{className:"h-6 w-6 text-primary"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(E,{htmlFor:"studentId",className:"text-base font-medium cursor-pointer",children:"Student ID Image *"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a clear photo of your student ID card"}),e.jsx(D,{id:"studentId",type:"file",accept:".jpg,.jpeg,.png,image/jpeg,image/png",onChange:j=>{var v;return m("studentIdImage",((v=j.target.files)==null?void 0:v[0])||null)},className:"mt-3"}),i.studentIdImage&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-sm",children:[e.jsx(Hu,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-accent font-medium",children:i.studentIdImage.name}),e.jsxs("span",{className:"text-muted-foreground",children:["(",y(i.studentIdImage.size),")"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Accepted formats: JPG, PNG, JPEG only  Max size: 10MB"})]})]})}),e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6 hover:border-primary/50 transition-smooth",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:i.ageProofDocument?e.jsx(it,{className:"h-6 w-6 text-accent"}):e.jsx(kn,{className:"h-6 w-6 text-primary"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(E,{htmlFor:"ageProof",className:"text-base font-medium cursor-pointer",children:"Age Proof Document *"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Birth certificate, passport, or similar official document"}),e.jsx(D,{id:"ageProof",type:"file",accept:".jpg,.jpeg,.png,image/jpeg,image/png",onChange:j=>{var v;return m("ageProofDocument",((v=j.target.files)==null?void 0:v[0])||null)},className:"mt-3"}),i.ageProofDocument&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-sm",children:[e.jsx(Hu,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-accent font-medium",children:i.ageProofDocument.name}),e.jsxs("span",{className:"text-muted-foreground",children:["(",y(i.ageProofDocument.size),")"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Accepted formats: JPG, PNG, JPEG only  Max size: 10MB"})]})]})})]}),e.jsxs(lt,{children:[e.jsx(Hu,{className:"h-4 w-4"}),e.jsxs(ct,{children:[e.jsx("strong",{children:"Document Guidelines:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:" Only JPG, PNG, and JPEG files are accepted (PDFs not allowed)"}),e.jsx("li",{children:" Ensure documents are clear and all text is readable"}),e.jsx("li",{children:" Photos should be well-lit with no shadows or glare"}),e.jsx("li",{children:" Full document should be visible in the image"}),e.jsx("li",{children:" Files will be securely stored and only used for verification"})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(F,{variant:"outline",onClick:r,children:"Back"}),e.jsx(F,{onClick:S,className:"bg-gradient-primary",disabled:u,children:u?"Saving...":"Save and Continue"})]})]})]})})},B4=({initialData:t,email:s,onComplete:n,onBack:r})=>{const{toast:a}=_e(),[i,o]=c.useState(null),[l,d]=c.useState(!1),[u,h]=c.useState({parentsAttending:(t==null?void 0:t.parentsAttending)||"",parents:(t==null?void 0:t.parents)||[],medicalFacilities:(t==null?void 0:t.medicalFacilities)||"",medicalFacilitiesDetails:(t==null?void 0:t.medicalFacilitiesDetails)||"",allergiesConditions:(t==null?void 0:t.allergiesConditions)||"",allergiesDetails:(t==null?void 0:t.allergiesDetails)||""}),[m,p]=c.useState({feePerParent:0,pricingTier:"",loading:!0}),[x,S]=c.useState([]),[y,j]=c.useState(!1);c.useEffect(()=>{v()},[]);const v=async()=>{d(!0);try{const w=(await Z.getPricingSummary()).data;w&&w.success&&o(w.data)}catch(_){console.error("Error loading parent pass pricing:",_),o({13:[{amount:300,pass_type:"Early Bird"}],14:[{amount:500,pass_type:"Early Bird"}]})}finally{d(!1)}},f=(_,w)=>{h(b=>({...b,[_]:w})),S([])},N=(_,w,b)=>{const I=[...u.parents],k=w==="age"?parseInt(b)||0:b;I[_]={...I[_],[w]:k},h(O=>({...O,parents:I})),S([])},C=()=>{h(_=>({..._,parents:[..._.parents,{name:"",relation:"",phone:"",email:"",age:0}]}))},P=_=>{h(w=>({...w,parents:w.parents.filter((b,I)=>I!==_)}))},R=()=>{const _=[];return u.parentsAttending||_.push("Please specify if parents are attending"),u.parentsAttending==="yes"&&(u.parents.length===0?_.push("At least one parent is required"):u.parents.forEach((w,b)=>{w.name||_.push(`Parent ${b+1}: Name is required`),w.relation||_.push(`Parent ${b+1}: Relation is required`),w.phone||_.push(`Parent ${b+1}: Phone is required`),(!w.age||w.age===0)&&_.push(`Parent ${b+1}: Age is required`),w.age&&(w.age<1||w.age>100)&&_.push(`Parent ${b+1}: Age must be between 1 and 100`),w.email||_.push(`Parent ${b+1}: Email is required`)})),u.medicalFacilities||_.push("Please specify medical facility requirements"),u.medicalFacilities==="yes"&&!u.medicalFacilitiesDetails&&_.push("Please specify medical facilities needed"),u.allergiesConditions||_.push("Please specify if you have allergies or health conditions"),u.allergiesConditions==="yes"&&!u.allergiesDetails&&_.push("Please specify your allergies or health conditions"),_},g=()=>{if(u.parentsAttending!=="yes"||!i)return 0;let _=0;return u.parents.forEach(w=>{const b=w.age<13?13:14,I=i[b];I&&I.length>0&&(_+=I[0].amount)}),_},A=async()=>{const _=R();if(_.length>0){S(_);return}j(!0);try{const w=g(),b={email:s||(t==null?void 0:t.email),...u,parentFees:w,parentCount:u.parentsAttending==="yes"?u.parents.length:0},I=await Z.saveParentMedical(b);if(I.data&&I.data.success){const k={email:s||(t==null?void 0:t.email),parent_medical:u,current_phase:3,completed_phases:[1,2,3],is_completed:!1};await Z.saveStudentRegistrationProgress(k),a({title:"Parent & Medical Info Saved! ",description:"Your parent and medical information has been saved successfully."}),n({...u,parentFees:w,parentCount:u.parentsAttending==="yes"?u.parents.length:0})}else throw new Error(I.data&&I.data.message||"Failed to save parent and medical information")}catch(w){console.error("Error saving parent and medical information:",w),a({title:"Error Saving Information",description:w instanceof Error?w.message:"Failed to save parent and medical information. Please try again.",variant:"destructive"}),S(["Failed to save parent and medical information. Please try again."])}finally{j(!1)}};return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-2xl font-bold text-primary",children:"Parent & Medical Information"}),e.jsx(Re,{children:"Provide guardian details and medical information for your safety"})]}),e.jsxs(se,{className:"space-y-8",children:[x.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:x.map((_,w)=>e.jsx("li",{children:_},w))})})}),l&&e.jsx(lt,{children:e.jsx(ct,{children:"Loading parent pass pricing..."})}),i&&u.parentsAttending==="yes"&&u.parents.length>0&&e.jsx(lt,{children:e.jsx(ct,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Parent Pass Pricing:"}),u.parents.map((_,w)=>{const b=_.age<13?13:14,I=i[b],k=I&&I.length>0?I[0].amount:0;return e.jsxs("div",{className:"text-sm",children:[_.name||`Parent ${w+1}`," (Age ",_.age,"): KES ",k]},w)}),e.jsxs("div",{className:"font-medium border-t pt-2",children:["Total Parent Pass Fee: KES ",g()]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ve,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Parents Attending?"})]}),e.jsxs(gn,{value:u.parentsAttending,onValueChange:_=>{f("parentsAttending",_),_==="yes"&&u.parents.length===0?C():_==="no"&&h(w=>({...w,parents:[]}))},className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"yes",id:"parents-yes"}),e.jsx(E,{htmlFor:"parents-yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"no",id:"parents-no"}),e.jsx(E,{htmlFor:"parents-no",children:"No"})]})]}),u.parentsAttending==="yes"&&e.jsxs("div",{className:"space-y-4",children:[u.parents.map((_,w)=>e.jsxs(te,{className:"p-4 bg-muted/50 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium text-sm",children:["Parent ",w+1]}),u.parents.length>1&&e.jsx(F,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(w),className:"text-destructive hover:text-destructive",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:`parent-name-${w}`,children:"Full Name *"}),e.jsx(D,{id:`parent-name-${w}`,placeholder:"Full Name",value:_.name,onChange:b=>N(w,"name",b.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:`parent-relation-${w}`,children:"Relation *"}),e.jsx(D,{id:`parent-relation-${w}`,placeholder:"e.g., Father, Mother, Guardian",value:_.relation,onChange:b=>N(w,"relation",b.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:`parent-phone-${w}`,children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(_r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:`parent-phone-${w}`,placeholder:"Phone Number",value:_.phone,onChange:b=>N(w,"phone",b.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:`parent-age-${w}`,children:"Age *"}),e.jsx(D,{id:`parent-age-${w}`,type:"number",placeholder:"Age",value:_.age||"",onChange:b=>N(w,"age",b.target.value),min:"1",max:"100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:`parent-email-${w}`,children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:`parent-email-${w}`,type:"email",placeholder:"Email Address",value:_.email,onChange:b=>N(w,"email",b.target.value),className:"pl-10"})]})]})]})]},w)),e.jsxs(F,{type:"button",variant:"outline",onClick:C,className:"w-full border-dashed border-primary/50 text-primary hover:bg-primary/10",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Another Parent"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bo,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Do You Want Any Medical Facilities?"})]}),e.jsxs(gn,{value:u.medicalFacilities,onValueChange:_=>f("medicalFacilities",_),className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"yes",id:"medical-yes"}),e.jsx(E,{htmlFor:"medical-yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"no",id:"medical-no"}),e.jsx(E,{htmlFor:"medical-no",children:"No"})]})]}),u.medicalFacilities==="yes"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"medicalDetails",children:"Please specify medical facilities needed *"}),e.jsx(at,{id:"medicalDetails",placeholder:"Describe the medical facilities or assistance you require...",value:u.medicalFacilitiesDetails,onChange:_=>f("medicalFacilitiesDetails",_.target.value),rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dn,{className:"h-5 w-5 text-warning"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Any Allergies or Health Conditions?"})]}),e.jsxs(gn,{value:u.allergiesConditions,onValueChange:_=>f("allergiesConditions",_),className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"yes",id:"allergies-yes"}),e.jsx(E,{htmlFor:"allergies-yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"no",id:"allergies-no"}),e.jsx(E,{htmlFor:"allergies-no",children:"No"})]})]}),u.allergiesConditions==="yes"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"allergiesDetails",children:"Please specify details *"}),e.jsx(at,{id:"allergiesDetails",placeholder:"Describe your allergies, health conditions, medications, or any other medical information...",value:u.allergiesDetails,onChange:_=>f("allergiesDetails",_.target.value),rows:4})]})]}),u.parentsAttending==="yes"&&u.parents.length>0&&e.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[e.jsx("h4",{className:"font-medium text-primary mb-2",children:"Parent Fee Information"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Number of Parents:"}),e.jsx("span",{className:"font-medium",children:u.parents.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Parent Fees:"}),e.jsxs("span",{className:"font-medium",children:["KES ",g()]})]})]})]}),e.jsxs(lt,{children:[e.jsx(bo,{className:"h-4 w-4"}),e.jsxs(ct,{children:[e.jsx("strong",{children:"Privacy Notice:"})," All medical information is kept strictly confidential and will only be used for emergency situations and to provide appropriate medical assistance if needed."]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(F,{variant:"outline",onClick:r,children:"Back"}),e.jsx(F,{onClick:A,className:"bg-gradient-primary",disabled:y,children:y?"Saving...":"Save and Continue"})]})]})]})})},z4=({initialData:t,email:s,onComplete:n,onBack:r})=>{const{toast:a}=_e(),[i,o]=c.useState({participationType:(t==null?void 0:t.participationType)||"",selectedSports:(t==null?void 0:t.selectedSports)||[]}),[l,d]=c.useState(""),[u,h]=c.useState(""),[m,p]=c.useState(""),[x,S]=c.useState(""),[y,j]=c.useState(""),[v,f]=c.useState("Male"),[N,C]=c.useState([]),[P,R]=c.useState(!1),[g,A]=c.useState([]),[_,w]=c.useState([]),[b,I]=c.useState([]),[k,O]=c.useState([]),[U,V]=c.useState(!0),[B,H]=c.useState(null),[q,re]=c.useState(null);c.useEffect(()=>{ie(),Q()},[]);const Q=async()=>{try{const ae=(await Z.getPricingSummary()).data;ae&&ae.success&&re(ae.data)}catch(W){console.error("Error loading parent pass pricing:",W),re({13:[{amount:300,pass_type:"Early Bird"}],14:[{amount:500,pass_type:"Early Bird"}]})}};c.useEffect(()=>{i.participationType&&ue()},[i.participationType]),c.useEffect(()=>{l&&i.participationType==="individual"?L():(w([]),I([]))},[l,i.participationType]),c.useEffect(()=>{u&&l&&i.participationType==="individual"?ee():I([])},[u,l,i.participationType]),c.useEffect(()=>{i.selectedSports.length>0?ne():H(null)},[i.selectedSports]);const ie=async()=>{try{V(!0);const[W]=await Promise.all([Z.getGenderOptions()]);W.data&&W.data.success&&O(W.data.data)}catch(W){console.error("Error loading initial data:",W),a({title:"Error Loading Data",description:"Failed to load initial data. Please refresh the page.",variant:"destructive"})}finally{V(!1)}},ue=async()=>{try{const W=i.participationType==="team"?"Team":"Individual",ae=await Z.getSportsPublic(W);if(ae.data&&ae.data.success){const Pe=ae.data.data;console.log("Sports data received:",Pe),Array.isArray(Pe)?(A(Pe),console.log("Set sports array with",Pe.length,"items")):Pe&&Array.isArray(Pe.sports)?(A(Pe.sports),console.log("Set sports from nested array with",Pe.sports.length,"items")):(console.error("Unexpected sports data structure:",Pe),A([]))}else console.error("Sports API response not successful:",ae.data),A([])}catch(W){console.error("Error loading sports:",W),a({title:"Error Loading Sports",description:"Failed to load sports data. Please try again.",variant:"destructive"})}},L=async()=>{try{const W=g.find(ae=>ae.id.toString()===l);if(W){const ae=await Z.getSportCategories(W.id);ae.data&&ae.data.success&&w(ae.data.data)}}catch(W){console.error("Error loading categories:",W),a({title:"Error Loading Categories",description:"Failed to load categories. Please try again.",variant:"destructive"})}},ee=async()=>{try{const W=g.find(Pe=>Pe.id.toString()===l),ae=_.find(Pe=>Pe.id.toString()===u);if(W&&ae){const Pe=await Z.getSubCategoriesBySport(W.id,ae.id);Pe.data&&Pe.data.success&&I(Pe.data.data)}}catch(W){console.error("Error loading sub-categories:",W),a({title:"Error Loading Sub-Categories",description:"Failed to load sub-categories. Please try again.",variant:"destructive"})}},ne=async()=>{try{const W={selectedSports:i.selectedSports,parentCount:0},ae=await Z.calculateTotalFees(W);ae.data&&ae.data.success&&H(ae.data.data)}catch(W){console.error("Error calculating fees:",W)}},$=W=>{o(ae=>({...ae,participationType:W})),d(""),h(""),p(""),S(""),j(""),f("Male"),C([])},T=()=>{if(!l){C(["Please select a sport"]);return}if(i.participationType==="individual"&&!u){C(["Please select a category for individual sports"]);return}if(!x||!y){C(["Please select age range"]);return}if(parseInt(x)>parseInt(y)){C(["Age 'From' must be less than or equal to age 'To'"]);return}const W=g.find(M=>M.id.toString()===l),ae=_.find(M=>M.id.toString()===u),Pe=b.find(M=>M.id.toString()===m),Ae=k.find(M=>M.value===v);if(!W||!Ae){C(["Invalid sport or gender selection"]);return}if(i.selectedSports.some(M=>M.sport_id===W.id&&M.category_id===(ae==null?void 0:ae.id)&&M.sub_category_id===(Pe==null?void 0:Pe.id)&&M.ageFrom===x&&M.ageTo===y)){C(["This sport combination already exists"]);return}const gt={sport_id:W.id,sport_name:W.name,category_id:ae==null?void 0:ae.id,category_name:ae==null?void 0:ae.name,sub_category_id:Pe==null?void 0:Pe.id,sub_category_name:Pe==null?void 0:Pe.name,ageFrom:x,ageTo:y,gender:v,gender_label:Ae.label,type:i.participationType};o(M=>({...M,selectedSports:[...M.selectedSports,gt]})),d(""),h(""),p(""),S(""),j(""),f("Male"),C([])},G=W=>{o(ae=>({...ae,selectedSports:ae.selectedSports.filter((Pe,Ae)=>Ae!==W)}))},X=()=>{const W=[];return i.participationType||W.push("Please select participation type"),i.selectedSports.length===0&&W.push("Please add at least one sport"),W},Y=async()=>{const W=X();if(W.length>0){C(W);return}R(!0);try{const ae={email:s||(t==null?void 0:t.email),selectedSports:i.selectedSports},Pe=await Z.saveSportAssignments(ae);if(Pe.data&&Pe.data.success){const Ae={email:s||(t==null?void 0:t.email),sports_selection:i,current_phase:4,completed_phases:[1,2,3,4],is_completed:!0};await Z.saveStudentRegistrationProgress(Ae),a({title:"Sports Selection Saved! ",description:"Your sports selection has been saved successfully. Registration complete!"}),n(i)}else throw new Error(Pe.data&&Pe.data.message||"Failed to save sports selection")}catch(ae){console.error("Error saving sports selection:",ae),a({title:"Error Saving Sports Selection",description:ae instanceof Error?ae.message:"Failed to save sports selection. Please try again.",variant:"destructive"}),C(["Failed to save sports selection. Please try again."])}finally{R(!1)}},z=()=>{const W=[];for(let ae=9;ae<=19;ae++)W.push(ae.toString());return W};return U?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(te,{className:"shadow-medium",children:e.jsx(se,{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Loading sports data..."})]})})})}):e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-2xl font-bold text-primary",children:"Sports Selection"}),e.jsx(Re,{children:"Choose your participation type and select the sports you want to participate in"})]}),e.jsxs(se,{className:"space-y-6",children:[N.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:N.map((W,ae)=>e.jsx("li",{children:W},ae))})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Select Type"})]}),e.jsxs(gn,{value:i.participationType,onValueChange:$,className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg hover:bg-muted/50 transition-smooth",children:[e.jsx(St,{value:"team",id:"team"}),e.jsxs(E,{htmlFor:"team",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Ve,{className:"h-4 w-4"}),e.jsx("span",{children:"Team Sports"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg hover:bg-muted/50 transition-smooth",children:[e.jsx(St,{value:"individual",id:"individual"}),e.jsxs(E,{htmlFor:"individual",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Qo,{className:"h-4 w-4"}),e.jsx("span",{children:"Individual Sports"})]})]})]})]}),i.participationType&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add Sports"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Currently adding: ",e.jsx("span",{className:"font-medium text-primary",children:i.participationType==="team"?"Team Sports":"Individual Sports"})]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Select Sport *"}),e.jsxs(Ne,{value:l,onValueChange:W=>{d(W),h(""),p("")},children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Choose sport"})}),e.jsx(je,{children:Array.isArray(g)&&g.map(W=>e.jsx(K,{value:W.id.toString(),children:W.name},W.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Gender *"}),e.jsxs(Ne,{value:v,onValueChange:f,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Choose gender"})}),e.jsx(je,{children:k.map(W=>e.jsx(K,{value:W.value,children:W.label},W.value))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Age From *"}),e.jsxs(Ne,{value:x,onValueChange:W=>{S(W),y&&parseInt(W)>parseInt(y)&&j("")},children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Choose age from"})}),e.jsx(je,{children:z().map(W=>e.jsxs(K,{value:W,children:[W," years"]},W))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Age To *"}),e.jsxs(Ne,{value:y,onValueChange:j,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Choose age to"})}),e.jsx(je,{children:z().filter(W=>!x||parseInt(W)>=parseInt(x)).map(W=>e.jsxs(K,{value:W,children:[W," years"]},W))})]})]})]}),i.participationType==="individual"&&l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Category"}),e.jsxs(Ne,{value:u,onValueChange:W=>{h(W),p("")},children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Choose category"})}),e.jsx(je,{children:_.map(W=>e.jsx(K,{value:W.id.toString(),children:W.name},W.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Sub-Category"}),e.jsxs(Ne,{value:m,onValueChange:p,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Choose sub-category"})}),e.jsx(je,{children:b.map(W=>e.jsx(K,{value:W.id.toString(),children:W.name},W.id))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(F,{onClick:T,disabled:!l||!x||!y,className:"bg-gradient-primary",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Sport"]})})]})]}),i.selectedSports.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Selected Sports"}),e.jsx("div",{className:"space-y-3",children:i.selectedSports.map((W,ae)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/10 rounded-lg border border-accent/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(Fe,{className:"h-4 w-4 text-accent"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"font-medium text-foreground",children:W.sport_name}),e.jsx(he,{variant:"secondary",className:"text-xs",children:W.type==="team"?"Team":"Individual"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[W.category_name&&e.jsxs("div",{children:["Category: ",W.category_name]}),W.sub_category_name&&e.jsxs("div",{children:["Sub-Category: ",W.sub_category_name]}),e.jsxs("div",{children:["Age: ",W.ageFrom," - ",W.ageTo]}),e.jsxs("div",{children:["Gender: ",W.gender_label]})]})]})]}),e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>G(ae),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(jn,{className:"h-4 w-4"})})]},ae))}),e.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:[e.jsx("div",{className:"text-sm text-primary font-medium",children:"Registration Fee Summary (KES):"}),B?e.jsxs("div",{className:"text-xs text-muted-foreground mt-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",i.selectedSports.length," sports):"]}),e.jsxs("span",{children:["KES ",B.breakdown.sports_fees.reduce((W,ae)=>W+ae.fee,0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between font-medium text-primary border-t pt-1",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["KES ",B.breakdown.total.toLocaleString()]})]})]}):e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Sports Fee: KES ",i.selectedSports.length*1e3," =",e.jsxs("span",{className:"font-medium text-primary ml-1",children:["KES ",(i.selectedSports.length*1e3).toLocaleString()]})]})]})]}),e.jsxs(lt,{children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsxs(ct,{children:[e.jsx("strong",{children:"Note:"}),' You can participate in both team and individual sports. Switch between "Team Sports" and "Individual Sports" to add different types - your previously selected sports will be preserved. Each additional sport incurs a $25 registration fee.']})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(F,{variant:"outline",onClick:r,children:"Back"}),e.jsx(F,{onClick:Y,className:"bg-gradient-primary",disabled:P,children:P?"Saving...":"Save and Continue"})]})]})]})})};var V4="Separator",zg="horizontal",q4=["horizontal","vertical"],kS=c.forwardRef((t,s)=>{const{decorative:n,orientation:r=zg,...a}=t,i=G4(r)?r:zg,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(Ee.div,{"data-orientation":i,...l,...a,ref:s})});kS.displayName=V4;function G4(t){return q4.includes(t)}var MS=kS;const gr=c.forwardRef(({className:t,orientation:s="horizontal",decorative:n=!0,...r},a)=>e.jsx(MS,{ref:a,decorative:n,orientation:s,className:de("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));gr.displayName=MS.displayName;const H4=({registrationData:t,email:s,onComplete:n,onBack:r})=>{var V,B,H,q,re,Q,ie,ue,L,ee,ne,$,T,G,X;const[a,i]=c.useState(!1),[o,l]=c.useState(!1),[d,u]=c.useState(!1),[h,m]=c.useState(!1),[p,x]=c.useState([]),[S,y]=c.useState({requestedAmount:"",sponsorshipType:"",reason:""}),{toast:j}=_e(),[v,f]=c.useState(null),[N,C]=c.useState(null);c.useEffect(()=>{P()},[]);const P=async()=>{try{const z=(await Z.getPricingSummary()).data;z&&z.success&&C(z.data)}catch(Y){console.error("Error loading parent pass pricing:",Y),C({13:[{amount:300,pass_type:"Early Bird"}],14:[{amount:500,pass_type:"Early Bird"}]})}},R=()=>{var W;const Y=t.parentMedical;if(!((W=Y==null?void 0:Y.parents)!=null&&W.length))return 0;let z=0;return Y.parents.forEach(ae=>{ae.age<13?z+=300:z+=500}),z},g=()=>{var W,ae;if(v)return v.breakdown.total;const Y=(((ae=(W=t.sports)==null?void 0:W.selectedSports)==null?void 0:ae.length)||0)*1e3,z=R();return Y+z},A=()=>{if(!a){x(["Please confirm that all details are correct"]);return}x([]),l(!0)},_=async Y=>{if(Y==="sponsorship"){u(!0);return}m(!0);try{if(await Z.completeRegistration({email:s}),Y==="pay_now"){const z=g(),W=await Z.createPaymentRequest({email:s,amount:z,currency:"KES",fee_breakdown:(v==null?void 0:v.breakdown)||null});if(W.data&&W.data.success)j({title:"Payment Request Created! ",description:`Payment request for KES ${z.toLocaleString()} has been created. Redirecting to payment gateway...`}),setTimeout(()=>{j({title:"Payment Successful! ",description:"Your registration and payment have been completed successfully."}),n()},2e3);else throw new Error("Failed to create payment request")}else j({title:"Registration Complete! ",description:"Your registration has been completed successfully. Payment will be handled by your institution."}),n()}catch(z){console.error("Error completing registration:",z),j({title:"Error",description:"Failed to complete registration. Please try again.",variant:"destructive"})}finally{m(!1)}},w=async()=>{const Y=[];if(S.requestedAmount||Y.push("Requested amount is required"),S.sponsorshipType||Y.push("Sponsorship type is required"),S.reason||Y.push("Reason for sponsorship is required"),Y.length>0){x(Y);return}m(!0),x([]);try{await new Promise(z=>setTimeout(z,2e3)),j({title:"Sponsorship Request Submitted",description:"Your sponsorship request has been submitted for review."}),n()}catch{j({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{m(!1)}},{personalDetails:b,documents:I,parentMedical:k,sports:O}=t;c.useEffect(()=>{U()},[]);const U=async()=>{var Y,z;try{const W={selectedSports:(O==null?void 0:O.selectedSports)||[],parentCount:((Y=k==null?void 0:k.parents)==null?void 0:Y.length)||0,parentAges:((z=k==null?void 0:k.parents)==null?void 0:z.map(Pe=>Pe.age))||[]},ae=await Z.calculateTotalFees(W);ae.data&&ae.data.success&&f(ae.data.data)}catch(W){console.error("Error calculating fees:",W)}};return d?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-2xl font-bold text-primary",children:"Request Sponsorship"}),e.jsx(Re,{children:"Please provide details for your sponsorship request"})]}),e.jsxs(se,{className:"space-y-6",children:[p.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.map((Y,z)=>e.jsx("li",{children:Y},z))})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"requestedAmount",children:"Requested Amount *"}),e.jsx(D,{id:"requestedAmount",type:"number",placeholder:"Enter amount (e.g., 50)",value:S.requestedAmount,onChange:Y=>y(z=>({...z,requestedAmount:Y.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Sponsorship Type *"}),e.jsxs(gn,{value:S.sponsorshipType,onValueChange:Y=>y(z=>({...z,sponsorshipType:Y})),className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"partial",id:"partial"}),e.jsx(E,{htmlFor:"partial",children:"Partial"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"full",id:"full"}),e.jsx(E,{htmlFor:"full",children:"Full"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"reason",children:"Reason for Sponsorship *"}),e.jsx(at,{id:"reason",placeholder:"Please explain why you need sponsorship and your current financial situation...",value:S.reason,onChange:Y=>y(z=>({...z,reason:Y.target.value})),rows:4})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(F,{variant:"outline",onClick:()=>u(!1),children:"Back to Payment Options"}),e.jsx(F,{onClick:w,disabled:h,className:"bg-gradient-primary",children:h?"Submitting...":"Submit Request"})]})]})]})}):o?e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-2xl font-bold text-primary",children:"Choose Payment Option"}),e.jsx(Re,{children:"Select your preferred payment method to complete registration"})]}),e.jsxs(se,{className:"space-y-6",children:[e.jsxs(te,{className:"border border-primary/30 bg-gradient-card",children:[e.jsx(le,{children:e.jsx(ce,{className:"text-lg",children:"Payment Summary"})}),e.jsx(se,{className:"space-y-2",children:v?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",((V=O==null?void 0:O.selectedSports)==null?void 0:V.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",v.breakdown.sports_fees.reduce((Y,z)=>Y+z.fee,0).toLocaleString()]})]}),v.breakdown.parent_fee>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",((B=k==null?void 0:k.parents)==null?void 0:B.length)||0," parents - age-based pricing)"]}),e.jsxs("span",{children:["KES ",v.breakdown.parent_fee.toLocaleString()]})]}),e.jsx(gr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",v.breakdown.total.toLocaleString()]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Base Registration Fee"}),e.jsx("span",{children:"KES 1,000"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",((H=O==null?void 0:O.selectedSports)==null?void 0:H.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",((((q=O==null?void 0:O.selectedSports)==null?void 0:q.length)||0)*1e3).toLocaleString()]})]}),((re=k==null?void 0:k.parents)==null?void 0:re.length)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",(Q=k==null?void 0:k.parents)==null?void 0:Q.length," parents - age-based pricing)"]}),e.jsxs("span",{children:["KES ",R().toLocaleString()]})]}),e.jsx(gr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",g().toLocaleString()]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(te,{className:"border-2 border-primary/20 hover:border-primary/40 transition-colors cursor-pointer group",children:e.jsxs(se,{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-3 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-colors",children:e.jsx(tN,{className:"h-8 w-8 text-primary"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Pay Now"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pay immediately using card or online payment"})]}),e.jsx(F,{className:"w-full bg-gradient-primary",onClick:()=>_("pay_now"),disabled:h,children:h?"Processing...":"Pay KES "+g().toLocaleString()})]})}),e.jsx(te,{className:"border-2 border-accent/20 hover:border-accent/40 transition-colors cursor-pointer group",children:e.jsxs(se,{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-3 rounded-full bg-accent/10 group-hover:bg-accent/20 transition-colors",children:e.jsx(_p,{className:"h-8 w-8 text-accent"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Get Sponsorship"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Request partial or full sponsorship for registration"})]}),e.jsx(F,{variant:"outline",className:"w-full border-accent text-accent hover:bg-accent hover:text-accent-foreground",onClick:()=>_("sponsorship"),disabled:h,children:h?"Processing...":"Request Sponsorship"})]})}),e.jsx(te,{className:"border-2 border-secondary/20 hover:border-secondary/40 transition-colors cursor-pointer group",children:e.jsxs(se,{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-3 rounded-full bg-secondary/10 group-hover:bg-secondary/20 transition-colors",children:e.jsx(la,{className:"h-8 w-8 text-secondary-foreground"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Paid by Institution"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your institution will handle the payment"})]}),e.jsx(F,{variant:"secondary",className:"w-full",onClick:()=>_("institution"),disabled:h,children:h?"Processing...":"Continue"})]})})]}),e.jsx("div",{className:"flex justify-between pt-4",children:e.jsx(F,{variant:"outline",onClick:()=>l(!1),children:"Back to Review"})})]})]})}):e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-2xl font-bold text-primary",children:"Review Your Information"}),e.jsx(Re,{children:"Please review all your information before proceeding to payment"})]}),e.jsxs(se,{className:"space-y-8",children:[p.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.map((Y,z)=>e.jsx("li",{children:Y},z))})})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Student Information"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsxs("span",{className:"font-medium",children:[b==null?void 0:b.firstName," ",b==null?void 0:b.middleName," ",b==null?void 0:b.lastName]})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("span",{className:"font-medium",children:b==null?void 0:b.email})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"}),e.jsx("span",{className:"font-medium",children:b==null?void 0:b.dateOfBirth})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Gender:"}),e.jsx("span",{className:"font-medium",children:b==null?void 0:b.gender})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{className:"font-medium",children:b==null?void 0:b.phoneNumber})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Student ID:"}),e.jsx("span",{className:"font-medium",children:b==null?void 0:b.studentId})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1 col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Institution:"}),e.jsx("span",{className:"font-medium",children:(b==null?void 0:b.instituteName)==="Other"?b==null?void 0:b.otherInstitute:b==null?void 0:b.instituteName})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(bo,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Parent & Medical Information"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Parents Attending:"}),e.jsx("span",{className:"font-medium capitalize",children:k==null?void 0:k.parentsAttending})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Medical Facilities:"}),e.jsx("span",{className:"font-medium capitalize",children:k==null?void 0:k.medicalFacilities})]}),(k==null?void 0:k.parentsAttending)==="yes"&&((ie=k==null?void 0:k.parents)==null?void 0:ie.length)>0&&e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Parent Details:"}),k.parents.map((Y,z)=>e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 ml-4 p-2 bg-muted/30 rounded",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("span",{children:Y.name})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Relation:"}),e.jsx("span",{children:Y.relation})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{children:Y.phone})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("span",{children:Y.email})]})]},z))]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Allergies/Conditions:"}),e.jsx("span",{className:"font-medium capitalize",children:k==null?void 0:k.allergiesConditions})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Fe,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Sports Selection"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsxs("span",{className:"font-medium capitalize",children:[O==null?void 0:O.participationType," Sports"]})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Sports:"}),e.jsx("span",{className:"font-medium",children:((ue=O==null?void 0:O.selectedSports)==null?void 0:ue.length)||0})]}),((L=O==null?void 0:O.selectedSports)==null?void 0:L.length)>0&&e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Selected Sports:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 ml-4",children:O.selectedSports.map((Y,z)=>e.jsxs("div",{className:"flex justify-between text-xs bg-muted/30 rounded p-2",children:[e.jsx("span",{children:Y.sport}),e.jsx(he,{variant:"secondary",className:"text-xs",children:Y.category})]},z))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(it,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Documents"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Student ID Image:"}),e.jsxs(he,{variant:"secondary",className:"text-xs",children:[e.jsx(it,{className:"h-3 w-3 mr-1"}),"Uploaded"]})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Age Proof Document:"}),e.jsxs(he,{variant:"secondary",className:"text-xs",children:[e.jsx(it,{className:"h-3 w-3 mr-1"}),"Uploaded"]})]})]})]})]}),e.jsxs(te,{className:"border border-primary/30 bg-gradient-card",children:[e.jsx(le,{children:e.jsxs(ce,{className:"text-lg flex items-center space-x-2",children:[e.jsx(kt,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"Payment Summary"})]})}),e.jsx(se,{className:"space-y-4",children:e.jsx("div",{className:"space-y-2",children:v?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",((ee=O==null?void 0:O.selectedSports)==null?void 0:ee.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",v.breakdown.sports_fees.reduce((Y,z)=>Y+z.fee,0).toLocaleString()]})]}),v.breakdown.parent_fee>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",((ne=k==null?void 0:k.parents)==null?void 0:ne.length)||0," parents - age-based pricing)"]}),e.jsxs("span",{children:["KES ",v.breakdown.parent_fee.toLocaleString()]})]}),e.jsx(gr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",v.breakdown.total.toLocaleString()]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Base Registration Fee"}),e.jsx("span",{children:"KES 1,000"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",(($=O==null?void 0:O.selectedSports)==null?void 0:$.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",((((T=O==null?void 0:O.selectedSports)==null?void 0:T.length)||0)*1e3).toLocaleString()]})]}),((G=k==null?void 0:k.parents)==null?void 0:G.length)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",(X=k==null?void 0:k.parents)==null?void 0:X.length," parents - age-based pricing)"]}),e.jsxs("span",{children:["KES ",R().toLocaleString()]})]}),e.jsx(gr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",g().toLocaleString()]})]})]})})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg",children:[e.jsx(Ps,{id:"confirm",checked:a,onCheckedChange:Y=>i(!!Y)}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"confirm",className:"text-sm font-medium cursor-pointer",children:"I confirm that all the information provided above is correct and accurate"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Please review all information carefully. Changes after payment may require additional processing."})]})]})}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(F,{variant:"outline",onClick:r,children:"Back"}),e.jsxs(F,{onClick:A,disabled:!a,className:"bg-gradient-primary min-w-[200px]",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Proceed to Payment"]})]})]})]})})};var zd="Dialog",[OS,FS]=Vt(zd),[Y4,en]=OS(zd),DS=t=>{const{__scopeDialog:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=c.useRef(null),d=c.useRef(null),[u,h]=vn({prop:r,defaultProp:a??!1,onChange:i,caller:zd});return e.jsx(Y4,{scope:s,triggerRef:l,contentRef:d,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:u,onOpenChange:h,onOpenToggle:c.useCallback(()=>h(m=>!m),[h]),modal:o,children:n})};DS.displayName=zd;var LS="DialogTrigger",$S=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=en(LS,n),i=Te(s,a.triggerRef);return e.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gf(a.open),...r,ref:i,onClick:ge(t.onClick,a.onOpenToggle)})});$S.displayName=LS;var ff="DialogPortal",[W4,US]=OS(ff,{forceMount:void 0}),BS=t=>{const{__scopeDialog:s,forceMount:n,children:r,container:a}=t,i=en(ff,s);return e.jsx(W4,{scope:s,forceMount:n,children:c.Children.map(r,o=>e.jsx(Dt,{present:n||i.open,children:e.jsx(Wo,{asChild:!0,container:a,children:o})}))})};BS.displayName=ff;var qc="DialogOverlay",zS=c.forwardRef((t,s)=>{const n=US(qc,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=en(qc,t.__scopeDialog);return i.modal?e.jsx(Dt,{present:r||i.open,children:e.jsx(J4,{...a,ref:s})}):null});zS.displayName=qc;var K4=oa("DialogOverlay.RemoveScroll"),J4=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=en(qc,n);return e.jsx(Od,{as:K4,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(Ee.div,{"data-state":gf(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),ma="DialogContent",VS=c.forwardRef((t,s)=>{const n=US(ma,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=en(ma,t.__scopeDialog);return e.jsx(Dt,{present:r||i.open,children:i.modal?e.jsx(Q4,{...a,ref:s}):e.jsx(X4,{...a,ref:s})})});VS.displayName=ma;var Q4=c.forwardRef((t,s)=>{const n=en(ma,t.__scopeDialog),r=c.useRef(null),a=Te(s,n.contentRef,r);return c.useEffect(()=>{const i=r.current;if(i)return lf(i)},[]),e.jsx(qS,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ge(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ge(t.onFocusOutside,i=>i.preventDefault())})}),X4=c.forwardRef((t,s)=>{const n=en(ma,t.__scopeDialog),r=c.useRef(!1),a=c.useRef(!1);return e.jsx(qS,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),qS=c.forwardRef((t,s)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=en(ma,n),d=c.useRef(null),u=Te(s,d);return af(),e.jsxs(e.Fragment,{children:[e.jsx(kd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(yi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gf(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ek,{titleId:l.titleId}),e.jsx(sk,{contentRef:d,descriptionId:l.descriptionId})]})]})}),xf="DialogTitle",GS=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=en(xf,n);return e.jsx(Ee.h2,{id:a.titleId,...r,ref:s})});GS.displayName=xf;var HS="DialogDescription",YS=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=en(HS,n);return e.jsx(Ee.p,{id:a.descriptionId,...r,ref:s})});YS.displayName=HS;var WS="DialogClose",KS=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=en(WS,n);return e.jsx(Ee.button,{type:"button",...r,ref:s,onClick:ge(t.onClick,()=>a.onOpenChange(!1))})});KS.displayName=WS;function gf(t){return t?"open":"closed"}var JS="DialogTitleWarning",[Z4,QS]=BC(JS,{contentName:ma,titleName:xf,docsSlug:"dialog"}),ek=({titleId:t})=>{const s=QS(JS),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return c.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},tk="DialogDescriptionWarning",sk=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QS(tk).contentName}}.`;return c.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},vf=DS,yf=$S,jf=BS,tl=zS,sl=VS,nl=GS,rl=YS,Vd=KS;const qd=vf,XS=yf,nk=jf,ZS=c.forwardRef(({className:t,...s},n)=>e.jsx(tl,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));ZS.displayName=tl.displayName;const rk=ga("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),al=c.forwardRef(({side:t="right",className:s,children:n,...r},a)=>e.jsxs(nk,{children:[e.jsx(ZS,{}),e.jsxs(sl,{ref:a,className:de(rk({side:t}),s),...r,children:[n,e.jsxs(Vd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(jn,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));al.displayName=sl.displayName;const eb=({className:t,...s})=>e.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...s});eb.displayName="SheetHeader";const tb=c.forwardRef(({className:t,...s},n)=>e.jsx(nl,{ref:n,className:de("text-lg font-semibold text-foreground",t),...s}));tb.displayName=nl.displayName;const sb=c.forwardRef(({className:t,...s},n)=>e.jsx(rl,{ref:n,className:de("text-sm text-muted-foreground",t),...s}));sb.displayName=rl.displayName;const ak=()=>{const t=wt(),{toast:s}=_e(),[n,r]=c.useState(()=>{const S=localStorage.getItem("student_registration_step"),y=localStorage.getItem("student_registration_email"),j=localStorage.getItem("student_registration_data");if(console.log(" State restoration:",{savedStep:S,savedEmail:y,savedData:j}),j)try{if(JSON.parse(j).email){if(S==="userType")return"email";if(S==="email")return"email";if(S){const f=parseInt(S);if(f>=1&&f<=5)return f}return 1}}catch(v){console.error("Error parsing saved data:",v)}return y?"email":"userType"}),[a,i]=c.useState(()=>{const S=localStorage.getItem("student_registration_completed_steps");return S?JSON.parse(S):[]}),[o,l]=c.useState(()=>{const S=localStorage.getItem("student_registration_data");return S?JSON.parse(S):{userType:"",email:"",password:"",personalDetails:null,documents:null,parentMedical:null,sports:null}});c.useEffect(()=>{localStorage.setItem("student_registration_step",n.toString())},[n]),c.useEffect(()=>{localStorage.setItem("student_registration_completed_steps",JSON.stringify(a))},[a]),c.useEffect(()=>{localStorage.setItem("student_registration_data",JSON.stringify(o))},[o]),c.useEffect(()=>{const S=localStorage.getItem("student_registration_email");S&&o.email===S&&!o.personalDetails&&(console.log(" Auto-loading existing data for:",S),u(S))},[o.email,o.personalDetails]);const d=S=>{if(S==="institution"){t("/institution/register");return}l(y=>({...y,userType:S})),r("email")},u=async S=>{l(y=>({...y,email:S})),localStorage.setItem("student_registration_email",S);try{const y=await Z.getStudentPrefillData(S);if(y.data&&y.data.success&&y.data.data){const j=y.data.data;l(v=>({...v,personalDetails:{firstName:j.fname||"",middleName:j.mname||"",lastName:j.lname||"",email:j.email||S,phoneNumber:j.phone||"",address:j.address||"",dateOfBirth:j.dob||"",gender:j.gender||"",studentId:j.student_id||"",instituteName:j.institute_name||"",instituteType:j.institute_type||""},sports:{selectedSports:j.sports||[],experience:"",achievements:"",preferences:""}})),s({title:"Existing Data Found!",description:`Welcome back! We found your existing data from ${j.institute_name}. Please review and complete any missing information.`})}else s({title:"Email Verified Successfully",description:"Please complete your personal details."})}catch(y){console.error("Error checking for existing data:",y),s({title:"Email Verified Successfully",description:"Please complete your personal details."})}r(1)},h=(S,y)=>{const j=S===1?"personalDetails":S===2?"documents":S===3?"parentMedical":S===4?"sports":null;j&&l(v=>({...v,[j]:y,...S===1&&{personalDetails:{...y,email:v.email}}})),a.includes(S)||i(v=>[...v,S]),S<5&&r(S+1)},m=S=>{S===1?window.confirm("Are you sure you want to go back? You will lose your current progress and be redirected to the login page.")&&(localStorage.removeItem("student_registration_step"),localStorage.removeItem("student_registration_email"),localStorage.removeItem("student_registration_data"),localStorage.removeItem("student_registration_completed_steps"),t("/login")):r(S-1)},p=()=>{r("userType")},x=()=>{localStorage.setItem("registrationData",JSON.stringify(o)),localStorage.removeItem("student_registration_step"),localStorage.removeItem("student_registration_email"),localStorage.removeItem("student_registration_data"),localStorage.removeItem("student_registration_completed_steps"),s({title:"Registration Complete! ",description:"Welcome! Your account has been created successfully."}),t("/login")};return n==="userType"?e.jsx(RS,{onTypeSelect:d}):n==="email"?e.jsx(_S,{onComplete:u,onBack:p}):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:hidden sticky top-0 z-30 bg-background/80 backdrop-blur border-b",children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Registration"}),e.jsxs(qd,{children:[e.jsx(XS,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Mp,{className:"h-4 w-4"})," Steps"]})}),e.jsx(al,{side:"left",className:"p-0 w-80 max-w-[85vw]",children:e.jsx(Bg,{showOnMobile:!0,currentStep:n,completedSteps:a})})]})]})}),e.jsx(Bg,{currentStep:n,completedSteps:a}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[n===1&&e.jsx($4,{initialData:{email:o.email,...o.personalDetails||{}},onComplete:S=>h(1,S),onBack:()=>m(1)}),n===2&&e.jsx(U4,{initialData:o.documents,email:o.email,onComplete:S=>h(2,S),onBack:()=>m(2)}),n===3&&e.jsx(B4,{initialData:o.parentMedical,email:o.email,onComplete:S=>h(3,S),onBack:()=>m(3)}),n===4&&e.jsx(z4,{initialData:o.sports,email:o.email,onComplete:S=>h(4,S),onBack:()=>m(4)}),n===5&&e.jsx(H4,{registrationData:o,email:o.email,onComplete:x,onBack:()=>m(5)})]})})]})},ik=()=>{const t=wt(),{toast:s}=_e(),{loginWithOTP:n}=qt(),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState("email"),[u,h]=c.useState(!1),[m,p]=c.useState(""),[x,S]=c.useState(""),y=async()=>{var f;if(!r){p("Email is required");return}h(!0),p("");try{const C=(await Z.sendInstitutionOTP(r,"Institution","login")).data,P=((f=C.data)==null?void 0:f.otp_id)||C.otp_id||C.id;S(P),d("otp"),s({title:"OTP Sent! ",description:`Verification code sent to ${r}. Please check your email inbox.`})}catch(N){console.log("Error details:",N);const C=(N==null?void 0:N.message)||"Failed to send OTP. Please try again.";p(C),s({title:"OTP Send Failed",description:C,variant:"destructive"})}finally{h(!1)}},j=async()=>{if(!i){p("OTP is required");return}h(!0),p("");try{console.log("Verifying OTP for login with:",{otpId:x,otp:i});const N=(await Z.verifyOTP(x,i)).data;if(console.log("OTP Verification Response:",N),N.success)if(N.role==="institution"){try{const R=(await Z.loadRegistrationCheckpoint(r)).data;if(R.success&&R.data.step>0){s({title:"Registration Incomplete",description:"Please complete your registration process first.",variant:"destructive"}),setTimeout(()=>{t("/institution/register")},2e3);return}}catch{console.log("Checkpoint check failed, proceeding with login")}if(await n(N))s({title:"Login Successful! ",description:"Welcome back to your institution dashboard."}),t("/institution");else throw new Error("Failed to complete login process")}else s({title:"Not Registered",description:"This email is not registered as an institution. Please register first.",variant:"destructive"}),setTimeout(()=>{t("/institution/register")},2e3);else throw new Error(N.message||"OTP verification failed")}catch(f){console.log("OTP Verification Error:",f);const N=(f==null?void 0:f.message)||"Failed to verify OTP";p(N),s({title:"Verification Failed",description:N,variant:"destructive"})}finally{h(!1)}},v=()=>{l==="otp"?(d("email"),o("")):t("/login")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:e.jsxs(te,{className:"w-full max-w-md shadow-large",children:[e.jsxs(le,{className:"text-center",children:[e.jsxs(ce,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent flex items-center justify-center gap-2",children:[e.jsx(Et,{className:"h-6 w-6"}),"Institution Login"]}),e.jsxs(Re,{children:[l==="email"&&"Enter your email to receive a login code",l==="otp"&&"Enter the OTP sent to your email"]})]}),e.jsxs(se,{className:"space-y-4",children:[m&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:m})}),l==="email"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Institution Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"institution@example.com",value:r,onChange:f=>a(f.target.value),className:"pl-10"})]})]}),e.jsx(F,{onClick:y,className:"w-full",disabled:u,children:u?"Sending OTP...":"Send Login Code"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"otp",children:"Enter OTP"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"otp",value:i,onChange:f=>o(f.target.value),placeholder:"Enter 6-digit OTP",className:"pl-10 text-center text-lg tracking-widest",maxLength:6})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["OTP sent to: ",e.jsx("span",{className:"font-medium",children:r})]})]}),e.jsx(F,{onClick:j,className:"w-full",disabled:u,children:u?"Verifying...":"Login"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(F,{variant:"outline",onClick:v,className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4"}),"Back"]}),l==="email"&&e.jsx(ms,{to:"/institution/register/phase1",className:"text-sm text-primary hover:underline font-medium",children:"Need to register?"})]})]})]})})},ok=()=>{const t=wt(),s=Zs(),{login:n,loginWithOTP:r}=qt(),{toast:a}=_e(),[i,o]=c.useState(!1),[l,d]=c.useState(!1),[u,h]=c.useState(!1),[m,p]=c.useState("student"),[x,S]=c.useState("email");c.useEffect(()=>{s.pathname==="/login"&&p("student")},[s.pathname]);const[y,j]=c.useState({email:"",password:"",otp:""}),[v,f]=c.useState(""),N=(w,b)=>{j(I=>({...I,[w]:b}))},C=w=>{p(w),S("email"),j({email:"",password:"",otp:""})},P=async w=>{var b;w.preventDefault(),o(!0);try{if(m==="admin")if(await n(y.email,y.password))localStorage.setItem("adminSession",JSON.stringify({email:y.email,role:"admin"})),a({title:"Welcome Back!",description:"Successfully logged into admin portal."}),t("/admin");else{a({title:"Login Failed",description:"Invalid admin credentials. Please try again.",variant:"destructive"});return}else try{let I;if(m==="student"?I=await Z.sendStudentOTP(y.email,"Student","login"):I=await Z.sendInstitutionOTP(y.email,"Institution","login"),I.data){const k=I.data;f(((b=k.data)==null?void 0:b.otp_id)||k.otp_id),a({title:"OTP Sent! ",description:`Verification code sent to ${y.email}. Please check your email inbox.`}),S("otp")}else throw new Error("Failed to send OTP")}catch(I){console.error("OTP send failed:",I);const k=I instanceof Error?I.message:"Failed to send OTP. Please try again.";a({title:"OTP Send Failed",description:k,variant:"destructive"})}}catch(I){const k=I instanceof Error?I.message:"An error occurred. Please try again.";a({title:m==="admin"?"Login Error":"Error",description:k,variant:"destructive"})}finally{o(!1)}},R=async w=>{w.preventDefault(),o(!0);try{const b=await Z.verifyOTP(v,y.otp);if(b.data){const I=b.data;if(await r(I)){const O={student:"Welcome to your student dashboard!",institution:"Welcome to your institution dashboard."},U={student:"/dashboard",institution:"/institution"};a({title:"Login Successful!",description:O[m]}),t(U[m])}else a({title:"Login Failed",description:"Failed to complete login process. Please try again.",variant:"destructive"})}else throw new Error("Invalid OTP")}catch(b){console.error("OTP verification failed:",b);const I=b instanceof Error?b.message:"Please check your code and try again.";a({title:"OTP Verification Failed",description:I,variant:"destructive"})}finally{o(!1)}},g=w=>{switch(w){case"admin":return e.jsx(Oc,{className:"h-5 w-5"});case"institution":return e.jsx(Et,{className:"h-5 w-5"});case"student":return e.jsx(Ge,{className:"h-5 w-5"})}},A=()=>{switch(m){case"admin":return"Admin Portal";case"institution":return"Institution Portal";case"student":return"Student Portal"}},_=()=>{if(x==="otp")return"Enter the verification code sent to your email";switch(m){case"admin":return"Enter your credentials to access admin panel";case"institution":return"Enter your email to receive an OTP";case"student":return"Enter your email to receive an OTP"}};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-4xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"text-center md:text-left space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 mb-6",children:[e.jsx(Fe,{className:"h-8 w-8 text-primary-glow"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:"Sports Portal"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Ud,alt:"Sports Event Management",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center px-6",children:[e.jsx("div",{className:"mb-4",children:g(m)}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:A()}),e.jsxs("p",{className:"text-xl opacity-90 mb-4",children:[m==="admin"&&"System Administration",m==="institution"&&"Manage your sports events effortlessly",m==="student"&&"Access your sports event dashboard"]}),e.jsxs("div",{className:"flex justify-center space-x-4 text-sm opacity-80",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-accent-glow rounded-full"}),e.jsxs("span",{children:[m==="admin"&&"Full Control",m==="institution"&&"Event Management",m==="student"&&"Event Registration"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-accent-glow rounded-full"}),e.jsxs("span",{children:[m==="admin"&&"Analytics",m==="institution"&&"Student Management",m==="student"&&"Live Updates"]})]})]})]})})]})]}),e.jsxs(te,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(le,{className:"text-center pb-6",children:[e.jsx(ce,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:x==="otp"?"Verify OTP":"Sign In"}),e.jsx(Re,{className:"text-muted-foreground",children:_()})]}),e.jsxs(se,{className:"space-y-6",children:[x==="email"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(E,{className:"text-sm font-medium",children:"Select Your Role"}),e.jsxs(gn,{value:m,onValueChange:w=>C(w),className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-muted/50 p-3 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(St,{value:"student",id:"student"}),e.jsxs(E,{htmlFor:"student",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Ge,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Student"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-muted/50 p-3 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(St,{value:"admin",id:"admin"}),e.jsxs(E,{htmlFor:"admin",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Oc,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Admin"})]})]})]})]}),x==="email"?e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:`Enter your ${m} email`,value:y.email,onChange:w=>N("email",w.target.value),className:"pl-10",required:!0})]})]}),m==="admin"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"password",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"password",type:l?"text":"password",placeholder:"Enter your password",value:y.password,onChange:w=>N("password",w.target.value),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l?e.jsx(LP,{className:"h-4 w-4"}):e.jsx(_s,{className:"h-4 w-4"})})]})]}),m==="admin"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{id:"remember",checked:u,onCheckedChange:w=>h(!!w)}),e.jsx(E,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"Remember me"})]}),e.jsx(ms,{to:"#",className:"text-sm text-primary hover:underline font-medium",children:"Forgot password?"})]}),e.jsx(F,{type:"submit",className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:i,children:i?m==="admin"?"Signing In...":"Sending OTP...":m==="admin"?"Sign In":"Send OTP"})]}):e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["OTP sent to: ",e.jsx("span",{className:"font-medium",children:y.email})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Mc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Enter 6-digit OTP from email",value:y.otp,onChange:w=>N("otp",w.target.value),className:"pl-10 text-center text-lg tracking-widest",maxLength:6,required:!0})]})]}),e.jsx(F,{type:"submit",className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:i,children:i?"Verifying...":"Verify OTP"}),e.jsx(F,{type:"button",variant:"outline",onClick:()=>S("email"),className:"w-full",children:"Back to Email"})]}),m==="admin"&&x==="email"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-border"})})})}),x==="email"&&e.jsxs("div",{className:"text-center text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),m==="student"&&e.jsx(ms,{to:"/register",className:"text-primary hover:underline font-medium",children:"Register Now"}),m==="admin"&&e.jsx("span",{className:"text-muted-foreground",children:"Contact system administrator"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Institution?",e.jsx(ms,{to:"/institution/login",className:"text-primary hover:underline font-medium ml-1",children:"Login"})," or ",e.jsx(ms,{to:"/institution/register/phase1",className:"text-primary hover:underline font-medium",children:"Register"})]})]})]})]})]})})})},im=768;function Gd(){const[t,s]=c.useState(void 0);return c.useEffect(()=>{const n=window.matchMedia(`(max-width: ${im-1}px)`),r=()=>{s(window.innerWidth<im)};return n.addEventListener("change",r),s(window.innerWidth<im),()=>n.removeEventListener("change",r)},[]),!!t}function Vg({className:t,...s}){return e.jsx("div",{className:de("animate-pulse rounded-md bg-muted",t),...s})}const lk="sidebar:state",ck=60*60*24*7,dk="16rem",uk="18rem",mk="3rem",hk="b",nb=c.createContext(null);function Hd(){const t=c.useContext(nb);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Yd=c.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:n,className:r,style:a,children:i,...o},l)=>{const d=Gd(),[u,h]=c.useState(!1),[m,p]=c.useState(t),x=s??m,S=c.useCallback(f=>{const N=typeof f=="function"?f(x):f;n?n(N):p(N),document.cookie=`${lk}=${N}; path=/; max-age=${ck}`},[n,x]),y=c.useCallback(()=>d?h(f=>!f):S(f=>!f),[d,S,h]);c.useEffect(()=>{const f=N=>{N.key===hk&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),y())};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[y]);const j=x?"expanded":"collapsed",v=c.useMemo(()=>({state:j,open:x,setOpen:S,isMobile:d,openMobile:u,setOpenMobile:h,toggleSidebar:y}),[j,x,S,d,u,h,y]);return e.jsx(nb.Provider,{value:v,children:e.jsx(qN,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":dk,"--sidebar-width-icon":mk,...a},className:de("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});Yd.displayName="SidebarProvider";const Wd=c.forwardRef(({side:t="left",variant:s="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:d,openMobile:u,setOpenMobile:h}=Hd();return n==="none"?e.jsx("div",{className:de("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?e.jsx(qd,{open:u,onOpenChange:h,...i,children:e.jsx(al,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":uk},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):e.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?n:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:de("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:de("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Wd.displayName="Sidebar";const Kd=c.forwardRef(({className:t,onClick:s,...n},r)=>{const{toggleSidebar:a}=Hd();return e.jsxs(F,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:de("h-7 w-7",t),onClick:i=>{s==null||s(i),a()},...n,children:[e.jsx(Mp,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Kd.displayName="SidebarTrigger";const pk=c.forwardRef(({className:t,...s},n)=>{const{toggleSidebar:r}=Hd();return e.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:de("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});pk.displayName="SidebarRail";const Jd=c.forwardRef(({className:t,...s},n)=>e.jsx("main",{ref:n,className:de("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));Jd.displayName="SidebarInset";const fk=c.forwardRef(({className:t,...s},n)=>e.jsx(D,{ref:n,"data-sidebar":"input",className:de("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));fk.displayName="SidebarInput";const Qd=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"header",className:de("flex flex-col gap-2 p-2",t),...s}));Qd.displayName="SidebarHeader";const xk=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"footer",className:de("flex flex-col gap-2 p-2",t),...s}));xk.displayName="SidebarFooter";const gk=c.forwardRef(({className:t,...s},n)=>e.jsx(gr,{ref:n,"data-sidebar":"separator",className:de("mx-2 w-auto bg-sidebar-border",t),...s}));gk.displayName="SidebarSeparator";const Xd=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"content",className:de("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));Xd.displayName="SidebarContent";const Zd=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group",className:de("relative flex w-full min-w-0 flex-col p-2",t),...s}));Zd.displayName="SidebarGroup";const eu=c.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?vi:"div";return e.jsx(a,{ref:r,"data-sidebar":"group-label",className:de("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});eu.displayName="SidebarGroupLabel";const vk=c.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?vi:"button";return e.jsx(a,{ref:r,"data-sidebar":"group-action",className:de("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});vk.displayName="SidebarGroupAction";const tu=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group-content",className:de("w-full text-sm",t),...s}));tu.displayName="SidebarGroupContent";const su=c.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu",className:de("flex w-full min-w-0 flex-col gap-1",t),...s}));su.displayName="SidebarMenu";const nu=c.forwardRef(({className:t,...s},n)=>e.jsx("li",{ref:n,"data-sidebar":"menu-item",className:de("group/menu-item relative",t),...s}));nu.displayName="SidebarMenuItem";const yk=ga("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ru=c.forwardRef(({asChild:t=!1,isActive:s=!1,variant:n="default",size:r="default",tooltip:a,className:i,...o},l)=>{const d=t?vi:"button",{isMobile:u,state:h}=Hd(),m=e.jsx(d,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":s,className:de(yk({variant:n,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),e.jsxs(KI,{children:[e.jsx(JI,{asChild:!0,children:m}),e.jsx(GN,{side:"right",align:"center",hidden:h!=="collapsed"||u,...a})]})):m});ru.displayName="SidebarMenuButton";const jk=c.forwardRef(({className:t,asChild:s=!1,showOnHover:n=!1,...r},a)=>{const i=s?vi:"button";return e.jsx(i,{ref:a,"data-sidebar":"menu-action",className:de("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});jk.displayName="SidebarMenuAction";const Nk=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:de("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));Nk.displayName="SidebarMenuBadge";const Sk=c.forwardRef(({className:t,showIcon:s=!1,...n},r)=>{const a=c.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:de("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[s&&e.jsx(Vg,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(Vg,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Sk.displayName="SidebarMenuSkeleton";const bk=c.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:de("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));bk.displayName="SidebarMenuSub";const wk=c.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));wk.displayName="SidebarMenuSubItem";const Ck=c.forwardRef(({asChild:t=!1,size:s="md",isActive:n,className:r,...a},i)=>{const o=t?vi:"a";return e.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":s,"data-active":n,className:de("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});Ck.displayName="SidebarMenuSubButton";const Pk=[{title:"Dashboard",url:"/dashboard",icon:Tp},{title:"Profile Management",url:"/dashboard/profile",icon:Ge},{title:"Sports Registration",url:"/dashboard/sports-registration",icon:Fe},{title:"Payments & Sponsorship",url:"/dashboard/student-payments",icon:kt},{title:"Notifications",url:"/dashboard/notifications",icon:Tc}];function Ek(){const t=Zs(),s=r=>t.pathname===r,n=r=>s(r)?"bg-primary text-primary-foreground font-medium shadow-soft":"hover:bg-muted/50";return e.jsxs(Wd,{collapsible:"offcanvas",children:[e.jsx(Qd,{className:"border-b border-border p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:e.jsx(VP,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-foreground",children:"Sports Portal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Student Dashboard"})]})]})}),e.jsx(Xd,{children:e.jsxs(Zd,{children:[e.jsx(eu,{children:"Main Menu"}),e.jsx(tu,{children:e.jsx(su,{children:Pk.map(r=>e.jsx(nu,{children:e.jsx(ru,{asChild:!0,children:e.jsxs(nf,{to:r.url,className:n(r.url),children:[e.jsx(r.icon,{className:"h-4 w-4"}),e.jsx("span",{children:r.title})]})})},r.title))})})]})})]})}var rb={exports:{}},ab={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=c;function Ak(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ik=typeof Object.is=="function"?Object.is:Ak,Rk=hi.useState,_k=hi.useEffect,Tk=hi.useLayoutEffect,kk=hi.useDebugValue;function Mk(t,s){var n=s(),r=Rk({inst:{value:n,getSnapshot:s}}),a=r[0].inst,i=r[1];return Tk(function(){a.value=n,a.getSnapshot=s,om(a)&&i({inst:a})},[t,n,s]),_k(function(){return om(a)&&i({inst:a}),t(function(){om(a)&&i({inst:a})})},[t]),kk(n),n}function om(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Ik(t,n)}catch{return!0}}function Ok(t,s){return s()}var Fk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ok:Mk;ab.useSyncExternalStore=hi.useSyncExternalStore!==void 0?hi.useSyncExternalStore:Fk;rb.exports=ab;var Dk=rb.exports;function Lk(){return Dk.useSyncExternalStore($k,()=>!0,()=>!1)}function $k(){return()=>{}}var Nf="Avatar",[Uk]=Vt(Nf),[Bk,ib]=Uk(Nf),ob=c.forwardRef((t,s)=>{const{__scopeAvatar:n,...r}=t,[a,i]=c.useState("idle");return e.jsx(Bk,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(Ee.span,{...r,ref:s})})});ob.displayName=Nf;var lb="AvatarImage",cb=c.forwardRef((t,s)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=t,o=ib(lb,n),l=zk(r,i),d=ft(u=>{a(u),o.onImageLoadingStatusChange(u)});return yt(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(Ee.img,{...i,ref:s,src:r}):null});cb.displayName=lb;var db="AvatarFallback",ub=c.forwardRef((t,s)=>{const{__scopeAvatar:n,delayMs:r,...a}=t,i=ib(db,n),[o,l]=c.useState(r===void 0);return c.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(Ee.span,{...a,ref:s}):null});ub.displayName=db;function qg(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zk(t,{referrerPolicy:s,crossOrigin:n}){const r=Lk(),a=c.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=c.useState(()=>qg(i,t));return yt(()=>{l(qg(i,t))},[i,t]),yt(()=>{const d=m=>()=>{l(m)};if(!i)return;const u=d("loaded"),h=d("error");return i.addEventListener("load",u),i.addEventListener("error",h),s&&(i.referrerPolicy=s),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",h)}},[i,n,s]),o}var mb=ob,hb=cb,pb=ub;const il=c.forwardRef(({className:t,...s},n)=>e.jsx(mb,{ref:n,className:de("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));il.displayName=mb.displayName;const ol=c.forwardRef(({className:t,...s},n)=>e.jsx(hb,{ref:n,className:de("aspect-square h-full w-full",t),...s}));ol.displayName=hb.displayName;const ll=c.forwardRef(({className:t,...s},n)=>e.jsx(pb,{ref:n,className:de("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));ll.displayName=pb.displayName;var Ih=["Enter"," "],Vk=["ArrowDown","PageUp","Home"],fb=["ArrowUp","PageDown","End"],qk=[...Vk,...fb],Gk={ltr:[...Ih,"ArrowRight"],rtl:[...Ih,"ArrowLeft"]},Hk={ltr:["ArrowLeft"],rtl:["ArrowRight"]},cl="Menu",[_o,Yk,Wk]=pd(cl),[ya,xb]=Vt(cl,[Wk,wi,Ii]),au=wi(),gb=Ii(),[Kk,ja]=ya(cl),[Jk,dl]=ya(cl),vb=t=>{const{__scopeMenu:s,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=t,l=au(s),[d,u]=c.useState(null),h=c.useRef(!1),m=ft(i),p=Ei(a);return c.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),e.jsx(Yp,{...l,children:e.jsx(Kk,{scope:s,open:n,onOpenChange:m,content:d,onContentChange:u,children:e.jsx(Jk,{scope:s,onClose:c.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};vb.displayName=cl;var Qk="MenuAnchor",Sf=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=au(n);return e.jsx(Wp,{...a,...r,ref:s})});Sf.displayName=Qk;var bf="MenuPortal",[Xk,yb]=ya(bf,{forceMount:void 0}),jb=t=>{const{__scopeMenu:s,forceMount:n,children:r,container:a}=t,i=ja(bf,s);return e.jsx(Xk,{scope:s,forceMount:n,children:e.jsx(Dt,{present:n||i.open,children:e.jsx(Wo,{asChild:!0,container:a,children:r})})})};jb.displayName=bf;var As="MenuContent",[Zk,wf]=ya(As),Nb=c.forwardRef((t,s)=>{const n=yb(As,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=ja(As,t.__scopeMenu),o=dl(As,t.__scopeMenu);return e.jsx(_o.Provider,{scope:t.__scopeMenu,children:e.jsx(Dt,{present:r||i.open,children:e.jsx(_o.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(eM,{...a,ref:s}):e.jsx(tM,{...a,ref:s})})})})}),eM=c.forwardRef((t,s)=>{const n=ja(As,t.__scopeMenu),r=c.useRef(null),a=Te(s,r);return c.useEffect(()=>{const i=r.current;if(i)return lf(i)},[]),e.jsx(Cf,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ge(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),tM=c.forwardRef((t,s)=>{const n=ja(As,t.__scopeMenu);return e.jsx(Cf,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),sM=oa("MenuContent.ScrollLock"),Cf=c.forwardRef((t,s)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:x,disableOutsideScroll:S,...y}=t,j=ja(As,n),v=dl(As,n),f=au(n),N=gb(n),C=Yk(n),[P,R]=c.useState(null),g=c.useRef(null),A=Te(s,g,j.onContentChange),_=c.useRef(0),w=c.useRef(""),b=c.useRef(0),I=c.useRef(null),k=c.useRef("right"),O=c.useRef(0),U=S?Od:c.Fragment,V=S?{as:sM,allowPinchZoom:!0}:void 0,B=q=>{var $,T;const re=w.current+q,Q=C().filter(G=>!G.disabled),ie=document.activeElement,ue=($=Q.find(G=>G.ref.current===ie))==null?void 0:$.textValue,L=Q.map(G=>G.textValue),ee=pM(L,re,ue),ne=(T=Q.find(G=>G.textValue===ee))==null?void 0:T.ref.current;(function G(X){w.current=X,window.clearTimeout(_.current),X!==""&&(_.current=window.setTimeout(()=>G(""),1e3))})(re),ne&&setTimeout(()=>ne.focus())};c.useEffect(()=>()=>window.clearTimeout(_.current),[]),af();const H=c.useCallback(q=>{var Q,ie;return k.current===((Q=I.current)==null?void 0:Q.side)&&xM(q,(ie=I.current)==null?void 0:ie.area)},[]);return e.jsx(Zk,{scope:n,searchRef:w,onItemEnter:c.useCallback(q=>{H(q)&&q.preventDefault()},[H]),onItemLeave:c.useCallback(q=>{var re;H(q)||((re=g.current)==null||re.focus(),R(null))},[H]),onTriggerLeave:c.useCallback(q=>{H(q)&&q.preventDefault()},[H]),pointerGraceTimerRef:b,onPointerGraceIntentChange:c.useCallback(q=>{I.current=q},[]),children:e.jsx(U,{...V,children:e.jsx(kd,{asChild:!0,trapped:a,onMountAutoFocus:ge(i,q=>{var re;q.preventDefault(),(re=g.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(yi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,onDismiss:x,children:e.jsx(mf,{asChild:!0,...N,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:R,onEntryFocus:ge(d,q=>{v.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Kp,{role:"menu","aria-orientation":"vertical","data-state":Db(j.open),"data-radix-menu-content":"",dir:v.dir,...f,...y,ref:A,style:{outline:"none",...y.style},onKeyDown:ge(y.onKeyDown,q=>{const Q=q.target.closest("[data-radix-menu-content]")===q.currentTarget,ie=q.ctrlKey||q.altKey||q.metaKey,ue=q.key.length===1;Q&&(q.key==="Tab"&&q.preventDefault(),!ie&&ue&&B(q.key));const L=g.current;if(q.target!==L||!qk.includes(q.key))return;q.preventDefault();const ne=C().filter($=>!$.disabled).map($=>$.ref.current);fb.includes(q.key)&&ne.reverse(),mM(ne)}),onBlur:ge(t.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(_.current),w.current="")}),onPointerMove:ge(t.onPointerMove,To(q=>{const re=q.target,Q=O.current!==q.clientX;if(q.currentTarget.contains(re)&&Q){const ie=q.clientX>O.current?"right":"left";k.current=ie,O.current=q.clientX}}))})})})})})})});Nb.displayName=As;var nM="MenuGroup",Pf=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(Ee.div,{role:"group",...r,ref:s})});Pf.displayName=nM;var rM="MenuLabel",Sb=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(Ee.div,{...r,ref:s})});Sb.displayName=rM;var Gc="MenuItem",Gg="menu.itemSelect",iu=c.forwardRef((t,s)=>{const{disabled:n=!1,onSelect:r,...a}=t,i=c.useRef(null),o=dl(Gc,t.__scopeMenu),l=wf(Gc,t.__scopeMenu),d=Te(s,i),u=c.useRef(!1),h=()=>{const m=i.current;if(!n&&m){const p=new CustomEvent(Gg,{bubbles:!0,cancelable:!0});m.addEventListener(Gg,x=>r==null?void 0:r(x),{once:!0}),Ep(m,p),p.defaultPrevented?u.current=!1:o.onClose()}};return e.jsx(bb,{...a,ref:d,disabled:n,onClick:ge(t.onClick,h),onPointerDown:m=>{var p;(p=t.onPointerDown)==null||p.call(t,m),u.current=!0},onPointerUp:ge(t.onPointerUp,m=>{var p;u.current||(p=m.currentTarget)==null||p.click()}),onKeyDown:ge(t.onKeyDown,m=>{const p=l.searchRef.current!=="";n||p&&m.key===" "||Ih.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});iu.displayName=Gc;var bb=c.forwardRef((t,s)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=t,o=wf(Gc,n),l=gb(n),d=c.useRef(null),u=Te(s,d),[h,m]=c.useState(!1),[p,x]=c.useState("");return c.useEffect(()=>{const S=d.current;S&&x((S.textContent??"").trim())},[i.children]),e.jsx(_o.ItemSlot,{scope:n,disabled:r,textValue:a??p,children:e.jsx(hf,{asChild:!0,...l,focusable:!r,children:e.jsx(Ee.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ge(t.onPointerMove,To(S=>{r?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(t.onPointerLeave,To(S=>o.onItemLeave(S))),onFocus:ge(t.onFocus,()=>m(!0)),onBlur:ge(t.onBlur,()=>m(!1))})})})}),aM="MenuCheckboxItem",wb=c.forwardRef((t,s)=>{const{checked:n=!1,onCheckedChange:r,...a}=t;return e.jsx(Ib,{scope:t.__scopeMenu,checked:n,children:e.jsx(iu,{role:"menuitemcheckbox","aria-checked":Hc(n)?"mixed":n,...a,ref:s,"data-state":Af(n),onSelect:ge(a.onSelect,()=>r==null?void 0:r(Hc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});wb.displayName=aM;var Cb="MenuRadioGroup",[iM,oM]=ya(Cb,{value:void 0,onValueChange:()=>{}}),Pb=c.forwardRef((t,s)=>{const{value:n,onValueChange:r,...a}=t,i=ft(r);return e.jsx(iM,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(Pf,{...a,ref:s})})});Pb.displayName=Cb;var Eb="MenuRadioItem",Ab=c.forwardRef((t,s)=>{const{value:n,...r}=t,a=oM(Eb,t.__scopeMenu),i=n===a.value;return e.jsx(Ib,{scope:t.__scopeMenu,checked:i,children:e.jsx(iu,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":Af(i),onSelect:ge(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});Ab.displayName=Eb;var Ef="MenuItemIndicator",[Ib,lM]=ya(Ef,{checked:!1}),Rb=c.forwardRef((t,s)=>{const{__scopeMenu:n,forceMount:r,...a}=t,i=lM(Ef,n);return e.jsx(Dt,{present:r||Hc(i.checked)||i.checked===!0,children:e.jsx(Ee.span,{...a,ref:s,"data-state":Af(i.checked)})})});Rb.displayName=Ef;var cM="MenuSeparator",_b=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});_b.displayName=cM;var dM="MenuArrow",Tb=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=au(n);return e.jsx(Jp,{...a,...r,ref:s})});Tb.displayName=dM;var uM="MenuSub",[zF,kb]=ya(uM),Wi="MenuSubTrigger",Mb=c.forwardRef((t,s)=>{const n=ja(Wi,t.__scopeMenu),r=dl(Wi,t.__scopeMenu),a=kb(Wi,t.__scopeMenu),i=wf(Wi,t.__scopeMenu),o=c.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:t.__scopeMenu},h=c.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return c.useEffect(()=>h,[h]),c.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),d(null)}},[l,d]),e.jsx(Sf,{asChild:!0,...u,children:e.jsx(bb,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Db(n.open),...t,ref:hd(s,a.onTriggerChange),onClick:m=>{var p;(p=t.onClick)==null||p.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ge(t.onPointerMove,To(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ge(t.onPointerLeave,To(m=>{var x,S;h();const p=(x=n.content)==null?void 0:x.getBoundingClientRect();if(p){const y=(S=n.content)==null?void 0:S.dataset.side,j=y==="right",v=j?-5:5,f=p[j?"left":"right"],N=p[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+v,y:m.clientY},{x:f,y:p.top},{x:N,y:p.top},{x:N,y:p.bottom},{x:f,y:p.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ge(t.onKeyDown,m=>{var x;const p=i.searchRef.current!=="";t.disabled||p&&m.key===" "||Gk[r.dir].includes(m.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),m.preventDefault())})})})});Mb.displayName=Wi;var Ob="MenuSubContent",Fb=c.forwardRef((t,s)=>{const n=yb(As,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=ja(As,t.__scopeMenu),o=dl(As,t.__scopeMenu),l=kb(Ob,t.__scopeMenu),d=c.useRef(null),u=Te(s,d);return e.jsx(_o.Provider,{scope:t.__scopeMenu,children:e.jsx(Dt,{present:r||i.open,children:e.jsx(_o.Slot,{scope:t.__scopeMenu,children:e.jsx(Cf,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ge(t.onFocusOutside,h=>{h.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ge(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ge(t.onKeyDown,h=>{var x;const m=h.currentTarget.contains(h.target),p=Hk[o.dir].includes(h.key);m&&p&&(i.onOpenChange(!1),(x=l.trigger)==null||x.focus(),h.preventDefault())})})})})})});Fb.displayName=Ob;function Db(t){return t?"open":"closed"}function Hc(t){return t==="indeterminate"}function Af(t){return Hc(t)?"indeterminate":t?"checked":"unchecked"}function mM(t){const s=document.activeElement;for(const n of t)if(n===s||(n.focus(),document.activeElement!==s))return}function hM(t,s){return t.map((n,r)=>t[(s+r)%t.length])}function pM(t,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let o=hM(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function fM(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i],d=s[o],u=l.x,h=l.y,m=d.x,p=d.y;h>r!=p>r&&n<(m-u)*(r-h)/(p-h)+u&&(a=!a)}return a}function xM(t,s){if(!s)return!1;const n={x:t.clientX,y:t.clientY};return fM(n,s)}function To(t){return s=>s.pointerType==="mouse"?t(s):void 0}var gM=vb,vM=Sf,yM=jb,jM=Nb,NM=Pf,SM=Sb,bM=iu,wM=wb,CM=Pb,PM=Ab,EM=Rb,AM=_b,IM=Tb,RM=Mb,_M=Fb,ou="DropdownMenu",[TM]=Vt(ou,[xb]),es=xb(),[kM,Lb]=TM(ou),$b=t=>{const{__scopeDropdownMenu:s,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,d=es(s),u=c.useRef(null),[h,m]=vn({prop:a,defaultProp:i??!1,onChange:o,caller:ou});return e.jsx(kM,{scope:s,triggerId:Ws(),triggerRef:u,contentId:Ws(),open:h,onOpenChange:m,onOpenToggle:c.useCallback(()=>m(p=>!p),[m]),modal:l,children:e.jsx(gM,{...d,open:h,onOpenChange:m,dir:r,modal:l,children:n})})};$b.displayName=ou;var Ub="DropdownMenuTrigger",Bb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=t,i=Lb(Ub,n),o=es(n);return e.jsx(vM,{asChild:!0,...o,children:e.jsx(Ee.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:hd(s,i.triggerRef),onPointerDown:ge(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ge(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Bb.displayName=Ub;var MM="DropdownMenuPortal",zb=t=>{const{__scopeDropdownMenu:s,...n}=t,r=es(s);return e.jsx(yM,{...r,...n})};zb.displayName=MM;var Vb="DropdownMenuContent",qb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Lb(Vb,n),i=es(n),o=c.useRef(!1);return e.jsx(jM,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:s,onCloseAutoFocus:ge(t.onCloseAutoFocus,l=>{var d;o.current||(d=a.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ge(t.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!a.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qb.displayName=Vb;var OM="DropdownMenuGroup",FM=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(NM,{...a,...r,ref:s})});FM.displayName=OM;var DM="DropdownMenuLabel",Gb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(SM,{...a,...r,ref:s})});Gb.displayName=DM;var LM="DropdownMenuItem",Hb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(bM,{...a,...r,ref:s})});Hb.displayName=LM;var $M="DropdownMenuCheckboxItem",Yb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(wM,{...a,...r,ref:s})});Yb.displayName=$M;var UM="DropdownMenuRadioGroup",BM=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(CM,{...a,...r,ref:s})});BM.displayName=UM;var zM="DropdownMenuRadioItem",Wb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(PM,{...a,...r,ref:s})});Wb.displayName=zM;var VM="DropdownMenuItemIndicator",Kb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(EM,{...a,...r,ref:s})});Kb.displayName=VM;var qM="DropdownMenuSeparator",Jb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(AM,{...a,...r,ref:s})});Jb.displayName=qM;var GM="DropdownMenuArrow",HM=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(IM,{...a,...r,ref:s})});HM.displayName=GM;var YM="DropdownMenuSubTrigger",Qb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(RM,{...a,...r,ref:s})});Qb.displayName=YM;var WM="DropdownMenuSubContent",Xb=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=es(n);return e.jsx(_M,{...a,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xb.displayName=WM;var KM=$b,JM=Bb,QM=zb,Zb=qb,ew=Gb,tw=Hb,sw=Yb,nw=Wb,rw=Kb,aw=Jb,iw=Qb,ow=Xb;const lu=KM,cu=JM,XM=c.forwardRef(({className:t,inset:s,children:n,...r},a)=>e.jsxs(iw,{ref:a,className:de("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",s&&"pl-8",t),...r,children:[n,e.jsx(Jo,{className:"ml-auto h-4 w-4"})]}));XM.displayName=iw.displayName;const ZM=c.forwardRef(({className:t,...s},n)=>e.jsx(ow,{ref:n,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));ZM.displayName=ow.displayName;const ul=c.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(QM,{children:e.jsx(Zb,{ref:r,sideOffset:s,className:de("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ul.displayName=Zb.displayName;const xs=c.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(tw,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s&&"pl-8",t),...n}));xs.displayName=tw.displayName;const eO=c.forwardRef(({className:t,children:s,checked:n,...r},a)=>e.jsxs(sw,{ref:a,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(rw,{children:e.jsx(gd,{className:"h-4 w-4"})})}),s]}));eO.displayName=sw.displayName;const tO=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(nw,{ref:r,className:de("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(rw,{children:e.jsx(Qj,{className:"h-2 w-2 fill-current"})})}),s]}));tO.displayName=nw.displayName;const du=c.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(ew,{ref:r,className:de("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));du.displayName=ew.displayName;const ha=c.forwardRef(({className:t,...s},n)=>e.jsx(aw,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",t),...s}));ha.displayName=aw.displayName;function sO(){var n;const{student:t,logout:s}=qt();return e.jsx("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-card/50",children:e.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Kd,{}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:["Welcome, ",t==null?void 0:t.fullName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.instituteName})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(lu,{children:[e.jsx(cu,{asChild:!0,children:e.jsx(F,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(il,{className:"h-10 w-10",children:[e.jsx(ol,{src:t==null?void 0:t.profilePicture}),e.jsx(ll,{className:"bg-gradient-primary text-primary-foreground",children:(n=t==null?void 0:t.fullName)==null?void 0:n.split(" ").map(r=>r[0]).join("")})]})})}),e.jsxs(ul,{className:"w-56",align:"end",children:[e.jsx(du,{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.fullName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})}),e.jsx(ha,{}),e.jsxs(xs,{children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Profile Settings"]}),e.jsxs(xs,{children:[e.jsx(Fp,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),e.jsx(ha,{}),e.jsxs(xs,{onClick:s,className:"text-destructive",children:[e.jsx(kp,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})})]})})}const nO=()=>{const t=Gd();return e.jsx(Yd,{defaultOpen:!t,children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(Ek,{}),e.jsxs(Jd,{children:[e.jsx(sO,{}),e.jsx("main",{className:"flex-1 p-4 sm:p-6",children:e.jsx(sf,{})})]})]})})},os=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:de("w-full caption-bottom text-sm",t),...s})}));os.displayName="Table";const ls=c.forwardRef(({className:t,...s},n)=>e.jsx("thead",{ref:n,className:de("[&_tr]:border-b",t),...s}));ls.displayName="TableHeader";const cs=c.forwardRef(({className:t,...s},n)=>e.jsx("tbody",{ref:n,className:de("[&_tr:last-child]:border-0",t),...s}));cs.displayName="TableBody";const rO=c.forwardRef(({className:t,...s},n)=>e.jsx("tfoot",{ref:n,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));rO.displayName="TableFooter";const Be=c.forwardRef(({className:t,...s},n)=>e.jsx("tr",{ref:n,className:de("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...s}));Be.displayName="TableRow";const xe=c.forwardRef(({className:t,...s},n)=>e.jsx("th",{ref:n,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));xe.displayName="TableHead";const me=c.forwardRef(({className:t,...s},n)=>e.jsx("td",{ref:n,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));me.displayName="TableCell";const aO=c.forwardRef(({className:t,...s},n)=>e.jsx("caption",{ref:n,className:de("mt-4 text-sm text-muted-foreground",t),...s}));aO.displayName="TableCaption";const iO=()=>{const{student:t}=qt(),{notifications:s,unreadCount:n}=pN(),{toast:r}=_e(),[a,i]=c.useState([]),[o,l]=c.useState(!0),[d,u]=c.useState({totalSports:0,paidSports:0,pendingSports:0,totalAmount:0,paidAmount:0,pendingAmount:0}),h=async()=>{var p;try{if(!t){console.log("No student found, redirecting to login...");return}if(!localStorage.getItem("authToken")){console.log("No auth token found, redirecting to login...");return}console.log("Fetching student dashboard data...");const y=(p=(await Z.getStudentDashboard()).data)==null?void 0:p.data;if(y){const j=y.registrations||[];i(j);const v=y.stats||{};u({totalSports:v.total_sports||0,paidSports:v.paid_sports||0,pendingSports:v.pending_sports||0,totalAmount:v.total_amount||0,paidAmount:v.paid_amount||0,pendingAmount:v.pending_amount||0})}else i([]),u({totalSports:0,paidSports:0,pendingSports:0,totalAmount:0,paidAmount:0,pendingAmount:0})}catch(x){console.error("Error fetching student data:",x),x instanceof Error?x.message.includes("422")?r({title:"Authentication Error",description:"Please log in again to access your dashboard",variant:"destructive"}):x.message.includes("401")?r({title:"Session Expired",description:"Your session has expired. Please log in again.",variant:"destructive"}):r({title:"Error",description:`Failed to fetch your sports registrations: ${x.message}`,variant:"destructive"}):r({title:"Error",description:"Failed to fetch your sports registrations",variant:"destructive"}),i([]),u({totalSports:0,paidSports:0,pendingSports:0,totalAmount:0,paidAmount:0,pendingAmount:0})}finally{l(!1)}};c.useEffect(()=>{t!=null&&t.id&&h()},[t==null?void 0:t.id]);const m=p=>{switch(p){case"Paid":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Unpaid":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:["Welcome back, ",t==null?void 0:t.fname," ",t==null?void 0:t.mname," ",t==null?void 0:t.lname,"!"]}),e.jsxs("p",{className:"text-muted-foreground",children:["Student  Student ID: ",t==null?void 0:t.student_id]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(F,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(ms,{to:"/notifications",children:[e.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Notifications",n>0&&e.jsx(he,{variant:"destructive",className:"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:n})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Sports"}),e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.totalSports}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Paid Sports"}),e.jsx(Jt,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.paidSports}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed payments"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Pending Payments"}),e.jsx(_s,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.pendingSports}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(_p,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",d.totalAmount]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All registrations"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(te,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-lg",children:"Register for Sports"}),e.jsx(Re,{children:"Browse and register for available sports categories"})]}),e.jsx(se,{children:e.jsx(F,{asChild:!0,className:"w-full",children:e.jsxs(ms,{to:"/sports-registration",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"View Sports"]})})})]}),e.jsxs(te,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-lg",children:"Payment Status"}),e.jsx(Re,{children:"View and manage your payment status"})]}),e.jsx(se,{children:e.jsx(F,{asChild:!0,variant:"outline",className:"w-full",children:e.jsxs(ms,{to:"/dashboard/student-payments",children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"View Payments"]})})})]}),e.jsxs(te,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-lg",children:"Profile Settings"}),e.jsx(Re,{children:"Update your personal information"})]}),e.jsx(se,{children:e.jsx(F,{asChild:!0,variant:"outline",className:"w-full",children:e.jsxs(ms,{to:"/profile",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})})]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Your Sports Registrations"}),e.jsx(Re,{children:"Track your registered sports and payment status"})]}),a.length>0&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{children:[d.paidSports," Paid"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("span",{children:[d.pendingSports," Pending"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("span",{children:["Total: ",d.totalAmount]})]})]})]})}),e.jsx(se,{children:a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No registrations yet"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"You haven't registered for any sports yet. Browse available sports to get started!"}),e.jsx(F,{asChild:!0,children:e.jsxs(ms,{to:"/sports-registration",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Browse Sports"]})})]}):e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{className:"min-w-[200px]",children:"Sport Name"}),e.jsx(xe,{className:"min-w-[150px]",children:"Category"}),e.jsx(xe,{className:"min-w-[150px]",children:"Sub Category"}),e.jsx(xe,{className:"min-w-[100px]",children:"Age Group"}),e.jsx(xe,{className:"min-w-[120px]",children:"Institute"}),e.jsx(xe,{className:"min-w-[100px]",children:"Fee"}),e.jsx(xe,{className:"min-w-[120px]",children:"Payment Status"}),e.jsx(xe,{className:"min-w-[100px]",children:"Registration Date"})]})}),e.jsx(cs,{children:a.map(p=>e.jsxs(Be,{className:"hover:bg-muted/50",children:[e.jsx(me,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"}),p.sport_name||"N/A"]})}),e.jsx(me,{children:e.jsx(he,{variant:"outline",className:"text-xs",children:p.category_name||"N/A"})}),e.jsx(me,{children:p.sub_category_name||"N/A"}),e.jsx(me,{children:e.jsx(he,{variant:"secondary",className:"text-xs",children:p.age_group||"N/A"})}),e.jsx(me,{children:e.jsx("div",{className:"max-w-[120px] truncate",title:p.institute_name||"N/A",children:p.institute_name||"N/A"})}),e.jsxs(me,{className:"font-medium text-green-600",children:["",p.fee||0]}),e.jsx(me,{children:e.jsx(he,{className:m(p.payment_status),children:p.payment_status||"Pending"})}),e.jsx(me,{className:"text-sm text-muted-foreground",children:p.registration_date?new Date(p.registration_date).toLocaleDateString():"N/A"})]},p.id))})]})})})]})]})},oO=()=>{var R,g,A,_;const{student:t,updateProfile:s}=qt(),{toast:n}=_e(),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState(!0),[m,p]=c.useState(null),[x,S]=c.useState(!1),[y,j]=c.useState({fname:"",mname:"",lname:"",email:"",dob:"",gender:"",phone:"",address:"",student_id:""}),v=async()=>{var w;try{h(!0),console.log(" Fetching profile data...");const b=await Z.getStudentProfile();console.log(" Profile API Response:",b);const I=(w=b.data)==null?void 0:w.data;console.log(" Profile Data:",I),I?(d(I),j({fname:I.fname||"",mname:I.mname||"",lname:I.lname||"",email:I.email||"",dob:I.dob||"",gender:I.gender||"",phone:I.phone||"",address:I.address||"",student_id:I.student_id||""}),console.log(" Profile data set successfully")):(console.log(" No profile data received"),n({title:"Warning",description:"No profile data received from server",variant:"destructive"}))}catch(b){console.error(" Error fetching profile data:",b),n({title:"Error",description:`Failed to fetch profile data: ${b.message||"Unknown error"}`,variant:"destructive"})}finally{h(!1)}},f=async()=>{if(t!=null&&t.id)try{S(!0),console.log(" Fetching documents for student ID:",t.id);const w=await Z.getStudentDocuments(t.id);if(console.log(" Documents API Response:",w),w.data&&w.data.success){const b=w.data.data;console.log(" Documents Data:",b),p(b)}}catch(w){console.error(" Error fetching documents:",w),console.log("Documents might not exist for this student")}finally{S(!1)}};c.useEffect(()=>{v(),f()},[]);const N=(w,b)=>{j(I=>({...I,[w]:b}))},C=async w=>{if(t!=null&&t.id)try{console.log(` Downloading ${w} for student ID:`,t.id);const b=await Z.downloadDocument(t.id,w),I=await b.blob(),k=window.URL.createObjectURL(I),O=document.createElement("a");O.href=k;const U=b.headers.get("Content-Disposition");let V=`${w}.pdf`;if(U){const B=U.match(/filename="(.+)"/);B&&(V=B[1])}O.download=V,document.body.appendChild(O),O.click(),window.URL.revokeObjectURL(k),document.body.removeChild(O),n({title:"Success",description:`${w==="id_proof"?"Student ID":"Age Proof"} document downloaded successfully`,variant:"default"})}catch(b){console.error(` Error downloading ${w}:`,b),n({title:"Error",description:`Failed to download ${w==="id_proof"?"Student ID":"Age Proof"} document`,variant:"destructive"})}};if(u)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Profile Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your personal information and account settings"})]})}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading profile data..."})]})})]});const P=async w=>{w.preventDefault(),a(!0);try{s(y),n({title:"Profile Updated",description:"Your profile information has been successfully updated."}),o(!1)}catch{n({title:"Update Failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Profile Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your personal information and account settings"})]}),!i&&e.jsx(F,{onClick:()=>o(!0),variant:"outline",children:"Edit Profile"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Profile Picture"}),e.jsx(Re,{children:"Upload and manage your profile photo"})]}),e.jsxs(se,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs(il,{className:"h-32 w-32 border-4 border-primary/20",children:[e.jsx(ol,{src:l==null?void 0:l.profilePicture}),e.jsx(ll,{className:"bg-gradient-primary text-primary-foreground text-2xl",children:l?`${((R=l.fname)==null?void 0:R[0])||""}${((g=l.lname)==null?void 0:g[0])||""}`:"S"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:l?`${l.fname} ${l.mname} ${l.lname}`:"Loading..."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(l==null?void 0:l.email)||"Loading..."}),e.jsx(he,{variant:l!=null&&l.is_verified?"default":"destructive",children:l!=null&&l.is_verified?"Email Verified":"Email Pending"})]}),e.jsxs(F,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(OP,{className:"h-4 w-4 mr-2"}),"Change Photo"]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium",children:"Account Status"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Profile Completion"}),e.jsx("span",{className:"font-medium",children:l?l.registration_complete?"100%":"In Progress":"Loading..."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Email Status"}),e.jsx("span",{className:"font-medium",children:l?l.is_verified?"Verified":"Pending":"Loading..."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Student ID"}),e.jsx("span",{className:"font-medium",children:(l==null?void 0:l.student_id)||"Loading..."})]})]})]})]})]}),e.jsxs(te,{className:"lg:col-span-2 shadow-medium",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Personal Information"}),e.jsx(Re,{children:i?"Update your personal details":"Your personal details"})]}),i?e.jsxs("div",{className:"space-x-2",children:[e.jsx(F,{variant:"outline",onClick:()=>{o(!1),l&&j({fname:l.fname||"",mname:l.mname||"",lname:l.lname||"",email:l.email||"",dob:l.dob||"",gender:l.gender||"",phone:l.phone||"",address:l.address||"",student_id:l.student_id||""})},children:"Cancel"}),e.jsx(F,{onClick:P,disabled:r,className:"bg-gradient-primary",children:r?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]}):e.jsxs(F,{onClick:()=>o(!0),className:"bg-gradient-primary",disabled:u,children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})}),e.jsx(se,{children:e.jsx("form",{onSubmit:P,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"fname",children:"First Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"fname",value:y.fname,onChange:w=>N("fname",w.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"mname",children:"Middle Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"mname",value:y.mname,onChange:w=>N("mname",w.target.value),className:"pl-10",disabled:!i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"lname",children:"Last Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"lname",value:y.lname,onChange:w=>N("lname",w.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",value:y.email,onChange:w=>N("email",w.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"dob",children:"Date of Birth *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"dob",type:"date",value:y.dob,onChange:w=>N("dob",w.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"gender",children:"Gender *"}),e.jsxs(Ne,{value:y.gender,onValueChange:w=>N("gender",w),disabled:!i,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select Gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"phone",value:y.phone,onChange:w=>N("phone",w.target.value),className:"pl-10",disabled:!i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Op,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"address",value:y.address,onChange:w=>N("address",w.target.value),className:"pl-10",disabled:!i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"student_id",children:"Student ID *"}),e.jsxs("div",{className:"relative",children:[e.jsx(jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"student_id",value:y.student_id,onChange:w=>N("student_id",w.target.value),className:"pl-10",disabled:!i,required:!0})]})]})]})})})]})]}),e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(mn,{className:"h-5 w-5"}),e.jsx("span",{children:"Uploaded Documents"})]}),e.jsx(Re,{children:"View and manage your uploaded documents"})]}),e.jsx(se,{children:x?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(He,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading documents..."})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Student ID Document"}),e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:(A=m==null?void 0:m.id_proof)!=null&&A.has_content?e.jsxs(e.Fragment,{children:[e.jsx(kn,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),e.jsx("p",{className:"text-sm text-green-600 mb-2",children:"Student ID uploaded successfully"}),m.id_proof.filename&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:m.id_proof.filename}),e.jsx(F,{variant:"outline",size:"sm",onClick:()=>C("id_proof"),children:"View Document"})]}):e.jsxs(e.Fragment,{children:[e.jsx(kn,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No Student ID document uploaded"}),e.jsx(F,{variant:"outline",size:"sm",disabled:!0,children:"View Document"})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Age Proof Document"}),e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:(_=m==null?void 0:m.age_proof)!=null&&_.has_content?e.jsxs(e.Fragment,{children:[e.jsx(kn,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),e.jsx("p",{className:"text-sm text-green-600 mb-2",children:"Age proof uploaded successfully"}),m.age_proof.filename&&e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:m.age_proof.filename}),e.jsx(F,{variant:"outline",size:"sm",onClick:()=>C("age_proof"),children:"View Document"})]}):e.jsxs(e.Fragment,{children:[e.jsx(kn,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No Age proof document uploaded"}),e.jsx(F,{variant:"outline",size:"sm",disabled:!0,children:"View Document"})]})})]})]})})]})]})},Xe=vf,vr=yf,lO=jf,lw=c.forwardRef(({className:t,...s},n)=>e.jsx(tl,{ref:n,className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));lw.displayName=tl.displayName;const Ke=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(lO,{children:[e.jsx(lw,{}),e.jsxs(sl,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,e.jsxs(Vd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(jn,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ke.displayName=sl.displayName;const Je=({className:t,...s})=>e.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Je.displayName="DialogHeader";const Qe=c.forwardRef(({className:t,...s},n)=>e.jsx(nl,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight",t),...s}));Qe.displayName=nl.displayName;const xt=c.forwardRef(({className:t,...s},n)=>e.jsx(rl,{ref:n,className:de("text-sm text-muted-foreground",t),...s}));xt.displayName=rl.displayName;function cO(t,s){return c.useReducer((n,r)=>s[n][r]??n,t)}var If="ScrollArea",[cw]=Vt(If),[dO,ks]=cw(If),dw=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,d]=c.useState(null),[u,h]=c.useState(null),[m,p]=c.useState(null),[x,S]=c.useState(null),[y,j]=c.useState(null),[v,f]=c.useState(0),[N,C]=c.useState(0),[P,R]=c.useState(!1),[g,A]=c.useState(!1),_=Te(s,b=>d(b)),w=Ei(a);return e.jsx(dO,{scope:n,type:r,dir:w,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:m,onContentChange:p,scrollbarX:x,onScrollbarXChange:S,scrollbarXEnabled:P,onScrollbarXEnabledChange:R,scrollbarY:y,onScrollbarYChange:j,scrollbarYEnabled:g,onScrollbarYEnabledChange:A,onCornerWidthChange:f,onCornerHeightChange:C,children:e.jsx(Ee.div,{dir:w,...o,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});dw.displayName=If;var uw="ScrollAreaViewport",mw=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=t,o=ks(uw,n),l=c.useRef(null),d=Te(s,l,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});mw.displayName=uw;var bn="ScrollAreaScrollbar",Rf=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=ks(bn,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return c.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?e.jsx(uO,{...r,ref:s,forceMount:n}):a.type==="scroll"?e.jsx(mO,{...r,ref:s,forceMount:n}):a.type==="auto"?e.jsx(hw,{...r,ref:s,forceMount:n}):a.type==="always"?e.jsx(_f,{...r,ref:s}):null});Rf.displayName=bn;var uO=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=ks(bn,t.__scopeScrollArea),[i,o]=c.useState(!1);return c.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},h=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(Dt,{present:n||i,children:e.jsx(hw,{"data-state":i?"visible":"hidden",...r,ref:s})})}),mO=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=ks(bn,t.__scopeScrollArea),i=t.orientation==="horizontal",o=mu(()=>d("SCROLL_END"),100),[l,d]=cO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,d]),c.useEffect(()=>{const u=a.viewport,h=i?"scrollLeft":"scrollTop";if(u){let m=u[h];const p=()=>{const x=u[h];m!==x&&(d("SCROLL"),o()),m=x};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,d,o]),e.jsx(Dt,{present:n||l!=="hidden",children:e.jsx(_f,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:ge(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ge(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),hw=c.forwardRef((t,s)=>{const n=ks(bn,t.__scopeScrollArea),{forceMount:r,...a}=t,[i,o]=c.useState(!1),l=t.orientation==="horizontal",d=mu(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:h)}},10);return pi(n.viewport,d),pi(n.content,d),e.jsx(Dt,{present:r||i,children:e.jsx(_f,{"data-state":i?"visible":"hidden",...a,ref:s})})}),_f=c.forwardRef((t,s)=>{const{orientation:n="vertical",...r}=t,a=ks(bn,t.__scopeScrollArea),i=c.useRef(null),o=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=vw(l.viewport,l.content),h={...r,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function m(p,x){return vO(p,o.current,l,x)}return n==="horizontal"?e.jsx(hO,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,x=Hg(p,l,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=m(p,a.dir))}}):n==="vertical"?e.jsx(pO,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,x=Hg(p,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=m(p))}}):null}),hO=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,i=ks(bn,t.__scopeScrollArea),[o,l]=c.useState(),d=c.useRef(null),u=Te(s,d,i.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(fw,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":uu(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(p),jw(p,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Wc(o.paddingLeft),paddingEnd:Wc(o.paddingRight)}})}})}),pO=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,i=ks(bn,t.__scopeScrollArea),[o,l]=c.useState(),d=c.useRef(null),u=Te(s,d,i.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(fw,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":uu(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(p),jw(p,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Wc(o.paddingTop),paddingEnd:Wc(o.paddingBottom)}})}})}),[fO,pw]=cw(bn),fw=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:m,...p}=t,x=ks(bn,n),[S,y]=c.useState(null),j=Te(s,_=>y(_)),v=c.useRef(null),f=c.useRef(""),N=x.viewport,C=r.content-r.viewport,P=ft(h),R=ft(d),g=mu(m,10);function A(_){if(v.current){const w=_.clientX-v.current.left,b=_.clientY-v.current.top;u({x:w,y:b})}}return c.useEffect(()=>{const _=w=>{const b=w.target;(S==null?void 0:S.contains(b))&&P(w,C)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[N,S,C,P]),c.useEffect(R,[r,R]),pi(S,g),pi(x.content,g),e.jsx(fO,{scope:n,scrollbar:S,hasThumb:a,onThumbChange:ft(i),onThumbPointerUp:ft(o),onThumbPositionChange:R,onThumbPointerDown:ft(l),children:e.jsx(Ee.div,{...p,ref:j,style:{position:"absolute",...p.style},onPointerDown:ge(t.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),v.current=S.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),A(_))}),onPointerMove:ge(t.onPointerMove,A),onPointerUp:ge(t.onPointerUp,_=>{const w=_.target;w.hasPointerCapture(_.pointerId)&&w.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=f.current,x.viewport&&(x.viewport.style.scrollBehavior=""),v.current=null})})})}),Yc="ScrollAreaThumb",xw=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=pw(Yc,t.__scopeScrollArea);return e.jsx(Dt,{present:n||a.hasThumb,children:e.jsx(xO,{ref:s,...r})})}),xO=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,style:r,...a}=t,i=ks(Yc,n),o=pw(Yc,n),{onThumbPositionChange:l}=o,d=Te(s,m=>o.onThumbChange(m)),u=c.useRef(void 0),h=mu(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{const m=i.viewport;if(m){const p=()=>{if(h(),!u.current){const x=yO(m,l);u.current=x,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[i.viewport,h,l]),e.jsx(Ee.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ge(t.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),S=m.clientX-x.left,y=m.clientY-x.top;o.onThumbPointerDown({x:S,y})}),onPointerUp:ge(t.onPointerUp,o.onThumbPointerUp)})});xw.displayName=Yc;var Tf="ScrollAreaCorner",gw=c.forwardRef((t,s)=>{const n=ks(Tf,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?e.jsx(gO,{...t,ref:s}):null});gw.displayName=Tf;var gO=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,...r}=t,a=ks(Tf,n),[i,o]=c.useState(0),[l,d]=c.useState(0),u=!!(i&&l);return pi(a.scrollbarX,()=>{var m;const h=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(h),d(h)}),pi(a.scrollbarY,()=>{var m;const h=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(h),o(h)}),u?e.jsx(Ee.div,{...r,ref:s,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Wc(t){return t?parseInt(t,10):0}function vw(t,s){const n=t/s;return isNaN(n)?0:n}function uu(t){const s=vw(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*s;return Math.max(r,18)}function vO(t,s,n,r="ltr"){const a=uu(n),i=a/2,o=s||i,l=a-o,d=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return yw([d,u],m)(t)}function Hg(t,s,n="ltr"){const r=uu(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,o=s.content-s.viewport,l=i-r,d=n==="ltr"?[0,o]:[o*-1,0],u=jh(t,d);return yw([0,o],[0,l])(u)}function yw(t,s){return n=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(n-t[0])}}function jw(t,s){return t>0&&t<s}var yO=(t,s=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&s(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function mu(t,s){const n=ft(t),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,s)},[n,s])}function pi(t,s){const n=ft(s);yt(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,n])}var Nw=dw,jO=mw,NO=gw;const Sw=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(Nw,{ref:r,className:de("relative overflow-hidden",t),...n,children:[e.jsx(jO,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(bw,{}),e.jsx(NO,{})]}));Sw.displayName=Nw.displayName;const bw=c.forwardRef(({className:t,orientation:s="vertical",...n},r)=>e.jsx(Rf,{ref:r,orientation:s,className:de("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:e.jsx(xw,{className:"relative flex-1 rounded-full bg-border"})}));bw.displayName=Rf.displayName;const ww=[{min:0,max:9,label:"U9"},{min:10,max:11,label:"U11"},{min:12,max:13,label:"U13"},{min:14,max:15,label:"U15"},{min:16,max:17,label:"U17"},{min:18,max:19,label:"U19"},{min:20,max:23,label:"20-23"},{min:24,max:26,label:"24-26"},{min:27,max:29,label:"27-29"},{min:30,max:35,label:"30-35"},{min:36,max:40,label:"36-40"},{min:41,max:45,label:"41-45"},{min:46,max:50,label:"46-50"},{min:51,max:100,label:"51+"}],Cw=[{min:0,max:12,label:"Under 12"},{min:12,max:14,label:"12-14"},{min:15,max:17,label:"15-17"},{min:18,max:20,label:"18-20"},{min:21,max:23,label:"21-23"},{min:24,max:26,label:"24-26"},{min:27,max:29,label:"27-29"},{min:30,max:35,label:"30-35"},{min:36,max:40,label:"36-40"},{min:41,max:45,label:"41-45"},{min:46,max:50,label:"46-50"},{min:51,max:100,label:"51+"}];function oc(t){const s=new Date(t),n=new Date;let r=n.getFullYear()-s.getFullYear();const a=n.getMonth()-s.getMonth();return(a<0||a===0&&n.getDate()<s.getDate())&&r--,r}function Pw(t,s,n=!1){const a=(n?Cw:ww).find(i=>i.label===s);return a?t>=a.min&&t<=a.max?{isValid:!0}:{isValid:!1,message:`Student age ${t} does not match age group ${s} (${a.min}-${a.max} years)`}:{isValid:!1,message:`Invalid age group: ${s}`}}function SO(t,s=!1){return(s?Cw:ww).filter(r=>t>=r.min&&t<=r.max)}class bO{constructor(){pl(this,"sportsCache",null);pl(this,"categoriesCache",{})}async getSports(){if(this.sportsCache)return this.sportsCache;try{const s=localStorage.getItem("authToken");let n;s&&s.trim()!==""?n=await Z.getSports():n=await Z.getSportsPublic();let r;if(n.data&&typeof n.data=="object"&&"success"in n.data){const a=n.data;r=a.success&&a.data?a.data:[]}else r=n.data;this.sportsCache=r.map(a=>({id:a.id,sport_name:a.sport_name,type:a.type,age_from:a.age_from,age_to:a.age_to,gender:a.gender,fee:a.fee,min_limit:a.min_limit,max_limit:a.max_limit,is_active:a.is_active,created_at:a.created_at,updated_at:a.updated_at,name:a.sport_name,slug:a.sport_name.toLowerCase().replace(/\s+/g,"-"),description:a.description||"",maxTeamSize:a.max_limit||this.getMaxTeamSize(a.sport_name),subcategories:[],registrationDeadline:"2024-02-20",eventDate:"2024-03-15",minParticipants:a.min_limit||2,maxParticipants:a.max_limit||20}));for(const a of this.sportsCache)a.subcategories=await this.getSportCategories(a.id),a.subcategories&&a.subcategories.length>0&&(a.fee=Math.min(...a.subcategories.map(i=>i.fee)));return this.sportsCache}catch(s){return console.error("Failed to fetch sports:",s),this.getMockSports()}}async getSportCategories(s){if(this.categoriesCache[s])return this.categoriesCache[s];try{const r=(await Z.getSportCategories(s)).data;return this.categoriesCache[s]=r.map(a=>({id:a.id,sport_id:a.sport_id,name:a.name,fee:a.fee,is_active:a.is_active,created_at:a.created_at,updated_at:a.updated_at,category:a.name,participants:0,age_from:0,age_to:0,gender_allowed:"mixed",max_participants:100})),this.categoriesCache[s]}catch(n){return console.error("Failed to fetch sport categories:",n),[]}}async registerForSport(s){try{const n={institute_id:s.instituteId,std_id:s.studentId,sport_id:s.sportId,category_id:s.categoryId,sub_category_id:s.subCategoryId,fee:s.fee};return(await Z.createSportAssignment(n)).data}catch(n){throw console.error("Failed to register for sport:",n),n}}async getStudentSportAssignments(s){try{return(await Z.getStudentSportAssignments(s)).data}catch(n){return console.error("Failed to fetch student sport assignments:",n),[]}}async getInstituteSportAssignments(s){try{return(await Z.getInstituteSportAssignments(s)).data}catch(n){return console.error("Failed to fetch institute sport assignments:",n),[]}}determineSportType(s){return["Football","Basketball","Cricket","Volleyball","Hockey","Rugby"].includes(s)?"Team Sport":"Individual"}getMaxTeamSize(s){return{Football:11,Basketball:5,Cricket:11,Volleyball:6,Hockey:11,Rugby:15,Tennis:1,Badminton:1,Swimming:1,Athletics:1}[s]||1}getCategoryType(s,n){return s.includes("Under")?s.replace("Under","").trim():n==="mixed"?"Mixed":n.charAt(0).toUpperCase()+n.slice(1)}getMockSports(){return[{id:"1",name:"Football",slug:"football",type:"Team Sport",fee:150,maxTeamSize:11,subcategories:[{id:"11",name:"Under 16 Boys",category:"16",fee:500,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"12",name:"Under 16 Girls",category:"16",fee:500,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"13",name:"Under 19 Boys",category:"19",fee:750,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"14",name:"Under 19 Girls",category:"19",fee:750,participants:0,age_from:16,age_to:19,gender_allowed:"female"},{id:"15",name:"Senior Men",category:"Senior",fee:1e3,participants:0,age_from:19,age_to:25,gender_allowed:"male"},{id:"16",name:"Senior Women",category:"Senior",fee:1e3,participants:0,age_from:19,age_to:25,gender_allowed:"female"}],description:"Association football/soccer",registrationDeadline:"2024-02-20",eventDate:"2024-03-15",minParticipants:2,maxParticipants:20},{id:"2",name:"Basketball",slug:"basketball",type:"Team Sport",fee:120,maxTeamSize:5,subcategories:[{id:"21",name:"Under 16 Boys",category:"16",fee:400,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"22",name:"Under 16 Girls",category:"16",fee:400,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"23",name:"Under 19 Boys",category:"19",fee:600,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"24",name:"Under 19 Girls",category:"19",fee:600,participants:0,age_from:16,age_to:19,gender_allowed:"female"}],description:"Basketball sport",registrationDeadline:"2024-02-25",eventDate:"2024-03-20",minParticipants:2,maxParticipants:15},{id:"3",name:"Tennis",slug:"tennis",type:"Individual",fee:80,maxTeamSize:1,subcategories:[{id:"31",name:"Under 16 Boys",category:"16",fee:300,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"32",name:"Under 16 Girls",category:"16",fee:300,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"33",name:"Under 19 Boys",category:"19",fee:400,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"34",name:"Under 19 Girls",category:"19",fee:400,participants:0,age_from:16,age_to:19,gender_allowed:"female"}],description:"Tennis sport",registrationDeadline:"2024-02-28",eventDate:"2024-03-25",minParticipants:4,maxParticipants:8},{id:"4",name:"Cricket",slug:"cricket",type:"Team Sport",fee:200,maxTeamSize:11,subcategories:[{id:"41",name:"Under 16 Boys",category:"16",fee:600,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"42",name:"Under 19 Boys",category:"19",fee:800,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"43",name:"Senior Men",category:"Senior",fee:1200,participants:0,age_from:19,age_to:25,gender_allowed:"male"}],description:"Cricket sport",registrationDeadline:"2024-02-22",eventDate:"2024-03-18",minParticipants:4,maxParticipants:16},{id:"5",name:"Badminton",slug:"badminton",type:"Individual",fee:60,maxTeamSize:1,subcategories:[{id:"51",name:"Under 16 Boys",category:"16",fee:250,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"52",name:"Under 16 Girls",category:"16",fee:250,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"53",name:"Under 19 Boys",category:"19",fee:350,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"54",name:"Under 19 Girls",category:"19",fee:350,participants:0,age_from:16,age_to:19,gender_allowed:"female"}],description:"Badminton sport",registrationDeadline:"2024-03-01",eventDate:"2024-03-30",minParticipants:8,maxParticipants:16}]}}const Yg=new bO,wO=()=>{const{toast:t}=_e(),{addNotification:s}=pN(),{student:n}=qt(),[r,a]=c.useState([]),[i,o]=c.useState(!0),[l,d]=c.useState(null),[u,h]=c.useState(null),[m,p]=c.useState(!1),[x,S]=c.useState({teamName:"",captainName:"",captainPhone:"",members:[""]}),[y,j]=c.useState(!1);c.useEffect(()=>{v()},[]);const v=async()=>{try{o(!0);const R=await Yg.getSports();a(R)}catch(R){console.error("Failed to load sports:",R),t({title:"Error",description:"Failed to load sports data. Please try again.",variant:"destructive"})}finally{o(!1)}},f=(R,g)=>{const A=[...x.members];A[R]=g,S(_=>({..._,members:A}))},N=()=>{l&&x.members.length<l.maxTeamSize&&S(R=>({...R,members:[...R.members,""]}))},C=R=>{if(x.members.length>1){const g=x.members.filter((A,_)=>_!==R);S(A=>({...A,members:g}))}},P=async()=>{if(!l||!u||!n){t({title:"Incomplete Information",description:"Please select a sport and subcategory to continue.",variant:"destructive"});return}if(n.dob&&u.age_from&&u.age_to){const R=oc(n.dob),g=`${u.age_from}-${u.age_to}`,A=Pw(R,g,!0);if(!A.isValid){t({title:"Age Validation Error",description:A.message,variant:"destructive"});return}}if(l.type==="Team Sport"&&(!x.teamName||!x.captainName)){t({title:"Team Details Required",description:"Please provide team name and captain details.",variant:"destructive"});return}j(!0);try{const R={studentId:n.id,sportCategoryId:u.id,teamDetails:l.type==="Team Sport"?x:void 0};await Yg.registerForSport(R),t({title:"Registration Successful!",description:`Successfully registered for ${l.name} - ${u.name}`}),s({title:`Enrolled in ${l.name} (${u.name})`,message:`Successfully enrolled in ${l.name} tournament`,type:"sport_enrollment",status:"Successfully Enrolled",metadata:{sport:l.name,subCategory:u.name}}),d(null),h(null),p(!1),S({teamName:"",captainName:"",captainPhone:"",members:[""]})}catch(R){console.error("Registration failed:",R),t({title:"Registration Failed",description:"Failed to register for sport. Please try again.",variant:"destructive"})}finally{j(!1)}};return i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sports Registration"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sports data..."})]}),e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sports Registration"}),e.jsx("p",{className:"text-muted-foreground",children:"Register for upcoming sports events and tournaments"})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Fe,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Available Sports"})]}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Choose from the available sports events"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Sport"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Fee Range"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Participants"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Registration Deadline"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Event Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(R=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:R.name}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(he,{variant:"secondary",children:R.type})}),e.jsxs("td",{className:"py-3 px-4",children:["",Math.min(...R.subcategories.map(g=>g.fee))," - ",Math.max(...R.subcategories.map(g=>g.fee))]}),e.jsxs("td",{className:"py-3 px-4 text-muted-foreground",children:[R.minParticipants," - ",R.maxParticipants]}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:R.registrationDeadline}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:R.eventDate}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{d(R),p(!0)},children:[e.jsx(Fe,{className:"h-4 w-4 mr-1"}),"Register"]})})]},R.id))})]})})]}),e.jsx(Xe,{open:m,onOpenChange:p,children:e.jsxs(Ke,{className:"max-w-2xl max-h-[90vh]",children:[e.jsxs(Je,{children:[e.jsxs(Qe,{className:"flex items-center space-x-2",children:[e.jsx(YP,{className:"h-5 w-5 text-accent"}),e.jsxs("span",{children:["Register for ",l==null?void 0:l.name]})]}),e.jsx(xt,{children:"Complete your registration details"})]}),e.jsx(Sw,{className:"max-h-[70vh] pr-6",children:e.jsx("div",{className:"space-y-6",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Select Sub-category"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.subcategories.map((R,g)=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${(u==null?void 0:u.name)===R.name?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>h(R),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:R.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:R.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-primary",children:["",R.fee]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Fee"})]})]})},g))})]}),l.type==="Team Sport"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Ve,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Team Details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Team Name"}),e.jsx(D,{placeholder:"Enter team name",value:x.teamName,onChange:R=>S(g=>({...g,teamName:R.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Captain Name"}),e.jsx(D,{placeholder:"Captain's name",value:x.captainName,onChange:R=>S(g=>({...g,captainName:R.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Captain Phone"}),e.jsx(D,{placeholder:"Phone number",value:x.captainPhone,onChange:R=>S(g=>({...g,captainPhone:R.target.value}))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(E,{children:["Team Members (",x.members.length,"/",l.maxTeamSize,")"]}),x.members.length<l.maxTeamSize&&e.jsx(F,{onClick:N,size:"sm",variant:"outline",children:"Add Member"})]}),x.members.map((R,g)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(D,{placeholder:`Member ${g+1} name`,value:R,onChange:A=>f(g,A.target.value)}),x.members.length>1&&e.jsx(F,{onClick:()=>C(g),size:"sm",variant:"outline",className:"px-3",children:""})]},g))]})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Registration Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sport:"}),e.jsx("span",{className:"font-medium",children:l.name})]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sub-category:"}),e.jsx("span",{className:"font-medium",children:u.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Category:"}),e.jsx("span",{className:"font-medium",children:u.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Registration Fee:"}),e.jsxs("span",{className:"font-medium text-primary",children:["",u.fee]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{id:"terms"}),e.jsx(E,{htmlFor:"terms",className:"text-sm",children:"I agree to the tournament rules and regulations"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{id:"liability"}),e.jsx(E,{htmlFor:"liability",className:"text-sm",children:"I understand the risks and accept liability waiver"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(F,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),e.jsx(F,{onClick:P,disabled:y,className:"flex-1 bg-gradient-primary hover:shadow-glow",children:y?"Registering...":`Register for ${(u==null?void 0:u.fee)||l.fee}`})]})]})})})]})})]})},CO=()=>{const{student:t,updateProfile:s}=qt(),{toast:n}=_e(),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState({parentGuardianName:(t==null?void 0:t.parentGuardianName)||"",parentPhone:(t==null?void 0:t.parentPhone)||"",parentEmail:(t==null?void 0:t.parentEmail)||"",emergencyContactName:(t==null?void 0:t.emergencyContactName)||"",emergencyContactRelation:(t==null?void 0:t.emergencyContactRelation)||"",emergencyContactPhone:(t==null?void 0:t.emergencyContactPhone)||"",emergencyContactEmail:(t==null?void 0:t.emergencyContactEmail)||""}),u=(m,p)=>{d(x=>({...x,[m]:p}))},h=async m=>{m.preventDefault(),a(!0);try{s(l),n({title:"Contact Information Updated",description:"Guardian and emergency contact information has been successfully updated."}),o(!1)}catch{n({title:"Update Failed",description:"Failed to update contact information. Please try again.",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Guardian & Contact Information"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage parent/guardian and emergency contact details"})]}),!i&&e.jsxs(F,{onClick:()=>o(!0),variant:"outline",children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Edit Contact Info"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Ve,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Contact Status"})]}),e.jsx(Re,{children:"Overview of your contact information"})]}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Parent/Guardian"}),e.jsx(he,{variant:l.parentGuardianName?"default":"destructive",children:l.parentGuardianName?"Complete":"Missing"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Parent Phone"}),e.jsx(he,{variant:l.parentPhone?"default":"destructive",children:l.parentPhone?"Added":"Missing"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Emergency Contact"}),e.jsx(he,{variant:l.emergencyContactName?"default":"destructive",children:l.emergencyContactName?"Complete":"Missing"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Emergency Phone"}),e.jsx(he,{variant:l.emergencyContactPhone?"default":"destructive",children:l.emergencyContactPhone?"Added":"Missing"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(dn,{className:"h-4 w-4"}),e.jsx("span",{children:"Required for event participation"})]})})]})]}),e.jsxs(te,{className:"lg:col-span-2 shadow-medium",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Contact Details"}),e.jsx(Re,{children:i?"Update contact information":"Your current contact information"})]}),i&&e.jsxs("div",{className:"space-x-2",children:[e.jsx(F,{variant:"outline",onClick:()=>{o(!1),d({parentGuardianName:(t==null?void 0:t.parentGuardianName)||"",parentPhone:(t==null?void 0:t.parentPhone)||"",parentEmail:(t==null?void 0:t.parentEmail)||"",emergencyContactName:(t==null?void 0:t.emergencyContactName)||"",emergencyContactRelation:(t==null?void 0:t.emergencyContactRelation)||"",emergencyContactPhone:(t==null?void 0:t.emergencyContactPhone)||"",emergencyContactEmail:(t==null?void 0:t.emergencyContactEmail)||""})},children:"Cancel"}),e.jsxs(F,{onClick:h,disabled:r,className:"bg-gradient-primary",children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})]})]})}),e.jsx(se,{children:e.jsxs("form",{onSubmit:h,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Parent/Guardian Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"parentName",className:"flex items-center space-x-2",children:[e.jsx(Ve,{className:"h-4 w-4"}),e.jsx("span",{children:"Parent/Guardian Name"})]}),e.jsx(D,{id:"parentName",value:l.parentGuardianName,onChange:m=>u("parentGuardianName",m.target.value),disabled:!i,placeholder:"Full name of parent or guardian",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"parentPhone",className:"flex items-center space-x-2",children:[e.jsx(_r,{className:"h-4 w-4"}),e.jsx("span",{children:"Phone Number"})]}),e.jsx(D,{id:"parentPhone",value:l.parentPhone,onChange:m=>u("parentPhone",m.target.value),disabled:!i,placeholder:"+1 (555) 123-4567",required:!0})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(E,{htmlFor:"parentEmail",className:"flex items-center space-x-2",children:[e.jsx(Qt,{className:"h-4 w-4"}),e.jsx("span",{children:"Email Address"})]}),e.jsx(D,{id:"parentEmail",type:"email",value:l.parentEmail,onChange:m=>u("parentEmail",m.target.value),disabled:!i,placeholder:"parent@example.com"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Emergency Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"emergencyName",className:"flex items-center space-x-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:"Emergency Contact Name"})]}),e.jsx(D,{id:"emergencyName",value:l.emergencyContactName,onChange:m=>u("emergencyContactName",m.target.value),disabled:!i,placeholder:"Full name of emergency contact",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"emergencyRelation",children:"Relationship to Participant"}),e.jsx(D,{id:"emergencyRelation",value:l.emergencyContactRelation,onChange:m=>u("emergencyContactRelation",m.target.value),disabled:!i,placeholder:"e.g., Mother, Father, Guardian, Sibling",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"emergencyPhone",className:"flex items-center space-x-2",children:[e.jsx(_r,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:"Emergency Phone Number"})]}),e.jsx(D,{id:"emergencyPhone",value:l.emergencyContactPhone,onChange:m=>u("emergencyContactPhone",m.target.value),disabled:!i,placeholder:"+1 (555) 987-6543",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"emergencyEmail",className:"flex items-center space-x-2",children:[e.jsx(Qt,{className:"h-4 w-4"}),e.jsx("span",{children:"Emergency Email"})]}),e.jsx(D,{id:"emergencyEmail",type:"email",value:l.emergencyContactEmail,onChange:m=>u("emergencyContactEmail",m.target.value),disabled:!i,placeholder:"emergency@example.com"})]})]})]})]})})]})]}),e.jsx(te,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950/20",children:e.jsx(se,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(dn,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Important Notice"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Accurate contact information is essential for participant safety. Emergency contacts will be notified immediately in case of any incidents during events. Please ensure all phone numbers are current and accessible."})]})]})})})]})},PO=()=>{const{student:t,updateProfile:s}=qt(),{toast:n}=_e(),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState({medicalConditions:(t==null?void 0:t.medicalConditions)||"",specialAssistance:(t==null?void 0:t.specialAssistance)||"",allergies:(t==null?void 0:t.allergies)||"",medications:(t==null?void 0:t.medications)||"",emergencyMedicalInfo:(t==null?void 0:t.emergencyMedicalInfo)||""}),u=(m,p)=>{d(x=>({...x,[m]:p}))},h=async m=>{m.preventDefault(),a(!0);try{s(l),n({title:"Medical Information Updated",description:"Your medical information has been successfully updated."}),o(!1)}catch{n({title:"Update Failed",description:"Failed to update medical information. Please try again.",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Medical Information"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your health and medical details for safe participation"})]}),!i&&e.jsxs(F,{onClick:()=>o(!0),variant:"outline",children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Edit Medical Info"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(bo,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{children:"Medical Status"})]}),e.jsx(Re,{children:"Quick overview of your medical information"})]}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Medical Conditions"}),e.jsx(he,{variant:l.medicalConditions?"secondary":"outline",children:l.medicalConditions?"Specified":"None"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Special Assistance"}),e.jsx(he,{variant:l.specialAssistance?"secondary":"outline",children:l.specialAssistance?"Required":"None"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Allergies"}),e.jsx(he,{variant:l.allergies?"destructive":"outline",children:l.allergies?"Yes":"None"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Medications"}),e.jsx(he,{variant:l.medications?"secondary":"outline",children:l.medications?"Taking":"None"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(dn,{className:"h-4 w-4"}),e.jsx("span",{children:"Keep information updated for safety"})]})})]})]}),e.jsxs(te,{className:"lg:col-span-2 shadow-medium",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Medical Details"}),e.jsx(Re,{children:i?"Update your medical information":"Your current medical information"})]}),i&&e.jsxs("div",{className:"space-x-2",children:[e.jsx(F,{variant:"outline",onClick:()=>{o(!1),d({medicalConditions:(t==null?void 0:t.medicalConditions)||"",specialAssistance:(t==null?void 0:t.specialAssistance)||"",allergies:(t==null?void 0:t.allergies)||"",medications:(t==null?void 0:t.medications)||"",emergencyMedicalInfo:(t==null?void 0:t.emergencyMedicalInfo)||""})},children:"Cancel"}),e.jsxs(F,{onClick:h,disabled:r,className:"bg-gradient-primary",children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})]})]})}),e.jsx(se,{children:e.jsx("form",{onSubmit:h,className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"medicalConditions",className:"flex items-center space-x-2",children:[e.jsx(bo,{className:"h-4 w-4"}),e.jsx("span",{children:"Medical Conditions"})]}),e.jsx(at,{id:"medicalConditions",placeholder:"List any allergies, chronic illnesses, or medical conditions (leave empty if none)",value:l.medicalConditions,onChange:m=>u("medicalConditions",m.target.value),disabled:!i,rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"specialAssistance",className:"flex items-center space-x-2",children:[e.jsx(dn,{className:"h-4 w-4"}),e.jsx("span",{children:"Special Assistance Requirements"})]}),e.jsx(at,{id:"specialAssistance",placeholder:"Describe any special assistance needed during events (leave empty if none)",value:l.specialAssistance,onChange:m=>u("specialAssistance",m.target.value),disabled:!i,rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"allergies",className:"flex items-center space-x-2",children:[e.jsx(dn,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:"Allergies"})]}),e.jsx(at,{id:"allergies",placeholder:"List all known allergies (food, medication, environmental)",value:l.allergies,onChange:m=>u("allergies",m.target.value),disabled:!i,rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"medications",className:"flex items-center space-x-2",children:[e.jsx(qP,{className:"h-4 w-4"}),e.jsx("span",{children:"Current Medications"})]}),e.jsx(at,{id:"medications",placeholder:"List current medications and dosages",value:l.medications,onChange:m=>u("medications",m.target.value),disabled:!i,rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"emergencyMedicalInfo",className:"flex items-center space-x-2",children:[e.jsx(dn,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Emergency Medical Information"})]}),e.jsx(at,{id:"emergencyMedicalInfo",placeholder:"Additional medical information for emergency situations",value:l.emergencyMedicalInfo,onChange:m=>u("emergencyMedicalInfo",m.target.value),disabled:!i,rows:3})]})]})})})]})]}),e.jsx(te,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950/20",children:e.jsx(se,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(dn,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-orange-800 dark:text-orange-200",children:"Important Notice"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:"This information is crucial for your safety during sports events. Please ensure all details are accurate and up-to-date. In case of medical emergencies, this information will be shared with medical personnel and event organizers."})]})]})})})]})},EO=()=>{const{toast:t}=_e(),[s,n]=c.useState(!0),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(!1),[u,h]=c.useState(null),[m,p]=c.useState(null),[x,S]=c.useState(""),[y,j]=c.useState({sponsorName:"",sponsorshipAmount:"",sponsorshipType:"partial"}),[v,f]=c.useState([]),N=async()=>{var k;try{n(!0);const U=(k=(await Z.getStudentDashboard()).data)==null?void 0:k.data;if(U&&U.registrations){const V=U.registrations.map(B=>({id:B.id,sport:B.sport_name,category:B.category_name,amount:B.fee,status:B.payment_status==="Paid"?"paid":"pending",dueDate:B.created_at?new Date(B.created_at).toISOString().split("T")[0]:"",transactionId:B.payment_status==="Paid"?`TXN${B.id.toString().padStart(6,"0")}`:void 0}));f(V)}else f([])}catch(O){console.error("Error fetching payment data:",O),t({title:"Error",description:"Failed to fetch payment data. Please try again.",variant:"destructive"}),f([])}finally{n(!1)}};c.useEffect(()=>{N()},[]);const C=[{id:1,amount:100,status:"pending",requestDate:"2024-02-10",sport:"Basketball",sponsorName:"Local Business Corp",type:"partial"},{id:2,amount:50,status:"approved",requestDate:"2024-02-08",sport:"Tennis",sponsorName:"Sports Foundation",type:"full"},{id:3,amount:75,status:"rejected",requestDate:"2024-02-05",sport:"Football",reason:"Insufficient documentation provided",sponsorName:"Community Fund",type:"partial"}],P=v.reduce((k,O)=>k+O.amount,0),R=v.filter(k=>k.status==="paid").reduce((k,O)=>k+O.amount,0),g=200,A=async()=>{if(!x){t({title:"Selection Required",description:"Please select a payment method.",variant:"destructive"});return}n(!0);try{await new Promise(k=>setTimeout(k,3e3)),t({title:"Payment Successful!",description:`Successfully paid ${P+g}`}),a(!1),S("")}catch{t({title:"Payment Failed",description:"Payment could not be processed. Please try again.",variant:"destructive"})}finally{n(!1)}},_=async()=>{if(!y.sponsorName||!y.sponsorshipAmount){t({title:"Incomplete Form",description:"Please fill all required fields for sponsorship request.",variant:"destructive"});return}n(!0);try{await new Promise(k=>setTimeout(k,2e3)),t({title:"Sponsorship Request Submitted",description:"Your sponsorship request has been submitted for review."}),j({sponsorName:"",sponsorshipAmount:"",sponsorshipType:"partial"}),o(!1)}catch{t({title:"Submission Failed",description:"Failed to submit sponsorship request. Please try again.",variant:"destructive"})}finally{n(!1)}},w=()=>{t({title:"Request Submitted",description:"Institution payment request has been submitted for approval."})},b=k=>{switch(k){case"paid":case"approved":return e.jsx(it,{className:"h-4 w-4 text-accent"});case"pending":return e.jsx(Bn,{className:"h-4 w-4 text-warning"});case"overdue":case"rejected":return e.jsx(DP,{className:"h-4 w-4 text-destructive"});default:return null}},I=k=>{switch(k){case"paid":case"approved":return e.jsx(he,{className:"bg-accent text-accent-foreground",children:k});case"pending":return e.jsx(he,{className:"bg-warning text-warning-foreground",children:k});case"overdue":case"rejected":return e.jsx(he,{variant:"destructive",children:k});default:return e.jsx(he,{variant:"secondary",children:k})}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Payments & Sponsorship"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your event payments and sponsorship requests"})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(GP,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Fee Breakdown"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Student Registration"}),e.jsxs("span",{className:"text-2xl font-bold",children:["",P]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Parent Fees (2 parents)"}),e.jsxs("span",{className:"text-2xl font-bold",children:["",g]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Amount"}),e.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",P+g]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Status"}),e.jsx(he,{variant:R>=P?"default":"secondary",className:"w-fit",children:R>=P?"Completed":"Pending"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Payment Options"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-l-4 border-l-primary",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(kt,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Pay Now"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["",P+g]})]})]}),e.jsxs(Xe,{open:r,onOpenChange:a,children:[e.jsx(vr,{asChild:!0,children:e.jsx(F,{className:"bg-gradient-primary",children:"Pay Now"})}),e.jsxs(Ke,{className:"max-w-md",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Complete Payment"}),e.jsxs(xt,{children:["Total amount: ",P+g]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Student Fees:"}),e.jsxs("span",{children:["",P]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Parent Fees:"}),e.jsxs("span",{children:["",g]})]}),e.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["",P+g]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{children:"Select Payment Method"}),e.jsxs(gn,{value:x,onValueChange:S,children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[e.jsx(St,{value:"mpaisa",id:"mpaisa"}),e.jsx(Zj,{className:"h-4 w-4 text-primary"}),e.jsx(E,{htmlFor:"mpaisa",className:"flex-1 cursor-pointer",children:"Mpaisa / Mobile Wallet"})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[e.jsx(St,{value:"razorpay",id:"razorpay"}),e.jsx(kt,{className:"h-4 w-4 text-primary"}),e.jsx(E,{htmlFor:"razorpay",className:"flex-1 cursor-pointer",children:"Razorpay (Card/UPI/NetBanking)"})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[e.jsx(St,{value:"stripe",id:"stripe"}),e.jsx(eg,{className:"h-4 w-4 text-primary"}),e.jsx(E,{htmlFor:"stripe",className:"flex-1 cursor-pointer",children:"Stripe (International Cards)"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(F,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),e.jsx(F,{onClick:A,disabled:s||!x,className:"flex-1 bg-gradient-primary",children:s?"Processing...":`Pay ${P+g}`})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-l-4 border-l-accent",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-accent/10 rounded-full",children:e.jsx(_p,{className:"h-6 w-6 text-accent"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Get Sponsorship"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Partial/Full"})]})]}),e.jsxs(Xe,{open:i,onOpenChange:o,children:[e.jsx(vr,{asChild:!0,children:e.jsx(F,{variant:"outline",children:"Apply for Sponsorship"})}),e.jsxs(Ke,{className:"max-w-md",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Apply for Sponsorship"}),e.jsx(xt,{children:"Fill in the details for your sponsorship request"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"sponsorName",children:"Sponsor Name"}),e.jsx(D,{id:"sponsorName",value:y.sponsorName,onChange:k=>j({...y,sponsorName:k.target.value}),placeholder:"Enter sponsor name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"sponsorshipAmount",children:"Sponsorship Amount ()"}),e.jsx(D,{id:"sponsorshipAmount",type:"number",value:y.sponsorshipAmount,onChange:k=>j({...y,sponsorshipAmount:k.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"sponsorshipType",children:"Sponsorship Type"}),e.jsxs(Ne,{value:y.sponsorshipType,onValueChange:k=>j({...y,sponsorshipType:k}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select type"})}),e.jsxs(je,{children:[e.jsx(K,{value:"partial",children:"Partial"}),e.jsx(K,{value:"full",children:"Full"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(F,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),e.jsx(F,{onClick:_,disabled:s,className:"flex-1",children:s?"Submitting...":"Submit Request"})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-l-4 border-l-warning",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-warning/10 rounded-full",children:e.jsx(eg,{className:"h-6 w-6 text-warning"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Paid by Institution"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]})]}),e.jsx(F,{variant:"outline",onClick:w,children:"Mark as Institution Payment"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Status"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Sport"}),e.jsx("th",{className:"text-left py-2",children:"Category"}),e.jsx("th",{className:"text-left py-2",children:"Amount"}),e.jsx("th",{className:"text-left py-2",children:"Status"}),e.jsx("th",{className:"text-left py-2",children:"Due Date"}),e.jsx("th",{className:"text-left py-2",children:"Actions"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Loading payment data..."})}):v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No payment records found."})}):v.map(k=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-3",children:k.sport}),e.jsx("td",{className:"py-3",children:k.category}),e.jsxs("td",{className:"py-3",children:["",k.amount]}),e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[b(k.status),I(k.status)]})}),e.jsx("td",{className:"py-3",children:k.dueDate}),e.jsx("td",{className:"py-3",children:e.jsxs(Xe,{open:l&&(u==null?void 0:u.id)===k.id,onOpenChange:O=>{d(O),O||h(null)},children:[e.jsx(vr,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>h(k),children:[e.jsx(_s,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsxs(Ke,{children:[e.jsx(Je,{children:e.jsx(Qe,{children:"Payment Details"})}),u&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sport:"}),e.jsx("p",{className:"font-medium",children:u.sport})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),e.jsx("p",{className:"font-medium",children:u.category})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),e.jsxs("p",{className:"font-medium",children:["",u.amount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),I(u.status)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Due Date:"}),e.jsx("p",{className:"font-medium",children:u.dueDate})]}),u.transactionId&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID:"}),e.jsx("p",{className:"font-medium",children:u.transactionId})]})]})})]})]})})]},k.id))})]})})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(tN,{className:"h-5 w-5 text-warning"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Sponsorship Status"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Sport"}),e.jsx("th",{className:"text-left py-2",children:"Sponsor"}),e.jsx("th",{className:"text-left py-2",children:"Amount"}),e.jsx("th",{className:"text-left py-2",children:"Type"}),e.jsx("th",{className:"text-left py-2",children:"Status"}),e.jsx("th",{className:"text-left py-2",children:"Date"}),e.jsx("th",{className:"text-left py-2",children:"Actions"})]})}),e.jsx("tbody",{children:C.map(k=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-3",children:k.sport}),e.jsx("td",{className:"py-3",children:k.sponsorName||"N/A"}),e.jsxs("td",{className:"py-3",children:["",k.amount]}),e.jsx("td",{className:"py-3 capitalize",children:k.type}),e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[b(k.status),I(k.status)]})}),e.jsx("td",{className:"py-3",children:k.requestDate}),e.jsx("td",{className:"py-3",children:e.jsxs(Xe,{open:l&&(m==null?void 0:m.id)===k.id,onOpenChange:O=>{d(O),O||p(null)},children:[e.jsx(vr,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>p(k),children:[e.jsx(_s,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsxs(Ke,{children:[e.jsx(Je,{children:e.jsx(Qe,{children:"Sponsorship Details"})}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sport:"}),e.jsx("p",{className:"font-medium",children:m.sport})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sponsor:"}),e.jsx("p",{className:"font-medium",children:m.sponsorName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),e.jsxs("p",{className:"font-medium",children:["",m.amount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),e.jsx("p",{className:"font-medium capitalize",children:m.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),I(m.status)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Request Date:"}),e.jsx("p",{className:"font-medium",children:m.requestDate})]})]}),m.reason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Reason:"}),e.jsx("p",{className:"font-medium mt-1",children:m.reason})]})]})]})]})})]},k.id))})]})})]})]})},AO=()=>{const{toast:t}=_e(),[s,n]=c.useState(!0),[r,a]=c.useState(""),[i,o]=c.useState(null),[l,d]=c.useState([]),u=async()=>{try{n(!0),d([])}catch(N){console.error("Error fetching consents:",N),d([])}finally{n(!1)}};c.useEffect(()=>{u()},[]);const[h,m]=c.useState({}),p=(N,C)=>{m(P=>({...P,[N]:C}))},x=async N=>{if(!h[N]){t({title:"Agreement Required",description:"Please check the agreement box before signing.",variant:"destructive"});return}if(!r.trim()){t({title:"Signature Required",description:"Please provide your digital signature.",variant:"destructive"});return}n(!0);try{await new Promise(P=>setTimeout(P,2e3));const C=new Date().toLocaleDateString();d(P=>P.map(R=>R.id===N?{...R,status:"signed",signedDate:C}:R)),t({title:"Success!",description:"Consent form signed successfully."})}catch{t({title:"Error",description:"Failed to sign consent form. Please try again.",variant:"destructive"})}finally{n(!1)}},S=async()=>{const N=l.filter(P=>P.status==="required");if(N.length===0){t({title:"No Pending Consents",description:"All consent forms are already signed."});return}if(!r.trim()){t({title:"Signature Required",description:"Please provide your digital signature.",variant:"destructive"});return}if(!N.every(P=>h[P.id])){t({title:"Agreement Required",description:"Please agree to all consent forms before signing.",variant:"destructive"});return}n(!0);try{await new Promise(R=>setTimeout(R,3e3));const P=new Date().toLocaleDateString();d(R=>R.map(g=>g.status==="required"?{...g,status:"signed",signedDate:P}:g)),t({title:"Success!",description:"All consent forms signed successfully."})}catch{t({title:"Error",description:"Failed to sign consent forms. Please try again.",variant:"destructive"})}finally{n(!1)}},y=N=>{switch(N){case"signed":return e.jsx(it,{className:"h-5 w-5 text-accent"});case"pending":return e.jsx(Bn,{className:"h-5 w-5 text-warning"});case"required":return e.jsx(dn,{className:"h-5 w-5 text-destructive"});default:return null}},j=N=>{switch(N){case"signed":return e.jsx(he,{className:"bg-accent text-accent-foreground",children:"Signed"});case"pending":return e.jsx(he,{className:"bg-warning text-warning-foreground",children:"Pending"});case"required":return e.jsx(he,{variant:"destructive",children:"Required"});default:return e.jsx(he,{variant:"secondary",children:N})}},v=l.every(N=>N.status==="signed"),f=l.filter(N=>N.status==="required");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Consent & Declarations"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and sign required consent forms and declarations"})]}),e.jsx(te,{className:`shadow-medium ${v?"border-accent":"border-warning"}`,children:e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[v?e.jsx(it,{className:"h-6 w-6 text-accent"}):e.jsx(Bn,{className:"h-6 w-6 text-warning"}),e.jsx(ce,{children:v?"All Consents Signed":"Pending Consents"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[l.filter(N=>N.status==="signed").length," / ",l.length]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})}),e.jsx("div",{className:"space-y-4",children:s?e.jsx(te,{className:"shadow-soft",children:e.jsxs(se,{className:"py-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Loading consent forms..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we fetch your consent documents"})]})}):l.length===0?e.jsx(te,{className:"shadow-soft",children:e.jsxs(se,{className:"py-12 text-center",children:[e.jsx($P,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No consent forms found"}),e.jsx("p",{className:"text-muted-foreground",children:"You have no consent forms to review at this time"})]})}):l.map(N=>e.jsxs(te,{className:"shadow-medium",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[y(N.status),e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg",children:N.title}),e.jsx(Re,{children:N.description})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:j(N.status)})]})}),e.jsxs(se,{className:"space-y-4",children:[N.status!=="signed"&&e.jsx("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:e.jsx("div",{className:"max-h-64 overflow-y-auto p-4 bg-background border rounded text-sm whitespace-pre-wrap",children:N.content})}),N.status==="signed"&&N.signedDate&&e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-accent",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Signed on ",N.signedDate]})]})})}),N.status!=="signed"&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-accent/5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-sm font-medium",children:"Digital Signature"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{placeholder:"Type your full name to sign",value:r,onChange:C=>a(C.target.value),className:"pr-10"}),e.jsx(Zx,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{id:`agree-${N.id}`,checked:h[N.id]||!1,onCheckedChange:C=>p(N.id,C)}),e.jsx(E,{htmlFor:`agree-${N.id}`,className:"text-sm",children:"I agree to the terms and conditions"})]})}),e.jsx(F,{onClick:()=>x(N.id),disabled:!h[N.id]||!r.trim()||s,className:"w-full bg-gradient-primary hover:shadow-glow",size:"lg",children:s?"Signing...":"Sign Document"})]})]})]},N.id))}),!v&&e.jsxs(te,{className:"shadow-medium border-primary",children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Oc,{className:"h-5 w-5"}),"Sign All Documents"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-primary/5 rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"You can sign all pending consent forms at once. Make sure you have read and agreed to all terms."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-sm font-medium",children:"Digital Signature"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{placeholder:"Type your full name to sign all documents",value:r,onChange:N=>a(N.target.value),className:"pr-10"}),e.jsx(Zx,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{className:"text-sm font-medium",children:"Agree to All"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{id:"agree-all",checked:f.every(N=>h[N.id]),onCheckedChange:N=>{f.forEach(C=>{p(C.id,N)})}}),e.jsx(E,{htmlFor:"agree-all",className:"text-sm",children:"I agree to all terms and conditions"})]})]}),e.jsx(F,{onClick:S,disabled:!f.every(N=>h[N.id])||!r.trim()||s,className:"w-full bg-gradient-primary hover:shadow-glow",size:"lg",children:s?"Signing All Documents...":`Sign All ${f.length} Documents`})]})]})]})]})},IO=()=>{const[t,s]=c.useState(""),[n,r]=c.useState("all"),[a,i]=c.useState("all"),[o,l]=c.useState([]),[d,u]=c.useState(!0),h=async()=>{try{u(!0),l([])}catch(C){console.error("Error fetching notifications:",C),l([])}finally{u(!1)}};useEffect(()=>{h()},[]);const m=C=>{l(P=>P.map(R=>R.id===C?{...R,isRead:!0}:R))},p=()=>{l(C=>C.map(P=>({...P,isRead:!0})))},x=C=>{switch(C){case"success":return e.jsx(it,{className:"h-5 w-5 text-accent"});case"warning":return e.jsx(Js,{className:"h-5 w-5 text-warning"});case"event":return e.jsx(Gn,{className:"h-5 w-5 text-primary"});case"announcement":return e.jsx(Fe,{className:"h-5 w-5 text-accent"});default:return e.jsx(zP,{className:"h-5 w-5 text-primary"})}},S=C=>{switch(C){case"success":return"default";case"warning":return"destructive";case"event":return"secondary";case"announcement":return"outline";default:return"secondary"}},y=C=>{switch(C){case"high":return"border-l-destructive";case"medium":return"border-l-warning";default:return"border-l-muted"}},j=o.filter(C=>{const P=C.title.toLowerCase().includes(t.toLowerCase())||C.message.toLowerCase().includes(t.toLowerCase()),R=n==="all"||C.type===n,g=a==="all"||C.category===a;return P&&R&&g}),v=o.filter(C=>!C.isRead).length,f=o.filter(C=>C.priority==="high"&&!C.isRead).length,N=o.filter(C=>C.actionRequired&&!C.isRead).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Notifications & Announcements"}),e.jsx("p",{className:"text-muted-foreground",children:"Stay updated with important announcements and event notifications"})]}),v>0&&e.jsxs(F,{onClick:p,variant:"outline",children:[e.jsx(gd,{className:"h-4 w-4 mr-2"}),"Mark All as Read"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(te,{className:"border-l-4 border-l-primary shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Unread Notifications"}),e.jsx(Tc,{className:"h-4 w-4 text-primary"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"New messages"})]})]}),e.jsxs(te,{className:"border-l-4 border-l-destructive shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"High Priority"}),e.jsx(Js,{className:"h-4 w-4 text-destructive"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent items"})]})]}),e.jsxs(te,{className:"border-l-4 border-l-warning shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Action Required"}),e.jsx(Fe,{className:"h-4 w-4 text-warning"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need response"})]})]})]}),e.jsxs(te,{className:"shadow-medium",children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center space-x-2",children:[e.jsx(Hn,{className:"h-5 w-5"}),e.jsx("span",{children:"Filter Notifications"})]})}),e.jsx(se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search notifications...",value:t,onChange:C=>s(C.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Type"}),e.jsxs(Ne,{value:n,onValueChange:r,children:[e.jsx(ye,{children:e.jsx(Se,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Types"}),e.jsx(K,{value:"info",children:"Information"}),e.jsx(K,{value:"success",children:"Success"}),e.jsx(K,{value:"warning",children:"Warning"}),e.jsx(K,{value:"announcement",children:"Announcement"}),e.jsx(K,{value:"event",children:"Event"}),e.jsx(K,{value:"payment",children:"Payment"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsxs(Ne,{value:a,onValueChange:i,children:[e.jsx(ye,{children:e.jsx(Se,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Categories"}),e.jsx(K,{value:"registration",children:"Registration"}),e.jsx(K,{value:"event",children:"Events"}),e.jsx(K,{value:"payment",children:"Payments"}),e.jsx(K,{value:"general",children:"General"}),e.jsx(K,{value:"emergency",children:"Emergency"})]})]})]})]})})]}),e.jsx("div",{className:"space-y-4",children:d?e.jsx(te,{className:"shadow-soft",children:e.jsxs(se,{className:"py-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Loading notifications..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we fetch your notifications"})]})}):j.length===0?e.jsx(te,{className:"shadow-soft",children:e.jsxs(se,{className:"py-12 text-center",children:[e.jsx(Tc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-muted-foreground",children:t||n!=="all"||a!=="all"?"Try adjusting your search or filter criteria":"You have no notifications at this time"})]})}):j.map(C=>e.jsxs(te,{className:`shadow-medium border-l-4 ${y(C.priority)} ${C.isRead?"":"bg-muted/20"} cursor-pointer hover:shadow-large transition-all`,onClick:()=>m(C.id),children:[e.jsx(le,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[x(C.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ce,{className:`text-lg ${C.isRead?"font-medium":"font-bold"}`,children:C.title}),!C.isRead&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),e.jsx(Re,{className:"text-base",children:C.message})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(he,{variant:S(C.type),children:C.type}),C.actionRequired&&e.jsx(he,{variant:"outline",className:"text-xs border-warning text-warning",children:"Action Required"}),C.priority==="high"&&e.jsx(he,{variant:"destructive",className:"text-xs",children:"High Priority"})]})]})}),e.jsx(se,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:C.timestamp}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"capitalize",children:C.category}),e.jsx("span",{children:""}),e.jsxs("span",{className:"capitalize",children:[C.priority," priority"]})]})]})})]},C.id))}),j.length>0&&e.jsx("div",{className:"text-center",children:e.jsx(F,{variant:"outline",children:"Load More Notifications"})})]})},RO=()=>{const t=Zs();return c.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),e.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},_O=[{title:"Dashboard",url:"/institution",icon:Tp},{title:"Student Management",url:"/institution/institution-students",icon:Ve},{title:"Sports Management",url:"/institution/institution-sports",icon:Fe},{title:"Payment Options",url:"/institution/institution-payments",icon:kt}];function TO(){const t=Zs(),s=r=>t.pathname===r,n=r=>s(r)?"bg-primary text-primary-foreground font-medium shadow-soft":"hover:bg-muted/50";return e.jsxs(Wd,{collapsible:"offcanvas",children:[e.jsx(Qd,{className:"border-b border-border p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:e.jsx(Et,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-foreground",children:"Sports Portal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Institution Panel"})]})]})}),e.jsx(Xd,{children:e.jsxs(Zd,{children:[e.jsx(eu,{children:"Main Menu"}),e.jsx(tu,{children:e.jsx(su,{children:_O.map(r=>e.jsx(nu,{children:e.jsx(ru,{asChild:!0,children:e.jsxs(nf,{to:r.url,className:n(r.url),children:[e.jsx(r.icon,{className:"h-4 w-4"}),e.jsx("span",{children:r.title})]})})},r.title))})})]})})]})}function kO(){var i,o;const{student:t,logout:s}=qt(),n=wt(),r=()=>{n("/institution/profile")},a=async()=>{try{await s(),n("/login")}catch(l){console.error("Logout error:",l),n("/login")}};return e.jsx("header",{className:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-14 items-center px-4",children:[e.jsx(Kd,{className:"-ml-1"}),e.jsx("div",{className:"ml-auto flex items-center space-x-4",children:e.jsxs(lu,{children:[e.jsx(cu,{asChild:!0,children:e.jsx(F,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(il,{className:"h-8 w-8",children:[e.jsx(ol,{src:"/placeholder-avatar.jpg",alt:"Institution"}),e.jsx(ll,{children:((i=t==null?void 0:t.fullName)==null?void 0:i.charAt(0))||((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"I"})]})})}),e.jsxs(ul,{className:"w-56 z-50 bg-background border shadow-medium",align:"end",forceMount:!0,children:[e.jsx(du,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:(t==null?void 0:t.fullName)||(t==null?void 0:t.instituteName)||"Institution"}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(t==null?void 0:t.email)||"institution@example.com"})]})}),e.jsx(ha,{}),e.jsxs(xs,{onClick:r,children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(xs,{children:[e.jsx(Fp,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(ha,{}),e.jsxs(xs,{onClick:a,children:[e.jsx(kp,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})})]})})}const MO=()=>{const t=Gd();return e.jsx(Yd,{defaultOpen:!t,children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(TO,{}),e.jsxs(Jd,{children:[e.jsx(kO,{}),e.jsx("main",{className:"flex-1 p-4 sm:p-6",children:e.jsx(sf,{})})]})]})})},OO=()=>{const t=wt(),{toast:s}=_e(),[n,r]=c.useState(!1),[a,i]=c.useState(!1),[o,l]=c.useState(!1),[d,u]=c.useState(""),[h,m]=c.useState(""),[p,x]=c.useState({institutionName:"",customInstitutionName:"",institutionType:"",registrationNumber:"",accreditationBody:"",accreditationNumber:"",establishedYear:"",phone:"",email:"",website:"",alternateEmail:"",alternatePhone:"",streetAddress:"",city:"",state:"",country:"",postalCode:"",landmark:"",description:"",vision:"",mission:"",specializations:"",languagesOffered:"",totalStudents:"",totalStaff:"",teachingStaff:"",nonTeachingStaff:"",sportsCoaches:"",hasSportsFacilities:!1,sportsFacilities:"",hasLibrary:!1,libraryCapacity:"",hasLaboratory:!1,laboratoryTypes:"",hasHostel:!1,hostelCapacity:"",hasCafeteria:!1,hasTransport:!1,transportDetails:"",annualFee:"",feeStructure:"",paymentMethods:"",scholarshipAvailable:!1,scholarshipDetails:"",contactPersonName:"",contactPersonDesignation:"",contactPersonPhone:"",contactPersonEmail:"",contactPersonAlternatePhone:"",principalName:"",principalPhone:"",principalEmail:"",sportsDirectorName:"",sportsDirectorPhone:"",sportsDirectorEmail:"",facebookUrl:"",twitterUrl:"",instagramUrl:"",linkedinUrl:"",youtubeUrl:"",hasRegistrationCertificate:!1,hasAccreditationCertificate:!1,hasTaxExemption:!1,taxExemptionNumber:"",sportsParticipation:"",previousAchievements:"",coachingStaff:"",equipmentAvailable:"",trainingSchedule:""}),S=(f,N)=>{x(C=>({...C,[f]:N}))},y=async()=>{var f;if(!p.contactPersonEmail){s({title:"Email Required",description:"Please enter contact person email first.",variant:"destructive"});return}try{const C=(await Z.sendInstitutionOTP(p.contactPersonEmail,p.contactPersonName||"Institution","registration")).data;m(((f=C.data)==null?void 0:f.otp_id)||C.otp_id),l(!0),s({title:"OTP Sent! ",description:`Verification code sent to ${p.contactPersonEmail}. Please check your email inbox.`})}catch(N){const C=N instanceof Error?N.message:"Please try again later.";s({title:"OTP Send Failed",description:C,variant:"destructive"})}},j=async()=>{if(!d){s({title:"OTP Required",description:"Please enter the OTP code.",variant:"destructive"});return}try{const N=(await Z.verifyOTP(h,d)).data;i(!0),l(!1),s({title:"Email Verified ",description:"Your email has been successfully verified."})}catch(f){const N=f instanceof Error?f.message:"Please check the OTP code and try again.";s({title:"OTP Verification Failed",description:N,variant:"destructive"})}},v=async f=>{var N;f.preventDefault(),r(!0);try{if(!a){s({title:"Email Verification Required",description:"Please verify your email before submitting the registration.",variant:"destructive"});return}const C={name:p.institutionName||p.customInstitutionName,email:p.contactPersonEmail,type:p.institutionType,contactPersonName:p.contactPersonName,contactPersonEmail:p.contactPersonEmail,contactPersonPhone:p.contactPersonPhone,contactPersonDesignation:p.contactPersonDesignation,phone:p.phone,website:p.website,principalName:p.principalName,principalPhone:p.principalPhone,streetAddress:p.streetAddress,city:p.city,state:p.state,country:p.country,postalCode:p.postalCode,description:p.description,vision:p.vision,mission:p.mission},P=await Z.createInstitute(C);if(P.data&&P.data.success)s({title:"Registration Successful!",description:"Your institution has been registered successfully."}),t("/institution/login");else throw new Error(((N=P.data)==null?void 0:N.message)||"Registration failed")}catch(C){console.error("Registration error:",C),s({title:"Registration Failed",description:C instanceof Error?C.message:"An error occurred during registration. Please try again.",variant:"destructive"})}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-5xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsx("div",{className:"text-center md:text-left space-y-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Ud,alt:"Institution Registration",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Register Your Institution"}),e.jsx("p",{className:"text-xl opacity-90",children:"Join our sports management platform"})]})})]})}),e.jsxs(te,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(le,{className:"text-center pb-4",children:[e.jsx(ce,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Institution Registration"}),e.jsx(Re,{className:"text-muted-foreground",children:"Create your comprehensive institution profile"})]}),e.jsx(se,{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Et,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Institution Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:p.institutionName,onValueChange:f=>S("institutionName",f),required:!0,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select Institution"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Delhi Public School",children:"Delhi Public School"}),e.jsx(K,{value:"Ryan International School",children:"Ryan International School"}),e.jsx(K,{value:"DAV Public School",children:"DAV Public School"}),e.jsx(K,{value:"Kendriya Vidyalaya",children:"Kendriya Vidyalaya"}),e.jsx(K,{value:"Amity University",children:"Amity University"}),e.jsx(K,{value:"Jamia Millia Islamia",children:"Jamia Millia Islamia"}),e.jsx(K,{value:"Other",children:"Other (Enter Manually)"})]})]}),p.institutionName==="Other"&&e.jsx(D,{placeholder:"Enter Institution Name",value:p.customInstitutionName||"",onChange:f=>S("customInstitutionName",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Institution Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:p.institutionType,onValueChange:f=>S("institutionType",f),required:!0,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select Type"})}),e.jsxs(je,{children:[e.jsx(K,{value:"School",children:"School"}),e.jsx(K,{value:"College",children:"College"}),e.jsx(K,{value:"University",children:"University"}),e.jsx(K,{value:"Academy",children:"Academy"}),e.jsx(K,{value:"Training Center",children:"Training Center"}),e.jsx(K,{value:"Sports Club",children:"Sports Club"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Registration Number"}),e.jsx(D,{placeholder:"e.g., UGC123456",value:p.registrationNumber,onChange:f=>S("registrationNumber",f.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Established Year"}),e.jsx(D,{type:"number",placeholder:"e.g., 1995",value:p.establishedYear,onChange:f=>S("establishedYear",f.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(_r,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Primary Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"+91 9876543210",value:p.phone,onChange:f=>S("phone",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Primary Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{type:"email",placeholder:"info@institution.com",value:p.email,onChange:f=>S("email",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Website"}),e.jsx(D,{placeholder:"https://www.institution.com",value:p.website,onChange:f=>S("website",f.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Alternate Phone"}),e.jsx(D,{placeholder:"+91 9876543211",value:p.alternatePhone,onChange:f=>S("alternatePhone",f.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Xj,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Address Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(at,{placeholder:"Complete street address",value:p.streetAddress,onChange:f=>S("streetAddress",f.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"City *"}),e.jsx(D,{placeholder:"New Delhi",value:p.city,onChange:f=>S("city",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"State *"}),e.jsx(D,{placeholder:"Delhi",value:p.state,onChange:f=>S("state",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Postal Code *"}),e.jsx(D,{placeholder:"110001",value:p.postalCode,onChange:f=>S("postalCode",f.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Country *"}),e.jsx(D,{placeholder:"India",value:p.country,onChange:f=>S("country",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Landmark"}),e.jsx(D,{placeholder:"Near Metro Station",value:p.landmark,onChange:f=>S("landmark",f.target.value)})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(yd,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Institution Details"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Description *"}),e.jsx(at,{placeholder:"Brief description of your institution...",value:p.description,onChange:f=>S("description",f.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Vision"}),e.jsx(at,{placeholder:"Institution's vision statement",value:p.vision,onChange:f=>S("vision",f.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Mission"}),e.jsx(at,{placeholder:"Institution's mission statement",value:p.mission,onChange:f=>S("mission",f.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Specializations"}),e.jsx(D,{placeholder:"e.g., Engineering, Medicine, Sports",value:p.specializations,onChange:f=>S("specializations",f.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Languages Offered"}),e.jsx(D,{placeholder:"e.g., English, Hindi, French",value:p.languagesOffered,onChange:f=>S("languagesOffered",f.target.value)})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Capacity & Staff"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Total Students"}),e.jsx(D,{type:"number",placeholder:"1000",value:p.totalStudents,onChange:f=>S("totalStudents",f.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Total Staff"}),e.jsx(D,{type:"number",placeholder:"100",value:p.totalStaff,onChange:f=>S("totalStaff",f.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Sports Coaches"}),e.jsx(D,{type:"number",placeholder:"10",value:p.sportsCoaches,onChange:f=>S("sportsCoaches",f.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Teaching Staff"}),e.jsx(D,{type:"number",placeholder:"80",value:p.teachingStaff,onChange:f=>S("teachingStaff",f.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Non-Teaching Staff"}),e.jsx(D,{type:"number",placeholder:"20",value:p.nonTeachingStaff,onChange:f=>S("nonTeachingStaff",f.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Ge,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Contact Person Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Contact Person Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"John Doe",value:p.contactPersonName,onChange:f=>S("contactPersonName",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Designation *"}),e.jsx(D,{placeholder:"Principal",value:p.contactPersonDesignation,onChange:f=>S("contactPersonDesignation",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"+91 9876543210",value:p.contactPersonPhone,onChange:f=>S("contactPersonPhone",f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"email",placeholder:"contact@institution.com",value:p.contactPersonEmail,onChange:f=>S("contactPersonEmail",f.target.value),className:"flex-1",required:!0}),e.jsx(F,{type:"button",variant:a?"default":"outline",onClick:o?j:y,disabled:a||!p.contactPersonEmail,className:"min-w-[120px]",children:a?e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Verified"]}):o?"Verify OTP":"Send OTP"})]}),o&&!a&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{placeholder:"Enter OTP",value:d,onChange:f=>u(f.target.value),className:"flex-1"}),e.jsx(F,{type:"button",variant:"outline",onClick:j,disabled:!d,children:"Verify"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["OTP sent to ",p.contactPersonEmail]})]})]})]})]}),e.jsx(F,{type:"submit",className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:n||!a,children:n?"Registering Institution...":a?"Register Institution":"Verify Email First"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),e.jsx(ms,{to:"/institution/login",className:"text-primary hover:underline font-medium",children:"Sign In"})]})]})})]})]})})})},FO={School:["Delhi Public School","Kendriya Vidyalaya","Army Public School","DPS International","The Doon School","Mayo College","St. Stephen's School","Modern School","Vasant Valley School","Springdales School","Apeejay School","Ryan International School","DAV Public School","Bharatiya Vidya Bhavan","Sanskriti School","The Shri Ram School","Amity International School","GD Goenka School","Heritage School","Lotus Valley School"],College:["St. Stephen's College","Hindu College","Lady Shri Ram College","Miranda House","Hansraj College","Ramjas College","Kirori Mal College","Gargi College","Jesus and Mary College","Kamala Nehru College","Sri Venkateswara College","Acharya Narendra Dev College","Deen Dayal Upadhyaya College","Keshav Mahavidyalaya","Maitreyi College","Motilal Nehru College","Rajdhani College","Shyam Lal College","Swami Shraddhanand College","Vivekananda College"],University:["University of Delhi","Jawaharlal Nehru University","Jamia Millia Islamia","Ambedkar University Delhi","Guru Gobind Singh Indraprastha University","Netaji Subhas University of Technology","Delhi Technological University","Indraprastha Institute of Information Technology","National Institute of Technology Delhi","Indian Institute of Technology Delhi","All India Institute of Medical Sciences","Jamia Hamdard University","Shiv Nadar University","Ashoka University","OP Jindal Global University","Amity University","Galgotias University","Bennett University","Manav Rachna University","SRM University"],"Sports Academy":["Sports Authority of India","National Institute of Sports","Patiala Sports Academy","Bangalore Sports Academy","Mumbai Sports Academy","Chennai Sports Academy","Kolkata Sports Academy","Delhi Sports Academy","Pune Sports Academy","Hyderabad Sports Academy","Ahmedabad Sports Academy","Chandigarh Sports Academy","Bhopal Sports Academy","Jaipur Sports Academy","Lucknow Sports Academy","Bhubaneswar Sports Academy","Guwahati Sports Academy","Kochi Sports Academy","Indore Sports Academy","Vadodara Sports Academy"],"Sports Club":["Delhi Sports Club","Mumbai Sports Club","Bangalore Sports Club","Chennai Sports Club","Kolkata Sports Club","Pune Sports Club","Hyderabad Sports Club","Ahmedabad Sports Club","Chandigarh Sports Club","Bhopal Sports Club","Jaipur Sports Club","Lucknow Sports Club","Bhubaneswar Sports Club","Guwahati Sports Club","Kochi Sports Club","Indore Sports Club","Vadodara Sports Club","Surat Sports Club","Nashik Sports Club","Vijayawada Sports Club"],Other:[]},DO=["Aga Khan Academy","Braeburn Garden Estate - BGE","Braeburn Gitanga Road - BGR","Braeside School, Thika","Braeside School, Lavington","Brookhouse School, Karen","Brookhouse School, Runda","Brookhurst International, Lavington","Brookhurst International, Kiserian","Crawford International School","The Banda School","French School","German School","Jawabu School","Light International School","Makini Cambridge School","Nairobi Academy","Nairobi Jaffery Academy","Oshwal Academy U15 & U17","Oshwal Academy U17 & U19","Peponi School (overall)","Peponi School (Girls Sport)","Peponi School (Boys Sport)","Rosslyn Academy (overall)","Kenton College","Rusinga School","SABIS International School","St Austin's Academy","St. Christopher's School","Swedish School","Woodcreek School","West Nairobi School - WNS","ISK","Durham International School - DIS"],LO=["MBAGATHI ROAD PRIMARY","NEMBU PRIMARY","KAWANGWARE PRIMARY","TOI PRIMARY","RIRUTA HGM PRIMARY","DAGORETTI MUSLIM PRIMARY","KINYANJUI ROAD PRIMARY","JOSEPH KANGETHE PRIMARY","JAMHURI PRIMARY","GATINA PRIMARY","MUTUINI PRIMARY","MUKARARA","DAGORETTI GIRLS REHABILITATION","WORLD HOPE ACADEMY","KAGIRA PRIMARY","KIRIGU PRIMARY","RUTHIMITU PRIMARY","WAITHAKA SPECIAL SCHOOL","DR. MUTHIORA PRIMARY","GITIBA PRIMARY","RIRUTA SATELLITE PRIMARY","KABIRIA PRIMARY SCHOOL","SHADRACK KIMALEL PRIMARY SCHOOL","NDURARUA PRIMARY","UPPER HILL DAY NURSERY","UMOJA PRIMARY","RONALD NGALA PRIMARY","USHIRIKA PRIMARY","KARIOBANGI SOUTH PRIMARY","TOM MBOYA PRIMARY","GITUAMBA PRIMARY","PETER KIBUKOSYA PRIMARY","ATHI PRIMARY","RUAI PRIMARY","JEHOVAH JIREH PRIMARY","NGUNDU PRIMARY","UNITY PRIMARY","UTAWALA ACADEMY","KAYOLE I PRIMARY","TUMAINI PRIMARY","OUR LADY OF NAZARETH PRIMARY","MAUA PRIMARY","VISIONS PRIMARY (MIHANG'O)","EMBAKASI GARRISON PRIMARY","MWANGAZA PRIMARY","EMBAKASI PRIMARY","THAWABU PRIMARY","BONDENI PRIMARY","KOMAROCK PRIMARY","KIFARU PRIMARY","EDELVALE PRIMARY","IMARA PRIMARY","DOONHOLM PRIMARY","BUSARA PRIMARY","A.E.F. REUBEN PRIMARY","KWA NJENGA PRIMARY","DANDORA PRIMARY SCHOOL","SIMBA DAY NURSERY","MUGUMO DAY NURSERY","MWANGAZA DAY NURSERY","UNITY DAY NURSERY","UMOJA I DAY NURSERY","ST. DOMINIC'S PRIMARY SCHOOL","KAYOLE NORTH PRIMARY","KANGUNDO ROAD PRY","JAMES GICHURU PRIMARY","WANGU PRIMARY","DRUMVALE PRIMARY","NJIRU PRIMARY","EASTLEIGH AIRPORT PRIMARY","MUTHURWA PRIMARY","UHURU ESTATE PRIMARY","HESHIMA ROAD PRIMARY","OUR LADY OF MERCY GIRLS - SHAURI MOYO","BAHATI UHURU PRIMARY","KIMATHI PRIMARY","MORRISON PRIMARY","DR. LIVINGSTONE PRIMARY","NAIROBI RIVER PRIMARY","NEW EASTLEIGH PRIMARY","ZAWADI PRIMARY","MOI AIR BASE PRIMARY","MOI FORCES ACADEMY","ST. TERESA'S BOYS PRIMARY SCHOOL","BAHATI DAY NURSERY","NEW PUMWANNI PRIMARY","BURUBURU I PRIMARY","ROYSAMBU PRIMARY","KAHAWA PRIMARY","KAMITI PRIMARY","KAWAHA GARRISON SECONDARY","GITHURAI PRIMARY","GARDEN ESTATE PRIMARY","KENYATTA UNIVERSITY PRIMARY","MAHIGA PRIMARY","KIWANJA PRIMARY","MARURUI PRIMARY","NJATHAINI PRIMARY","NGUNYUMU PRIMARY","MATHARE 4A PRIMARY","THIKA ROAD PRIMARY","G.S.U. PRIMARY","DANIEL COMBONI PRIMARY","MUTHAIGA PRIMARY","MARURA PRIMARY","M.M. CHANDARIA PRIMARY","KASARANI PRIMARY","KARIOBANGI NORTH GIRLS SECONDARY SCHOOL","MUREMA PRIMARY","MATHARE NORTH PRIMARY SCHOOL","BABA DOGO PRIMARY SCHOOL","DRIVE-IN PRIMARY SCHOOL","TREESIDE SPECIAL SCHOOL","KAREN 'C' PRIMARY","NGONG FOREST PRIMARY","ST. MARY'S KAREN PRIMARY","AYANY PRIMARY","LANGATA ROAD PRIMARY","RAILA EDUCATION CENTRE","NGEI PRIMARY","KONGONI PRIMARY","LANGATA WEST PRIMARY","UHURU GARDENS PRIMARY","MADARAKA PRIMARY SCHOOL","OLYMPIC PRIMARY","LANGATA BARRACKS PRIMARY","KIBERA PRIMARY","NAIROBI WEST DAY NUSERY","RABAI ROAD PRIMARY","BARAKA PRIMARY","HARAMBEE PRIMARY","OFAFA JERICHO PRIMARY","ST. MICHAEL'S PRIMARY","ST. ANNE'S PRIMARY","DR. KRAPF PRIMARY","JOGOO ROAD PRIMARY","ST. PAUL'S PRIMARY","MARTIN LUTHER PRIMARY","MARIAKANI PRIMARY","STAR OF HOPE LUNGA LUNGA","JOSEPH APUDO PRIMARY","MAKONGENI PRIMARY","OUR LADY OF MERCY SOUTH 'B'","PLAINSVIEW PRIMARY","ST. ELIZABETH LUNGA LUNGA","ST. BAKHITA PRIMARY","MUKURU PRIMARY","NAIROBI SOUTH PRIMARY","NILE ROAD SPECIAL SCHOOL","ST. JOHN'S PRIMARY","BIDII PRIMARY","KALOLENI PRIMARY","ST. PATRICK'S PRIMARY SCHOOL","TANA DAY NURSERY","NJORO CLOSE DAY NURSERY SCHOOL","OFAFA DAY NURSERY","KALOLENI DAY NURSERY","MBOTELA DAY NURSERY","ST. CATHERINE'S PRIMARY","CANON APOLO PRIMARY","RIVER BANK PRIMARY","PUMWANI PRIMARY","S.S.D. PRIMARY","MURANG'A ROAD PRIMARY","PARKLANDS PRIMARY","DR. AGGREY PRIMARY","MATHARI PRIMARY","NDURURUNO PRIMARY","AINSWOTH STREET PRIMARY","ARYA PRIMARY","KIBORO PRIMARY","NG'ETHU WATER WORKS","RACECOURSE PRIMARY","VALLEY BRIDGE PRIMARY","SALAMA PRIMARY","MUSLIM PRIMARY","ST. TERESA'S GIRLS PRIMARY","ISLAMIA PRIMARY","ST. BRIGIDS PRIMARY","PANGANI PRIMARY","HURUMA PRIMARY","MOI AVENUE PRIMARY","ST. PETER CLAVERS PRIMARY","CITY PRIMARY","PARKROAD PRIMARY","C.G.H.U. PRIMARY","JUJA ROAD PRIMARY","PUMWANI PRIMARY SCHOOL","CENTRAL DAY CURSERY","PARKLANDS DAY NURSERY","NGARA EAST DAY NURSERY","STAREHE DAY NURSERY","ZIWANI DAY NURSERY","DAIMA PRIMARY","MATHARE TECHNICAL SPECIAL","KABETE VET LAB PRIMARY","KIHUMBUINI PRIMARY","NAIROBI PRIMARY","MILIMANI PRIMARY","LAVINGTON PRIMARY SCHOOL","STATE HOUSE PRIMARY","KILELESHWA PRIMARY","NEW KIHUMBUINI PRIMARY","KILIMANI PRIMARY","AGA KHAN PRIMARY","FARASI LANE PRIMARY","VISA OSHWAL PRIMARY - NAIROBI","BOHRA PRIMARY SCHOOL","KABETE REHABILITATION SCHOOL","HOSPITAL HILL PRIMARY","HIGHRIDGE PRIMARY","JACARANDA SPECIAL SCHOOL","NORTH HIGHRIDGE PRIMARY","MUGUGA GREEN PRIMARY","WESTLANDS PRIMARY","KARURA FOREST PRIMARY","CHELETA PRIMARY","LOWER KABETE PRIMARY","KANGEMI PRIMARY","ST. GEORGE'S PRIMARY","LORESHO PRIMARY","STATE HOUSE DAY NURSERY","KILELESHWA DAY NURSERY","LADY NORTHEY DAY NURSERY","HIGHWAY SECONDARY SCHOOL","PARKLANDS BAPTIST SCHOOL"],$O=["Talanta","JB Academy","Muqs","Bumble Bee Sports","Discovery Tennis","TY SPORTS","Terriffic Tennis","Next Gen Multi Sport Academu"],Rh=["Kaiso Schools","Govt Schools","Academies","Other"];function UO(t){switch(t){case"Kaiso Schools":return DO;case"Govt Schools":return LO;case"Academies":return $O;case"Other":return[];default:return FO[t]||[]}}const BO=({initialData:t,verificationStatus:s,onComplete:n,onVerificationChange:r,onBack:a})=>{console.log("InstitutionDetailsStep received initialData:",t),console.log("InstitutionDetailsStep received verificationStatus:",s);const{toast:i}=_e(),[o,l]=c.useState({institutionName:(t==null?void 0:t.institutionName)||"",institutionEmail:(t==null?void 0:t.institutionEmail)||"",institutionType:(t==null?void 0:t.institutionType)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",website:(t==null?void 0:t.website)||"",principalName:(t==null?void 0:t.principalName)||"",principalContact:(t==null?void 0:t.principalContact)||"",contactPersonName:(t==null?void 0:t.contactPersonName)||"",contactPersonDesignation:(t==null?void 0:t.contactPersonDesignation)||"",contactPersonPhone:(t==null?void 0:t.contactPersonPhone)||"",contactPersonEmail:(t==null?void 0:t.contactPersonEmail)||""}),[d,u]=c.useState({institutionEmail:{sent:!1,otp:"",verified:s.institutionEmailVerified,loading:!1},contactPersonEmail:{sent:!1,otp:"",verified:s.contactPersonEmailVerified,loading:!1}}),[h,m]=c.useState(!1),[p,x]=c.useState([]),[S,y]=c.useState(Rh),[j,v]=c.useState(!0);c.useEffect(()=>{u(g=>({institutionEmail:{...g.institutionEmail,verified:s.institutionEmailVerified},contactPersonEmail:{...g.contactPersonEmail,verified:s.contactPersonEmailVerified}}))},[s]),c.useEffect(()=>{h&&l(g=>({...g,contactPersonEmail:g.institutionEmail}))},[h,o.institutionEmail]),c.useEffect(()=>{(async()=>{try{const A=await Z.getInstituteTypes();A.data.success&&y(A.data.data)}catch(A){console.error("Failed to load institute types:",A),i({title:"Warning",description:"Failed to load institute types from server. Using default options.",variant:"destructive"})}finally{v(!1)}})()},[i]);const f=(g,A)=>{l(_=>({..._,[g]:A})),x([])},N=async g=>{var w;const A=g==="institutionEmail"?o.institutionEmail:o.contactPersonEmail;if(!A){i({title:"Email Required",description:"Please enter an email address first.",variant:"destructive"});return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(A)){i({title:"Invalid Email",description:"Please enter a valid email address.",variant:"destructive"});return}u(b=>({...b,[g]:{...b[g],loading:!0}}));try{const b=g==="institutionEmail"?"institution":"contact_person",I=await Z.sendEmailVerification(A,b);if(I.data&&I.data.success)u(k=>({...k,[g]:{...k[g],sent:!0,loading:!1}})),i({title:"Verification Code Sent! ",description:`A 6-digit verification code has been sent to ${A}`});else throw new Error(((w=I.data)==null?void 0:w.message)||"Failed to send verification code")}catch(b){console.error("Email verification send failed:",b),u(I=>({...I,[g]:{...I[g],loading:!1}})),i({title:"Failed to Send Code",description:b.message||"Please try again.",variant:"destructive"})}},C=async g=>{var w;const A=g==="institutionEmail"?o.institutionEmail:o.contactPersonEmail,_=d[g].otp;if(!_||_.length!==6){i({title:"Invalid Code",description:"Please enter a valid 6-digit verification code.",variant:"destructive"});return}u(b=>({...b,[g]:{...b[g],loading:!0}}));try{const b=g==="institutionEmail"?"institution":"contact_person",I=await Z.verifyEmailVerification(A,_,b);if(I.data&&I.data.success){u(O=>({...O,[g]:{...O[g],verified:!0,loading:!1,otp:""}}));const k={institutionEmailVerified:g==="institutionEmail"?!0:s.institutionEmailVerified,contactPersonEmailVerified:g==="contactPersonEmail"?!0:s.contactPersonEmailVerified};g==="institutionEmail"&&h&&(k.contactPersonEmailVerified=!0,u(O=>({...O,contactPersonEmail:{...O.contactPersonEmail,verified:!0}}))),r(k),i({title:"Email Verified! ",description:`${A} has been successfully verified.`})}else throw new Error(((w=I.data)==null?void 0:w.message)||"Invalid verification code")}catch(b){console.error("Email verification failed:",b),u(I=>({...I,[g]:{...I[g],loading:!1}})),i({title:"Verification Failed",description:b.message||"Please check your code and try again.",variant:"destructive"})}},P=()=>{const g=[];(!o.institutionName||o.institutionName.trim().length<2)&&g.push("Institution name must be at least 2 characters");const A=Ah(o.institutionEmail);if(A.isValid||g.push(`Institution Email: ${A.errorMessage}`),o.institutionType||g.push("Institution Type is required"),(!o.phoneNumber||o.phoneNumber.trim().length<10)&&g.push("Institution phone number must be at least 10 digits"),(!o.principalName||o.principalName.trim().length<2)&&g.push("Principal name must be at least 2 characters"),(!o.principalContact||o.principalContact.trim().length<10)&&g.push("Principal contact number must be at least 10 digits"),(!o.contactPersonName||o.contactPersonName.trim().length<2)&&g.push("Contact person name must be at least 2 characters"),(!o.contactPersonDesignation||o.contactPersonDesignation.trim().length<2)&&g.push("Contact person designation must be at least 2 characters"),(!o.contactPersonPhone||o.contactPersonPhone.trim().length<10)&&g.push("Contact person phone number must be at least 10 digits"),!o.contactPersonEmail)g.push("Contact person email is required");else{const _=Ah(o.contactPersonEmail);_.isValid||g.push(`Contact Person Email: ${_.errorMessage}`)}return d.contactPersonEmail.verified||h&&d.institutionEmail.verified||g.push("Contact person email must be verified"),o.website&&o.website.trim()&&(/^https?:\/\/.+\..+/.test(o.website.trim())||g.push("Website must be a valid URL (e.g., https://www.example.com)")),s.institutionEmailVerified||g.push("Institution email must be verified"),s.contactPersonEmailVerified||g.push("Contact person email must be verified"),x(g),g.length===0},R=async()=>{var A,_,w,b;if(!P())return;if(t&&Object.keys(t).length>0){console.log(" Update mode - skipping email validation"),n(o);return}try{i({title:"Validating Email",description:"Checking if email is available for registration..."});const I=await Z.validateRegistrationEmail(o.institutionEmail);if((A=I.data)!=null&&A.success)i({title:"Email Available",description:"Email validated successfully. Proceeding with registration."}),n(o);else throw new Error(((_=I.data)==null?void 0:_.message)||"Email validation failed")}catch(I){console.error("Email validation failed:",I);let k="Failed to validate email. Please try again.";(((w=I.response)==null?void 0:w.status)===409||(b=I.message)!=null&&b.includes("already registered"))&&(k=`Email '${o.institutionEmail}' is already registered. Please use a different email address or contact support if you believe this is an error.`),i({title:"Registration Error",description:k,variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[p.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.map((g,A)=>e.jsx("li",{children:g},A))})})}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-5 w-5"}),"Institution Information"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"institutionType",children:"Institute Type *"}),e.jsxs(Ne,{value:o.institutionType,onValueChange:g=>{f("institutionType",g),f("institutionName","")},disabled:j,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:j?"Loading types...":"Select institute type"})}),e.jsx(je,{children:S.map(g=>e.jsx(K,{value:g,children:g},g))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"institutionName",children:"Institute Name *"}),o.institutionType==="Other"?e.jsx(D,{id:"institutionName",value:o.institutionName,onChange:g=>f("institutionName",g.target.value),placeholder:"Enter institute name"}):e.jsxs(Ne,{value:o.institutionName,onValueChange:g=>f("institutionName",g),disabled:!o.institutionType,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select institute name"})}),e.jsx(je,{className:"max-h-72",children:UO(o.institutionType).map(g=>e.jsx(K,{value:g,children:g},g))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"institutionEmail",children:"Institution Email *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"institutionEmail",type:"email",value:o.institutionEmail,onChange:g=>f("institutionEmail",g.target.value),placeholder:"school@example.com",disabled:d.institutionEmail.verified}),!d.institutionEmail.verified&&e.jsx(F,{type:"button",variant:"outline",onClick:()=>N("institutionEmail"),disabled:d.institutionEmail.sent||d.institutionEmail.loading,children:d.institutionEmail.loading?"Sending...":d.institutionEmail.sent?"Sent":"Verify"}),d.institutionEmail.verified&&e.jsx(F,{variant:"outline",disabled:!0,className:"text-green-600",children:e.jsx(it,{className:"h-4 w-4"})})]})]}),d.institutionEmail.sent&&!d.institutionEmail.verified&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"institutionEmailOtp",children:"Enter Verification Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"institutionEmailOtp",value:d.institutionEmail.otp,onChange:g=>u(A=>({...A,institutionEmail:{...A.institutionEmail,otp:g.target.value}})),placeholder:"Enter 6-digit code",maxLength:6,className:"text-center text-lg tracking-widest"}),e.jsx(F,{onClick:()=>C("institutionEmail"),disabled:d.institutionEmail.loading,children:d.institutionEmail.loading?"Verifying...":"Verify"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"phoneNumber",children:"Phone Number *"}),e.jsx(D,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:g=>{const A=ic(g.target.value);f("phoneNumber",A)},onKeyDown:g=>{!/[0-9]/.test(g.key)&&!["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(g.key)&&g.preventDefault()},placeholder:"0712345678"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"website",children:"Website"}),e.jsx(D,{id:"website",type:"url",value:o.website,onChange:g=>f("website",g.target.value),placeholder:"www.schoolname.ac.ke"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"principalName",children:"Principal Name *"}),e.jsx(D,{id:"principalName",value:o.principalName,onChange:g=>f("principalName",g.target.value),placeholder:"Dr. John Smith"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"principalContact",children:["Principal Contact Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"principalContact",type:"tel",value:o.principalContact,onChange:g=>{const A=ic(g.target.value);f("principalContact",A)},onKeyDown:g=>{!/[0-9]/.test(g.key)&&!["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(g.key)&&g.preventDefault()},placeholder:"0712345678"})]})]})]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(WP,{className:"h-5 w-5"}),"Contact Person Details"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contactPersonName",children:"Name *"}),e.jsx(D,{id:"contactPersonName",value:o.contactPersonName,onChange:g=>f("contactPersonName",g.target.value),placeholder:"Jane Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contactPersonDesignation",children:"Designation *"}),e.jsx(D,{id:"contactPersonDesignation",value:o.contactPersonDesignation,onChange:g=>f("contactPersonDesignation",g.target.value),placeholder:"Sports Coordinator"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"contactPersonPhone",children:["Contact Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contactPersonPhone",type:"tel",value:o.contactPersonPhone,onChange:g=>{const A=ic(g.target.value);f("contactPersonPhone",A)},onKeyDown:g=>{!/[0-9]/.test(g.key)&&!["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(g.key)&&g.preventDefault()},placeholder:"0712345678"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contactPersonEmail",children:"Email *"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useSameEmail",checked:h,onChange:g=>m(g.target.checked),className:"rounded"}),e.jsx(E,{htmlFor:"useSameEmail",className:"text-sm text-muted-foreground",children:"Use same email as institution"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"contactPersonEmail",type:"email",value:o.contactPersonEmail,onChange:g=>f("contactPersonEmail",g.target.value),placeholder:"coordinator@school.com",disabled:d.contactPersonEmail.verified||h}),!d.contactPersonEmail.verified&&!h&&e.jsx(F,{type:"button",variant:"outline",onClick:()=>N("contactPersonEmail"),disabled:d.contactPersonEmail.sent||d.contactPersonEmail.loading,children:d.contactPersonEmail.loading?"Sending...":d.contactPersonEmail.sent?"Sent":"Verify"}),d.contactPersonEmail.verified&&e.jsx(F,{variant:"outline",disabled:!0,className:"text-green-600",children:e.jsx(it,{className:"h-4 w-4"})})]}),h&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact person email will be verified automatically when institution email is verified."})]}),d.contactPersonEmail.sent&&!d.contactPersonEmail.verified&&!h&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contactPersonEmailOtp",children:"Enter Verification Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"contactPersonEmailOtp",value:d.contactPersonEmail.otp,onChange:g=>u(A=>({...A,contactPersonEmail:{...A.contactPersonEmail,otp:g.target.value}})),placeholder:"Enter 6-digit code",maxLength:6,className:"text-center text-lg tracking-widest"}),e.jsx(F,{onClick:()=>C("contactPersonEmail"),disabled:d.contactPersonEmail.loading,children:d.contactPersonEmail.loading?"Verifying...":"Verify"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[a&&e.jsx(F,{variant:"outline",onClick:a,children:"Back"}),e.jsx(F,{onClick:R,className:a?"":"w-full",children:"Save & Continue"})]})]})},zO=["Individual","Team"],VO=({initialData:t,onComplete:s,onBack:n})=>{const{toast:r}=_e(),[a,i]=c.useState((t==null?void 0:t.sportTeams)||[]),[o,l]=c.useState([]),[d,u]=c.useState(!0),[h,m]=c.useState([]),[p,x]=c.useState([]),[S,y]=c.useState([]),[j,v]=c.useState(!1),[f,N]=c.useState(null),[C,P]=c.useState("Individual"),[R,g]=c.useState(""),[A,_]=c.useState(""),[w,b]=c.useState(""),[I,k]=c.useState(""),[O,U]=c.useState(""),[V,B]=c.useState({fname:"",mname:"",lname:"",student_id:"",email:"",dob:"",gender:"",phone:"",firstName:"",middleName:"",lastName:"",studentId:"",dateOfBirth:"",phoneNumber:""}),[H,q]=c.useState(""),[re,Q]=c.useState([]);c.useEffect(()=>{(async()=>{console.log(" SportStudentAddStep: Loading sports data for student assignment..."),v(!0),N(null);try{const J=await Z.getSportsPublic();if(console.log(" SportStudentAddStep: Sports API response:",J),J.data&&typeof J.data=="object"&&"success"in J.data){const fe=J.data;if(fe.success&&fe.data){const we=fe.data||[];console.log(" SportStudentAddStep: Sports loaded:",we.length,"sports"),console.log(" SportStudentAddStep: First few sports:",we.slice(0,3)),m(we)}else console.log(" SportStudentAddStep: Failed to fetch sports data - no data in response"),N("Failed to fetch sports data")}else console.log(" SportStudentAddStep: Invalid response format"),N("Failed to fetch sports data")}catch(J){console.error(" SportStudentAddStep: Error fetching sports:",J),N("Failed to fetch sports data")}finally{v(!1)}})()},[]);const ie=(M,J)=>{const fe=parseInt(M),we=parseInt(J);if(isNaN(fe)||isNaN(we)||fe>we)return[];const Le=[];for(let jt=fe;jt<=we;jt++)Le.push({value:jt.toString(),label:`U${jt} (${jt} years)`});return Le};c.useEffect(()=>{(async()=>{try{const J=await Z.getGenderOptions();if(J.data&&typeof J.data=="object"&&"success"in J.data){const fe=J.data;fe.success&&fe.data&&l(fe.data)}}catch(J){console.error("Failed to load gender options:",J),l([{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}])}finally{u(!1)}})()},[]),c.useEffect(()=>{const M=async()=>{if(!R||R.trim()===""){x([]),y([]);return}console.log(" Loading categories for sport:",R);try{const J=h.find(fe=>fe.name===R);if(console.log(" Selected sport data:",J),J){console.log(" Calling API for sport ID:",J.id);const fe=await Z.getSportCategoriesPublic(J.id);if(console.log(" Categories API response:",fe),fe.data&&fe.data.success){const we=fe.data.data||[];console.log(" Categories loaded:",we),x(we)}else console.log(" Failed to load categories"),x([])}}catch(J){console.error(" Error fetching categories:",J),x([])}y([]),_(""),b("")};h.length>0&&R&&M()},[R,h]),c.useEffect(()=>{const M=async()=>{if(!A||!R||A.trim()===""||R.trim()===""){y([]);return}console.log(" Loading sub-categories for category:",A,"sport:",R);try{const J=h.find(we=>we.name===R),fe=p.find(we=>we.name===A);if(console.log(" Selected sport:",J,"category:",fe),J&&fe){console.log(" Calling API for sport ID:",J.id,"category ID:",fe.id);const we=await Z.getSubCategoriesPublic(J.id,fe.id);if(console.log(" Sub-categories API response:",we),we.data&&we.data.success){const Le=we.data.data||[];console.log(" Sub-categories loaded:",Le),y(Le)}else console.log(" Failed to load sub-categories"),y([])}}catch(J){console.error(" Error fetching sub-categories:",J),y([])}b("")};h.length>0&&p.length>0&&R&&A&&M()},[A,R,h,p]),console.log(" SportStudentAddStep: Current sport type:",C),console.log(" SportStudentAddStep: All sports:",h.length),console.log(" SportStudentAddStep: Sports types:",[...new Set(h.map(M=>M.type))]);const ue=h.filter(M=>M.type===C);console.log(" SportStudentAddStep: Filtered sports for type",C,":",ue.length);const L=ue.filter((M,J,fe)=>J===fe.findIndex(we=>we.name===M.name));console.log(" SportStudentAddStep: Available sports (deduplicated):",L.length);const ee=p,ne=S,$=h.find(M=>M.name===R),T=$?ie($.age_from,$.age_to):[],G=(M,J,fe)=>{const we=h.find(Le=>Le.name===M);return we?we.max_limit?we.max_limit:J==="Individual"?M==="Tennis"&&fe==="Team"||M==="Badminton"&&fe==="Team"||M==="Table Tennis"&&fe==="Team"||M==="Padel"&&fe==="Team"?4:1:J==="Team"?M==="Football"?7:M==="Basketball"?5:M==="Volleyball"?6:M==="Hockey"||M==="Netball"||M==="Rugby (7s)"||M==="Handball"?7:M==="Cricket"?11:7:1:1},X=()=>{const M=[];R||M.push("Please select a sport"),I||M.push("Please select age group"),O||M.push("Please select gender");const J=h.find(Ue=>Ue.name===R),fe=p.find(Ue=>Ue.name===A),we=S.find(Ue=>Ue.name===w);if(J||M.push("Selected sport not found"),a.find(Ue=>Ue.sportId===(J==null?void 0:J.id)&&Ue.categoryId===(fe==null?void 0:fe.id)&&Ue.subCategoryId===(we==null?void 0:we.id)&&Ue.ageFrom===I&&Ue.gender===O)&&M.push("This sport combination is already added"),M.length>0){Q(M);return}const jt=G(R,C,w),tn={id:`team_${Date.now()}`,sportType:C,sport:R,category:A||"",subCategory:w||"",ageFrom:I,ageTo:I,gender:O,students:[],maxStudents:jt,sportId:(J==null?void 0:J.id)||0,categoryId:fe==null?void 0:fe.id,subCategoryId:we==null?void 0:we.id};i(Ue=>[...Ue,tn]),g(""),_(""),b(""),k(""),U(""),Q([]),r({title:"Sport Team Added Successfully",description:`${R} team has been added. You can now add students to this team.`})},Y=M=>{const J=a.find(fe=>fe.id===M);i(fe=>fe.filter(we=>we.id!==M)),J&&r({title:"Sport Team Removed",description:`${J.sport} team has been removed.`})},z=(M,J)=>{B(fe=>({...fe,[M]:J})),Q([])},W=()=>{const M=[];return V.fname||M.push("First Name is required"),V.lname||M.push("Last Name is required"),V.student_id||M.push("Student ID is required"),V.email||M.push("Email is required"),V.dob||M.push("Date of Birth is required"),V.gender||M.push("Gender is required"),V.phone||M.push("Phone Number is required"),H||M.push("Please select a sport team"),a.some(we=>we.students.some(Le=>Le.student_id===V.student_id))&&M.push("Student ID already exists"),a.some(we=>we.students.some(Le=>Le.email===V.email))&&M.push("Email address already exists"),M},ae=()=>{const M=W();if(M.length>0){Q(M);return}const J=a.find(fe=>fe.id===H);if(!J){Q(["Selected team not found"]);return}if(J.students.length>=J.maxStudents){Q([`Maximum ${J.maxStudents} students allowed for ${J.sport}`]);return}i(fe=>fe.map(we=>we.id===H?{...we,students:[...we.students,V]}:we)),B({fname:"",mname:"",lname:"",student_id:"",email:"",dob:"",gender:"",phone:"",firstName:"",middleName:"",lastName:"",studentId:"",dateOfBirth:"",phoneNumber:""}),q(""),Q([]),r({title:"Student Added Successfully",description:`${V.fname} ${V.lname} has been added to ${J.sport} team.`})},Pe=(M,J)=>{const fe=a.find(Le=>Le.id===M),we=fe==null?void 0:fe.students[J];i(Le=>Le.map(jt=>jt.id===M?{...jt,students:jt.students.filter((tn,Ue)=>Ue!==J)}:jt)),we&&fe&&r({title:"Student Removed",description:`${we.fname} ${we.lname} has been removed from ${fe.sport} team.`})},Ae=()=>{const M=[];a.length===0&&M.push("Please add at least one sport team");for(const J of a)J.students.length===0&&M.push(`${J.sport} team must have at least one student`);return Q(M),M.length===0},qe=()=>{Ae()&&s({sportTeams:a})},gt=()=>a.reduce((M,J)=>M+J.students.length,0);return e.jsxs("div",{className:"space-y-6",children:[j&&e.jsxs(lt,{children:[e.jsx(He,{className:"h-4 w-4 animate-spin"}),e.jsx(ct,{children:"Loading sports data..."})]}),f&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:f})}),re.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:re.map((M,J)=>e.jsx("li",{children:M},J))})})}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Select Sport & Category"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"sportType",children:["Sport Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:C,onValueChange:M=>{P(M),g(""),_(""),b(""),k(""),setCurrentAgeTo("")},children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sport type"})}),e.jsx(je,{children:zO.map(M=>e.jsx(K,{value:M,children:M},M))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"sport",children:["Sport ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:R,onValueChange:M=>{g(M),_(""),b(""),k(""),setCurrentAgeTo("")},disabled:!C,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select a sport"})}),e.jsx(je,{children:L.length>0?L.map(M=>e.jsx(K,{value:M.name,children:M.name},M.id)):e.jsx(K,{value:"no-sports",disabled:!0,children:"No sports available"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"category",children:"Category"}),e.jsxs(Ne,{value:A,onValueChange:M=>{_(M),b("")},disabled:!R,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select category"})}),e.jsx(je,{children:ee.map(M=>e.jsx(K,{value:M.name,children:M.name},M.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"subCategory",children:"Sub-Category"}),e.jsxs(Ne,{value:w,onValueChange:b,disabled:!A,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sub-category"})}),e.jsx(je,{children:ne.map(M=>e.jsx(K,{value:M.name,children:M.name},M.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"ageGroup",children:"Age Group *"}),e.jsxs(Ne,{value:I,onValueChange:k,disabled:!R,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select age group"})}),e.jsx(je,{children:T.map(M=>e.jsx(K,{value:M.value,children:M.label},M.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"gender",children:"Gender *"}),e.jsxs(Ne,{value:O,onValueChange:U,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsx(je,{children:o.map(M=>e.jsx(K,{value:M.value,children:M.label},M.value))})]})]})]}),R&&I&&O&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Sport Info:"})," ",R," (",C,") - Maximum ",G(R,C,w)," student(s) allowed",w&&` for ${w}`]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(F,{onClick:X,disabled:!R||!I||!O,children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Sports"]})})]})]}),a.length>0&&e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(eN,{className:"h-5 w-5"}),"Add Students to Teams"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"teamSelect",children:"Select Team *"}),e.jsxs(Ne,{value:H,onValueChange:q,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select a team to add students"})}),e.jsx(je,{children:a.map(M=>e.jsxs(K,{value:M.id,children:[M.sport," - ",M.subCategory||M.category," (",M.students.length,"/",M.maxStudents,")"]},M.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"fname",children:"First Name *"}),e.jsx(D,{id:"fname",value:V.fname,onChange:M=>z("fname",M.target.value),placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"mname",children:"Middle Name"}),e.jsx(D,{id:"mname",value:V.mname,onChange:M=>z("mname",M.target.value),placeholder:"Enter middle name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"lname",children:"Last Name *"}),e.jsx(D,{id:"lname",value:V.lname,onChange:M=>z("lname",M.target.value),placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"student_id",children:"Student ID *"}),e.jsx(D,{id:"student_id",value:V.student_id,onChange:M=>z("student_id",M.target.value),placeholder:"Enter student ID"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"email",type:"email",value:V.email,onChange:M=>z("email",M.target.value),placeholder:"Enter email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"dob",children:"Date of Birth *"}),e.jsx(D,{id:"dob",type:"date",value:V.dob,onChange:M=>z("dob",M.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"gender",children:"Gender *"}),e.jsxs(Ne,{value:V.gender,onValueChange:M=>z("gender",M),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsx(je,{children:d?e.jsx(K,{value:"loading",disabled:!0,children:"Loading..."}):o.map(M=>e.jsx(K,{value:M.value,children:M.label},M.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"phone",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"phone",type:"tel",value:V.phone,onChange:M=>z("phone",M.target.value),placeholder:"Enter phone number"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(F,{onClick:ae,disabled:!H||!V.fname||!V.lname||!V.student_id||!V.email||!V.dob||!V.gender||!V.phone,children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Student to Team"]})})]})]}),a.length>0&&e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Sport Teams (",a.length,") - Total Students: ",gt()]})}),e.jsx(se,{className:"space-y-4",children:a.map(M=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qo,{className:"h-4 w-4"}),e.jsx("h3",{className:"font-semibold",children:M.sport}),e.jsx(he,{variant:"outline",children:M.sportType}),M.category&&e.jsx(he,{variant:"secondary",children:M.category}),M.subCategory&&e.jsx(he,{variant:"default",children:M.subCategory}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[M.ageFrom," - ",M.ageTo," | ",M.gender]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[M.students.length,"/",M.maxStudents," students"]}),e.jsx(F,{variant:"outline",size:"sm",onClick:()=>Y(M.id),children:e.jsx(Rt,{className:"h-4 w-4"})})]})]}),M.students.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Student ID"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Date of Birth"}),e.jsx(xe,{children:"Gender"}),e.jsx(xe,{children:"Phone"}),e.jsx(xe,{className:"w-16",children:"Action"})]})}),e.jsx(cs,{children:M.students.map((J,fe)=>e.jsxs(Be,{children:[e.jsx(me,{className:"font-medium",children:`${J.fname} ${J.mname?J.mname+" ":""}${J.lname}`}),e.jsx(me,{children:J.student_id}),e.jsx(me,{children:J.email}),e.jsx(me,{children:J.dob}),e.jsx(me,{children:J.gender}),e.jsx(me,{children:J.phone}),e.jsx(me,{children:e.jsx(F,{variant:"outline",size:"sm",onClick:()=>Pe(M.id,fe),children:e.jsx(Rt,{className:"h-4 w-4"})})})]},fe))})]})})]},M.id))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(F,{variant:"outline",onClick:n,children:"Back"}),e.jsx(F,{onClick:qe,disabled:a.length===0||gt()===0,children:"Save & Continue"})]})]})},Wg=1e3,qO=({institutionData:t,onComplete:s,onBack:n,loading:r})=>{var P,R,g,A,_;const{toast:a}=_e(),[i,o]=c.useState(null),[l,d]=c.useState({requestedAmount:"",sponsorshipType:"",reason:""}),[u,h]=c.useState({sportsFee:0,totalFee:0}),[m,p]=c.useState(null),[x,S]=c.useState(!0),[y,j]=c.useState(!1);c.useEffect(()=>{(async()=>{var b;try{S(!0);const I=t.sportTeams||[];if(I.length>0){const k=await Z.calculateInstitutionFees({sportTeams:I});if(k.data&&typeof k.data=="object"&&"success"in k.data){const O=k.data;if(O.success&&O.data){p(O.data);const U=O.data.summary.sports_fee||0,V=O.data.summary.total_amount||U;h({sportsFee:U,totalFee:V})}}}else h({sportsFee:0,totalFee:0})}catch(I){console.error("Failed to calculate fees:",I);const O=(((b=t.sportTeams)==null?void 0:b.length)||0)*Wg;h({sportsFee:O,totalFee:O}),a({title:"Fee Calculation Warning",description:"Using fallback fee calculation. Please check with support.",variant:"destructive"})}finally{S(!1)}})()},[t,a]);const v=async()=>{j(!0);try{const w={institute_id:t.instituteId||1,amount:u.totalFee,payment_type:"pay_now"},b=await Z.createInstitutePaymentRequest(w);if(b.data&&b.data.success)a({title:"Payment Request Created ",description:"Your payment request has been recorded. Admin will review it."}),s({paymentType:"payNow",totalFees:u.totalFee,sportsFee:u.sportsFee,status:"payment_pending",paymentId:b.data.data.payment_id});else throw new Error("Failed to create payment request")}catch(w){console.error("Payment request failed:",w),a({title:"Payment Request Failed",description:"Failed to create payment request. Please try again.",variant:"destructive"})}finally{j(!1)}},f=async()=>{if(!l.requestedAmount||!l.sponsorshipType||!l.reason){a({title:"Missing Information",description:"Please fill in all sponsor request fields.",variant:"destructive"});return}const w=parseFloat(l.requestedAmount);if(w>u.totalFee){a({title:"Invalid Amount",description:"Requested amount cannot exceed total fee.",variant:"destructive"});return}j(!0);try{const b={institute_id:t.instituteId||1,requested_amount:w,sponsorship_type:l.sponsorshipType,reason:l.reason},I=await Z.createSponsorshipRequest(b);if(I.data&&I.data.success)a({title:"Sponsorship Request Submitted ",description:"Your sponsorship request has been recorded. Admin will review it."}),s({paymentType:"sponsor",sponsorshipData:l,totalFees:u.totalFee,status:"sponsorship_requested",sponsorshipId:I.data.data.sponsorship_id});else throw new Error("Failed to create sponsorship request")}catch(b){console.error("Sponsorship request failed:",b),a({title:"Sponsorship Request Failed",description:"Failed to create sponsorship request. Please try again.",variant:"destructive"})}finally{j(!1)}},N=async()=>{j(!0);try{const w={institute_id:t.instituteId||1,students:[]};if(t.sportTeams)for(const I of t.sportTeams)for(const k of I.students||[])w.students.push({fname:k.fname||k.firstName,mname:k.mname||k.middleName,lname:k.lname||k.lastName,email:k.email,student_id:k.student_id||k.studentId,dob:k.dob||k.dateOfBirth,gender:k.gender,phone:k.phone||k.phoneNumber});const b=await Z.createStudentsFromInstitution(w);if(b.data&&b.data.success){const I={institute_id:t.instituteId||1,students:b.data.data.students.map(O=>({student_id:O.student_id,email:O.email,name:O.name,sport:"Multiple Sports",amount:Math.ceil(u.totalFee/w.students.length)})),total_amount:u.totalFee},k=await Z.createStudentPaymentRequests(I);if(k.data&&k.data.success)a({title:"Students Created & Payment Instructions Sent ",description:`Payment emails have been sent to ${k.data.data.total_requests} students.`}),s({paymentType:"payByStudent",totalFees:u.totalFee,sportsFee:u.sportsFee,emailsSent:k.data.data.total_requests,status:"payment_emails_sent",studentsCreated:b.data.data.total_students,paymentRequestsCreated:k.data.data.total_requests});else throw new Error("Failed to create payment requests")}else throw new Error("Failed to create students")}catch(w){console.error("Pay by student failed:",w),a({title:"Pay by Student Failed",description:"Failed to create students and send payment instructions. Please try again.",variant:"destructive"})}finally{j(!1)}},C=()=>e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(ci,{className:"h-5 w-5"}),"Sponsorship Request Details"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"requestedAmount",children:"Requested Amount *"}),e.jsx(D,{id:"requestedAmount",type:"number",placeholder:"Enter amount in ",value:l.requestedAmount,onChange:w=>d(b=>({...b,requestedAmount:w.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Sponsorship Type *"}),e.jsxs(gn,{value:l.sponsorshipType,onValueChange:w=>d(b=>({...b,sponsorshipType:w})),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"Partial",id:"partial"}),e.jsx(E,{htmlFor:"partial",children:"Partial Sponsorship"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(St,{value:"Full",id:"full"}),e.jsx(E,{htmlFor:"full",children:"Full Sponsorship"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"reason",children:"Reason for Sponsorship *"}),e.jsx(at,{id:"reason",placeholder:"Please explain why you need sponsorship...",value:l.reason,onChange:w=>d(b=>({...b,reason:w.target.value}))})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(F,{onClick:f,disabled:y,className:"flex-1",children:y?"Submitting...":"Save Request & Create Account"})})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-5 w-5"}),"Registration Summary"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Institution:"})]}),e.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:t.institutionName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Total Students:"})]}),e.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:t.sportTeams?t.sportTeams.reduce((w,b)=>w+b.students.length,0):((P=t.students)==null?void 0:P.length)||0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Selected Sports:"})]}),e.jsx("div",{className:"pl-6",children:t.sportTeams?t.sportTeams.map((w,b)=>e.jsxs("p",{className:"text-sm text-muted-foreground",children:[w.sport," - ",w.subCategory||w.category," (",w.students.length," students)"]},b)):e.jsx("p",{className:"text-sm text-muted-foreground",children:"No sports selected"})})]})]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(MP,{className:"h-5 w-5"}),"Fee Breakdown"]})}),e.jsx(se,{className:"space-y-4",children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculating fees..."})]})}):m?e.jsxs("div",{className:"space-y-3",children:[((R=m.breakdown)==null?void 0:R.sports_fees)&&m.breakdown.sports_fees.length>0&&e.jsx("div",{className:"space-y-2",children:m.breakdown.sports_fees.map((w,b)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:[w.sport_name," (",w.type,"):"]}),e.jsxs("span",{className:"font-medium",children:["",(w.fee||0).toLocaleString()]})]},b))}),((g=m.breakdown)==null?void 0:g.parent_fee)>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Parent Pass Fee:"}),e.jsxs("span",{className:"font-medium",children:["",(m.breakdown.parent_fee||0).toLocaleString()]})]}),e.jsx(gr,{}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"text-primary",children:["",u.totalFee.toLocaleString()]})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:["Sports Registration Fee (",((A=t.sportTeams)==null?void 0:A.length)||0,"  ",Wg,"):"]}),e.jsxs("span",{className:"font-medium",children:["",u.sportsFee.toLocaleString()]})]}),e.jsx(gr,{}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"text-primary",children:["",u.totalFee.toLocaleString()]})]})]})})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"h-5 w-5"}),"Payment Options"]})}),e.jsx(se,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(F,{variant:i==="payNow"?"default":"outline",onClick:()=>o("payNow"),className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(Jt,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Pay Now"}),e.jsx("span",{className:"text-xs opacity-80",children:"Direct payment gateway"})]}),e.jsxs(F,{variant:i==="sponsor"?"default":"outline",onClick:()=>o("sponsor"),className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(ci,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Get Sponsor"}),e.jsx("span",{className:"text-xs opacity-80",children:"Request sponsorship"})]}),e.jsxs(F,{variant:i==="payByStudent"?"default":"outline",onClick:()=>o("payByStudent"),className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(Qt,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Pay by Student"}),e.jsx("span",{className:"text-xs opacity-80",children:"Email students payment links"})]})]})})]}),i==="sponsor"&&C(),i==="payByStudent"&&e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5"}),"Email Payment Instructions"]})}),e.jsxs(se,{children:[e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[e.jsxs("p",{className:"font-medium",children:["Payment emails will be sent to all ",t.sportTeams?t.sportTeams.reduce((w,b)=>w+b.students.length,0):((_=t.students)==null?void 0:_.length)||0," registered students."]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Each email will include: Student details, fee breakdown, and secure payment link."})]}),e.jsx(F,{onClick:N,disabled:y,className:"w-full mt-4",children:y?"Sending Emails...":"Send Payment Instructions"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(F,{variant:"outline",onClick:n,disabled:r||y,children:"Back"}),i==="payNow"&&e.jsx(F,{onClick:v,disabled:y,className:"min-w-[140px]",children:y?"Processing...":"Proceed to Payment"})]})]})},lm=[{id:1,title:"Institution Details",description:"Basic information and contact details",icon:la},{id:3,title:"Add Students",description:"Add students and select sports",icon:Ve},{id:4,title:"Payment",description:"Review and complete payment",icon:kt}],Kg=({currentStep:t,completedSteps:s,showOnMobile:n=!1})=>e.jsx("div",{className:(n?"block":"hidden md:block")+" w-80 bg-muted/50 border-r p-6 overflow-y-auto md:sticky md:top-0 md:self-start md:max-h-screen",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Institution Registration"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Complete all steps to register your institution"})]}),e.jsx("div",{className:"space-y-4",children:lm.map((r,a)=>{const i=s.includes(r.id),o=t===r.id,l=r.id<=t||i;return e.jsx(te,{className:de("transition-all duration-200",o&&"ring-2 ring-primary border-primary",i&&"bg-primary/5 border-primary/20",!l&&"opacity-50"),children:e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:de("flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors",o&&"bg-primary text-primary-foreground border-primary",i&&"bg-primary text-primary-foreground border-primary",!o&&!i&&"border-muted-foreground/30"),children:i?e.jsx(it,{className:"w-4 h-4"}):e.jsx(r.icon,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-sm",children:r.title}),i&&e.jsx(he,{variant:"secondary",className:"text-xs",children:"Complete"}),o&&e.jsx(he,{className:"text-xs",children:"Current"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.description})]})]})})},r.id)})}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Progress:"}),e.jsxs("span",{children:[s.length,"/",lm.length," steps"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${s.length/lm.length*100}%`}})})]})})]})}),Jg=()=>{var R,g,A,_;const t=wt(),{toast:s}=_e(),[n,r]=c.useState(()=>{const w=localStorage.getItem("institution_registration_step"),b=localStorage.getItem("institution_registration_email");if(b&&w){if(w==="userType"||w==="email")return w;{const I=parseInt(w);if(I===1||I===3||I===4)return I}}else if(b)return"email";return"userType"}),[a,i]=c.useState(()=>{const w=localStorage.getItem("institution_registration_completed_steps");return w?JSON.parse(w):[]}),[o,l]=c.useState(()=>{const w=localStorage.getItem("institution_registration_data");return w?JSON.parse(w):{userType:"institution",email:"",password:"",institutionDetails:null,students:null,payment:null}}),[d,u]=c.useState(!1),[h,m]=c.useState(()=>{const w=localStorage.getItem("institution_registration_verification_status");return w?JSON.parse(w):{institutionEmailVerified:!1,contactPersonEmailVerified:!1}});c.useEffect(()=>{(async()=>{if(o.email&&!d){console.log(" Loading checkpoint from server for:",o.email),u(!0);try{const b=await Z.loadRegistrationCheckpoint(o.email);if(b.data&&typeof b.data=="object"&&"success"in b.data){const I=b.data;if(I.success){const k=I.data;if(console.log(" Checkpoint loaded:",k),k.step>0){let O=k.step;(k.step===4||k.step===3)&&(O=3),r(O),i(k.completed_steps||[]),l(U=>({...U,...k.data})),s({title:"Progress Restored! ",description:`Welcome back! We've restored your progress from step ${O}.`})}}}}catch(b){console.error(" Failed to load checkpoint:",b)}finally{u(!1)}}})()},[o.email,s]);const p=async(w,b)=>{if(o.email&&w>0)try{console.log(" Saving checkpoint to server for step:",w);const I={...o,[w===1?"institutionDetails":w===3?"students":w===4?"payment":"data"]:b};await Z.saveRegistrationCheckpoint(o.email,w,I),console.log(" Checkpoint saved successfully"),s({title:"Progress Saved ",description:`Your progress for step ${w} has been saved successfully.`})}catch(I){console.error(" Failed to save checkpoint:",I)}},[x,S]=c.useState(!1);c.useEffect(()=>{localStorage.setItem("institution_registration_step",n.toString())},[n]),c.useEffect(()=>{const w=a.filter(b=>b!==2);localStorage.setItem("institution_registration_completed_steps",JSON.stringify(w))},[a]),c.useEffect(()=>{localStorage.setItem("institution_registration_data",JSON.stringify(o))},[o]),c.useEffect(()=>{o.email&&localStorage.setItem("institution_registration_email",o.email)},[o.email]),c.useEffect(()=>{localStorage.setItem("institution_registration_verification_status",JSON.stringify(h))},[h]),c.useEffect(()=>{(async()=>{var b;if(console.log("loadProgress triggered with email:",o.email),o.email&&!x){S(!0);try{const I=await Z.getInstitutionRegistrationProgress(o.email);if(console.log("Progress response:",I),I.data&&typeof I.data=="object"&&"success"in I.data&&I.data.success){const k=I.data.data;if(console.log("Loading progress data:",k),k){if(k.current_phase>0){const U=k.current_phase;U===1?r(1):U===2||U===3?r(3):U===4&&r(4)}if(k.completed_phases&&Array.isArray(k.completed_phases)){const U=k.completed_phases.map(V=>V===1||V===2?1:V===3?3:V===4?4:V).filter((V,B,H)=>H.indexOf(V)===B);i(U)}let O=null;k.institution_details&&(k.institution_details.institutionDetails?O=k.institution_details.institutionDetails:O=k.institution_details),l(U=>({...U,institutionDetails:O,students:k.students||null,payment:k.payment_info||null,instituteId:k.institute_id||null})),console.log(" Debug - Loaded students data:",k.students),console.log(" Debug - Loaded sportTeams:",(b=k.students)==null?void 0:b.sportTeams),console.log(" Registration progress loaded successfully")}else{console.log(" No progress data found, using localStorage data");const O=localStorage.getItem("institution_registration_step");localStorage.getItem("institution_registration_email")===o.email&&O?console.log("Using saved step from localStorage:",O):console.log("No saved data found, starting from step 1")}}}catch(I){console.error(" Error loading registration progress:",I);const k=localStorage.getItem("institution_registration_step");localStorage.getItem("institution_registration_email")===o.email&&k&&console.log("Using saved step from localStorage after error:",k)}finally{S(!1)}}})()},[o.email]);const y=async(w,b)=>{if(o.email)try{const I={email:o.email,current_phase:b,completed_phases:a,institution_details:b===1?w:o.institutionDetails,sports_subcategories:null,students:b===3?w:o.students,payment_info:b===4?w:o.payment};await Z.saveInstitutionRegistrationProgress(I),console.log(" Registration progress saved successfully for step:",b)}catch(I){console.error(" Error saving registration progress:",I)}},j=w=>{if(w==="student"){t("/register");return}l(b=>({...b,userType:w})),r("email")},v=w=>{l(b=>({...b,email:w})),r(1),s({title:"Email Verified Successfully",description:"Please complete your institution details."})},f=async(w,b)=>{var O,U;const I=w===1?"institutionDetails":w===3?"students":w===4?"payment":null;I&&l(V=>({...V,[I]:b,...w===1&&{institutionDetails:{...b,institutionEmail:b.institutionEmail||V.email}}})),a.includes(w)||i(V=>[...V,w]),await y(b,w);const k={...o,[I]:b};if(await p(w,k),w===1)r(3);else if(w===3)r(4);else if(w===4)try{const V=o.institutionDetails||{},B={name:V.institutionName||V.customInstitutionName||"Institution",email:o.email,type_id:1,contactPersonName:V.contactPersonName,contactPersonEmail:V.contactPersonEmail,contactPersonPhone:V.contactPersonPhone,contactPersonDesignation:V.contactPersonDesignation,phone:V.phoneNumber||V.phone,website:V.website,principalName:V.principalName,principalPhone:V.principalContact||V.principalPhone},H=await Z.createInstitute(B),q=((O=H==null?void 0:H.data)==null?void 0:O.success)===!0;s(q?{title:"Institution saved",description:"Registration details have been stored successfully."}:{title:"Save failed",description:((U=H==null?void 0:H.data)==null?void 0:U.message)||"Could not store institution in database.",variant:"destructive"})}catch(V){console.error("Finalize institution failed",V),s({title:"Save failed",description:"Unexpected error while saving institution.",variant:"destructive"})}},N=w=>{w===1?r("email"):w===3?r(1):w===4&&r(3)},C=()=>{r("userType")},P=async w=>{var b,I,k,O,U,V,B,H,q,re,Q,ie,ue,L,ee,ne,$,T,G,X,Y,z,W;try{const ae={...o,payment:w},Pe={name:((b=ae.institutionDetails)==null?void 0:b.institutionName)||((I=ae.institutionDetails)==null?void 0:I.customInstitutionName),email:ae.email,type:(k=ae.institutionDetails)==null?void 0:k.institutionType,contactPersonName:(O=ae.institutionDetails)==null?void 0:O.contactPersonName,contactPersonEmail:(U=ae.institutionDetails)==null?void 0:U.contactPersonEmail,contactPersonPhone:(V=ae.institutionDetails)==null?void 0:V.contactPersonPhone,contactPersonDesignation:(B=ae.institutionDetails)==null?void 0:B.contactPersonDesignation,phone:(H=ae.institutionDetails)==null?void 0:H.phone,website:(q=ae.institutionDetails)==null?void 0:q.website,principalName:(re=ae.institutionDetails)==null?void 0:re.principalName,principalPhone:(Q=ae.institutionDetails)==null?void 0:Q.principalPhone,streetAddress:(ie=ae.institutionDetails)==null?void 0:ie.streetAddress,city:(ue=ae.institutionDetails)==null?void 0:ue.city,state:(L=ae.institutionDetails)==null?void 0:L.state,country:(ee=ae.institutionDetails)==null?void 0:ee.country,postalCode:(ne=ae.institutionDetails)==null?void 0:ne.postalCode,description:($=ae.institutionDetails)==null?void 0:$.description,vision:(T=ae.institutionDetails)==null?void 0:T.vision,mission:(G=ae.institutionDetails)==null?void 0:G.mission,students:(X=ae.students)!=null&&X.sportTeams?ae.students.sportTeams.flatMap(M=>M.students.map(J=>({fname:J.fname,mname:J.mname,lname:J.lname,student_id:J.student_id,email:J.email,dob:J.dob,gender:J.gender,phone:J.phone,address:J.address||"",sport:M.sport,sportType:M.sportType,category:M.category,subCategory:M.subCategory,ageFrom:M.ageFrom,ageTo:M.ageTo}))):[],payment:ae.payment};console.log(" Debug - Creating institute with data:",Pe),console.log(" Debug - Students data being sent:",Pe.students);const Ae=await Z.createInstitute(Pe);let qe=null,gt=!1;if(Ae.data&&typeof Ae.data=="object"&&"success"in Ae.data&&Ae.data.success)qe=(Y=Ae.data.data)==null?void 0:Y.id;else{const M=Ae.data;if((M==null?void 0:M.error_code)==="EMAIL_EXISTS")try{const J=await Z.getInstituteByEmail(ae.email);(z=J.data)!=null&&z.success&&(qe=(W=J.data.data)==null?void 0:W.id,gt=!0,console.log("Using existing institute ID:",qe))}catch(J){console.error("Failed to get existing institute:",J)}if(!qe)throw new Error((M==null?void 0:M.message)||"Registration failed")}if(qe)s({title:gt?"Registration Completed! ":"Institution Registration Complete! ",description:`Your Institution ID is: ${qe}`});else if(Ae.data&&typeof Ae.data=="object"&&"error_code"in Ae.data&&Ae.data.error_code==="EMAIL_EXISTS")s({title:"Institution Registration Complete! ",description:"Your institution is already registered and up to date."});else{const M=Ae.data;throw new Error((M==null?void 0:M.message)||"Registration failed")}localStorage.removeItem("institution_registration_step"),localStorage.removeItem("institution_registration_completed_steps"),localStorage.removeItem("institution_registration_data"),localStorage.removeItem("institution_registration_email"),localStorage.removeItem("institution_registration_verification_status");try{await Z.clearRegistrationCheckpoint(ae.email),console.log(" Checkpoint cleared from server")}catch(M){console.error(" Failed to clear checkpoint:",M)}t("/institution")}catch(ae){console.error("Registration error:",ae),s({title:"Registration Failed",description:ae instanceof Error?ae.message:"An error occurred during registration. Please try again.",variant:"destructive"})}};return n==="userType"?e.jsx(RS,{onTypeSelect:j}):n==="email"?e.jsx(_S,{onComplete:v,onBack:C,userType:"institution",purpose:"registration"}):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:hidden sticky top-0 z-30 bg-background/80 backdrop-blur border-b",children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Institution Registration"}),e.jsxs(qd,{children:[e.jsx(XS,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Mp,{className:"h-4 w-4"})," Steps"]})}),e.jsx(al,{side:"left",className:"p-0 w-80 max-w-[85vw]",children:e.jsx(Kg,{showOnMobile:!0,currentStep:n,completedSteps:a})})]})]})}),e.jsx(Kg,{currentStep:n,completedSteps:a}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[n===1&&e.jsx(BO,{initialData:{institutionEmail:o.email,...o.institutionDetails||{}},verificationStatus:h,onComplete:w=>f(1,w),onVerificationChange:m,onBack:()=>N(1)}),n===3&&e.jsx(VO,{initialData:{students:((R=o.students)==null?void 0:R.students)||[],sportTeams:((g=o.students)==null?void 0:g.sportTeams)||[]},onComplete:w=>f(3,w),onBack:()=>N(3)}),n===4&&e.jsx(qO,{institutionData:{...o.institutionDetails,students:((A=o.students)==null?void 0:A.students)||[],sportTeams:((_=o.students)==null?void 0:_.sportTeams)||[],instituteId:o.instituteId},onComplete:P,onBack:()=>N(4),loading:!1})]})})]})},GO=({data:t,filename:s,variant:n="outline",size:r="default"})=>{const a=i=>{const o=JSON.stringify(t,null,2),l=new Blob([o],{type:"application/json"}),d=URL.createObjectURL(l),u=document.createElement("a");u.href=d,u.download=`${s}.${i}`,u.click(),URL.revokeObjectURL(d)};return e.jsxs(lu,{children:[e.jsx(cu,{asChild:!0,children:e.jsxs(F,{variant:n,size:r,children:[e.jsx(va,{className:"h-4 w-4 mr-2"}),"Export Data"]})}),e.jsxs(ul,{align:"end",className:"bg-background border border-border shadow-lg",children:[e.jsxs(xs,{onClick:()=>a("csv"),className:"hover:bg-muted cursor-pointer",children:[e.jsx(BP,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),e.jsxs(xs,{onClick:()=>a("excel"),className:"hover:bg-muted cursor-pointer",children:[e.jsx(UP,{className:"h-4 w-4 mr-2"}),"Export as Excel"]}),e.jsxs(xs,{onClick:()=>a("pdf"),className:"hover:bg-muted cursor-pointer",children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Export as PDF"]})]})]})},HO=()=>{const{toast:t}=_e(),[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState(null),[l,d]=c.useState(!1),[u,h]=c.useState([]),[m,p]=c.useState(!0),[x,S]=c.useState({totalStudents:0,paidStudents:0,unpaidStudents:0,totalAmount:0,paidAmount:0,pendingAmount:0}),y=async()=>{try{console.log(" Fetching students with params:",{searchTerm:s,filterStatus:r});const N=await Z.getInstitutionStudents({search:s||void 0,payment_status:r!=="all"?r:void 0});console.log(" Raw API response:",N);let C=[];if(N.data&&typeof N.data=="object"&&"success"in N.data){const b=N.data;console.log(" Parsed response data:",b),b.success&&b.data?(C=b.data.students||[],console.log(" Students data:",C),h(C)):(console.log(" No success or data in response"),h([]))}else C=Array.isArray(N.data)?N.data:[],console.log(" Fallback students data:",C),h(C);const P=C.length,R=C.filter(b=>b.payment_status==="Paid").length,g=P-R,A=C.reduce((b,I)=>b+(I.total_amount||0),0),_=C.filter(b=>b.payment_status==="Paid").reduce((b,I)=>b+(I.paid_amount||0),0),w=A-_;console.log(" Calculated stats:",{totalStudents:P,paidStudents:R,unpaidStudents:g,totalAmount:A,paidAmount:_,pendingAmount:w}),S({totalStudents:P,paidStudents:R,unpaidStudents:g,totalAmount:A,paidAmount:_,pendingAmount:w})}catch(N){console.error("Error fetching students:",N),t({title:"Error",description:"Failed to fetch students data",variant:"destructive"})}finally{p(!1)}};c.useEffect(()=>{y()},[s,r]);const j=u.filter(N=>{var g,A;const C=`${N.fname||""} ${N.mname||""} ${N.lname||""}`.trim(),P=!s||C.toLowerCase().includes(s.toLowerCase())||((g=N.student_id)==null?void 0:g.toLowerCase().includes(s.toLowerCase())),R=r==="all"||((A=N.payment_status)==null?void 0:A.toLowerCase())===r.toLowerCase();return P&&R}),v=N=>{o(N),d(!0)},f=N=>{switch(N){case"Paid":return"bg-green-100 text-green-800";case"Unpaid":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading students data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Institution Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your students and track their registrations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Students"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:x.totalStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Paid Students"}),e.jsx(it,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.paidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed payments"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Unpaid Students"}),e.jsx(Bn,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:x.unpaidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending payments"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(Jt,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",x.totalAmount]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All registrations"})]})]})]}),e.jsx(te,{className:"shadow-soft",children:e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search by student name or ID...",value:s,onChange:N=>n(N.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(Ne,{value:r,onValueChange:a,children:[e.jsxs(ye,{className:"w-full sm:w-[180px]",children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),e.jsx(Se,{placeholder:"Filter by Status"})]}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Status"}),e.jsx(K,{value:"Paid",children:"Paid"}),e.jsx(K,{value:"Unpaid",children:"Unpaid"}),e.jsx(K,{value:"Pending",children:"Pending"})]})]}),e.jsx(GO,{data:j,filename:"students_list",variant:"outline",size:"default"})]})]})})}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Students List"}),e.jsx(Re,{children:"Manage and track your students' registrations"})]}),e.jsx(se,{children:j.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"?"Try adjusting your search or filter criteria.":"No students have been registered yet."})]}):e.jsx("div",{className:"space-y-4",children:j.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ve,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium",children:`${N.fname||""} ${N.mname||""} ${N.lname||""}`.trim()}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",N.student_id,"  ",N.email]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:f(N.payment_status||"Unpaid"),children:N.payment_status||"Unpaid"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["",N.total_amount||0]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>v(N),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"View"]})})]},N.id))})})]}),e.jsx(Xe,{open:l,onOpenChange:d,children:e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Student Details"}),e.jsxs(xt,{children:["View detailed information about ",i==null?void 0:i.full_name]})]}),i&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",i.full_name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student ID:"})," ",i.student_id]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",i.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",i.gender||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Registration Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(he,{className:`ml-2 ${f(i.payment_status||"Unpaid")}`,children:i.payment_status||"Unpaid"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",i.total_amount||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",i.paid_amount||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Pending Amount:"})," ",(i.total_amount||0)-(i.paid_amount||0)]})]})]})]})})]})})]})},YO=()=>{const{toast:t}=_e(),[s,n]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),[u,h]=c.useState(null),[m,p]=c.useState({firstName:"",middleName:"",lastName:"",email:"",dateOfBirth:"",gender:"",studentId:"",phoneNumber:"",address:""}),[x,S]=c.useState([]),[y,j]=c.useState(!0),[v,f]=c.useState({firstName:"",middleName:"",lastName:"",email:"",dateOfBirth:"",gender:"",studentId:"",phoneNumber:"",address:""}),[N,C]=c.useState({});c.useEffect(()=>{P(),R()},[s,r]);const P=async()=>{try{j(!0),console.log(" Fetching students..."),console.log("Auth token:",localStorage.getItem("authToken"));const b=await Z.getInstitutionStudents({search:s||void 0});if(console.log(" API Response:",b),b.data&&typeof b.data=="object"&&"success"in b.data){const I=b.data;if(I.success&&I.data){const k=I.data.students||[];console.log(" Students found:",k),S(k)}else console.log(" No students in response"),S([])}else console.log(" No students in response"),console.log("Response structure:",b),S([])}catch(b){console.error(" Error fetching students:",b),t({title:"Error",description:"Failed to fetch students data. Please try logging in again.",variant:"destructive"}),S([])}finally{j(!1)}},R=async()=>{try{console.log(" CACHE BUST VERSION 2.0 - fetchSportsOptions called at:",new Date().toISOString());const b=localStorage.getItem("authToken");console.log(" V2.0: Auth token check:",b?"Token found":"No token found"),console.log(" V2.0: Auth token value:",b);let I;if(b&&b.trim()!==""?(console.log(" V2.0: Using authenticated endpoint: getAvailableSports"),I=await Z.getAvailableSports()):(console.log(" V2.0: No auth token found, using public sports API for InstitutionStudentManagement"),I=await Z.getSportsPublic()),I.data&&typeof I.data=="object"&&"success"in I.data){const k=I.data;if(k.success&&k.data){const O=k.data||[],U={};O.forEach(V=>{var H;const B=[];(H=V.categories)==null||H.forEach(q=>{var re;(re=q.subCategories)==null||re.forEach(Q=>{B.push(Q.name)})}),U[V.name]=B}),C(U)}}}catch(b){console.error("Error fetching sports options:",b)}},g=async b=>{b.preventDefault();try{j(!0);const I={fname:v.firstName,mname:v.middleName,lname:v.lastName,email:v.email,dob:v.dateOfBirth,gender:v.gender,student_id:v.studentId,phone:v.phoneNumber,address:v.address,institute_id:null};console.log(" Creating student with data:",I);const k=await Z.createInstitutionStudent(I);if(console.log(" Student creation response:",k),k.data)t({title:"Student Added Successfully",description:`${v.firstName} ${v.lastName} has been added to the system.`}),f({firstName:"",middleName:"",lastName:"",email:"",dateOfBirth:"",gender:"",studentId:"",phoneNumber:"",address:""}),o(!1),P();else throw new Error(k.message||"Failed to create student")}catch(I){console.error(" Error creating student:",I),t({title:"Error",description:I.message||"Failed to add student. Please try again.",variant:"destructive"})}finally{j(!1)}},A=b=>{h(b),p({firstName:b.fname||"",middleName:b.mname||"",lastName:b.lname||"",email:b.email||"",dateOfBirth:b.dob||"",gender:b.gender||"",studentId:b.student_id||"",phoneNumber:b.phone||"",address:b.address||""}),d(!0)},_=async()=>{var b;if(u)try{j(!0);const I={fname:m.firstName,mname:m.middleName,lname:m.lastName,email:m.email,dob:m.dateOfBirth,gender:m.gender,student_id:m.studentId,phone:m.phoneNumber,address:m.address};console.log(" Updating student with data:",I);const k=await Z.updateInstitutionStudent(u.id,I);if(console.log(" Student update response:",k),k.data&&k.data.success)t({title:"Student Updated Successfully",description:`${m.firstName} ${m.lastName} has been updated.`}),d(!1),P();else throw new Error(((b=k.data)==null?void 0:b.message)||"Failed to update student")}catch(I){console.error(" Error updating student:",I),t({title:"Update Failed",description:I.message||"Failed to update student. Please try again.",variant:"destructive"})}finally{j(!1)}},w=x.filter(b=>{var U,V;return(`${b.fname||""} ${b.lname||""}`.toLowerCase().includes(s.toLowerCase())||((U=b.student_id)==null?void 0:U.toLowerCase().includes(s.toLowerCase()))||((V=b.email)==null?void 0:V.toLowerCase().includes(s.toLowerCase())))&&(r==="all"||r==="")});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Student Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Add and manage student registrations"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(F,{variant:"outline",onClick:P,children:"Refresh"}),e.jsxs(Xe,{open:i,onOpenChange:o,children:[e.jsx(vr,{asChild:!0,children:e.jsxs(F,{className:"bg-gradient-primary",children:[e.jsx(eN,{className:"h-4 w-4 mr-2"}),"Add Student"]})}),e.jsxs(Ke,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add New Student"}),e.jsx(xt,{children:"Enter student details for sports registration"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"firstName",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"firstName",placeholder:"Enter first name",value:v.firstName,onChange:b=>f(I=>({...I,firstName:b.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"middleName",children:["Middle Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"middleName",placeholder:"Enter middle name",value:v.middleName,onChange:b=>f(I=>({...I,middleName:b.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"lastName",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"lastName",placeholder:"Enter last name",value:v.lastName,onChange:b=>f(I=>({...I,lastName:b.target.value})),className:"pl-10",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:v.gender,onValueChange:b=>f(I=>({...I,gender:b})),required:!0,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"dob",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"dob",type:"date",value:v.dateOfBirth,onChange:b=>f(I=>({...I,dateOfBirth:b.target.value})),className:"pl-10",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"Enter email address",value:v.email,onChange:b=>f(I=>({...I,email:b.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"studentId",children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"studentId",placeholder:"Enter student ID",value:v.studentId,onChange:b=>f(I=>({...I,studentId:b.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"phoneNumber",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(_r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"phoneNumber",type:"tel",placeholder:"Enter phone number",value:v.phoneNumber,onChange:b=>f(I=>({...I,phoneNumber:b.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"address",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(mn,{className:"absolute left-3 top-3 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"address",placeholder:"Enter address",value:v.address,onChange:b=>f(I=>({...I,address:b.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(F,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(F,{type:"submit",className:"bg-gradient-primary",children:"Add Student"})]})]})]})]})]})]}),e.jsx(te,{className:"shadow-soft",children:e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search students...",value:s,onChange:b=>n(b.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(Ne,{value:r,onValueChange:a,children:[e.jsxs(ye,{className:"w-full sm:w-[180px]",children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),e.jsx(Se,{placeholder:"Filter by Sport"})]}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Sports"}),e.jsx(K,{value:"football",children:"Football"}),e.jsx(K,{value:"basketball",children:"Basketball"}),e.jsx(K,{value:"tennis",children:"Tennis"}),e.jsx(K,{value:"swimming",children:"Swimming"})]})]}),e.jsxs(F,{variant:"outline",className:"w-full sm:w-auto",children:[e.jsx(va,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})}),e.jsxs(te,{className:"shadow-medium",children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Student List"}),e.jsxs(Re,{children:[w.length," students found"]})]}),e.jsx(se,{className:"overflow-x-auto",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{className:"min-w-[200px]",children:"Student"}),e.jsx(xe,{className:"min-w-[200px] hidden sm:table-cell",children:"Contact"}),e.jsx(xe,{className:"min-w-[150px]",children:"Sports"}),e.jsx(xe,{className:"min-w-[100px]",children:"Status"}),e.jsx(xe,{className:"min-w-[100px]",children:"Actions"})]})}),e.jsx(cs,{children:y?e.jsx(Be,{children:e.jsx(me,{colSpan:5,className:"text-center py-8",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),e.jsx("span",{className:"ml-2",children:"Loading students..."})]})})}):w.length===0?e.jsx(Be,{children:e.jsx(me,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No students found"})}):w.map(b=>{const I=`${b.fname||""} ${b.lname||""}`.trim(),k=b.dob?new Date().getFullYear()-new Date(b.dob).getFullYear():"N/A";return e.jsxs(Be,{children:[e.jsx(me,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base",children:I||"N/A"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[k," years  ",b.gender||"N/A","  ",b.student_id||"N/A"]}),e.jsxs("div",{className:"sm:hidden mt-1",children:[e.jsx("p",{className:"text-xs",children:b.email||"N/A"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:b.phone||"N/A"})]})]})}),e.jsx(me,{className:"hidden sm:table-cell",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm truncate max-w-[150px]",children:b.email||"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:b.phone||"N/A"})]})}),e.jsx(me,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:e.jsx(he,{variant:"secondary",className:"text-xs",children:"Registered"})})}),e.jsx(me,{children:e.jsx(he,{variant:b.is_verified?"default":"secondary",className:"text-xs",children:b.is_verified?"Active":"Pending"})}),e.jsx(me,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(F,{variant:"ghost",size:"sm",title:"Edit Student",onClick:()=>A(b),children:e.jsx(Kt,{className:"h-4 w-4"})}),e.jsx(F,{variant:"ghost",size:"sm",title:"Delete Student",className:"text-destructive hover:text-destructive",children:e.jsx(Rt,{className:"h-4 w-4"})})]})})]},b.id)})})]})})]}),e.jsx(Xe,{open:i,onOpenChange:o,children:e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add New Student"}),e.jsx(xt,{children:"Add a new student to your institution"})]}),u?e.jsxs("form",{onSubmit:b=>{b.preventDefault(),_()},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.firstName,onChange:b=>p(I=>({...I,firstName:b.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Middle Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.middleName,onChange:b=>p(I=>({...I,middleName:b.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.lastName,onChange:b=>p(I=>({...I,lastName:b.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{type:"email",value:m.email,onChange:b=>p(I=>({...I,email:b.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.studentId,onChange:b=>p(I=>({...I,studentId:b.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.phoneNumber,onChange:b=>p(I=>({...I,phoneNumber:b.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.address,onChange:b=>p(I=>({...I,address:b.target.value})),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{type:"date",value:m.dateOfBirth,onChange:b=>p(I=>({...I,dateOfBirth:b.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:m.gender,onValueChange:b=>p(I=>({...I,gender:b})),required:!0,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(F,{type:"submit",className:"bg-gradient-primary",disabled:y,children:y?"Saving...":"Save Changes"})]})]}):e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"firstName",children:"First Name *"}),e.jsx(D,{id:"firstName",value:v.firstName,onChange:b=>f({...v,firstName:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"middleName",children:"Middle Name"}),e.jsx(D,{id:"middleName",value:v.middleName,onChange:b=>f({...v,middleName:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(D,{id:"lastName",value:v.lastName,onChange:b=>f({...v,lastName:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"studentId",children:"Student ID *"}),e.jsx(D,{id:"studentId",value:v.studentId,onChange:b=>f({...v,studentId:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Email *"}),e.jsx(D,{id:"email",type:"email",value:v.email,onChange:b=>f({...v,email:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"phoneNumber",children:"Phone"}),e.jsx(D,{id:"phoneNumber",value:v.phoneNumber,onChange:b=>f({...v,phoneNumber:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsx(D,{id:"dateOfBirth",type:"date",value:v.dateOfBirth,onChange:b=>f({...v,dateOfBirth:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"gender",children:"Gender"}),e.jsxs(Ne,{value:v.gender,onValueChange:b=>f({...v,gender:b}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(F,{type:"submit",disabled:y,children:y?"Adding...":"Add Student"})]})]})]})}),e.jsx(Xe,{open:l,onOpenChange:d,children:e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Edit Student"}),e.jsx(xt,{children:"Update student information"})]}),u&&e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-fname",children:"First Name *"}),e.jsx(D,{id:"edit-fname",value:u.fname,onChange:b=>h({...u,fname:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-mname",children:"Middle Name"}),e.jsx(D,{id:"edit-mname",value:u.mname,onChange:b=>h({...u,mname:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-lname",children:"Last Name *"}),e.jsx(D,{id:"edit-lname",value:u.lname,onChange:b=>h({...u,lname:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-student_id",children:"Student ID *"}),e.jsx(D,{id:"edit-student_id",value:u.student_id,onChange:b=>h({...u,student_id:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-email",children:"Email *"}),e.jsx(D,{id:"edit-email",type:"email",value:u.email,onChange:b=>h({...u,email:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-phone",children:"Phone"}),e.jsx(D,{id:"edit-phone",value:u.phone,onChange:b=>h({...u,phone:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-dob",children:"Date of Birth"}),e.jsx(D,{id:"edit-dob",type:"date",value:u.dob,onChange:b=>h({...u,dob:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"edit-gender",children:"Gender"}),e.jsxs(Ne,{value:u.gender,onValueChange:b=>h({...u,gender:b}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(F,{type:"submit",disabled:y,children:y?"Saving...":"Save Changes"})]})]})]})})]})},WO=({selectedSport:t,onClose:s,onSave:n})=>{const{toast:r}=_e(),[a,i]=c.useState(!1),[o,l]=c.useState([]),[d,u]=c.useState([]),[h,m]=c.useState([]),[p,x]=c.useState([]),[S,y]=c.useState(""),[j,v]=c.useState(null),[f,N]=c.useState(""),[C,P]=c.useState(""),[R,g]=c.useState(""),[A,_]=c.useState(""),[w,b]=c.useState("Open"),[I,k]=c.useState([]),[O,U]=c.useState([]),[V,B]=c.useState([]),[H]=c.useState(["Under 12","12-14","15-17","18-20","21-23","24-26","27-29","30-35","36-40","41-45","46-50","51+"]),q=()=>{if(!j)return H;const T=oc(j.dob);return SO(T,!0).map(X=>X.label)},re=["Open","Male","Female"];c.useEffect(()=>{Q(),ie()},[]),c.useEffect(()=>{t&&N(t.id)},[t]),c.useEffect(()=>{const T=d.filter(G=>G.fullName.toLowerCase().includes(S.toLowerCase())||G.studentId.toLowerCase().includes(S.toLowerCase()));x(T)},[d,S]),c.useEffect(()=>{if(f){const T=h.find(G=>G.id===f);T&&(U(T.categories),P(""),g(""))}},[f,h]),c.useEffect(()=>{if(C){const T=O.find(G=>G.id===C);T&&(B(T.subCategories),g(""))}},[C,O]);const Q=async()=>{try{i(!0);const T=await Z.getInstitutionStudents();if(T.data&&T.data.data&&T.data.data.students){const G=T.data.data.students.map(X=>{var Y;return{id:X.id.toString(),studentId:X.student_id||"",firstName:X.fname||"",lastName:X.lname||"",fullName:`${X.fname||""} ${X.lname||""}`.trim(),age:X.dob?oc(X.dob):18,gender:X.gender||"Other",institutionId:((Y=X.institute_id)==null?void 0:Y.toString())||"",dob:X.dob||""}});u(G)}else u([])}catch(T){console.error("Error fetching students:",T),r({title:"Error",description:"Failed to fetch students",variant:"destructive"}),u([])}finally{i(!1)}},ie=async()=>{try{const T=localStorage.getItem("authToken");console.log(" AddStudentToSportDialog: Auth token check:",T?"Token found":"No token found");let G;if(T&&T.trim()!==""){console.log(" AddStudentToSportDialog: Using authenticated endpoint: getInstitutionSports");try{G=await Z.getInstitutionSports(),G.data&&typeof G.data=="object"&&"detail"in G.data&&G.data.detail==="Not authenticated"&&(console.log(" AddStudentToSportDialog: Token is invalid, clearing and switching to public API"),localStorage.removeItem("authToken"),G=await Z.getSportsPublic())}catch{console.log(" AddStudentToSportDialog: Authenticated API failed, switching to public API"),G=await Z.getSportsPublic()}}else console.log(" AddStudentToSportDialog: No auth token found, using public sports API"),G=await Z.getSportsPublic();console.log(" AddStudentToSportDialog: API Response:",G);let X=[];if(G.data&&typeof G.data=="object"&&"success"in G.data){const z=G.data;z.success&&z.data&&(X=z.data.sports||z.data||[])}else X=G.data||[];console.log(" AddStudentToSportDialog: Sports data:",X.length,"sports");const Y=X.map(z=>({id:z.id,name:z.name,type:z.type,categories:z.categories||[]}));console.log(" AddStudentToSportDialog: Transformed sports:",Y.length,"sports"),m(Y)}catch(T){console.error("Error fetching sports:",T),r({title:"Error",description:"Failed to fetch sports",variant:"destructive"}),m([])}},ue=T=>{if(v(T),k([]),t&&t.categories&&t.categories.length>0){const G=t.categories[0],X=G.subCategories&&G.subCategories.length>0?G.subCategories[0]:null;if(X){const Y={sportId:t.id,sportName:t.name,categoryId:G.id,categoryName:G.name,subCategoryId:X.id,subCategoryName:X.name,ageGroup:j&&j.dob&&q()[0]||"U10",gender:"Open"};k([Y]),N(t.id),P(G.id),g(X.id),_("18-20"),b("Open")}}},L=()=>{if(!f||!C||!R||!A){r({title:"Error",description:"Please fill in all sport assignment details",variant:"destructive"});return}if(j){const W=oc(j.dob),ae=Pw(W,A,!0);if(!ae.isValid){r({title:"Age Validation Error",description:ae.message,variant:"destructive"});return}}const T=h.find(W=>W.id===f),G=O.find(W=>W.id===C),X=V.find(W=>W.id===R);if(!T||!G||!X)return;const Y={sportId:f,sportName:T.name,categoryId:C,categoryName:G.name,subCategoryId:R,subCategoryName:X.name,ageGroup:A,gender:w};if(I.some(W=>W.sportId===Y.sportId&&W.categoryId===Y.categoryId&&W.subCategoryId===Y.subCategoryId)){r({title:"Error",description:"This sport assignment already exists",variant:"destructive"});return}k([...I,Y]),t||N(""),P(""),g(""),_(""),b("Open")},ee=T=>{k(I.filter((G,X)=>X!==T))},ne=async()=>{try{if(i(!0),l([]),!j){l(["Please select a student"]);return}if(I.length===0){l(["Please add at least one sport assignment"]);return}const T=I.map(Y=>({sportId:Y.sportId,categoryId:Y.categoryId,subCategoryId:Y.subCategoryId,ageGroup:Y.ageGroup,gender:Y.gender}));await Z.assignStudentSports(parseInt(j.id),{assignments:T});const G=I.length*500,X={status:"Unpaid",amount:0,method:"Pending",total_amount:G};await Z.processStudentPayment(parseInt(j.id),X),r({title:"Success",description:`${I.length} sport(s) assigned to ${j.fullName} successfully. Total amount: ${G}`}),n(),s()}catch(T){console.error("Error assigning sports:",T),r({title:"Error",description:"Failed to assign sports to student",variant:"destructive"})}finally{i(!1)}},$=T=>{switch(T){case"Male":return"bg-blue-100 text-blue-800";case"Female":return"bg-pink-100 text-pink-800";case"Open":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(Xe,{open:!0,onOpenChange:s,children:e.jsxs(Ke,{className:"max-w-6xl max-h-[90vh] overflow-y-auto w-[95vw] sm:w-full",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Assign Sports to Student"}),e.jsx(xt,{children:"Select sports and categories for the student. You can assign multiple sports with different age groups and categories."})]}),o.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside",children:o.map((T,G)=>e.jsx("li",{children:T},G))})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Select Student"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Search students by name or ID...",value:S,onChange:T=>y(T.target.value),className:"pl-10"})]}),e.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:a?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(He,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading students..."})]}):p.length===0?e.jsx("div",{className:"text-center p-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No students found"})}):e.jsx("div",{className:"space-y-1 p-2",children:p.map(T=>{const G=(j==null?void 0:j.id)===T.id;return e.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${G?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,onClick:()=>ue(T),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 ${G?"bg-blue-600 border-blue-600":"border-gray-300"}`,children:G&&e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-xs",children:""})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:T.fullName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",T.studentId,"  Age: ",T.age," ",e.jsx("span",{className:`ml-1 px-2 py-0.5 rounded text-xs ${$(T.gender)}`,children:T.gender})]})]})]})},T.id)})})}),j&&e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:j.fullName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",j.studentId,"  Age: ",j.age]})]})]})})]}),j&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Assign Sports"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"sport",children:["Sport ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:f,onValueChange:N,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sport"})}),e.jsx(je,{children:h.map(T=>e.jsxs(K,{value:T.id,children:[T.name," (",T.type,")"]},T.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"category",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:C,onValueChange:P,disabled:!f,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select category"})}),e.jsx(je,{children:O.map(T=>e.jsx(K,{value:T.id,children:T.name},T.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"subCategory",children:["Sub-Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:R,onValueChange:g,disabled:!C||V.length===0,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sub-category"})}),e.jsx(je,{children:V.map(T=>e.jsxs(K,{value:T.id,children:[T.name," (",T.gender,")"]},T.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"ageGroup",children:["Age Group ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:A,onValueChange:_,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select age group"})}),e.jsx(je,{children:q().map(T=>e.jsx(K,{value:T,children:T},T))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{htmlFor:"gender",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Ne,{value:w,onValueChange:b,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsx(je,{children:re.map(T=>e.jsx(K,{value:T,children:T},T))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:""}),e.jsxs(F,{onClick:L,disabled:!f||!C||!R||!A,className:"w-full",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Assignment"]})]})]}),I.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-md font-medium",children:["Current Assignments (",I.length,")"]}),e.jsx("div",{className:"space-y-2",children:I.map((T,G)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:T.sportName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[T.categoryName,"  ",T.subCategoryName,"  ",T.ageGroup]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:$(T.gender),children:T.gender}),e.jsx(F,{variant:"destructive",size:"sm",onClick:()=>ee(G),children:e.jsx(jn,{className:"h-4 w-4"})})]})]},G))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(F,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),e.jsxs(F,{onClick:ne,disabled:a||!j||I.length===0,children:[a?e.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Assign ",I.length," Sport",I.length!==1?"s":""]})]})]})})};var hu="Tabs",[KO]=Vt(hu,[Ii]),Ew=Ii(),[JO,kf]=KO(hu),Aw=c.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=t,h=Ei(l),[m,p]=vn({prop:r,onChange:a,defaultProp:i??"",caller:hu});return e.jsx(JO,{scope:n,baseId:Ws(),value:m,onValueChange:p,orientation:o,dir:h,activationMode:d,children:e.jsx(Ee.div,{dir:h,"data-orientation":o,...u,ref:s})})});Aw.displayName=hu;var Iw="TabsList",Rw=c.forwardRef((t,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=t,i=kf(Iw,n),o=Ew(n);return e.jsx(mf,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:e.jsx(Ee.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});Rw.displayName=Iw;var _w="TabsTrigger",Tw=c.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=t,o=kf(_w,n),l=Ew(n),d=Ow(o.baseId,r),u=Fw(o.baseId,r),h=r===o.value;return e.jsx(hf,{asChild:!0,...l,focusable:!a,active:h,children:e.jsx(Ee.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:s,onMouseDown:ge(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:ge(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:ge(t.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!a&&m&&o.onValueChange(r)})})})});Tw.displayName=_w;var kw="TabsContent",Mw=c.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=t,l=kf(kw,n),d=Ow(l.baseId,r),u=Fw(l.baseId,r),h=r===l.value,m=c.useRef(h);return c.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),e.jsx(Dt,{present:a||h,children:({present:p})=>e.jsx(Ee.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:u,tabIndex:0,...o,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:p&&i})})});Mw.displayName=kw;function Ow(t,s){return`${t}-trigger-${s}`}function Fw(t,s){return`${t}-content-${s}`}var QO=Aw,Dw=Rw,Lw=Tw,$w=Mw;const Mf=QO,pu=c.forwardRef(({className:t,...s},n)=>e.jsx(Dw,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));pu.displayName=Dw.displayName;const On=c.forwardRef(({className:t,...s},n)=>e.jsx(Lw,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...s}));On.displayName=Lw.displayName;const Fn=c.forwardRef(({className:t,...s},n)=>e.jsx($w,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Fn.displayName=$w.displayName;const XO=({sport:t,onClose:s,onEdit:n})=>{const[r,a]=c.useState("overview"),i=l=>{switch(l){case"Individual":return"bg-blue-100 text-blue-800";case"Team":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},o=l=>{switch(l){case"Male":return"bg-blue-100 text-blue-800";case"Female":return"bg-pink-100 text-pink-800";case"Open":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(Xe,{open:!0,onOpenChange:s,children:e.jsxs(Ke,{className:"max-w-4xl max-h-[90vh] overflow-y-auto w-[95vw] sm:w-full",children:[e.jsx(Je,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Qe,{className:"text-2xl",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(he,{className:i(t.type),children:t.type}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.totalEnrolled," students enrolled"]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(F,{onClick:n,variant:"outline",size:"sm",children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),e.jsxs(Mf,{value:r,onValueChange:a,className:"w-full",children:[e.jsxs(pu,{className:"grid w-full grid-cols-3",children:[e.jsx(On,{value:"overview",children:"Overview"}),e.jsxs(On,{value:"students",children:["Students (",t.totalEnrolled,")"]}),e.jsx(On,{value:"categories",children:"Categories"})]}),e.jsx(Fn,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sport Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("span",{className:"font-medium",children:t.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx(he,{className:i(t.type),children:t.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Enrolled:"}),e.jsx("span",{className:"font-medium",children:t.totalEnrolled})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"}),e.jsx("span",{className:"font-medium",children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Updated:"}),e.jsx("span",{className:"font-medium",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Quick Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(Ve,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalEnrolled}),e.jsx("div",{className:"text-sm text-blue-600",children:"Total Students"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(Fe,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.categories.length}),e.jsx("div",{className:"text-sm text-green-600",children:"Categories"})]})]})]})]})}),e.jsxs(Fn,{value:"students",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Enrolled Students"})}),t.enrolledStudents.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Students Enrolled"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"No students have been enrolled in this sport yet."})]}):e.jsx("div",{className:"border rounded-lg",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Student ID"}),e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Age"}),e.jsx(xe,{children:"Gender"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Sub-Category"}),e.jsx(xe,{children:"Age Group"})]})}),e.jsx(cs,{children:t.enrolledStudents.map(l=>e.jsxs(Be,{children:[e.jsx(me,{className:"font-medium",children:l.studentId}),e.jsx(me,{children:l.fullName}),e.jsx(me,{children:l.age}),e.jsx(me,{children:e.jsx(he,{className:o(l.gender),children:l.gender})}),e.jsx(me,{children:l.category}),e.jsx(me,{children:l.subCategory}),e.jsx(me,{children:l.ageGroup})]},l.id))})]})})]}),e.jsxs(Fn,{value:"categories",className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sport Categories"}),t.categories.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Fe,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Categories"}),e.jsx("p",{className:"text-muted-foreground",children:"No categories have been defined for this sport."})]}):e.jsx("div",{className:"space-y-4",children:t.categories.map(l=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold",children:l.name}),e.jsxs(he,{variant:"outline",children:[l.subCategories.length," sub-categories"]})]}),l.subCategories.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"Sub-Categories:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.subCategories.map(d=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:d.name}),e.jsx(he,{className:o(d.gender),children:d.gender}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Level ",d.level]})]},d.id))})]})]},l.id))})]})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:e.jsx(F,{variant:"outline",onClick:s,children:"Close"})})]})})},ZO=({sport:t,onClose:s,onSave:n})=>{const{toast:r}=_e(),[a,i]=c.useState(!1),[o,l]=c.useState([]),[d,u]=c.useState([]),[h,m]=c.useState(null),[p,x]=c.useState(!1),[S,y]=c.useState(null),[j,v]=c.useState(!1),[f,N]=c.useState({name:t.name,type:t.type,sportType:t.sportType}),C=async()=>{s()},P=async()=>{try{i(!0);const w=await Z.getStudentsBySport(t.id);if(console.log("API Response:",w),w.data&&w.data.success&&w.data.data&&w.data.data.students){const b=w.data.data.students;console.log("Enrolled students:",b),u(b)}else console.log("No students found or API error"),u([])}catch(w){console.error("Error fetching enrolled students:",w),r({title:"Error",description:"Failed to fetch enrolled students",variant:"destructive"}),u([])}finally{i(!1)}},R=w=>{m(w),x(!0)},g=async w=>{try{i(!0),(await Z.removeStudentFromSport(w,t.id)).data.success&&(r({title:"Success",description:"Student removed from sport successfully"}),P(),v(!1),y(null))}catch(b){console.error("Error removing student from sport:",b),r({title:"Error",description:"Failed to remove student from sport",variant:"destructive"})}finally{i(!1)}},A=async(w,b)=>{try{i(!0),(await Z.removeStudentFromCategory(w,b)).data.success&&(r({title:"Success",description:"Student removed from category successfully"}),P(),v(!1),y(null))}catch(I){console.error("Error removing student from category:",I),r({title:"Error",description:"Failed to remove student from category",variant:"destructive"})}finally{i(!1)}},_=(w,b,I)=>{y({...w,action:b,categoryId:I}),v(!0)};return c.useEffect(()=>{P()},[t.id]),e.jsxs(Xe,{open:!0,onOpenChange:s,children:[e.jsxs(Ke,{className:"max-w-4xl max-h-[90vh] overflow-y-auto w-[95vw] sm:w-full",children:[e.jsx(Je,{children:e.jsxs(Qe,{children:["Sport Information: ",t.name]})}),o.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside",children:o.map((w,b)=>e.jsx("li",{children:w},b))})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"sportName",children:"Sport Name"}),e.jsx(D,{id:"sportName",value:f.name,disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"sportType",children:"Sport Type"}),e.jsx(D,{id:"sportType",value:f.type,disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Categories Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sport categories and sub-categories are managed by the system administrator. You can only manage student assignments to these categories."}),e.jsx("div",{className:"space-y-3",children:t.categories.map(w=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("h4",{className:"text-md font-medium",children:w.name})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("h5",{className:"text-sm font-medium text-muted-foreground",children:["Sub-Categories (",w.subCategories.length,")"]})}),e.jsx("div",{className:"space-y-2",children:w.subCategories.map(b=>e.jsx("div",{className:"flex items-center p-2 bg-gray-50 rounded",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:b.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",b.gender,", Level ",b.level,")"]})]})},b.id))})]})]},w.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Enrolled Students (",d.length,")"]}),e.jsx(F,{variant:"outline",size:"sm",onClick:P,disabled:a,children:a?e.jsx(He,{className:"h-4 w-4 animate-spin"}):"Refresh"})]}),d.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No students enrolled in this sport yet."}),e.jsx("p",{className:"text-sm",children:'Use the "Add Student to Sport" button on the main page to enroll students.'}),e.jsx("p",{className:"text-xs mt-2 text-muted-foreground",children:"Note: Only students enrolled under your institution will be displayed here."})]}):e.jsx("div",{className:"border rounded-lg",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Student Name"}),e.jsx(xe,{children:"Student ID"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Sub-Category"}),e.jsx(xe,{children:"Actions"})]})}),e.jsx(cs,{children:d.map(w=>e.jsxs(Be,{children:[e.jsxs(me,{className:"font-medium",children:[w.fname," ",w.mname," ",w.lname]}),e.jsx(me,{children:w.student_id}),e.jsx(me,{children:w.email}),e.jsx(me,{children:e.jsx("div",{className:"space-y-1",children:w.sportAssignments&&w.sportAssignments.length>0?w.sportAssignments.map((b,I)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{variant:"secondary",children:b.categoryName||"Unknown Category"}),e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>_(w,"category",b.categoryId),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",title:"Remove from category",children:e.jsx(jn,{className:"h-3 w-3"})})]},I)):e.jsx(he,{variant:"outline",children:"Not Assigned"})})}),e.jsx(me,{children:e.jsx("div",{className:"space-y-1",children:w.sportAssignments&&w.sportAssignments.length>0?w.sportAssignments.map((b,I)=>e.jsx(he,{variant:"outline",children:b.subCategoryName||"No Sub-Category"},I)):e.jsx(he,{variant:"outline",children:"Not Assigned"})})}),e.jsx(me,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{variant:"outline",size:"sm",onClick:()=>R(w),title:"Edit Category Assignment",children:e.jsx(Kt,{className:"h-4 w-4"})}),e.jsx(F,{variant:"outline",size:"sm",onClick:()=>_(w,"sport"),className:"text-red-500 hover:text-red-700",title:"Remove from Sport",children:e.jsx(Rt,{className:"h-4 w-4"})})]})})]},w.id))})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(F,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),e.jsx(F,{onClick:C,disabled:a,children:"Close"})]})]}),p&&h&&e.jsx(Xe,{open:p,onOpenChange:x,children:e.jsxs(Ke,{className:"max-w-md",children:[e.jsx(Je,{children:e.jsx(Qe,{children:"Edit Student Category"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(E,{children:["Student: ",h.fname," ",h.lname]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Student ID: ",h.student_id]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"category",children:"Category *"}),e.jsxs(Ne,{children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select category"})}),e.jsx(je,{children:t.categories.map(w=>e.jsx(K,{value:w.id,children:w.name},w.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"subCategory",children:"Sub-Category *"}),e.jsxs(Ne,{children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sub-category"})}),e.jsx(je,{children:e.jsx(K,{value:"placeholder",children:"Select category first"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(F,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(F,{onClick:()=>{r({title:"Info",description:"Category update functionality will be implemented"}),x(!1)},children:"Save Changes"})]})]})}),j&&S&&e.jsx(Xe,{open:j,onOpenChange:v,children:e.jsxs(Ke,{className:"max-w-md",children:[e.jsx(Je,{children:e.jsx(Qe,{children:"Confirm Removal"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to remove"," ",e.jsxs("span",{className:"font-medium",children:[S.fname," ",S.lname]})," ","from"," ",S.action==="sport"?e.jsx("span",{className:"font-medium",children:t.name}):e.jsx("span",{className:"font-medium",children:"this category"}),"?"]})}),S.action==="sport"&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-700",children:[e.jsx("strong",{children:"Warning:"})," This will remove the student from the entire sport and all its categories."]})}),S.action==="category"&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsx("strong",{children:"Note:"})," This will only remove the student from this specific category. They will remain enrolled in other categories of the sport."]})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(F,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(F,{variant:"destructive",onClick:()=>{S.action==="sport"?g(S.id):A(S.id,S.categoryId)},disabled:a,children:[a?e.jsx(He,{className:"h-4 w-4 animate-spin mr-2"}):null,S.action==="sport"?"Remove from Sport":"Remove from Category"]})]})]})})]})},eF=()=>{const{toast:t}=_e(),[s,n]=c.useState([]),[r,a]=c.useState(!1),[i,o]=c.useState(""),[l,d]=c.useState("all"),[u,h]=c.useState(null),[m,p]=c.useState(!1),[x,S]=c.useState(!1),[y,j]=c.useState(!1);c.useEffect(()=>{v()},[l]);const v=async()=>{var g,A;try{a(!0);const _=localStorage.getItem("authToken");console.log(" InstitutionSportsManagement: Auth token check:",_?"Token found":"No token found"),console.log(" InstitutionSportsManagement: Auth token value:",_);let w;if(_&&_.trim()!==""){console.log(" InstitutionSportsManagement: Using authenticated endpoint: getInstitutionSports");try{w=await Z.getInstitutionSports({sport_type:l!=="all"?l:void 0}),w.data&&typeof w.data=="object"&&"detail"in w.data&&w.data.detail==="Not authenticated"&&(console.log(" InstitutionSportsManagement: Token is invalid, clearing and switching to public API"),localStorage.removeItem("authToken"),w=await Z.getSportsPublic(l!=="all"?l:void 0))}catch{console.log(" InstitutionSportsManagement: Authenticated API failed, switching to public API"),w=await Z.getSportsPublic(l!=="all"?l:void 0)}}else console.log(" InstitutionSportsManagement: No auth token found, using public sports API"),w=await Z.getSportsPublic(l!=="all"?l:void 0);if(console.log(" InstitutionSportsManagement: API Response:",w),console.log(" InstitutionSportsManagement: Response data:",w.data),console.log(" InstitutionSportsManagement: Response success:",(g=w.data)==null?void 0:g.success),console.log(" InstitutionSportsManagement: Response data.data:",(A=w.data)==null?void 0:A.data),w.data&&typeof w.data=="object"&&"success"in w.data){const b=w.data;if(b.success&&b.data){const k=(b.data.sports||b.data||[]).map(O=>({id:O.id.toString(),name:O.name,type:O.type,sportType:O.type,categories:[],enrolledStudents:[],totalEnrolled:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));console.log(" InstitutionSportsManagement: Transformed sports data:",k.slice(0,3)),console.log(" InstitutionSportsManagement: Setting sports state with:",k.length,"sports"),n(k)}else n([])}else{const I=(w.data||[]).map(k=>({id:k.id.toString(),name:k.name,type:k.type,sportType:k.type,categories:[],enrolledStudents:[],totalEnrolled:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));n(I)}}catch(_){console.error(" Error fetching sports:",_),t({title:"Error",description:"Failed to fetch sports data. Please check your connection and try again.",variant:"destructive"}),n([])}finally{a(!1)}},f=s.filter(g=>{const A=g.name.toLowerCase().includes(i.toLowerCase()),_=l==="all"||g.type===l;return A&&_});console.log(" InstitutionSportsManagement: Total sports:",s.length),console.log(" InstitutionSportsManagement: Filtered sports:",f.length),console.log(" InstitutionSportsManagement: Sport type filter:",l),console.log(" InstitutionSportsManagement: Search term:",i),console.log(" InstitutionSportsManagement: Rendering sports cards:",f.length);const N=g=>{h(g),p(!0)},C=g=>{h(g),S(!0)},P=g=>{switch(g){case"Individual":return"bg-blue-100 text-blue-800";case"Team":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=g=>g===0?{text:"No enrollments",color:"text-red-600"}:g<5?{text:"Low enrollment",color:"text-yellow-600"}:g<20?{text:"Good enrollment",color:"text-blue-600"}:{text:"High enrollment",color:"text-green-600"};return r?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(He,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading sports..."})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Sports Management"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage and view sports with enrolled students"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{variant:"outline",onClick:v,className:"w-full sm:w-auto",children:"Refresh"}),e.jsxs(F,{onClick:()=>j(!0),className:"w-full sm:w-auto",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Student to Sport"]})]})]}),e.jsxs(te,{children:[e.jsx(le,{className:"pb-3",children:e.jsxs(ce,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Hn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filters"]})}),e.jsx(se,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search Sports"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Search by sport name...",value:i,onChange:g=>o(g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Sport Type"}),e.jsxs(Ne,{value:l,onValueChange:d,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"All Types"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Types"}),e.jsx(K,{value:"Individual",children:"Individual"}),e.jsx(K,{value:"Team",children:"Team"})]})]})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Total Sports"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:f.length})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:f.map(g=>{const A=R(g.totalEnrolled);return e.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(le,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[e.jsx(ce,{className:"text-base sm:text-lg truncate",children:g.name}),e.jsx(he,{className:`${P(g.type)} text-xs`,children:g.type})]}),e.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>N(g),className:"h-8 w-8 p-0",children:e.jsx(_s,{className:"h-4 w-4"})}),e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>C(g),className:"h-8 w-8 p-0",children:e.jsx(Kt,{className:"h-4 w-4"})})]})]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Categories"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.categories.slice(0,2).map(_=>e.jsx(he,{variant:"outline",className:"text-xs",children:_.name},_.id)),g.categories.length>2&&e.jsxs(he,{variant:"outline",className:"text-xs",children:["+",g.categories.length-2," more"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Enrolled Students"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold",children:g.totalEnrolled}),e.jsx("span",{className:`text-sm ${A.color}`,children:A.text})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:e.jsx(F,{size:"sm",variant:"outline",onClick:()=>N(g),className:"flex-1",children:"View Details"})})]})]},g.id)})}),f.length===0&&!r&&e.jsx(te,{children:e.jsxs(se,{className:"text-center py-8",children:[e.jsx(Fe,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Sports Found"}),e.jsx("p",{className:"text-muted-foreground",children:i||l!=="all"?"Try adjusting your filters to see more results.":"No sports have been enrolled for your institution yet. Contact the admin to enroll in sports."})]})}),m&&u&&e.jsx(XO,{sport:u,onClose:()=>p(!1),onEdit:()=>{p(!1),S(!0)}}),x&&u&&e.jsx(ZO,{sport:u,onClose:()=>S(!1),onSave:v}),y&&e.jsx(WO,{onClose:()=>j(!1),onSave:v})]})},tF=()=>{const{toast:t}=_e(),[s,n]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(""),[u,h]=c.useState("all"),[m,p]=c.useState({sponsorName:"",sponsorshipAmount:"",sponsorshipType:"full"}),[x,S]=c.useState({studentEmails:"",subject:"Payment Link for Sports Registration",message:"Dear Student, Please use the link below to complete your sports registration payment..."}),[y,j]=c.useState([]),[v,f]=c.useState(!0),[N,C]=c.useState(new Set),[P,R]=c.useState(new Set),[g,A]=c.useState({totalStudents:0,paidStudents:0,unpaidStudents:0,totalAmount:0,paidAmount:0,pendingAmount:0}),_=async()=>{try{const U=await Z.getInstitutionStudents({search:l||void 0,payment_status:u!=="all"?u:void 0});let V=[];if(U.data&&typeof U.data=="object"&&"success"in U.data){const ue=U.data;ue.success&&ue.data?(V=ue.data.students||[],j(V)):j([])}else V=Array.isArray(U.data)?U.data:[],j(V);const B=V.length,H=V.filter(ue=>ue.payment_status==="Paid").length,q=B-H,re=V.reduce((ue,L)=>ue+(L.total_amount||0),0),Q=V.filter(ue=>ue.payment_status==="Paid").reduce((ue,L)=>ue+(L.paid_amount||0),0),ie=re-Q;console.log("Payment Management - Calculated Stats:",{totalStudents:B,paidStudents:H,unpaidStudents:q,totalAmount:re,paidAmount:Q,pendingAmount:ie,studentsData:V.map(ue=>({name:ue.full_name,payment_status:ue.payment_status,total_amount:ue.total_amount,paid_amount:ue.paid_amount}))}),A({totalStudents:B,paidStudents:H,unpaidStudents:q,totalAmount:re,paidAmount:Q,pendingAmount:ie})}catch(U){console.error("Error fetching students:",U),t({title:"Error",description:"Failed to fetch students data",variant:"destructive"})}finally{f(!1)}};c.useEffect(()=>{_()},[l,u]);const w=y.filter(U=>{var q,re;const V=`${U.fname||""} ${U.mname||""} ${U.lname||""}`.trim(),B=!l||V.toLowerCase().includes(l.toLowerCase())||((q=U.student_id)==null?void 0:q.toLowerCase().includes(l.toLowerCase())),H=u==="all"||((re=U.payment_status)==null?void 0:re.toLowerCase())===u.toLowerCase();return B&&H}),b=async U=>{R(V=>new Set(V).add(U.id));try{const V={status:"Paid",amount:U.total_amount||500,method:"Online"},B=await Z.processStudentPayment(U.id,V);if(B.data.success)t({title:"Payment Successful",description:`Payment processed for ${U.fname} ${U.lname}`}),_();else throw new Error(B.data.message||"Payment failed")}catch(V){console.error("Payment error:",V),t({title:"Payment Failed",description:"Failed to process payment. Please try again.",variant:"destructive"})}finally{R(V=>{const B=new Set(V);return B.delete(U.id),B})}},I=()=>{t({title:"Feature Coming Soon",description:"Sponsorship functionality will be implemented soon."}),a(!1)},k=async U=>{C(V=>new Set(V).add(U.id));try{const V={subject:" Sports Registration Payment - Action Required"},B=await Z.sendPaymentLinkToStudent(U.id,V);if(B.data.success)t({title:"Email Sent Successfully",description:`Payment link sent to ${U.email}`});else throw new Error(B.data.message||"Email sending failed")}catch(V){console.error("Email error:",V),t({title:"Email Failed",description:"Failed to send payment link. Please try again.",variant:"destructive"})}finally{C(V=>{const B=new Set(V);return B.delete(U.id),B})}o(!1)},O=U=>{switch(U){case"Paid":return"bg-green-100 text-green-800";case"Unpaid":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading payments data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Payment Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage student payments and sponsorships"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Students"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.totalStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Paid Students"}),e.jsx(it,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.paidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed payments"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Unpaid Students"}),e.jsx(Bn,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:g.unpaidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending payments"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(Jt,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["KES ",g.totalAmount]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All registrations"})]})]})]}),e.jsx(te,{className:"shadow-soft",children:e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search by student name or ID...",value:l,onChange:U=>d(U.target.value),className:"pl-10"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:e.jsxs(Ne,{value:u,onValueChange:h,children:[e.jsxs(ye,{className:"w-full sm:w-[180px]",children:[e.jsx(Hn,{className:"h-4 w-4 mr-2"}),e.jsx(Se,{placeholder:"Filter by Status"})]}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Status"}),e.jsx(K,{value:"Paid",children:"Paid"}),e.jsx(K,{value:"Unpaid",children:"Unpaid"}),e.jsx(K,{value:"Pending",children:"Pending"})]})]})})]})})}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Student Payments"}),e.jsx(Re,{children:"Manage and track student payment status"})]}),e.jsx(se,{children:w.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:l||u!=="all"?"Try adjusting your search or filter criteria.":"No students have been registered yet."})]}):e.jsx("div",{className:"space-y-4",children:w.map(U=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ve,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium",children:`${U.fname||""} ${U.mname||""} ${U.lname||""}`.trim()}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",U.student_id,"  ",U.email]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:O(U.payment_status||"Unpaid"),children:U.payment_status||"Unpaid"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total: KES ",U.total_amount||0," | Paid: KES ",U.paid_amount||0]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{variant:"outline",size:"sm",onClick:()=>b(U),disabled:P.has(U.id),children:P.has(U.id)?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Pay Now"]})}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Sponsor"]}),e.jsx(F,{variant:"outline",size:"sm",onClick:()=>k(U),disabled:N.has(U.id),children:N.has(U.id)?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(HP,{className:"h-4 w-4 mr-2"}),"Pay by Student"]})})]})]},U.id))})})]}),e.jsx(Xe,{open:r,onOpenChange:a,children:e.jsxs(Ke,{children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Apply for Sponsorship"}),e.jsx(xt,{children:"Submit a sponsorship request for students"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sponsorName",children:"Sponsor Name"}),e.jsx(D,{id:"sponsorName",value:m.sponsorName,onChange:U=>p({...m,sponsorName:U.target.value}),placeholder:"Enter sponsor name"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sponsorshipAmount",children:"Sponsorship Amount"}),e.jsx(D,{id:"sponsorshipAmount",type:"number",value:m.sponsorshipAmount,onChange:U=>p({...m,sponsorshipAmount:U.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sponsorshipType",children:"Sponsorship Type"}),e.jsxs(Ne,{value:m.sponsorshipType,onValueChange:U=>p({...m,sponsorshipType:U}),children:[e.jsx(ye,{children:e.jsx(Se,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"full",children:"Full Sponsorship"}),e.jsx(K,{value:"partial",children:"Partial Sponsorship"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(F,{onClick:I,children:"Submit Request"})]})]})]})}),e.jsx(Xe,{open:i,onOpenChange:o,children:e.jsxs(Ke,{children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Send Payment Reminder"}),e.jsx(xt,{children:"Send payment reminder emails to students"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"studentEmails",children:"Student Emails"}),e.jsx(at,{id:"studentEmails",value:x.studentEmails,onChange:U=>S({...x,studentEmails:U.target.value}),placeholder:"Enter student emails (comma separated)"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"subject",children:"Subject"}),e.jsx(D,{id:"subject",value:x.subject,onChange:U=>S({...x,subject:U.target.value}),placeholder:"Enter email subject"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"message",children:"Message"}),e.jsx(at,{id:"message",value:x.message,onChange:U=>S({...x,message:U.target.value}),placeholder:"Enter email message"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(F,{onClick:k,children:"Send Email"})]})]})]})})]})},sF=()=>{const{toast:t}=_e(),{student:s}=qt(),[n,r]=c.useState(null),[a,i]=c.useState(!0),[o,l]=c.useState(!1),[d,u]=c.useState(!1),[h,m]=c.useState({name:"",email:"",contact_person:{name:"",email:"",phone:"",designation:""},institute_info:{phone_number:"",website:"",principal_name:"",principal_phone_number:""}});c.useEffect(()=>{p()},[]);const p=async()=>{var v,f,N,C,P,R,g,A;try{i(!0);const _=await Z.getInstitutionProfile();if(_.data.success){const w=_.data.data;r(w),m({name:w.name||"",email:w.email||"",contact_person:{name:((v=w.contact_person)==null?void 0:v.name)||"",email:((f=w.contact_person)==null?void 0:f.email)||"",phone:((N=w.contact_person)==null?void 0:N.phone)||"",designation:((C=w.contact_person)==null?void 0:C.designation)||""},institute_info:{phone_number:((P=w.institute_info)==null?void 0:P.phone_number)||"",website:((R=w.institute_info)==null?void 0:R.website)||"",principal_name:((g=w.institute_info)==null?void 0:g.principal_name)||"",principal_phone_number:((A=w.institute_info)==null?void 0:A.principal_phone_number)||""}})}else throw new Error(_.data.message||"Failed to fetch profile")}catch(_){console.error("Error fetching profile:",_),t({title:"Error",description:"Failed to load institution profile",variant:"destructive"})}finally{i(!1)}},x=()=>{l(!0)},S=()=>{var v,f,N,C,P,R,g,A;l(!1),n&&m({name:n.name||"",email:n.email||"",contact_person:{name:((v=n.contact_person)==null?void 0:v.name)||"",email:((f=n.contact_person)==null?void 0:f.email)||"",phone:((N=n.contact_person)==null?void 0:N.phone)||"",designation:((C=n.contact_person)==null?void 0:C.designation)||""},institute_info:{phone_number:((P=n.institute_info)==null?void 0:P.phone_number)||"",website:((R=n.institute_info)==null?void 0:R.website)||"",principal_name:((g=n.institute_info)==null?void 0:g.principal_name)||"",principal_phone_number:((A=n.institute_info)==null?void 0:A.principal_phone_number)||""}})},y=async()=>{try{u(!0);const v=await Z.updateInstitutionProfile(h);if(v.data.success)t({title:"Success",description:"Institution profile updated successfully"}),l(!1),await p();else throw new Error(v.data.message||"Failed to update profile")}catch(v){console.error("Error updating profile:",v),t({title:"Error",description:"Failed to update institution profile",variant:"destructive"})}finally{u(!1)}},j=(v,f,N)=>{m(N?C=>({...C,[N]:{...C[N],[v]:f}}):C=>({...C,[v]:f}))};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading profile..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Institution Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your institution's profile information"})]}),e.jsx("div",{className:"flex gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsxs(F,{variant:"outline",onClick:S,disabled:d,children:[e.jsx(jn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsx(F,{onClick:y,disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}):e.jsxs(F,{onClick:x,children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),"Basic Information"]}),e.jsx(Re,{children:"Your institution's basic details"})]}),e.jsx(se,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"name",children:"Institution Name *"}),e.jsx(D,{id:"name",value:h.name,onChange:v=>j("name",v.target.value),disabled:!o,placeholder:"Enter institution name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Email Address *"}),e.jsx(D,{id:"email",type:"email",value:h.email,onChange:v=>j("email",v.target.value),disabled:!o,placeholder:"Enter email address"})]})]})})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Contact Person"]}),e.jsx(Re,{children:"Primary contact person details"})]}),e.jsx(se,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contact_name",children:"Contact Person Name *"}),e.jsx(D,{id:"contact_name",value:h.contact_person.name,onChange:v=>j("name",v.target.value,"contact_person"),disabled:!o,placeholder:"Enter contact person name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contact_email",children:"Contact Email *"}),e.jsx(D,{id:"contact_email",type:"email",value:h.contact_person.email,onChange:v=>j("email",v.target.value,"contact_person"),disabled:!o,placeholder:"Enter contact email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contact_phone",children:"Contact Phone *"}),e.jsx(D,{id:"contact_phone",value:h.contact_person.phone,onChange:v=>j("phone",v.target.value,"contact_person"),disabled:!o,placeholder:"Enter contact phone"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"contact_designation",children:"Designation *"}),e.jsx(D,{id:"contact_designation",value:h.contact_person.designation,onChange:v=>j("designation",v.target.value,"contact_person"),disabled:!o,placeholder:"Enter designation"})]})]})})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(yd,{className:"h-5 w-5"}),"Institute Details"]}),e.jsx(Re,{children:"Additional institution information"})]}),e.jsx(se,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"phone_number",children:"Institution Phone *"}),e.jsx(D,{id:"phone_number",value:h.institute_info.phone_number,onChange:v=>j("phone_number",v.target.value,"institute_info"),disabled:!o,placeholder:"Enter institution phone"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"website",children:"Website"}),e.jsx(D,{id:"website",value:h.institute_info.website,onChange:v=>j("website",v.target.value,"institute_info"),disabled:!o,placeholder:"Enter website URL"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"principal_name",children:"Principal Name *"}),e.jsx(D,{id:"principal_name",value:h.institute_info.principal_name,onChange:v=>j("principal_name",v.target.value,"institute_info"),disabled:!o,placeholder:"Enter principal name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"principal_phone",children:"Principal Phone *"}),e.jsx(D,{id:"principal_phone",value:h.institute_info.principal_phone_number,onChange:v=>j("principal_phone_number",v.target.value,"institute_info"),disabled:!o,placeholder:"Enter principal phone"})]})]})})]})]})]})},nF=()=>{const{studentId:t}=Zo(),s=wt(),{toast:n}=_e(),[r,a]=c.useState(null),[i,o]=c.useState(!0),[l,d]=c.useState(!1),[u,h]=c.useState("online"),[m,p]=c.useState({cardNumber:"",expiryDate:"",cvv:"",upiId:"",bankName:""});c.useEffect(()=>{t&&x()},[t]);const x=async()=>{var y;try{if(!t)throw new Error("Student ID is required");const v=(y=(await Z.getStudentPaymentInfo(parseInt(t))).data)==null?void 0:y.data;if(v)a(v);else throw new Error("No student data received")}catch(j){console.error("Error fetching student data:",j),n({title:"Error",description:"Failed to load student information",variant:"destructive"})}finally{o(!1)}},S=async()=>{if(r){d(!0);try{await new Promise(j=>setTimeout(j,2e3));const y={status:"Paid",amount:r.total_amount,method:u==="online"?"Credit Card":"UPI"};n({title:"Payment Successful",description:`Payment of ${r.total_amount} processed successfully`}),s("/student-dashboard")}catch(y){console.error("Payment error:",y),n({title:"Payment Failed",description:"Failed to process payment. Please try again.",variant:"destructive"})}finally{d(!1)}}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Loading payment information..."})]})}):r?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(F,{variant:"ghost",onClick:()=>s("/"),className:"mb-4",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Payment Portal"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your sports registration payment"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center",children:[e.jsx(la,{className:"h-5 w-5 mr-2"}),"Student Information"]})}),e.jsxs(se,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium text-gray-500",children:"Student Name"}),e.jsxs("p",{className:"text-lg font-semibold",children:[r.fname," ",r.mname," ",r.lname]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium text-gray-500",children:"Student ID"}),e.jsx("p",{className:"text-lg",children:r.student_id})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-lg",children:r.email})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(he,{className:r.payment_status==="Paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:r.payment_status})})]})]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center",children:[e.jsx(Jt,{className:"h-5 w-5 mr-2"}),"Payment Details"]})}),e.jsxs(se,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-medium",children:"Total Amount"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",r.total_amount]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Paid Amount"}),e.jsxs("span",{className:"text-sm",children:["",r.paid_amount]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Balance"}),e.jsxs("span",{className:"text-sm font-medium",children:["",r.total_amount-r.paid_amount]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{className:"text-lg font-medium",children:"Payment Method"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${u==="online"?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>h("online"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(kt,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Credit/Debit Card"})]})}),e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${u==="upi"?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>h("upi"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zj,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"UPI Payment"})]})})]})]}),u==="online"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"cardNumber",children:"Card Number"}),e.jsx(D,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:m.cardNumber,onChange:y=>p({...m,cardNumber:y.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"expiryDate",children:"Expiry Date"}),e.jsx(D,{id:"expiryDate",placeholder:"MM/YY",value:m.expiryDate,onChange:y=>p({...m,expiryDate:y.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"cvv",children:"CVV"}),e.jsx(D,{id:"cvv",placeholder:"123",value:m.cvv,onChange:y=>p({...m,cvv:y.target.value})})]})]})]}),u==="upi"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(E,{htmlFor:"upiId",children:"UPI ID"}),e.jsx(D,{id:"upiId",placeholder:"yourname@paytm",value:m.upiId,onChange:y=>p({...m,upiId:y.target.value})})]})}),e.jsx(F,{onClick:S,disabled:l,className:"w-full",size:"lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing Payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Pay ",r.total_amount-r.paid_amount]})})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Js,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{children:"Student not found"}),e.jsxs(F,{onClick:()=>s("/"),className:"mt-4",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})},rF=()=>{const t=wt(),{toast:s}=_e(),[n,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState("email"),[d,u]=c.useState(!1),[h,m]=c.useState(""),p=async y=>{if(y.preventDefault(),!n){m("Please enter your email address");return}u(!0),m("");try{const j=await Z.sendStudentLoginOTP({email:n});if(j.data.success)l("otp"),s({title:"OTP Sent",description:`OTP has been sent to ${n}`});else throw new Error(j.data.message||"Failed to send OTP")}catch(j){console.error("OTP send error:",j),m(j.message||"Failed to send OTP. Please try again.")}finally{u(!1)}},x=async y=>{if(y.preventDefault(),!a){m("Please enter the OTP");return}u(!0),m("");try{const j=await Z.verifyOTPWithEmail(n,a);if(j.data.success){const v=j.data.data,f={id:v.id,email:v.email,fname:v.fname,lname:v.lname,student_id:v.student_id,role:"student",access_token:v.access_token};localStorage.setItem("studentSession",JSON.stringify(f)),s({title:"Login Successful",description:`Welcome back, ${v.fname} ${v.lname}!`}),t("/dashboard")}else throw new Error(j.data.message||"Invalid OTP")}catch(j){console.error("OTP verification error:",j),m(j.message||"Invalid OTP. Please try again.")}finally{u(!1)}},S=()=>{l("email"),i(""),m("")};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(F,{variant:"ghost",onClick:()=>t("/"),className:"mb-4",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(yd,{className:"h-8 w-8 text-blue-600"})})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Student Login"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:o==="email"?"Enter your email to receive OTP":"Enter the OTP sent to your email"})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ce,{className:"text-center",children:o==="email"?"Enter Email Address":"Enter OTP"}),e.jsx(Re,{className:"text-center",children:o==="email"?"We'll send you a one-time password to verify your identity":`OTP sent to ${n}`})]}),e.jsxs(se,{children:[h&&e.jsx(lt,{variant:"destructive",className:"mb-4",children:e.jsx(ct,{children:h})}),o==="email"?e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(E,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Qt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(D,{id:"email",type:"email",placeholder:"Enter your email address",value:n,onChange:y=>r(y.target.value),className:"pl-10",required:!0})]})]}),e.jsx(F,{type:"submit",className:"w-full",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending OTP..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Send OTP"]})})]}):e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(E,{htmlFor:"otp",children:["OTP ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Mc,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(D,{id:"otp",type:"text",placeholder:"Enter 6-digit OTP",value:a,onChange:y=>i(y.target.value),className:"pl-10",maxLength:6,required:!0})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(F,{type:"button",variant:"outline",className:"flex-1",onClick:S,children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(F,{type:"submit",className:"flex-1",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Login"]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(F,{variant:"link",className:"p-0 h-auto",onClick:()=>t("/register"),children:"Register here"})]})})]})]})]})})},aF=[{title:"Dashboard",url:"/admin",icon:Tp},{title:"Institutions",url:"/admin/admin-institutions",icon:Et},{title:"Students",url:"/admin/admin-students",icon:Ve},{title:"Payments",url:"/admin/admin-payments",icon:kt},{title:"Invoices",url:"/admin/admin-invoices",icon:kt},{title:"Sponsorships",url:"/admin/admin-sponsorships",icon:ci},{title:"Sports Management",url:"/admin/admin-sports",icon:Fe}];function iF(){const t=Zs(),s=r=>t.pathname===r,n=r=>s(r)?"bg-primary text-primary-foreground font-medium shadow-soft":"hover:bg-muted/50";return e.jsxs(Wd,{collapsible:"offcanvas",children:[e.jsx(Qd,{className:"border-b border-border p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:e.jsx(Oc,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-foreground",children:"Sports Portal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Panel"})]})]})}),e.jsx(Xd,{children:e.jsxs(Zd,{children:[e.jsx(eu,{children:"Main Menu"}),e.jsx(tu,{children:e.jsx(su,{children:aF.map(r=>e.jsx(nu,{children:e.jsx(ru,{asChild:!0,children:e.jsxs(nf,{to:r.url,className:n(r.url),children:[e.jsx(r.icon,{className:"h-4 w-4"}),e.jsx("span",{children:r.title})]})})},r.title))})})]})})]})}function oF(){const{logout:t}=qt(),s=wt(),n=async()=>{try{await t(),s("/login")}catch(r){console.error("Logout error:",r),s("/login")}};return e.jsx("header",{className:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-14 items-center px-4",children:[e.jsx(Kd,{className:"-ml-1"}),e.jsx("div",{className:"ml-auto flex items-center space-x-4",children:e.jsxs(lu,{children:[e.jsx(cu,{asChild:!0,children:e.jsx(F,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(il,{className:"h-8 w-8",children:[e.jsx(ol,{src:"/placeholder-avatar.jpg",alt:"Admin"}),e.jsx(ll,{children:"AD"})]})})}),e.jsxs(ul,{className:"w-56 z-50 bg-background border shadow-medium",align:"end",forceMount:!0,children:[e.jsx(du,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:"Admin User"}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:"admin@sportsportal.com"})]})}),e.jsx(ha,{}),e.jsxs(xs,{children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(xs,{children:[e.jsx(Fp,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(ha,{}),e.jsxs(xs,{onClick:n,children:[e.jsx(kp,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})})]})})}const lF=()=>{const t=Gd();return e.jsx(Yd,{defaultOpen:!t,children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(iF,{}),e.jsxs(Jd,{children:[e.jsx(oF,{}),e.jsx("main",{className:"flex-1 p-4 sm:p-6",children:e.jsx(sf,{})})]})]})})},cF=()=>{const{toast:t}=_e(),[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState([]),[m,p]=c.useState(null),[x,S]=c.useState(!1),[y,j]=c.useState({total_institutions:0,active_institutions:0,verified_institutions:0,total_students:0,total_sports:0,total_sponsorships:0,total_payments:0,pending_payments:0,total_completed_amount:0,total_pending_amount:0}),[v,f]=c.useState([]),[N,C]=c.useState(!0),[P,R]=c.useState(!1),[g,A]=c.useState(1),[_,w]=c.useState(0),[b]=c.useState(10);console.log(" Institutions:",v),console.log(" Stats:",y);const I=async()=>{try{console.log(" Fetching admin dashboard stats...");const Q=await Z.getAdminDashboardStats();if(console.log(" Dashboard stats response:",Q),console.log(" Response status:",Q.status),console.log(" Response data:",Q.data),Q.data&&typeof Q.data=="object"){const ie=Q.data;console.log(" Parsed data:",ie),console.log(" Data success:",ie.success),console.log(" Data data:",ie.data),console.log(" Data message:",ie.message),console.log(" Data error_code:",ie.error_code),ie.success&&ie.data?(console.log(" Setting stats with data:",ie.data),j(ie.data)):(console.error(" API response not successful or missing data:",ie),console.error(" Full response object:",Q))}else console.error(" Invalid response data structure:",Q.data),console.error(" Full response object:",Q)}catch(Q){console.error(" Error fetching stats:",Q),t({title:"Error",description:"Failed to fetch dashboard statistics",variant:"destructive"})}},k=async()=>{try{console.log("Fetching institution types...");const Q=await Z.getAdminInstitutionTypes();if(console.log("Institution types response:",Q),Q.data&&typeof Q.data=="object"){const ie=Q.data;h(ie.data.institution_types||[])}}catch(Q){console.error("Error fetching institution types:",Q)}},O=async(Q=g)=>{R(!0);try{console.log("Fetching admin institutions...");const ie=(Q-1)*b,ue=await Z.getAdminInstitutions({search:s||void 0,institution_type:r!=="all"?r:void 0,skip:ie,limit:b});if(console.log("Institutions response:",ue),ue.data&&typeof ue.data=="object"){const L=ue.data;f(L.data.institutions||[]),w(L.data.total||0)}}catch(ie){console.error("Error fetching institutions:",ie),t({title:"Error",description:"Failed to fetch institutions",variant:"destructive"})}finally{R(!1)}};c.useEffect(()=>{(async()=>{C(!0);try{await Promise.all([I(),k(),O()])}catch(ie){console.error("Error loading data:",ie)}finally{C(!1)}})()},[]),c.useEffect(()=>{A(1),O(1)},[s,r]);const U=Q=>{A(Q),O(Q)},V=async Q=>{S(!0);try{const ie=await Z.getInstitutionDetails(Q);if(ie.data&&typeof ie.data=="object"){const ue=ie.data;ue.success&&ue.data&&p(ue.data.institution)}}catch(ie){console.error("Error fetching institution details:",ie),t({title:"Error",description:"Failed to fetch institution details",variant:"destructive"})}finally{S(!1)}},B=Q=>{d(Q),V(Q.id)},H=()=>{o(!i)},q=Q=>{switch(Q){case"Paid":return"bg-green-100 text-green-800";case"Partial":return"bg-yellow-100 text-yellow-800";case"Pending":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},re=Q=>Q?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800";return N?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"System overview and management"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsxs(te,{className:"border-l-4 border-l-primary shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Institutions"}),e.jsx(Et,{className:"h-4 w-4 text-primary"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.total_institutions||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.active_institutions||0," active"]})]})]}),e.jsxs(te,{className:"border-l-4 border-l-accent shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Students"}),e.jsx(Ve,{className:"h-4 w-4 text-accent"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.total_students||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(te,{className:"border-l-4 border-l-secondary shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Sports"}),e.jsx(Fe,{className:"h-4 w-4 text-secondary"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.total_sports||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active categories"})]})]}),e.jsxs(te,{className:"border-l-4 border-l-destructive shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Verified Institutions"}),e.jsx(ci,{className:"h-4 w-4 text-destructive"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.verified_institutions||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verified"})]})]}),e.jsxs(te,{className:"border-l-4 border-l-success shadow-soft",children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Payments"}),e.jsx(kt,{className:"h-4 w-4 text-success"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(y.total_completed_amount||0).toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total collected"})]})]}),e.jsxs(te,{className:"border-l-4 border-l-warning shadow-soft cursor-pointer hover:shadow-md transition-shadow",onClick:H,children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Pending Payments"}),e.jsx(Bn,{className:"h-4 w-4 text-warning"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(y.total_pending_amount||0).toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to filter"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search institutions...",value:s,onChange:Q=>n(Q.target.value),className:"pl-10"})]}),e.jsxs(Ne,{value:r,onValueChange:a,children:[e.jsx(ye,{className:"w-full sm:w-48",children:e.jsx(Se,{placeholder:"All Institution Types"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Institution Types"}),u.map(Q=>e.jsx(K,{value:Q.value,children:Q.name},Q.id))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Institutions"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[_," institutions"]})]})]}),P?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(He,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading institutions..."})]}):v.length===0?e.jsx(te,{children:e.jsxs(se,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No institutions found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"?"Try adjusting your search or filter criteria.":"No institutions have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(v||[]).map(Q=>{var ie,ue,L,ee;return e.jsx(te,{className:"hover:shadow-md transition-shadow",children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:Q.name}),e.jsx(he,{className:re(Q.verified),children:Q.verified?"Verified":"Pending"}),e.jsx(he,{className:q(Q.payment_status),children:Q.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",Q.contact_person]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",Q.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",Q.type||"N/A"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Sports Enrolled:"})," ",Q.sports_enrolled]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Amount:"})," ",(Q.total_amount||0).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Paid Amount:"})," ",(Q.paid_amount||0).toLocaleString()]})]})]}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:e.jsxs(Xe,{children:[e.jsx(vr,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>B(Q),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"View"]})}),e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsxs(Qe,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),(l==null?void 0:l.name)||Q.name]}),e.jsx(xt,{children:"Basic institution information and statistics"})]}),e.jsx("div",{className:"space-y-6 mt-6",children:x?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(He,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading details..."})]}):m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg border-b pb-2",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:e.jsx("span",{className:"font-medium text-gray-600",children:"Institution Name:"})}),e.jsx("p",{className:"text-lg",children:m.name||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:e.jsx("span",{className:"font-medium text-gray-600",children:"Email:"})}),e.jsx("p",{className:"text-lg",children:m.email||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:e.jsx("span",{className:"font-medium text-gray-600",children:"Institution Type:"})}),e.jsx("p",{className:"text-lg",children:m.type||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:e.jsx("span",{className:"font-medium text-gray-600",children:"Registration Date:"})}),e.jsx("p",{className:"text-lg",children:m.created_at?new Date(m.created_at).toLocaleDateString():"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg border-b pb-2",children:"Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Sports"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:((ie=m.sports_assignments)==null?void 0:ie.length)||0})]}),e.jsx(Fe,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:((ue=m.students)==null?void 0:ue.length)||0})]}),e.jsx(Ve,{className:"h-8 w-8 text-green-500"})]})})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Quick Summary"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["This institution has registered ",e.jsxs("span",{className:"font-semibold",children:[((L=m.sports_assignments)==null?void 0:L.length)||0," sports"]})," and has ",e.jsxs("span",{className:"font-semibold",children:[((ee=m.students)==null?void 0:ee.length)||0," students"]})," enrolled."]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Failed to load institution details"})]})})]})]})})]})})},Q.id)})}),_>b&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(g-1)*b+1," to ",Math.min(g*b,_)," of ",_," institutions"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>U(g-1),disabled:g===1,children:[e.jsx(vd,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(_/b)},(Q,ie)=>ie+1).filter(Q=>Q===1||Q===Math.ceil(_/b)||Math.abs(Q-g)<=2).map((Q,ie,ue)=>{const L=ie>0&&Q-ue[ie-1]>1;return e.jsxs("div",{className:"flex items-center gap-1",children:[L&&e.jsx("span",{className:"text-muted-foreground",children:"..."}),e.jsx(F,{variant:g===Q?"default":"outline",size:"sm",onClick:()=>U(Q),className:"w-8 h-8 p-0",children:Q})]},Q)})}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>U(g+1),disabled:g===Math.ceil(_/b),children:["Next",e.jsx(Jo,{className:"h-4 w-4"})]})]})]})]})]})};var Uw="AlertDialog",[dF]=Vt(Uw,[FS]),Wn=FS(),Bw=t=>{const{__scopeAlertDialog:s,...n}=t,r=Wn(s);return e.jsx(vf,{...r,...n,modal:!0})};Bw.displayName=Uw;var uF="AlertDialogTrigger",zw=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Wn(n);return e.jsx(yf,{...a,...r,ref:s})});zw.displayName=uF;var mF="AlertDialogPortal",Vw=t=>{const{__scopeAlertDialog:s,...n}=t,r=Wn(s);return e.jsx(jf,{...r,...n})};Vw.displayName=mF;var hF="AlertDialogOverlay",qw=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Wn(n);return e.jsx(tl,{...a,...r,ref:s})});qw.displayName=hF;var Ya="AlertDialogContent",[pF,fF]=dF(Ya),xF=wj("AlertDialogContent"),Gw=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,children:r,...a}=t,i=Wn(n),o=c.useRef(null),l=Te(s,o),d=c.useRef(null);return e.jsx(Z4,{contentName:Ya,titleName:Hw,docsSlug:"alert-dialog",children:e.jsx(pF,{scope:n,cancelRef:d,children:e.jsxs(sl,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ge(a.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=d.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(xF,{children:r}),e.jsx(vF,{contentRef:o})]})})})});Gw.displayName=Ya;var Hw="AlertDialogTitle",Yw=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Wn(n);return e.jsx(nl,{...a,...r,ref:s})});Yw.displayName=Hw;var Ww="AlertDialogDescription",Kw=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Wn(n);return e.jsx(rl,{...a,...r,ref:s})});Kw.displayName=Ww;var gF="AlertDialogAction",Jw=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Wn(n);return e.jsx(Vd,{...a,...r,ref:s})});Jw.displayName=gF;var Qw="AlertDialogCancel",Xw=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:a}=fF(Qw,n),i=Wn(n),o=Te(s,a);return e.jsx(Vd,{...i,...r,ref:o})});Xw.displayName=Qw;var vF=({contentRef:t})=>{const s=`\`${Ya}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ya}\` by passing a \`${Ww}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ya}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},yF=Bw,jF=zw,NF=Vw,Zw=qw,e1=Gw,t1=Jw,s1=Xw,n1=Yw,r1=Kw;const Kc=yF,Jc=jF,SF=NF,a1=c.forwardRef(({className:t,...s},n)=>e.jsx(Zw,{className:de("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));a1.displayName=Zw.displayName;const ko=c.forwardRef(({className:t,...s},n)=>e.jsxs(SF,{children:[e.jsx(a1,{}),e.jsx(e1,{ref:n,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));ko.displayName=e1.displayName;const Mo=({className:t,...s})=>e.jsx("div",{className:de("flex flex-col space-y-2 text-center sm:text-left",t),...s});Mo.displayName="AlertDialogHeader";const Oo=({className:t,...s})=>e.jsx("div",{className:de("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Oo.displayName="AlertDialogFooter";const Fo=c.forwardRef(({className:t,...s},n)=>e.jsx(n1,{ref:n,className:de("text-lg font-semibold",t),...s}));Fo.displayName=n1.displayName;const Do=c.forwardRef(({className:t,...s},n)=>e.jsx(r1,{ref:n,className:de("text-sm text-muted-foreground",t),...s}));Do.displayName=r1.displayName;const Lo=c.forwardRef(({className:t,...s},n)=>e.jsx(t1,{ref:n,className:de(rf(),t),...s}));Lo.displayName=t1.displayName;const $o=c.forwardRef(({className:t,...s},n)=>e.jsx(s1,{ref:n,className:de(rf({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));$o.displayName=s1.displayName;const bF=()=>{const{toast:t}=_e(),s=wt(),[n,r]=c.useState(""),[a,i]=c.useState(null),[o,l]=c.useState(!1),[d,u]=c.useState("all"),[h,m]=c.useState("all"),[p,x]=c.useState(!1),[S,y]=c.useState(!1),[j,v]=c.useState({institution_type:"",name:"",email:""}),[f,N]=c.useState([]),[C,P]=c.useState([]),[R,g]=c.useState(!0),[A,_]=c.useState(!1),[w,b]=c.useState(1),[I,k]=c.useState(0),[O]=c.useState(10),[U,V]=c.useState(null),[B,H]=c.useState(!1),q=async(ee=w)=>{var ne,$;try{_(!0);const T={search:n,institution_type:d!=="all"?d:void 0,payment_status:h!=="all"?h:void 0,skip:(ee-1)*O,limit:O};console.log("Fetching institutions with params:",T);const G=await Z.getAdminInstitutions(T);(ne=G.data)!=null&&ne.success?(console.log("Institutions response:",G.data.data),N(G.data.data.institutions),k(G.data.data.total),b(ee)):(console.error("Failed to fetch institutions:",G.data),t({title:"Error",description:(($=G.data)==null?void 0:$.message)||"Failed to fetch institutions",variant:"destructive"}))}catch(T){console.error("Error fetching institutions:",T),t({title:"Error",description:"Failed to fetch institutions. Please check if the server is running.",variant:"destructive"})}finally{_(!1)}},re=ee=>{s(`/admin/admin-institutions/${ee.id}`)},Q=async ee=>{var ne,$;try{console.log("Deleting institution:",ee);const T=await Z.deleteInstitution(ee.id);if((ne=T.data)!=null&&ne.success)N(G=>G.filter(X=>X.id!==ee.id)),k(G=>G-1),t({title:"Success",description:`Institution "${ee.name}" deleted successfully`,variant:"default"});else throw new Error((($=T.data)==null?void 0:$.message)||"Failed to delete institution")}catch(T){console.error("Error deleting institution:",T),t({title:"Error",description:"Failed to delete institution. Please try again.",variant:"destructive"})}},ie=async()=>{var ee;try{if(!j.name||!j.email||!j.institution_type){t({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}console.log("Creating institution with data:",j);const ne=await Z.addInstitution(j);if(console.log("Institution creation response:",ne),ne.data&&ne.data.success)t({title:"Success",description:ne.data.message||"Institution added successfully"}),l(!1),v({institution_type:"",name:"",email:""}),await q();else throw new Error(((ee=ne.data)==null?void 0:ee.message)||"Failed to create institution")}catch(ne){console.error("Error adding institution:",ne),t({title:"Error",description:ne instanceof Error?ne.message:"Failed to add institution. Please try again.",variant:"destructive"})}};c.useEffect(()=>{q()},[]),c.useEffect(()=>{const ee=setTimeout(()=>{q(1)},500);return()=>clearTimeout(ee)},[n]),c.useEffect(()=>{q(1)},[d,h]);const ue=f,L=Math.ceil(I/O);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Institutions"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor all registered institutions"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(F,{onClick:()=>l(!0),children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Institution"]})})]}),e.jsx(te,{children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(D,{placeholder:"Search institutions...",value:n,onChange:ee=>r(ee.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ne,{value:d,onValueChange:u,children:[e.jsx(ye,{className:"w-[180px]",children:e.jsx(Se,{placeholder:"Institution Type"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Types"}),Rh.map(ee=>e.jsx(K,{value:ee,children:ee},ee))]})]}),e.jsxs(Ne,{value:h,onValueChange:m,children:[e.jsx(ye,{className:"w-[180px]",children:e.jsx(Se,{placeholder:"Payment Status"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Status"}),e.jsx(K,{value:"paid",children:"Paid"}),e.jsx(K,{value:"pending",children:"Pending"}),e.jsx(K,{value:"unpaid",children:"Unpaid"})]})]})]})]})})}),A?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:n?`Searching for "${n}"...`:"Loading institutions..."})]}):e.jsx("div",{className:"space-y-4",children:ue.map(ee=>{var ne,$;return e.jsx(te,{children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Et,{className:"h-6 w-6 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:ee.name||"Unnamed Institution"}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:ee.email||"No email provided"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsx(he,{variant:"outline",children:ee.type||"Unknown Type"}),e.jsx(he,{variant:ee.payment_status==="Paid"?"default":"secondary",children:ee.payment_status||"Pending"})]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Amount:"})," ",((ne=ee.total_amount)==null?void 0:ne.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Paid Amount:"})," ",(($=ee.paid_amount)==null?void 0:$.toLocaleString())||0]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>re(ee),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(Kc,{children:[e.jsx(Jc,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Delete"]})}),e.jsxs(ko,{children:[e.jsxs(Mo,{children:[e.jsx(Fo,{children:"Delete Institution"}),e.jsxs(Do,{children:['Are you sure you want to delete "',ee.name,'"? This action cannot be undone.']})]}),e.jsxs(Oo,{children:[e.jsx($o,{children:"Cancel"}),e.jsx(Lo,{onClick:()=>Q(ee),children:"Delete"})]})]})]})]})]})})},ee.id)})}),L>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(w-1)*O+1," to ",Math.min(w*O,I)," of ",I," institutions"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>q(w-1),disabled:w===1||A,children:[e.jsx(vd,{className:"h-4 w-4"}),"Previous"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",w," of ",L]}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>q(w+1),disabled:w===L||A,children:["Next",e.jsx(Jo,{className:"h-4 w-4"})]})]})]}),e.jsx(qd,{open:o,onOpenChange:l,children:e.jsxs(al,{children:[e.jsxs(eb,{children:[e.jsx(tb,{children:"Add New Institution"}),e.jsx(sb,{children:"Provide institute type, name and email"})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"institution_type",children:"Institution Type"}),e.jsxs(Ne,{value:j.institution_type,onValueChange:ee=>v(ne=>({...ne,institution_type:ee})),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select institution type"})}),e.jsx(je,{children:Rh.map(ee=>e.jsx(K,{value:ee,children:ee},ee))})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"name",children:"Institution Name"}),e.jsx(D,{id:"name",value:j.name,onChange:ee=>v(ne=>({...ne,name:ee.target.value})),placeholder:"Enter institution name"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email"}),e.jsx(D,{id:"email",type:"email",value:j.email,onChange:ee=>v(ne=>({...ne,email:ee.target.value})),placeholder:"Enter email address"})]}),e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsx(F,{onClick:ie,className:"flex-1",children:"Add Institution"}),e.jsx(F,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})},wF=({selectedSports:t,onSportsChange:s,studentAge:n,studentGender:r})=>{const{toast:a}=_e(),[i,o]=c.useState([]),[l,d]=c.useState([]),[u,h]=c.useState([]),[m,p]=c.useState(!0),[x,S]=c.useState([]),[y,j]=c.useState(""),[v,f]=c.useState(""),[N,C]=c.useState(""),[P,R]=c.useState(""),[g,A]=c.useState(""),[_,w]=c.useState("Open"),b=["U9","U10","U11","U12","U13","U14","U15","U16","U17","U18","U19"],[I,k]=c.useState(b),O=["Male","Female","Open"],U=["Individual","Team"];c.useEffect(()=>{V()},[]);const V=async()=>{try{p(!0);const T=localStorage.getItem("authToken");console.log(" StudentSportsAssignment: Auth token check:",T?"Token found":"No token found");let G;if(T&&T.trim()!==""?(console.log(" StudentSportsAssignment: Using authenticated endpoint: getSports"),G=await Z.getSports()):(console.log(" StudentSportsAssignment: No auth token found, using public sports API"),G=await Z.getSportsPublic()),console.log(" StudentSportsAssignment: Sports response:",G),G.data&&typeof G.data=="object"&&"success"in G.data){const X=G.data;X.success&&X.data?(console.log(" StudentSportsAssignment: Setting sports data:",X.data),Array.isArray(X.data)?o(X.data):X.data.sports&&Array.isArray(X.data.sports)?o(X.data.sports):o([])):(console.log(" StudentSportsAssignment: No sports data in response"),o([]))}else console.log(" StudentSportsAssignment: Setting sports data from direct response:",G.data),Array.isArray(G.data)?o(G.data):G.data&&G.data.sports&&Array.isArray(G.data.sports)?o(G.data.sports):o([])}catch(T){console.error("Error fetching sports:",T),a({title:"Error",description:"Failed to fetch sports data",variant:"destructive"})}finally{p(!1)}},B=async T=>{try{console.log(" StudentSportsAssignment: Fetching categories for sport:",T);const G=await Z.getSportCategoriesPublic(parseInt(T));if(console.log(" StudentSportsAssignment: Categories response:",G),G.data&&typeof G.data=="object"&&"success"in G.data){const X=G.data;X.success&&X.data?d(X.data||[]):d([])}else d(G.data||[])}catch(G){console.error("Error fetching categories:",G),d([])}},H=async(T,G)=>{try{console.log(" StudentSportsAssignment: Fetching subcategories for sport:",T,"category:",G);const X=await Z.getSubCategoriesPublic(parseInt(T),parseInt(G));if(console.log(" StudentSportsAssignment: Subcategories response:",X),X.data&&typeof X.data=="object"&&"success"in X.data){const Y=X.data;Y.success&&Y.data?h(Y.data||[]):h([])}else h(X.data||[])}catch(X){console.error("Error fetching sub-categories:",X),h([])}},q=async T=>{try{if(!Array.isArray(i)){console.log(" StudentSportsAssignment: Sports is not an array:",i);return}const G=i.filter(Y=>Y.type===T||Y.sportType===T),X=new Map;G.forEach(Y=>{Y.categories&&Y.categories.forEach(z=>{X.set(z.id,z)})}),d(Array.from(X.values()))}catch(G){console.error("Error fetching categories by sport type:",G),d([])}},re=T=>{const G=l.find(X=>X.id===T);if(G&&G.ageGroups&&G.ageGroups.length>0){const X=b.filter(Y=>G.ageGroups.includes(Y));k(X.length>0?X:b)}else k(b)},Q=T=>{j(T),f(""),C(""),R(""),A(""),d([]),h([]),T&&q(T)},ie=T=>{f(T),C(""),R(""),A(""),d([]),h([]),T&&B(T)},ue=T=>{C(T),R(""),A(""),h([]),T&&v&&(H(v,T),re(T))},L=()=>{const T=[];if(y||T.push("Please select a sport type"),v||T.push("Please select a sport"),N||T.push("Please select a category"),g||T.push("Please select an age group"),_||T.push("Please select gender"),t.find(Ae=>Ae.sportId===v&&Ae.categoryId===N&&Ae.subCategoryId===P)&&T.push("This sport combination is already assigned"),T.length>0){S(T);return}const X=Array.isArray(i)?i.find(Ae=>Ae.id===v):null,Y=Array.isArray(l)?l.find(Ae=>Ae.id===N):null,z=Array.isArray(u)?u.find(Ae=>Ae.id===P):null,W=(Y==null?void 0:Y.fee)||(X==null?void 0:X.fee)||0,ae=Number(W);console.log(" Fee calculation:",{categoryFee:Y==null?void 0:Y.fee,sportFee:X==null?void 0:X.fee,rawFee:W,finalFee:ae});const Pe={sportId:v,sportName:(X==null?void 0:X.name)||(X==null?void 0:X.sportName)||"",sportType:y,categoryId:N,categoryName:(Y==null?void 0:Y.name)||"",subCategoryId:P,subCategoryName:(z==null?void 0:z.name)||"",ageGroup:g,gender:_,fee:ae,paymentStatus:"Pending"};s([...t,Pe]),j(""),f(""),C(""),R(""),A(""),w("Open"),d([]),h([]),k(b),S([])},ee=T=>{const G=t.filter((X,Y)=>Y!==T);s(G)},ne=()=>I,$=T=>{if(!T)return"N/A";const G=Number(T);return isNaN(G)?"N/A":`$${G.toFixed(2)}`};return m||!Array.isArray(i)?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Fe,{className:"h-8 w-8 animate-pulse mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sports data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[x.length>0&&e.jsx(lt,{variant:"destructive",children:e.jsx(ct,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:x.map((T,G)=>e.jsx("li",{children:T},G))})})}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Assign Sports to Student"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select sport type first, then choose from available categories and sub-categories"})]}),e.jsxs(se,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"sportType",children:"Sport Type *"}),e.jsxs(Ne,{value:y,onValueChange:Q,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sport type"})}),e.jsx(je,{children:U.map(T=>e.jsx(K,{value:T,children:T},T))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"sport",children:"Sport *"}),e.jsxs(Ne,{value:v,onValueChange:ie,disabled:!y,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select a sport"})}),e.jsx(je,{children:Array.isArray(i)&&i.filter(T=>T.type===y||T.sportType===y).map(T=>e.jsx(K,{value:T.id,children:T.name||T.sportName},T.id))})]}),y&&Array.isArray(i)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.filter(T=>T.type===y||T.sportType===y).length," ",y.toLowerCase()," sports available"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"category",children:"Category *"}),e.jsxs(Ne,{value:N,onValueChange:ue,disabled:!y,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select a category"})}),e.jsx(je,{children:l.map(T=>e.jsx(K,{value:T.id,children:T.name},T.id))})]}),y&&l.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.length," categories available for ",y.toLowerCase()," sports"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"subCategory",children:"Sub-Category"}),e.jsxs(Ne,{value:P,onValueChange:R,disabled:!N||u.length===0,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select a sub-category (optional)"})}),e.jsx(je,{children:u.map(T=>e.jsx(K,{value:T.id,children:T.name},T.id))})]}),N&&u.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.length," sub-categories available"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"ageGroup",children:"Age Group *"}),e.jsxs(Ne,{value:g,onValueChange:A,disabled:!N,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select age group"})}),e.jsx(je,{children:ne().map(T=>e.jsx(K,{value:T,children:T},T))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"gender",children:"Gender *"}),e.jsxs(Ne,{value:_,onValueChange:w,children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsx(je,{children:O.map(T=>e.jsx(K,{value:T,children:T},T))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(F,{onClick:L,disabled:!y||!v||!N||!g||!_,className:"w-full md:w-auto",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Sport Assignment"]})})]})]}),t.length>0&&e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Qo,{className:"h-5 w-5"}),"Assigned Sports (",t.length,")"]})}),e.jsx(se,{children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Sport Type"}),e.jsx(xe,{children:"Sport"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Sub-Category"}),e.jsx(xe,{children:"Age Group"}),e.jsx(xe,{children:"Gender"}),e.jsx(xe,{children:"Fee"}),e.jsx(xe,{children:"Payment Status"}),e.jsx(xe,{className:"w-16",children:"Action"})]})}),e.jsx(cs,{children:t.map((T,G)=>e.jsxs(Be,{children:[e.jsx(me,{children:e.jsx(he,{variant:T.sportType==="Individual"?"default":"secondary",children:T.sportType})}),e.jsx(me,{className:"font-medium",children:T.sportName}),e.jsx(me,{children:e.jsx(he,{variant:"outline",children:T.categoryName})}),e.jsx(me,{children:e.jsx(he,{variant:"secondary",children:T.subCategoryName})}),e.jsx(me,{children:e.jsx(he,{variant:"default",children:T.ageGroup})}),e.jsx(me,{children:e.jsx(he,{variant:"outline",children:T.gender})}),e.jsx(me,{className:"font-medium",children:$(T.fee)}),e.jsx(me,{children:e.jsx(he,{variant:T.paymentStatus==="Paid"?"default":"secondary",className:T.paymentStatus==="Paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:T.paymentStatus||"Pending"})}),e.jsx(me,{children:e.jsx(F,{variant:"outline",size:"sm",onClick:()=>ee(G),children:e.jsx(Rt,{className:"h-4 w-4"})})})]},G))})]})})]})]})},CF=()=>{const{toast:t}=_e(),s=wt(),[n,r]=c.useState(""),[a,i]=c.useState("all"),[o,l]=c.useState("all"),[d,u]=c.useState(!1),[h,m]=c.useState({first_name:"",middle_name:"",last_name:"",email:"",student_id:"",institution_type:"",institution_name:"",gender:"Other",dob:"",phone:"",address:"",assignedSports:[]}),[p,x]=c.useState([]),[S,y]=c.useState([]),[j,v]=c.useState(!0),[f,N]=c.useState(!1),[C,P]=c.useState(1),[R,g]=c.useState(0),[A]=c.useState(10),_=async(B=C)=>{var H,q;N(!0);try{const re=(B-1)*A,Q=await Z.getAdminStudents({search:n||void 0,institution_type:a!=="all"?a:void 0,payment_status:o!=="all"?o:void 0,skip:re,limit:A});if(Q.data&&typeof Q.data=="object"){const ie=Q.data;x(((H=ie.data)==null?void 0:H.students)||[]),g(((q=ie.data)==null?void 0:q.total)||0)}else x([]),g(0)}catch(re){console.error("Error fetching students:",re),t({title:"Error",description:"Failed to fetch students data",variant:"destructive"})}finally{N(!1)}},w=async()=>{var B;try{const H=await Z.getAdminInstitutionTypes();if(H.data&&typeof H.data=="object"){const q=H.data;y(((B=q.data)==null?void 0:B.institution_types)||[])}}catch(H){console.error("Error fetching institution types:",H)}};c.useEffect(()=>{(async()=>{v(!0);try{await Promise.all([w(),_()])}finally{v(!1)}})()},[]),c.useEffect(()=>{P(1),_(1)},[n,a,o]);const b=B=>{P(B),_(B)},I=B=>{s(`/admin/admin-students/${B.id}`)},k=B=>{t({title:"Feature Coming Soon",description:"Delete student functionality will be implemented soon."})},O=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},U=async()=>{var H;const B=[];if(h.first_name||B.push("First name is required"),h.last_name||B.push("Last name is required"),h.email||B.push("Email is required"),h.student_id||B.push("Student ID is required"),h.institution_type||B.push("Institution type is required"),h.institution_name||B.push("Institution name is required"),h.gender||B.push("Gender is required"),h.dob||B.push("Date of birth is required"),B.length>0){t({title:"Validation Error",description:B.join(", "),variant:"destructive"});return}try{v(!0);const q={first_name:h.first_name,middle_name:h.middle_name,last_name:h.last_name,email:h.email,student_id:h.student_id,institution_name:h.institution_name,institution_type:h.institution_type,gender:h.gender,dob:h.dob,phone:h.phone,address:h.address,assignedSports:h.assignedSports};console.log(" Creating student with payload:",q);const re=await Z.createStudent(q);if(console.log(" Student creation response:",re),re.data&&re.data.success)t({title:"Success",description:`Student ${h.first_name} ${h.last_name} added successfully`}),u(!1),m({first_name:"",middle_name:"",last_name:"",email:"",student_id:"",institution_type:"",institution_name:"",gender:"Other",dob:"",phone:"",address:"",assignedSports:[]}),_();else throw new Error(((H=re.data)==null?void 0:H.message)||"Failed to create student")}catch(q){console.error(" Error creating student:",q),t({title:"Error",description:q.message||"Failed to add student",variant:"destructive"})}finally{v(!1)}},V=B=>{m(H=>({...H,assignedSports:B}))};return j?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading students data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Student Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage student registrations and profiles"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{onClick:O,variant:"outline",children:[e.jsx(va,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(F,{onClick:()=>u(!0),children:[e.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Add Student"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search students...",value:n,onChange:B=>r(B.target.value),className:"pl-10"})]}),e.jsxs(Ne,{value:a,onValueChange:i,children:[e.jsx(ye,{className:"w-full sm:w-48",children:e.jsx(Se,{placeholder:"All Institution Types"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Institution Types"}),S.map(B=>e.jsx(K,{value:B.value,children:B.name},B.id))]})]}),e.jsxs(Ne,{value:o,onValueChange:l,children:[e.jsx(ye,{className:"w-full sm:w-48",children:e.jsx(Se,{placeholder:"All Payment Status"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Payment Status"}),e.jsx(K,{value:"paid",children:"Paid"}),e.jsx(K,{value:"pending",children:"Pending"}),e.jsx(K,{value:"partial",children:"Partial"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Students"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[R," students"]})]})]}),f?e.jsx(te,{children:e.jsxs(se,{className:"flex items-center justify-center py-8",children:[e.jsx(He,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading students..."})]})}):p.length===0?e.jsx(te,{children:e.jsxs(se,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Ge,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:n||a!=="all"||o!=="all"?"Try adjusting your search or filter criteria.":"No students have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(p||[]).map(B=>e.jsx(te,{className:"hover:shadow-md transition-shadow",children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h3",{className:"text-lg font-semibold",children:B.name})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),e.jsxs("span",{children:["ID: ",B.id||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsx("span",{children:B.institution_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gn,{className:"h-4 w-4"}),e.jsxs("span",{children:["Joined: ",new Date(B.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Email:"})," ",B.email]}),B.assignedSports&&B.assignedSports.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[B.assignedSports.length," sport",B.assignedSports.length!==1?"s":""]}),e.jsxs("div",{className:"flex gap-1",children:[B.assignedSports.slice(0,3).map((H,q)=>e.jsx(he,{variant:"outline",className:"text-xs",children:H.sportName},q)),B.assignedSports.length>3&&e.jsxs(he,{variant:"outline",className:"text-xs",children:["+",B.assignedSports.length-3," more"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>I(B),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>k(B.id),children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})},B.id))}),R>A&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(C-1)*A+1," to ",Math.min(C*A,R)," of ",R," students"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>b(C-1),disabled:C===1,children:[e.jsx(vd,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(R/A)},(B,H)=>H+1).filter(B=>B===1||B===Math.ceil(R/A)||Math.abs(B-C)<=2).map((B,H,q)=>{const re=H>0&&B-q[H-1]>1;return e.jsxs("div",{className:"flex items-center gap-1",children:[re&&e.jsx("span",{className:"text-muted-foreground",children:"..."}),e.jsx(F,{variant:C===B?"default":"outline",size:"sm",onClick:()=>b(B),className:"w-8 h-8 p-0",children:B})]},B)})}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>b(C+1),disabled:C===Math.ceil(R/A),children:["Next",e.jsx(Jo,{className:"h-4 w-4"})]})]})]})]}),e.jsx(Xe,{open:d,onOpenChange:u,children:e.jsxs(Ke,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add Student"}),e.jsx(xt,{children:"Add a new student with basic details and sports assignments."})]}),e.jsxs(Mf,{defaultValue:"details",className:"w-full",children:[e.jsxs(pu,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(On,{value:"details",children:"Student Details"}),e.jsx(On,{value:"sports",children:"Sports Assignment"})]}),e.jsxs(Fn,{value:"details",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"First Name"}),e.jsx(D,{value:h.first_name,onChange:B=>m({...h,first_name:B.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Middle Name"}),e.jsx(D,{value:h.middle_name,onChange:B=>m({...h,middle_name:B.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Last Name"}),e.jsx(D,{value:h.last_name,onChange:B=>m({...h,last_name:B.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Email"}),e.jsx(D,{type:"email",value:h.email,onChange:B=>m({...h,email:B.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Student ID"}),e.jsx(D,{value:h.student_id,onChange:B=>m({...h,student_id:B.target.value})})]}),e.jsx("div",{})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Institute Type"}),e.jsxs(Ne,{value:h.institution_type,onValueChange:B=>m({...h,institution_type:B,institution_name:""}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select type"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Kaiso School",children:"Kaiso School"}),e.jsx(K,{value:"Goverment School",children:"Goverment School"}),e.jsx(K,{value:"Academics",children:"Academics"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Institute Name"}),h.institution_type==="Other"?e.jsx(D,{value:h.institution_name,onChange:B=>m({...h,institution_name:B.target.value})}):e.jsxs(Ne,{value:h.institution_name,onValueChange:B=>m({...h,institution_name:B}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select name"})}),e.jsx(je,{className:"max-h-72",children:(h.institution_type==="Kaiso School"?["Aga Khan Academy","Braeburn Garden Estate - BGE","Braeburn Gitanga Road - BGR","Braeside School, Thika","Braeside School, Lavington","Brookhouse School, Karen","Brookhouse School, Runda","Brookhurst International, Lavington","Brookhurst International, Kiserian","Crawford International School","The Banda School","French School","German School","Jawabu School","Light International School","Makini Cambridge School","Nairobi Academy","Nairobi Jaffery Academy","Oshwal Academy U15 & U17","Oshwal Academy U17 & U19","Peponi School (overall)","Peponi School (Girls Sport)","Peponi School (Boys Sport)","Rosslyn Academy (overall)","Kenton College","Rusinga School","SABIS International School","St Austin's Academy","St. Christopher's School","Swedish School","Woodcreek School","West Nairobi School - WNS","ISK","Durham International School - DIS"]:h.institution_type==="Goverment School"?["MBAGATHI ROAD PRIMARY","NEMBU PRIMARY","KAWANGWARE PRIMARY","TOI PRIMARY","RIRUTA HGM PRIMARY"]:h.institution_type==="Academics"?["Talanta","JB Academy","Muqs","Bumble Bee Sports","Discovery Tennis","TY SPORTS","Terriffic Tennis","Next Gen Multi Sport Academu"]:[]).map(B=>e.jsx(K,{value:B,children:B},B))})]})]}),e.jsx("div",{})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Gender *"}),e.jsxs(Ne,{value:h.gender,onValueChange:B=>m({...h,gender:B}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Date of Birth *"}),e.jsx(D,{type:"date",value:h.dob,onChange:B=>m({...h,dob:B.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Phone Number"}),e.jsx(D,{type:"tel",value:h.phone,onChange:B=>m({...h,phone:B.target.value}),placeholder:"Optional"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx(E,{children:"Address"}),e.jsx(D,{value:h.address,onChange:B=>m({...h,address:B.target.value}),placeholder:"Optional"})]})})]}),e.jsx(Fn,{value:"sports",className:"space-y-4",children:e.jsx(wF,{selectedSports:h.assignedSports,onSportsChange:V,studentAge:18,studentGender:h.gender||"Open"})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(F,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsx(F,{onClick:U,children:"Save Student"})]})]})})]})},PF=()=>{const{toast:t}=_e(),s=wt(),[n,r]=c.useState([]),[a,i]=c.useState(null),[o,l]=c.useState(!0),[d,u]=c.useState(!1),[h,m]=c.useState({status_filter:"",type_filter:"",search:""}),[p,x]=c.useState({page:1,limit:50,total:0,total_pages:0,has_next:!1,has_prev:!1}),[S,y]=c.useState({sort_by:"created_at",sort_order:"desc"});c.useEffect(()=>{j()},[h,p.page,p.limit,S]);const j=async()=>{var w,b;try{l(!0),console.log("Loading payments data..."),console.log("Filters:",h),console.log("Pagination:",p),console.log("Sorting:",S);const[I,k]=await Promise.all([Z.getAdminPayments({status_filter:h.status_filter||void 0,type_filter:h.type_filter||void 0,search:h.search||void 0,page:p.page,limit:p.limit,sort_by:S.sort_by,sort_order:S.sort_order}),Z.getPaymentsSummary()]);if(console.log("Payments Response:",I),console.log("Summary Response:",k),(w=I.data)!=null&&w.success){const O=I.data.data;console.log("Payments data:",O),r(O.payments||[]),x(U=>({...U,...O.pagination}))}else console.error("Payments API failed:",I.data),r([]);(b=k.data)!=null&&b.success?i(k.data.data):(console.error("Summary API failed:",k.data),i({student_payments:{total:0,pending:0,completed:0,pending_amount:0,completed_amount:0},institute_payments:{total:0,pending:0,completed:0,pending_amount:0,completed_amount:0},overall:{total_payments:0,total_pending:0,total_completed:0,total_pending_amount:0,total_completed_amount:0}}))}catch(I){console.error("Error loading payments data:",I),t({title:"Error",description:"Failed to load payments data. Please check if the server is running.",variant:"destructive"}),r([]),i({student_payments:{total:0,pending:0,completed:0,pending_amount:0,completed_amount:0},institute_payments:{total:0,pending:0,completed:0,pending_amount:0,completed_amount:0},overall:{total_payments:0,total_pending:0,total_completed:0,total_pending_amount:0,total_completed_amount:0}})}finally{l(!1)}},v=(w,b)=>{const I=b==="all"?"":b;m(k=>({...k,[w]:I})),x(k=>({...k,page:1}))},f=w=>{m(b=>({...b,search:w})),x(b=>({...b,page:1}))},N=async()=>{u(!0),await j(),u(!1),t({title:"Refreshed",description:"Payments data has been updated"})},C=w=>{s(`/admin/payment-details/${w.type}/${w.id}`)},P=()=>{t({title:"Export",description:"Export functionality will be implemented soon"})},R=w=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(w),g=w=>new Date(w).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=(w,b)=>w===1?e.jsxs(he,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),b]}):e.jsxs(he,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Bn,{className:"w-3 h-3 mr-1"}),b]}),_=w=>w==="student"?e.jsxs(he,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[e.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Student"]}):e.jsxs(he,{variant:"outline",className:"bg-purple-50 text-purple-700",children:[e.jsx(Et,{className:"w-3 h-3 mr-1"}),"Institution"]});return o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(Xx,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading payments..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Payments Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor all payment transactions"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(F,{onClick:N,disabled:d,variant:"outline",children:[e.jsx(Xx,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]}),e.jsxs(F,{onClick:P,variant:"outline",children:[e.jsx(va,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Payments"}),e.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.overall.total_payments}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.overall.total_completed," completed, ",a.overall.total_pending," pending"]})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:R(a.overall.total_completed_amount+a.overall.total_pending_amount)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[R(a.overall.total_completed_amount)," completed"]})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Student Payments"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.student_payments.total}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[R(a.student_payments.completed_amount)," completed"]})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Institution Payments"}),e.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.institute_payments.total}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[R(a.institute_payments.completed_amount)," completed"]})]})]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center",children:[e.jsx(Hn,{className:"w-5 h-5 mr-2"}),"Filters & Search"]})}),e.jsx(se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(D,{id:"search",placeholder:"Search by name, email, or ID...",value:h.search,onChange:w=>f(w.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"type",children:"Type"}),e.jsxs(Ne,{value:h.type_filter||"all",onValueChange:w=>v("type_filter",w),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"All types"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All types"}),e.jsx(K,{value:"student",children:"Student"}),e.jsx(K,{value:"institute",children:"Institution"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"status",children:"Status"}),e.jsxs(Ne,{value:h.status_filter||"all",onValueChange:w=>v("status_filter",w),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"All statuses"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All statuses"}),e.jsx(K,{value:"paid",children:"Paid"}),e.jsx(K,{value:"pending",children:"Pending"}),e.jsx(K,{value:"unpaid",children:"Unpaid"})]})]})]})]})})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Payment Entries"}),e.jsxs(Re,{children:["Showing ",n.length," of ",p.total," payments"]})]}),e.jsxs(se,{children:[e.jsx("div",{className:"space-y-3",children:n.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>C(w),children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:_(w.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-lg",children:w.type==="institute"&&w.institute?w.institute.name:w.type==="student"&&w.student?w.student.name:"Unknown"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:w.type==="institute"&&w.institute?w.institute.type:w.type==="student"&&w.student?w.student.email:"No details available"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-lg",children:R(w.amount)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:g(w.created_at)})]}),e.jsx("div",{children:A(w.status,w.status_text)})]})]},`${w.type}-${w.id}`))}),p.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(p.page-1)*p.limit+1," to ",Math.min(p.page*p.limit,p.total)," of ",p.total," results"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>x(w=>({...w,page:w.page-1})),disabled:!p.has_prev,children:[e.jsx(vd,{className:"w-4 h-4 mr-1"}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,p.total_pages)},(w,b)=>{const I=b+1;return e.jsx(F,{variant:p.page===I?"default":"outline",size:"sm",onClick:()=>x(k=>({...k,page:I})),children:I},I)})}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>x(w=>({...w,page:w.page+1})),disabled:!p.has_next,children:["Next",e.jsx(Jo,{className:"w-4 h-4 ml-1"})]})]})]})]})]})]})},EF=()=>{var P,R;const{toast:t}=_e(),[s,n]=c.useState(""),[r,a]=c.useState(null),[i,o]=c.useState(!1),[l,d]=c.useState("all"),[u,h]=c.useState([]),[m,p]=c.useState([]),[x,S]=c.useState(!0),y=async()=>{try{const[g,A]=await Promise.all([Z.getAdminInvoices({search:s||void 0,status:l!=="all"?l:void 0}),Z.getAdminInstitutions()]);if(g.data&&typeof g.data=="object"){const _=g.data;h(_.invoices||[])}else h([]);if(A.data&&typeof A.data=="object"){const _=A.data;p(_.institutions||[])}else p([])}catch(g){console.error("Error fetching data:",g),t({title:"Error",description:"Failed to fetch invoices data",variant:"destructive"})}finally{S(!1)}};c.useEffect(()=>{y()},[s,l]);const j=g=>{a(g),o(!0)},v=g=>{t({title:"Feature Coming Soon",description:"Edit invoice functionality will be implemented soon."})},f=g=>{t({title:"Feature Coming Soon",description:"Generate invoice functionality will be implemented soon."})},N=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},C=g=>{switch(g){case"Paid":return"bg-green-100 text-green-800";case"Partial":return"bg-yellow-100 text-yellow-800";case"Pending":return"bg-red-100 text-red-800";case"Overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading invoices data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Invoice Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate and manage institution invoices"})]}),e.jsxs(F,{onClick:N,variant:"outline",children:[e.jsx(va,{className:"h-4 w-4 mr-2"}),"Export"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search invoices...",value:s,onChange:g=>n(g.target.value),className:"pl-10"})]}),e.jsxs(Ne,{value:l,onValueChange:d,children:[e.jsx(ye,{className:"w-full sm:w-48",children:e.jsx(Se,{placeholder:"All Status"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Status"}),e.jsx(K,{value:"paid",children:"Paid"}),e.jsx(K,{value:"partial",children:"Partial"}),e.jsx(K,{value:"pending",children:"Pending"}),e.jsx(K,{value:"overdue",children:"Overdue"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Invoices"}),e.jsx(mn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Paid Invoices"}),e.jsx(Jt,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Pending Invoices"}),e.jsx(Gn,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Overdue Invoices"}),e.jsx(Et,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Past due date"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Institution Invoices"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.length," institutions"]})})]}),m.length===0?e.jsx(te,{children:e.jsxs(se,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No institutions found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||l!=="all"?"Try adjusting your search or filter criteria.":"No institutions have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(m||[]).map(g=>{var A,_;return e.jsx(te,{className:"hover:shadow-md transition-shadow",children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:g.name}),e.jsx(he,{className:C(g.payment_status),children:g.payment_status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",g.contact_person]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",g.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Invoice Number:"})," N/A"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Amount:"})," ",((A=g.total_amount)==null?void 0:A.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Paid Amount:"})," ",((_=g.paid_amount)==null?void 0:_.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Pending Amount:"})," ",(g.total_amount||0)-(g.paid_amount||0)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Due Date:"})," N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>j(g),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>v(),children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>f(),children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Generate"]})]})]})})},g.id)})})]}),e.jsx(Xe,{open:i,onOpenChange:o,children:e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Invoice Details"}),e.jsxs(xt,{children:["View and manage invoice for ",r==null?void 0:r.name]})]}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Institution Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",r.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",r.contact_person]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",r.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",r.institution_type||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Invoice Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Invoice Number:"})," N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Invoice Date:"})," N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Due Date:"})," N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(he,{className:`ml-2 ${C(r.payment_status)}`,children:r.payment_status})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Financial Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",((P=r.total_amount)==null?void 0:P.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",((R=r.paid_amount)==null?void 0:R.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Pending Amount:"})," ",(r.total_amount||0)-(r.paid_amount||0)]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{onClick:()=>v(),children:[e.jsx(mn,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]}),e.jsx(F,{variant:"outline",onClick:()=>o(!1),children:"Close"})]})]})]})]})})]})},AF=()=>{var w;const{toast:t}=_e(),[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState(null),[l,d]=c.useState(!1),[u,h]=c.useState(!1),[m,p]=c.useState({name:"",email:"",phone:"",company:"",amount:""}),[x,S]=c.useState([]),[y,j]=c.useState([]),[v,f]=c.useState(!0),N=async()=>{try{const[b,I]=await Promise.all([Z.getAdminSponsorships(),Z.getAdminInstitutions()]);if(b.data&&typeof b.data=="object"){const k=b.data;S(k.sponsorships||[])}else S([]);if(I.data&&typeof I.data=="object"){const k=I.data;j(k.institutions||[])}else j([])}catch(b){console.error("Error fetching data:",b),t({title:"Error",description:"Failed to fetch sponsorships data",variant:"destructive"})}finally{f(!1)}};c.useEffect(()=>{N()},[]);const C=b=>{o(b),d(!0)},P=b=>{t({title:"Feature Coming Soon",description:"Edit sponsorship functionality will be implemented soon."})},R=b=>{t({title:"Feature Coming Soon",description:"Delete sponsorship functionality will be implemented soon."})},g=()=>{t({title:"Feature Coming Soon",description:"Add sponsor functionality will be implemented soon."}),h(!1),p({name:"",email:"",phone:"",company:"",amount:""})},A=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},_=b=>{switch(b){case"Approved":return"bg-green-100 text-green-800";case"Applied":return"bg-yellow-100 text-yellow-800";case"Rejected":return"bg-red-100 text-red-800";case"Pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sponsorships data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sponsorship Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage sponsorships and sponsor relationships"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{onClick:A,variant:"outline",children:[e.jsx(va,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(Xe,{open:u,onOpenChange:h,children:[e.jsx(vr,{asChild:!0,children:e.jsxs(F,{children:[e.jsx(ci,{className:"h-4 w-4 mr-2"}),"Add Sponsor"]})}),e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add New Sponsor"}),e.jsx(xt,{children:"Register a new sponsor for the sports festival"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sponsor Name"}),e.jsx(D,{value:m.name,onChange:b=>p({...m,name:b.target.value}),placeholder:"Enter sponsor name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Company"}),e.jsx(D,{value:m.company,onChange:b=>p({...m,company:b.target.value}),placeholder:"Enter company name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(D,{type:"email",value:m.email,onChange:b=>p({...m,email:b.target.value}),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Phone"}),e.jsx(D,{value:m.phone,onChange:b=>p({...m,phone:b.target.value}),placeholder:"Enter phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sponsorship Amount"}),e.jsx(D,{type:"number",value:m.amount,onChange:b=>p({...m,amount:b.target.value}),placeholder:"Enter sponsorship amount"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx(F,{onClick:g,children:"Add Sponsor"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search sponsorships...",value:s,onChange:b=>n(b.target.value),className:"pl-10"})]}),e.jsxs(Ne,{value:r,onValueChange:a,children:[e.jsx(ye,{className:"w-full sm:w-48",children:e.jsx(Se,{placeholder:"All Status"})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"All Status"}),e.jsx(K,{value:"approved",children:"Approved"}),e.jsx(K,{value:"applied",children:"Applied"}),e.jsx(K,{value:"pending",children:"Pending"}),e.jsx(K,{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Sponsors"}),e.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold",children:x.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Approved Sponsors"}),e.jsx(Jt,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active sponsors"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Pending Applications"}),e.jsx(Gn,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(Et,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Sponsored amount"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Sponsorship Applications"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.length," sponsorships"]})]})]}),x.length===0?e.jsx(te,{children:e.jsxs(se,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Js,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No sponsorships found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"?"Try adjusting your search or filter criteria.":"No sponsorship applications have been submitted yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(x||[]).map(b=>{var I;return e.jsx(te,{className:"hover:shadow-md transition-shadow",children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:b.name||"N/A"}),e.jsx(he,{className:_(b.status||"Pending"),children:b.status||"Pending"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Company:"})," ",b.company||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",b.email||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",b.phone||"N/A"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Amount:"})," ",((I=b.amount)==null?void 0:I.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Applied Date:"})," ",b.applied_date||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Notes:"})," ",b.notes||"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>C(b),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>P(),children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>R(b.id),children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})},b.id)})})]}),e.jsx(Xe,{open:l,onOpenChange:d,children:e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Sponsorship Details"}),e.jsxs(xt,{children:["View and manage sponsorship application for ",i==null?void 0:i.name]})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Sponsor Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",i.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Company:"})," ",i.company||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",i.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",i.phone||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Sponsorship Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Amount:"})," ",((w=i.amount)==null?void 0:w.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(he,{className:`ml-2 ${_(i.status||"Pending")}`,children:i.status||"Pending"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Applied Date:"})," ",i.applied_date||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Approved Date:"})," ",i.approved_date||"N/A"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.notes||"No notes available"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(F,{onClick:()=>P(),children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Edit Sponsorship"]}),e.jsx(F,{variant:"outline",onClick:()=>d(!1),children:"Close"})]})]})]})]})})]})},Qg=["Male","Female","other"],Xg=["Individual","Team"],IF=()=>{const{toast:t}=_e();wt();const[s,n]=c.useState([]),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(null),[u,h]=c.useState(null),[m,p]=c.useState(!1),[x,S]=c.useState({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),[y,j]=c.useState([]),[v,f]=c.useState([]),[N,C]=c.useState({parentSport:"",name:"",fee:"",gender:"other",level:1}),[P,R]=c.useState([]),[g,A]=c.useState(!0),[_,w]=c.useState(1),[b,I]=c.useState(0),[k]=c.useState(10),O=async(L=_)=>{var ee,ne;try{console.log(" Fetching sports...");const $=(L-1)*k,T=await Z.getAdminSports({skip:$,limit:k});console.log(" API Response:",T),console.log(" Response data:",T.data);const G=T.data,X=((ee=G==null?void 0:G.data)==null?void 0:ee.sports)||(G==null?void 0:G.sports)||[];console.log(" Sports data:",X),console.log(" Sports data type:",typeof X),console.log(" Is array:",Array.isArray(X)),R(Array.isArray(X)?X:[]),I(((ne=G==null?void 0:G.data)==null?void 0:ne.total)||0),console.log(" Sports set successfully")}catch($){console.error("Error fetching sports:",$),t({title:"Error",description:"Failed to fetch sports data",variant:"destructive"})}finally{A(!1)}};c.useEffect(()=>{O()},[]);const U=L=>{w(L),O(L)};c.useEffect(()=>{console.log(" Render - Sports length:",P.length),console.log(" Render - Sports:",P),console.log(" Render - Loading:",g)},[P,g]);const V=async()=>{try{if(!x.sportType){t({title:"Validation Error",description:"Sport type is required",variant:"destructive"});return}if(!x.sportName.trim()){t({title:"Validation Error",description:"Sport name is required",variant:"destructive"});return}if(!x.ageFrom||!x.ageTo){t({title:"Validation Error",description:"Age from and age to are required",variant:"destructive"});return}if(!x.gender){t({title:"Validation Error",description:"Gender is required",variant:"destructive"});return}if(!x.fees||parseFloat(x.fees)<0){t({title:"Validation Error",description:"Valid fees amount is required",variant:"destructive"});return}const L=y.filter($=>$.name.trim());for(const $ of L){if(!$.name.trim()){t({title:"Validation Error",description:"Category name is required",variant:"destructive"});return}const T=($.subCategories||[]).filter(G=>G.name.trim());for(const G of T)if(!G.name.trim()){t({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}}const ee={sport_name:x.sportName,type:x.sportType,age_from:x.ageFrom,age_to:x.ageTo,gender:x.gender,fee:parseFloat(x.fees),min_limit:x.participantLimit?parseInt(x.participantLimit):null,max_limit:x.participantLimit?parseInt(x.participantLimit):null,categories:L.map($=>({name:$.name,ageFrom:$.ageFrom,ageTo:$.ageTo,limitPerInstitution:$.limitPerInstitution?parseInt($.limitPerInstitution):null,subCategories:($.subCategories||[]).filter(T=>T.name.trim()).map(T=>({name:T.name,ageFrom:T.ageFrom,ageTo:T.ageTo}))}))},ne=await Z.createSport(ee);t({title:"Success",description:"Sport created successfully!"}),a(!1),S({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),j([]),f([]),O()}catch(L){console.error("Error creating sport:",L),t({title:"Error",description:"Failed to create sport",variant:"destructive"})}},B=L=>{d(L),S({sportType:L.type||"Individual",sportName:L.name||L.sport_name||"",ageFrom:L.age_from||L.ageFrom||"",ageTo:L.age_to||L.ageTo||"",gender:L.gender||"other",fees:L.fees||L.fee||"",participantLimit:L.min_limit&&L.max_limit?`${L.min_limit}-${L.max_limit}`:""}),j(L.categories||[]),f([]),o(!0)},H=async()=>{try{if(!x.sportType){t({title:"Validation Error",description:"Sport type is required",variant:"destructive"});return}if(!x.sportName){t({title:"Validation Error",description:"Sport name is required",variant:"destructive"});return}if(!x.ageFrom||!x.ageTo){t({title:"Validation Error",description:"Age from and age to are required",variant:"destructive"});return}if(!x.gender){t({title:"Validation Error",description:"Gender is required",variant:"destructive"});return}if(!x.fees||parseFloat(x.fees)<0){t({title:"Validation Error",description:"Valid fees amount is required",variant:"destructive"});return}const L=y.filter(ne=>ne.name.trim());for(const ne of L){if(!ne.name.trim()){t({title:"Validation Error",description:"Category name is required",variant:"destructive"});return}const $=(ne.subCategories||[]).filter(T=>T.name.trim());for(const T of $)if(!T.name.trim()){t({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}}const ee={sport_name:x.sportName,type:x.sportType,age_from:x.ageFrom,age_to:x.ageTo,gender:x.gender,fee:parseFloat(x.fees),min_limit:x.participantLimit?parseInt(x.participantLimit):null,max_limit:x.participantLimit?parseInt(x.participantLimit):null,categories:L.map(ne=>({name:ne.name,ageFrom:ne.ageFrom,ageTo:ne.ageTo,limitPerInstitution:ne.limitPerInstitution?parseInt(ne.limitPerInstitution):null,subCategories:(ne.subCategories||[]).filter($=>$.name.trim()).map($=>({name:$.name,ageFrom:$.ageFrom,ageTo:$.ageTo}))}))};await Z.updateSport(parseInt(l.id),ee),t({title:"Success",description:"Sport updated successfully!"}),o(!1),d(null),S({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),j([]),f([]),O()}catch(L){console.error("Error updating sport:",L),t({title:"Error",description:"Failed to update sport",variant:"destructive"})}},q=async L=>{try{await Z.deleteSport(parseInt(L)),t({title:"Success",description:"Sport deleted successfully!"}),O()}catch(ee){console.error("Error deleting sport:",ee),t({title:"Error",description:"Failed to delete sport",variant:"destructive"})}},re=L=>{var ee,ne;h(L),C({parentSport:L.sportId||"",name:L.name||"",fee:((ee=L.fee)==null?void 0:ee.toString())||((ne=L.fees)==null?void 0:ne.toString())||"",gender:L.gender||L.gender_allowed||"other",level:L.level||1}),p(!0)},Q=async()=>{try{if(!N.name.trim()){t({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}await Z.updateSubCategory(parseInt(u.id),N),t({title:"Success",description:"Sub-category updated successfully!"}),p(!1),h(null),C({parentSport:"",name:"",fee:"",gender:"other",level:1}),O()}catch(L){console.error("Error updating subcategory:",L),t({title:"Error",description:"Failed to update sub-category",variant:"destructive"})}},ie=async L=>{try{await Z.deleteSubCategory(L),t({title:"Success",description:"Sub-category deleted successfully!"}),O()}catch(ee){console.error("Error deleting subcategory:",ee),t({title:"Error",description:"Failed to delete sub-category",variant:"destructive"})}},ue=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})};return g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sports data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Sports Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage sports categories and subcategories"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(F,{onClick:ue,variant:"outline",className:"w-full sm:w-auto",children:[e.jsx(va,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(Xe,{open:r,onOpenChange:a,children:[e.jsx(vr,{asChild:!0,children:e.jsxs(F,{className:"w-full sm:w-auto",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Sport"]})}),e.jsxs(Ke,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add New Sport"}),e.jsx(xt,{children:"Create a new sport with age groups, categories, and sub-categories."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sportType",children:"Sport Type *"}),e.jsxs(Ne,{value:x.sportType,onValueChange:L=>{S({...x,sportType:L,sportName:"",ageFrom:"",ageTo:""}),j([]),f([])},children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sport type"})}),e.jsx(je,{children:Xg.map(L=>e.jsx(K,{value:L,children:L},L))})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sportName",children:"Sport Name *"}),e.jsx(D,{id:"sportName",value:x.sportName,onChange:L=>S({...x,sportName:L.target.value}),placeholder:"e.g., Football, Athletics, Swimming"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"ageFrom",children:"Age From *"}),e.jsx(D,{id:"ageFrom",value:x.ageFrom,onChange:L=>S({...x,ageFrom:L.target.value}),placeholder:"e.g., U9, U11, 12, 15"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"ageTo",children:"Age To *"}),e.jsx(D,{id:"ageTo",value:x.ageTo,onChange:L=>S({...x,ageTo:L.target.value}),placeholder:"e.g., U19, U17, 18, 21"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"gender",children:"Gender *"}),e.jsxs(Ne,{value:x.gender,onValueChange:L=>S({...x,gender:L}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsx(je,{children:Qg.map(L=>e.jsx(K,{value:L,children:L},L))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"fees",children:"Fees () *"}),e.jsx(D,{id:"fees",type:"number",value:x.fees,onChange:L=>S({...x,fees:L.target.value}),placeholder:"e.g., 500, 1000, 1500"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"participantLimit",children:"Participant Limit"}),e.jsx(D,{id:"participantLimit",type:"number",value:x.participantLimit,onChange:L=>S({...x,participantLimit:L.target.value}),placeholder:"e.g., 50, 100, 200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-lg font-semibold",children:"Categories"}),e.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>{const L={name:"",ageFrom:"",ageTo:"",limitPerInstitution:"",subCategories:[]};j([...y,L])},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Category"]})]}),y.map((L,ee)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-4 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(E,{className:"text-sm font-medium",children:["Category ",ee+1]}),e.jsx(F,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(y.filter((ne,$)=>$!==ee)),className:"text-destructive hover:text-destructive",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Category Name *"}),e.jsx(D,{placeholder:"e.g., Track, Field, 1v1, Doubles",value:L.name,onChange:ne=>{const $=[...y];$[ee].name=ne.target.value,j($)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Limit per Institution"}),e.jsx(D,{type:"number",placeholder:"Optional limit",value:L.limitPerInstitution,onChange:ne=>{const $=[...y];$[ee].limitPerInstitution=ne.target.value,j($)}})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:L.ageFrom,onChange:ne=>{const $=[...y];$[ee].ageFrom=ne.target.value,j($)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:L.ageTo,onChange:ne=>{const $=[...y];$[ee].ageTo=ne.target.value,j($)}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-sm font-medium",children:"Sub-Categories"}),e.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>{const ne={name:"",ageFrom:"",ageTo:""},$=[...y];$[ee].subCategories=[...$[ee].subCategories||[],ne],j($)},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Sub-Category"]})]}),(L.subCategories||[]).map((ne,$)=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-3 bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(E,{className:"text-xs font-medium",children:["Sub-Category ",$+1]}),e.jsx(F,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const T=[...y];T[ee].subCategories=T[ee].subCategories.filter((G,X)=>X!==$),j(T)},className:"text-destructive hover:text-destructive",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Sub-Category Name *"}),e.jsx(D,{placeholder:"e.g., 50m, 100m, Doubles",value:ne.name,onChange:T=>{const G=[...y];G[ee].subCategories[$].name=T.target.value,j(G)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:ne.ageFrom,onChange:T=>{const G=[...y];G[ee].subCategories[$].ageFrom=T.target.value,j(G)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:ne.ageTo,onChange:T=>{const G=[...y];G[ee].subCategories[$].ageTo=T.target.value,j(G)}})]})]})]},$))]})]},ee))]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(F,{variant:"outline",onClick:()=>{a(!1),S({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),j([]),f([])},children:"Cancel"}),e.jsx(F,{onClick:V,children:"Save Sport"})]})]})]})]})]})]}),e.jsx(Xe,{open:i,onOpenChange:o,children:e.jsxs(Ke,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Edit Sport"}),e.jsx(xt,{children:"Update sport information, categories, and sub-categories."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editSportType",children:"Sport Type *"}),e.jsxs(Ne,{value:x.sportType,onValueChange:L=>S({...x,sportType:L}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sport type"})}),e.jsx(je,{children:Xg.map(L=>e.jsx(K,{value:L,children:L},L))})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editSportName",children:"Sport Name *"}),e.jsx(D,{id:"editSportName",value:x.sportName,onChange:L=>S({...x,sportName:L.target.value}),placeholder:"e.g., Football, Basketball, Swimming, Badminton"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editAgeFrom",children:"Age From *"}),e.jsx(D,{id:"editAgeFrom",value:x.ageFrom,onChange:L=>S({...x,ageFrom:L.target.value}),placeholder:"e.g., U9, U11, 12, 15"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editAgeTo",children:"Age To *"}),e.jsx(D,{id:"editAgeTo",value:x.ageTo,onChange:L=>S({...x,ageTo:L.target.value}),placeholder:"e.g., U19, U17, 18, 21"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editGender",children:"Gender *"}),e.jsxs(Ne,{value:x.gender,onValueChange:L=>S({...x,gender:L}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsx(je,{children:Qg.map(L=>e.jsx(K,{value:L,children:L},L))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editFees",children:"Fees () *"}),e.jsx(D,{id:"editFees",type:"number",value:x.fees,onChange:L=>S({...x,fees:L.target.value}),placeholder:"e.g., 500, 1000, 1500"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editParticipantLimit",children:"Participant Limit"}),e.jsx(D,{id:"editParticipantLimit",type:"number",value:x.participantLimit,onChange:L=>S({...x,participantLimit:L.target.value}),placeholder:"e.g., 50, 100, 200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-lg font-semibold",children:"Categories"}),e.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>{const L={name:"",ageFrom:"",ageTo:"",limitPerInstitution:"",subCategories:[]};j([...y,L])},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Category"]})]}),y.map((L,ee)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-4 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(E,{className:"text-sm font-medium",children:["Category ",ee+1]}),e.jsx(F,{type:"button",variant:"ghost",size:"sm",onClick:()=>j(y.filter((ne,$)=>$!==ee)),className:"text-destructive hover:text-destructive",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Category Name *"}),e.jsx(D,{placeholder:"e.g., Track, Field, 1v1, Doubles",value:L.name,onChange:ne=>{const $=[...y];$[ee].name=ne.target.value,j($)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Limit per Institution"}),e.jsx(D,{type:"number",placeholder:"Optional limit",value:L.limitPerInstitution,onChange:ne=>{const $=[...y];$[ee].limitPerInstitution=ne.target.value,j($)}})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:L.ageFrom,onChange:ne=>{const $=[...y];$[ee].ageFrom=ne.target.value,j($)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:L.ageTo,onChange:ne=>{const $=[...y];$[ee].ageTo=ne.target.value,j($)}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{className:"text-sm font-medium",children:"Sub-Categories"}),e.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>{const ne={name:"",ageFrom:"",ageTo:""},$=[...y];$[ee].subCategories=[...$[ee].subCategories||[],ne],j($)},children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Sub-Category"]})]}),(L.subCategories||[]).map((ne,$)=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-3 bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(E,{className:"text-xs font-medium",children:["Sub-Category ",$+1]}),e.jsx(F,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const T=[...y];T[ee].subCategories=T[ee].subCategories.filter((G,X)=>X!==$),j(T)},className:"text-destructive hover:text-destructive",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Sub-Category Name *"}),e.jsx(D,{placeholder:"e.g., 50m, 100m, Doubles",value:ne.name,onChange:T=>{const G=[...y];G[ee].subCategories[$].name=T.target.value,j(G)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:ne.ageFrom,onChange:T=>{const G=[...y];G[ee].subCategories[$].ageFrom=T.target.value,j(G)}})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:ne.ageTo,onChange:T=>{const G=[...y];G[ee].subCategories[$].ageTo=T.target.value,j(G)}})]})]})]},$))]})]},ee))]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(F,{variant:"outline",onClick:()=>{o(!1),d(null),S({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),j([]),f([])},children:"Cancel"}),e.jsx(F,{onClick:H,children:"Update Sport"})]})]})]})}),e.jsx(Xe,{open:m,onOpenChange:p,children:e.jsxs(Ke,{className:"max-w-2xl",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Edit Sub-category"}),e.jsx(xt,{children:"Update sub-category information."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editSubCategoryName",children:"Sub-category Name"}),e.jsx(D,{id:"editSubCategoryName",value:N.name,onChange:L=>C({...N,name:L.target.value}),placeholder:"e.g., Under 16 Boys"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editSubCategoryFee",children:"Fee ()"}),e.jsx(D,{id:"editSubCategoryFee",type:"number",value:N.fee,onChange:L=>C({...N,fee:L.target.value}),placeholder:"500"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editSubCategoryLevel",children:"Level"}),e.jsxs(Ne,{value:(N.level||1).toString(),onValueChange:L=>C({...N,level:parseInt(L)}),children:[e.jsx(ye,{children:e.jsx(Se,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"1",children:"Level 1"}),e.jsx(K,{value:"2",children:"Level 2"}),e.jsx(K,{value:"3",children:"Level 3"}),e.jsx(K,{value:"4",children:"Level 4"}),e.jsx(K,{value:"5",children:"Level 5"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"editSubCategoryGender",children:"Gender Allowed"}),e.jsxs(Ne,{value:N.gender,onValueChange:L=>C({...N,gender:L}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Both",children:"Both"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{variant:"outline",onClick:()=>{p(!1),h(null),C({parentSport:"",name:"",fee:"",gender:"other",level:1})},children:"Cancel"}),e.jsx(F,{onClick:Q,children:"Update Sub-category"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[P.length===0?e.jsx(te,{children:e.jsxs(se,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Fe,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No sports found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"No sports have been configured yet. Add your first sport category to get started."})]})}):(P||[]).map(L=>{var ee;return e.jsxs(te,{className:"hover:shadow-md transition-shadow",children:[e.jsx(le,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fe,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(ce,{className:"text-lg",children:L.name||L.sport_name}),e.jsxs(Re,{className:"text-sm",children:[L.type," Sport | Age: ",L.age_from,"-",L.age_to," | Gender: ",L.gender===1?"Male":L.gender===0?"Female":"Both",L.type==="Team"&&L.min_limit&&L.max_limit&&` | Team Size: ${L.min_limit}-${L.max_limit}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(he,{variant:"outline",children:[e.jsx(Ve,{className:"h-3 w-3 mr-1"}),L.student_count||0," students"]}),e.jsxs(he,{variant:"outline",children:[e.jsx(Jt,{className:"h-3 w-3 mr-1"}),L.institution_count||0," institutions"]}),e.jsxs(he,{variant:"outline",children:[((ee=L.categories)==null?void 0:ee.length)||0," categories"]}),e.jsx(he,{variant:L.is_active?"default":"secondary",children:L.is_active?"Active":"Inactive"}),e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>B(L),children:e.jsx(Kt,{className:"h-4 w-4"})}),e.jsxs(Kc,{children:[e.jsx(Jc,{asChild:!0,children:e.jsx(F,{variant:"ghost",size:"sm",children:e.jsx(Rt,{className:"h-4 w-4"})})}),e.jsxs(ko,{children:[e.jsxs(Mo,{children:[e.jsx(Fo,{children:"Delete Sport"}),e.jsxs(Do,{children:['Are you sure you want to delete "',L.name||L.sport_name,'"? This action cannot be undone.']})]}),e.jsxs(Oo,{children:[e.jsx($o,{children:"Cancel"}),e.jsx(Lo,{onClick:()=>q(L.id),children:"Delete"})]})]})]})]})]})}),e.jsx(se,{children:e.jsx("div",{className:"space-y-4",children:!L.categories||L.categories.length===0?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No categories available"}):e.jsx("div",{className:"grid gap-3",children:L.categories.map(ne=>{var $;return e.jsx(te,{className:"bg-muted/30",children:e.jsx(se,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:ne.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fee: ",ne.fee||0," | Status: ",ne.is_active?"Active":"Inactive"]}),ne.subcategories&&ne.subcategories.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Subcategories: ",ne.subcategories.map(T=>T.name).join(", ")]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(he,{variant:"outline",children:[(($=ne.subcategories)==null?void 0:$.length)||0," subcategories"]}),e.jsx(F,{variant:"ghost",size:"sm",onClick:()=>re(ne),children:e.jsx(Kt,{className:"h-4 w-4"})}),e.jsxs(Kc,{children:[e.jsx(Jc,{asChild:!0,children:e.jsx(F,{variant:"ghost",size:"sm",children:e.jsx(Rt,{className:"h-4 w-4"})})}),e.jsxs(ko,{children:[e.jsxs(Mo,{children:[e.jsx(Fo,{children:"Delete Category"}),e.jsxs(Do,{children:['Are you sure you want to delete "',ne.name,'"? This action cannot be undone.']})]}),e.jsxs(Oo,{children:[e.jsx($o,{children:"Cancel"}),e.jsx(Lo,{onClick:()=>ie(ne.id),children:"Delete"})]})]})]})]})]})})},ne.id)})})})})]},L.id)}),b>k&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(_-1)*k+1," to ",Math.min(_*k,b)," of ",b," sports"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>U(_-1),disabled:_===1,children:[e.jsx(kc,{className:"h-4 w-4 rotate-90"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(b/k)},(L,ee)=>ee+1).filter(L=>L===1||L===Math.ceil(b/k)||Math.abs(L-_)<=2).map((L,ee,ne)=>{const $=ee>0&&L-ne[ee-1]>1;return e.jsxs("div",{className:"flex items-center gap-1",children:[$&&e.jsx("span",{className:"text-muted-foreground",children:"..."}),e.jsx(F,{variant:_===L?"default":"outline",size:"sm",onClick:()=>U(L),className:"w-8 h-8 p-0",children:L})]},L)})}),e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>U(_+1),disabled:_===Math.ceil(b/k),children:["Next",e.jsx(kc,{className:"h-4 w-4 -rotate-90"})]})]})]})]})]})},RF=()=>{const{id:t}=Zo(),s=wt(),{toast:n}=_e(),[r,a]=c.useState(null),[i,o]=c.useState(!0),[l,d]=c.useState(null),[u,h]=c.useState(!1),[m,p]=c.useState({}),[x,S]=c.useState({name:"",gender:"Open",level:1}),[y,j]=c.useState(!1);c.useEffect(()=>{t&&(async()=>{try{o(!0);const g=(await Z.getSport(parseInt(t))).data,A=(g==null?void 0:g.data)||g;a(A),p(A)}catch(R){console.error("Error fetching sport details:",R),d("Failed to load sport details"),n({title:"Error",description:"Failed to load sport details",variant:"destructive"})}finally{o(!1)}})()},[t,n]);const v=async()=>{try{await Z.updateSport(parseInt(t),m),a(m),h(!1),n({title:"Success",description:"Sport updated successfully"})}catch(P){console.error("Error updating sport:",P),n({title:"Error",description:"Failed to update sport",variant:"destructive"})}},f=async()=>{try{if(!x.name.trim()){n({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}await Z.addSubCategory(t,x);const P=await Z.getSport(parseInt(t));a(P.data),p(P.data),S({name:"",gender:"Open",level:1}),j(!1),n({title:"Success",description:"Sub-category added successfully"})}catch(P){console.error("Error adding sub-category:",P),n({title:"Error",description:"Failed to add sub-category",variant:"destructive"})}},N=async(P,R)=>{try{await Z.updateSubCategory(parseInt(P),R);const g=await Z.getSport(parseInt(t));a(g.data),p(g.data),n({title:"Success",description:"Sub-category updated successfully"})}catch(g){console.error("Error updating sub-category:",g),n({title:"Error",description:"Failed to update sub-category",variant:"destructive"})}},C=async P=>{try{await Z.deleteSubCategory(P);const R=await Z.getSport(parseInt(t));a(R.data),p(R.data),n({title:"Success",description:"Sub-category deleted successfully"})}catch(R){console.error("Error deleting sub-category:",R),n({title:"Error",description:"Failed to delete sub-category",variant:"destructive"})}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sport details..."})]})}):l||!r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Fe,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Sport Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:l||"The requested sport could not be found."}),e.jsxs(F,{onClick:()=>s("/admin/admin-sports"),children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Back to Sports"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>s("/admin/admin-sports"),children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:r.name||r.sport_name}),e.jsx("p",{className:"text-muted-foreground",children:"Sport Details & Management"})]})]}),e.jsx("div",{className:"flex gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsxs(F,{variant:"outline",onClick:()=>h(!1),children:[e.jsx(jn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(F,{onClick:v,children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):e.jsxs(F,{onClick:()=>h(!0),children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Update"]})})]}),e.jsxs(Mf,{defaultValue:"overview",className:"w-full",children:[e.jsxs(pu,{className:"grid w-full grid-cols-3",children:[e.jsx(On,{value:"overview",children:"Overview"}),e.jsx(On,{value:"subcategories",children:"Sub-Categories"}),e.jsx(On,{value:"settings",children:"Settings"})]}),e.jsxs(Fn,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Sport Type"}),e.jsx(Qo,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(se,{children:e.jsx("div",{className:"text-2xl font-bold",children:e.jsx(he,{variant:r.type==="Individual"?"default":"secondary",children:r.type||"Individual"})})})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Age Range"}),e.jsx(Gn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.age_from," - ",r.age_to]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Years"})]})]}),e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Gender"}),e.jsx(KP,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(se,{children:e.jsx("div",{className:"text-2xl font-bold",children:e.jsx(he,{variant:"outline",children:r.gender||"Open"})})})]}),r.fees&&e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Fees"}),e.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(se,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["",r.fees]})})]}),(r.min_limit||r.max_limit)&&e.jsxs(te,{children:[e.jsxs(le,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Participant Limit"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(se,{children:e.jsx("div",{className:"text-2xl font-bold",children:r.min_limit&&r.max_limit?`${r.min_limit} - ${r.max_limit}`:r.min_limit||r.max_limit})})]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsx(ce,{children:"Description"})}),e.jsx(se,{children:u?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(E,{htmlFor:"description",children:"Description"}),e.jsx(D,{id:"description",value:m.description||"",onChange:P=>p({...m,description:P.target.value}),placeholder:"Enter sport description..."})]})}):e.jsx("p",{className:"text-muted-foreground",children:r.description||"No description available for this sport."})})]})]}),e.jsxs(Fn,{value:"subcategories",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sub-Categories"}),e.jsxs(F,{onClick:()=>j(!0),children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add Sub-Category"]})]}),r.categories&&r.categories.length>0?e.jsx("div",{className:"space-y-4",children:r.categories.map((P,R)=>e.jsx(te,{children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:P.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Level: ",P.level||1]}),e.jsxs("span",{children:["Gender: ",P.gender||"Open"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{variant:"outline",size:"sm",onClick:()=>{const g=prompt("Enter new name:",P.name);g&&g.trim()&&N(P.id,{...P,name:g.trim()})},children:e.jsx(Kt,{className:"h-4 w-4"})}),e.jsxs(Kc,{children:[e.jsx(Jc,{asChild:!0,children:e.jsx(F,{variant:"outline",size:"sm",children:e.jsx(Rt,{className:"h-4 w-4"})})}),e.jsxs(ko,{children:[e.jsxs(Mo,{children:[e.jsx(Fo,{children:"Delete Sub-Category"}),e.jsxs(Do,{children:['Are you sure you want to delete "',P.name,'"? This action cannot be undone.']})]}),e.jsxs(Oo,{children:[e.jsx($o,{children:"Cancel"}),e.jsx(Lo,{onClick:()=>C(P.id),children:"Delete"})]})]})]})]})]})})},P.id||R))}):e.jsx(te,{children:e.jsxs(se,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Fe,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Sub-Categories"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"This sport doesn't have any sub-categories yet."}),e.jsxs(F,{onClick:()=>j(!0),children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Add First Sub-Category"]})]})})]}),e.jsx(Fn,{value:"settings",className:"space-y-6",children:e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Sport Settings"}),e.jsx(Re,{children:"Configure sport-specific settings and preferences"})]}),e.jsx(se,{className:"space-y-4",children:u?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sportName",children:"Sport Name"}),e.jsx(D,{id:"sportName",value:m.sportName||m.name||"",onChange:P=>p({...m,sportName:P.target.value,name:P.target.value}),placeholder:"Enter sport name"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sportType",children:"Sport Type"}),e.jsxs(Ne,{value:m.sportType||"Individual",onValueChange:P=>p({...m,sportType:P}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select sport type"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Individual",children:"Individual"}),e.jsx(K,{value:"Team",children:"Team"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"ageFrom",children:"Age From"}),e.jsx(D,{id:"ageFrom",value:m.ageFrom||"",onChange:P=>p({...m,ageFrom:P.target.value}),placeholder:"e.g., U6"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"ageTo",children:"Age To"}),e.jsx(D,{id:"ageTo",value:m.ageTo||"",onChange:P=>p({...m,ageTo:P.target.value}),placeholder:"e.g., U18"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"gender",children:"Gender"}),e.jsxs(Ne,{value:m.gender||"Open",onValueChange:P=>p({...m,gender:P}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Open",children:"Open"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"fees",children:"Fees ()"}),e.jsx(D,{id:"fees",type:"number",value:m.fees||"",onChange:P=>p({...m,fees:P.target.value}),placeholder:"Enter fees"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"participantLimit",children:"Participant Limit"}),e.jsx(D,{id:"participantLimit",type:"number",value:m.participantLimit||"",onChange:P=>p({...m,participantLimit:P.target.value}),placeholder:"Enter participant limit"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Sport Name"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.name||r.sport_name})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Sport Type"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.type||"Individual"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Age Range"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.age_from," - ",r.age_to]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Gender"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.gender||"Open"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Fees"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.fees?`${r.fees}`:"Not set"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Participant Limit"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.min_limit&&r.max_limit?`${r.min_limit} - ${r.max_limit}`:r.min_limit||r.max_limit||"Not set"})]})]})]})})]})})]}),e.jsx(Xe,{open:y,onOpenChange:j,children:e.jsxs(Ke,{children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add Sub-Category"}),e.jsx(xt,{children:"Add a new sub-category for this sport."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"subCategoryName",children:"Name"}),e.jsx(D,{id:"subCategoryName",value:x.name,onChange:P=>S({...x,name:P.target.value}),placeholder:"e.g., Under 16 Boys"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"subCategoryGender",children:"Gender"}),e.jsxs(Ne,{value:x.gender,onValueChange:P=>S({...x,gender:P}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Open",children:"Open"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"subCategoryLevel",children:"Level"}),e.jsxs(Ne,{value:x.level.toString(),onValueChange:P=>S({...x,level:parseInt(P)}),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select level"})}),e.jsxs(je,{children:[e.jsx(K,{value:"1",children:"Level 1"}),e.jsx(K,{value:"2",children:"Level 2"}),e.jsx(K,{value:"3",children:"Level 3"}),e.jsx(K,{value:"4",children:"Level 4"}),e.jsx(K,{value:"5",children:"Level 5"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(F,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(F,{onClick:f,children:"Add Sub-Category"})]})]})]})})]})},_F=()=>{var I,k;const{studentId:t}=Zo(),s=wt(),{toast:n}=_e(),[r,a]=c.useState(null),[i,o]=c.useState(!0),[l,d]=c.useState(null),[u,h]=c.useState(!1),[m,p]=c.useState(!1),[x,S]=c.useState({fname:"",mname:"",lname:"",email:"",student_id:"",phone:"",gender:"Other",dob:"",address:""});c.useEffect(()=>{t&&y()},[t]);const y=async()=>{var O,U;try{o(!0),d(null);const V=await Z.getStudentDetails(parseInt(t));if(console.log(" StudentDetailsPage: Full API response:",V),console.log(" StudentDetailsPage: Response data:",V.data),console.log(" StudentDetailsPage: Response success:",(O=V.data)==null?void 0:O.success),console.log(" StudentDetailsPage: Response data type:",typeof V.data),console.log(" StudentDetailsPage: Response data keys:",V.data?Object.keys(V.data):"No data"),V.data&&V.data.success){console.log(" StudentDetailsPage: Setting student data:",V.data.data);const B=V.data.data;a(B),S({fname:B.fname||"",mname:B.mname||"",lname:B.lname||"",email:B.email||"",student_id:B.student_id||"",phone:B.phone||"",gender:B.gender||"Other",dob:B.dob?B.dob.split("T")[0]:"",address:B.address||""})}else console.log(" StudentDetailsPage: API response not successful or missing data"),console.log(" StudentDetailsPage: response.data:",V.data),console.log(" StudentDetailsPage: response.data.success:",(U=V.data)==null?void 0:U.success),d("Failed to fetch student details")}catch(V){console.error("Error fetching student details:",V),d(V.message||"Failed to fetch student details"),n({title:"Error",description:"Failed to fetch student details",variant:"destructive"})}finally{o(!1)}},j=()=>{h(!0)},v=()=>{h(!1),r&&S({fname:r.fname||"",mname:r.mname||"",lname:r.lname||"",email:r.email||"",student_id:r.student_id||"",phone:r.phone||"",gender:r.gender||"Other",dob:r.dob?r.dob.split("T")[0]:"",address:r.address||""})},f=async()=>{var O;try{if(p(!0),!x.fname||!x.lname||!x.email||!x.student_id){n({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const U=await Z.updateStudent(parseInt(t),x);if(U.data&&U.data.success)n({title:"Success",description:"Student details updated successfully"}),h(!1),await y();else throw new Error(((O=U.data)==null?void 0:O.message)||"Failed to update student")}catch(U){console.error("Error updating student:",U),n({title:"Error",description:U.message||"Failed to update student details",variant:"destructive"})}finally{p(!1)}},N=O=>typeof O=="number"?O===1?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800":O?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",C=O=>typeof O=="number"?O===1?"Completed":"Pending":O?"Active":"Inactive",P=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(O),R=()=>r!=null&&r.sports_assignments?r.sports_assignments.reduce((O,U)=>O+(U.fee||0),0):0,g=()=>r!=null&&r.payment_requests?r.payment_requests.filter(O=>O.status===1).reduce((O,U)=>O+U.amount,0):0,A=()=>r!=null&&r.payment_requests?r.payment_requests.filter(O=>O.status===0).reduce((O,U)=>O+U.amount,0):0;if(i)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading student details..."})]})});if(l||!r)return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>s("/admin/admin-students"),children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Back to Students"]})}),e.jsx(te,{children:e.jsx(se,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-destructive mb-4",children:l||"Student not found"}),e.jsx(F,{onClick:()=>s("/admin/admin-students"),children:"Back to Students"})]})})})]});const _=R(),w=g(),b=A();return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>s("/admin/admin-students"),children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Back to Students"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Student Details"}),e.jsxs("p",{className:"text-muted-foreground",children:[r.fname," ",r.mname," ",r.lname]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsxs(F,{variant:"outline",onClick:v,disabled:m,children:[e.jsx(jn,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(F,{onClick:f,disabled:m,children:[e.jsx(ji,{className:"h-4 w-4 mr-2"}),m?"Saving...":"Save Changes"]})]}):e.jsxs(F,{onClick:j,children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Update"]})})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Personal Information"]})}),e.jsxs(se,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"fname",children:"First Name *"}),u?e.jsx(D,{id:"fname",value:x.fname,onChange:O=>S(U=>({...U,fname:O.target.value})),placeholder:"Enter first name"}):e.jsx("p",{className:"text-lg",children:r.fname})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"mname",children:"Middle Name"}),u?e.jsx(D,{id:"mname",value:x.mname,onChange:O=>S(U=>({...U,mname:O.target.value})),placeholder:"Enter middle name"}):e.jsx("p",{className:"text-lg",children:r.mname||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"lname",children:"Last Name *"}),u?e.jsx(D,{id:"lname",value:x.lname,onChange:O=>S(U=>({...U,lname:O.target.value})),placeholder:"Enter last name"}):e.jsx("p",{className:"text-lg",children:r.lname})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"student_id",children:"Student ID *"}),u?e.jsx(D,{id:"student_id",value:x.student_id,onChange:O=>S(U=>({...U,student_id:O.target.value})),placeholder:"Enter student ID",className:"font-mono"}):e.jsx("p",{className:"text-lg font-mono",children:r.student_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"email",children:"Email *"}),u?e.jsx(D,{id:"email",type:"email",value:x.email,onChange:O=>S(U=>({...U,email:O.target.value})),placeholder:"Enter email"}):e.jsx("p",{className:"text-lg",children:r.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"phone",children:"Phone"}),u?e.jsx(D,{id:"phone",type:"tel",value:x.phone,onChange:O=>S(U=>({...U,phone:O.target.value})),placeholder:"Enter phone number"}):e.jsx("p",{className:"text-lg",children:r.phone||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"gender",children:"Gender *"}),u?e.jsxs(Ne,{value:x.gender,onValueChange:O=>S(U=>({...U,gender:O})),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]}):e.jsx("p",{className:"text-lg",children:r.gender||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:"dob",children:"Date of Birth *"}),u?e.jsx(D,{id:"dob",type:"date",value:x.dob,onChange:O=>S(U=>({...U,dob:O.target.value}))}):e.jsx("p",{className:"text-lg",children:r.dob?new Date(r.dob).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsx(E,{htmlFor:"address",children:"Address"}),u?e.jsx(at,{id:"address",value:x.address,onChange:O=>S(U=>({...U,address:O.target.value})),placeholder:"Enter address",rows:3}):e.jsx("p",{className:"text-lg",children:r.address||"N/A"})]})]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),"Institution Information"]})}),e.jsx(se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Institution"}),e.jsx("p",{className:"text-lg",children:r.institute_name||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Institution Type"}),e.jsx("p",{className:"text-lg",children:r.institute_type||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Registration Date"}),e.jsx("p",{className:"text-lg",children:new Date(r.created_at).toLocaleDateString()})]})]})})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Payment Summary"]})}),e.jsx(se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:P(_)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Paid Amount"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:P(w)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Amount"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:P(b)})]})]})})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Sports Assignments"]}),e.jsxs(Re,{children:[((I=r.sports_assignments)==null?void 0:I.length)||0," sports assigned"]})]}),e.jsx(se,{children:r.sports_assignments&&r.sports_assignments.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Sport"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Sub-Category"}),e.jsx(xe,{children:"Age Group"}),e.jsx(xe,{children:"Gender"}),e.jsx(xe,{children:"Fee"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Assigned Date"})]})}),e.jsx(cs,{children:r.sports_assignments.map(O=>e.jsxs(Be,{children:[e.jsx(me,{className:"font-medium",children:O.sport_name}),e.jsx(me,{children:O.category_name||"N/A"}),e.jsx(me,{children:O.sub_category_name||"N/A"}),e.jsx(me,{children:e.jsx(he,{variant:"outline",children:O.age_group||"N/A"})}),e.jsx(me,{children:e.jsx(he,{variant:"outline",children:O.gender||"N/A"})}),e.jsx(me,{className:"font-medium",children:P(O.fee||0)}),e.jsx(me,{children:e.jsx(he,{className:N(O.is_active),children:C(O.is_active)})}),e.jsx(me,{children:new Date(O.created_at).toLocaleDateString()})]},O.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Fe,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No sports assigned"})]})})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"h-5 w-5"}),"Payment History"]}),e.jsxs(Re,{children:[((k=r.payment_requests)==null?void 0:k.length)||0," payment requests"]})]}),e.jsx(se,{children:r.payment_requests&&r.payment_requests.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Payment ID"}),e.jsx(xe,{children:"Amount"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Request Date"}),e.jsx(xe,{children:"Updated Date"})]})}),e.jsx(cs,{children:r.payment_requests.map(O=>e.jsxs(Be,{children:[e.jsxs(me,{className:"font-mono",children:["#",O.id]}),e.jsx(me,{className:"font-medium",children:P(O.amount)}),e.jsx(me,{children:e.jsx(he,{className:N(O.status),children:C(O.status)})}),e.jsx(me,{children:new Date(O.created_at).toLocaleDateString()}),e.jsx(me,{children:new Date(O.updated_at).toLocaleDateString()})]},O.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(kt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No payment requests found"})]})})]})]})},TF=()=>{const{paymentId:t,paymentType:s}=Zo(),n=wt(),{toast:r}=_e(),[a,i]=c.useState(null),[o,l]=c.useState([]),[d,u]=c.useState(!0);c.useEffect(()=>{t&&s&&h()},[t,s]);const h=async()=>{var j,v;try{u(!0),console.log("Loading payment details for:",s,t);const f=await Z.getPaymentDetails(s||"",parseInt(t||"0"));if(console.log("Payment details response:",f),(j=f.data)!=null&&j.success){const N=f.data.data;i(N.payment),l(N.student_enrollments||[])}else console.error("Failed to load payment details:",f.data),r({title:"Error",description:((v=f.data)==null?void 0:v.message)||"Failed to load payment details",variant:"destructive"})}catch(f){console.error("Error loading payment details:",f),r({title:"Error",description:"Failed to load payment details. Please check if the server is running.",variant:"destructive"})}finally{u(!1)}},m=async()=>{var j,v;if(!a||!t||!s){r({title:"Error",description:"Missing payment information",variant:"destructive"});return}try{u(!0);const f=await Z.updatePaymentStatus(s,parseInt(t),"paid");(j=f.data)!=null&&j.success?(r({title:"Success",description:"Payment status updated to paid successfully"}),i(N=>N?{...N,status:1,status_text:"Paid"}:null),await h()):r({title:"Error",description:((v=f.data)==null?void 0:v.message)||"Failed to update payment status",variant:"destructive"})}catch(f){console.error("Error updating payment status:",f),r({title:"Error",description:"Failed to update payment status. Please try again.",variant:"destructive"})}finally{u(!1)}},p=j=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(j),x=j=>new Date(j).toLocaleDateString("en-KE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=(j,v)=>j===1?e.jsxs(he,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),v]}):e.jsxs(he,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Bn,{className:"w-3 h-3 mr-1"}),v]}),y=j=>j==="student"?e.jsxs(he,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[e.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Student"]}):e.jsxs(he,{variant:"outline",className:"bg-purple-50 text-purple-700",children:[e.jsx(Et,{className:"w-3 h-3 mr-1"}),"Institution"]});return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2",children:"Loading payment details..."})]})}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(F,{variant:"outline",onClick:()=>n("/admin/admin-payments"),children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:a.type==="institute"?"Institution Details":"Student Details"}),e.jsxs("p",{className:"text-muted-foreground",children:["Payment ID: ",a.id]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[y(a.type),S(a.status,a.status_text)]})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(ce,{className:"flex items-center",children:[e.jsx(Jt,{className:"w-5 h-5 mr-2"}),"Payment Information"]})}),e.jsx(se,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Amount"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:p(a.amount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[S(a.status,a.status_text),a.status===0&&e.jsx(F,{onClick:m,disabled:d,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:d?"Updating...":"Mark as Paid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),e.jsx("p",{className:"text-lg",children:x(a.created_at)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Type"}),e.jsx("div",{className:"mt-1",children:y(a.type)})]})]})})]}),e.jsxs(te,{children:[e.jsx(le,{children:e.jsx(ce,{children:a.type==="institute"?"Institution Information":"Student Information"})}),e.jsx(se,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.type==="institute"&&a.institute?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Institution Name"}),e.jsx("p",{className:"text-xl font-semibold",children:a.institute.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Institution Type"}),e.jsx("p",{className:"text-lg",children:a.institute.type})]})]}):a.type==="student"&&a.student?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Student Name"}),e.jsx("p",{className:"text-xl font-semibold",children:a.student.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-lg",children:a.student.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Student ID"}),e.jsx("p",{className:"text-lg",children:a.student.student_id})]})]}):e.jsx("p",{children:"No details available"})})})]}),a.type==="institute"?e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Students and Sports Enrollment"}),e.jsxs(Re,{children:["Showing ",o.length," student enrollments"]})]}),e.jsx(se,{children:e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Institution Name"}),e.jsx(xe,{children:"Age"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Phone"}),e.jsx(xe,{children:"Student ID"}),e.jsx(xe,{children:"Sport"}),e.jsx(xe,{children:"Fee"})]})}),e.jsx(cs,{children:o.length>0?o.map(j=>e.jsxs(Be,{children:[e.jsx(me,{className:"font-medium",children:j.name}),e.jsx(me,{children:j.institution_name}),e.jsx(me,{children:j.age}),e.jsx(me,{children:j.email}),e.jsx(me,{children:j.phone}),e.jsx(me,{children:j.student_id}),e.jsx(me,{children:j.sport}),e.jsx(me,{className:"font-medium",children:p(j.fee)})]},j.id)):e.jsx(Be,{children:e.jsx(me,{colSpan:8,className:"text-center text-gray-500 py-8",children:"No student enrollment data available"})})})]})})})]}):e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsx(ce,{children:"Student Sports Enrollments"}),e.jsx(Re,{children:"Sports enrolled by this student"})]}),e.jsx(se,{children:e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Sport"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Sub-Category"}),e.jsx(xe,{children:"Age Group"}),e.jsx(xe,{children:"Fee"}),e.jsx(xe,{children:"Status"})]})}),e.jsx(cs,{children:o.length>0?o.map(j=>e.jsxs(Be,{children:[e.jsx(me,{className:"font-medium",children:j.sport}),e.jsx(me,{children:j.category||"N/A"}),e.jsx(me,{children:j.sub_category||"N/A"}),e.jsx(me,{children:j.age_group||"N/A"}),e.jsx(me,{className:"font-medium text-green-600",children:p(j.fee)}),e.jsx(me,{children:e.jsx(he,{variant:j.is_active?"default":"secondary",children:j.is_active?"Active":"Inactive"})})]},j.id)):e.jsx(Be,{children:e.jsx(me,{colSpan:6,className:"text-center text-gray-500 py-8",children:"No sports enrollments found for this student"})})})]})})})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500",children:"Payment not found"}),e.jsxs(F,{onClick:()=>n("/admin/admin-payments"),className:"mt-4",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Back to Payments"]})]})},kF=()=>{var ue,L,ee,ne,$,T,G,X,Y,z,W,ae,Pe,Ae,qe,gt;const{institutionId:t}=Zo(),s=wt(),{toast:n}=_e(),[r,a]=c.useState(null),[i,o]=c.useState([]),[l,d]=c.useState([]),[u,h]=c.useState(!0),[m,p]=c.useState(!1),[x,S]=c.useState(!1),[y,j]=c.useState(!1),[v,f]=c.useState(!1),[N,C]=c.useState([]),[P,R]=c.useState(!1),[g,A]=c.useState({name:"",email:"",type:"",contact_person_name:"",contact_person_email:"",contact_person_phone:"",contact_person_designation:"",phone_number:"",website:"",principal_name:"",principal_phone_number:""}),[_,w]=c.useState({sport_id:"",fee:"",description:""}),[b,I]=c.useState({fname:"",mname:"",lname:"",email:"",student_id:"",phone:"",gender:"",dob:"",address:"",selectedSports:[]});c.useEffect(()=>{t&&k()},[t]);const k=async()=>{var M,J,fe,we,Le,jt,tn,Ue,Ns,$r,Ur,sn,ml,Ri,Na,wn,_i,Cn;try{h(!0);const Br=await Z.getAdminInstitutionDetails(parseInt(t||"0"));if(console.log("Institution API Response:",Br),(M=Br.data)!=null&&M.success){const Nt=Br.data.data.institution;console.log("Institution Data:",Nt),console.log("Institute Information:",Nt.institute_information),console.log("Phone Number:",(J=Nt.institute_information)==null?void 0:J.phone_number),console.log("Website:",(fe=Nt.institute_information)==null?void 0:fe.website),console.log("Principal Name:",(we=Nt.institute_information)==null?void 0:we.principal_name),a(Nt),A({name:Nt.name||"",email:Nt.email||"",type:Nt.type||"",contact_person_name:((jt=(Le=Nt.contact_persons)==null?void 0:Le[0])==null?void 0:jt.name)||"",contact_person_email:((Ue=(tn=Nt.contact_persons)==null?void 0:tn[0])==null?void 0:Ue.email)||"",contact_person_phone:(($r=(Ns=Nt.contact_persons)==null?void 0:Ns[0])==null?void 0:$r.phone)||"",contact_person_designation:((sn=(Ur=Nt.contact_persons)==null?void 0:Ur[0])==null?void 0:sn.designation)||"",phone_number:((ml=Nt.institute_information)==null?void 0:ml.phone_number)||"",website:((Ri=Nt.institute_information)==null?void 0:Ri.website)||"",principal_name:((Na=Nt.institute_information)==null?void 0:Na.principal_name)||"",principal_phone_number:((wn=Nt.institute_information)==null?void 0:wn.principal_phone_number)||""})}const hl=await Z.getInstitutionSports(parseInt(t||"0"));(_i=hl.data)!=null&&_i.success&&o(hl.data.data||[]);const Ti=await Z.getInstitutionStudents({institution_id:parseInt(t||"0"),limit:1e3});(Cn=Ti.data)!=null&&Cn.success&&d(Ti.data.data||[])}catch(Br){console.error("Error loading institution details:",Br),n({title:"Error",description:"Failed to load institution details. Please try again.",variant:"destructive"})}finally{h(!1)}},O=()=>{p(!0)},U=()=>{var M,J,fe,we,Le,jt,tn,Ue,Ns,$r,Ur,sn;p(!1),r&&A({name:r.name||"",email:r.email||"",type:r.type||"",contact_person_name:((J=(M=r.contact_persons)==null?void 0:M[0])==null?void 0:J.name)||"",contact_person_email:((we=(fe=r.contact_persons)==null?void 0:fe[0])==null?void 0:we.email)||"",contact_person_phone:((jt=(Le=r.contact_persons)==null?void 0:Le[0])==null?void 0:jt.phone)||"",contact_person_designation:((Ue=(tn=r.contact_persons)==null?void 0:tn[0])==null?void 0:Ue.designation)||"",phone_number:((Ns=r.institute_information)==null?void 0:Ns.phone_number)||"",website:(($r=r.institute_information)==null?void 0:$r.website)||"",principal_name:((Ur=r.institute_information)==null?void 0:Ur.principal_name)||"",principal_phone_number:((sn=r.institute_information)==null?void 0:sn.principal_phone_number)||""})},V=async()=>{var M,J;try{S(!0);const fe={name:g.name,email:g.email,type:g.type,contact_person_name:g.contact_person_name,contact_person_email:g.contact_person_email,contact_person_phone:g.contact_person_phone,contact_person_designation:g.contact_person_designation,phone_number:g.phone_number,website:g.website,principal_name:g.principal_name,principal_phone_number:g.principal_phone_number},we=await Z.updateInstitution(parseInt(t||"0"),fe);(M=we.data)!=null&&M.success?(n({title:"Success",description:"Institution details updated successfully"}),p(!1),await k()):n({title:"Error",description:((J=we.data)==null?void 0:J.message)||"Failed to update institution details",variant:"destructive"})}catch(fe){console.error("Error updating institution:",fe),n({title:"Error",description:"Failed to update institution details. Please try again.",variant:"destructive"})}finally{S(!1)}},B=M=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0}).format(M),H=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),q=M=>{const J=new Date,fe=new Date(M);let we=J.getFullYear()-fe.getFullYear();const Le=J.getMonth()-fe.getMonth();return(Le<0||Le===0&&J.getDate()<fe.getDate())&&we--,we},re=async()=>{var M;try{R(!0);const J=await Z.getSportsPublic();(M=J.data)!=null&&M.success&&C(J.data.data.sports||[])}catch(J){console.error("Error loading sports:",J),n({title:"Error",description:"Failed to load available sports",variant:"destructive"})}finally{R(!1)}},Q=async()=>{var M,J;try{if(!_.sport_id||!_.fee){n({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const fe={institution_id:parseInt(t||"0"),sport_id:parseInt(_.sport_id),fee:parseFloat(_.fee),description:_.description},we=await Z.addInstitutionSport(fe);if((M=we.data)!=null&&M.success)n({title:"Success",description:"Sport added to institution successfully"}),j(!1),w({sport_id:"",fee:"",description:""}),await k();else throw new Error(((J=we.data)==null?void 0:J.message)||"Failed to add sport")}catch(fe){console.error("Error adding sport:",fe),n({title:"Error",description:"Failed to add sport. Please try again.",variant:"destructive"})}},ie=async()=>{var M,J;try{if(!b.fname||!b.lname||!b.email||!b.student_id||!b.gender||!b.dob){n({title:"Error",description:"Please fill in all required fields (First Name, Last Name, Email, Student ID, Gender, Date of Birth)",variant:"destructive"});return}const fe={institution_id:parseInt(t||"0"),fname:b.fname,mname:b.mname,lname:b.lname,email:b.email,student_id:b.student_id,phone:b.phone,gender:b.gender,dob:b.dob,address:b.address,selectedSports:b.selectedSports.map(Le=>parseInt(Le))},we=await Z.addInstitutionStudent(fe);if((M=we.data)!=null&&M.success)n({title:"Success",description:"Student added to institution successfully"}),f(!1),I({fname:"",mname:"",lname:"",email:"",student_id:"",phone:"",gender:"",dob:"",address:"",selectedSports:[]}),await k();else throw new Error(((J=we.data)==null?void 0:J.message)||"Failed to add student")}catch(fe){console.error("Error adding student:",fe),n({title:"Error",description:"Failed to add student. Please try again.",variant:"destructive"})}};return u?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading institution details..."})]})}):r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(F,{variant:"outline",onClick:()=>s("/admin/admin-institutions"),children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:r.name}),e.jsxs("p",{className:"text-muted-foreground",children:["Institution ID: ",r.id]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsxs(F,{onClick:U,variant:"outline",disabled:x,children:[e.jsx(jn,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(F,{onClick:V,disabled:x,children:[e.jsx(ji,{className:"w-4 h-4 mr-2"}),x?"Saving...":"Save Changes"]})]}):e.jsxs(F,{onClick:O,children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Update"]})})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center",children:[e.jsx(Et,{className:"w-5 h-5 mr-2"}),"Institution Information"]}),e.jsx(Re,{children:"Basic institution details and contact information"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"name",children:"Institution Name"}),m?e.jsx(D,{id:"name",value:g.name,onChange:M=>A(J=>({...J,name:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg font-semibold mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email"}),m?e.jsx(D,{id:"email",type:"email",value:g.email,onChange:M=>A(J=>({...J,email:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"type",children:"Institution Type"}),m?e.jsxs(Ne,{value:g.type,onValueChange:M=>A(J=>({...J,type:M})),children:[e.jsx(ye,{className:"mt-1",children:e.jsx(Se,{placeholder:"Select institution type"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Primary School",children:"Primary School"}),e.jsx(K,{value:"Secondary School",children:"Secondary School"}),e.jsx(K,{value:"High School",children:"High School"}),e.jsx(K,{value:"University",children:"University"}),e.jsx(K,{value:"College",children:"College"}),e.jsx(K,{value:"Other",children:"Other"})]})]}):e.jsx("p",{className:"text-lg mt-1",children:r.type})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"phone_number",children:"Phone Number"}),m?e.jsx(D,{id:"phone_number",value:g.phone_number,onChange:M=>A(J=>({...J,phone_number:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:((ue=r.institute_information)==null?void 0:ue.phone_number)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"website",children:"Website"}),m?e.jsx(D,{id:"website",value:g.website,onChange:M=>A(J=>({...J,website:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:(L=r.institute_information)!=null&&L.website?e.jsx("a",{href:r.institute_information.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:r.institute_information.website}):"N/A"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"principal_name",children:"Principal Name"}),m?e.jsx(D,{id:"principal_name",value:g.principal_name,onChange:M=>A(J=>({...J,principal_name:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:((ee=r.institute_information)==null?void 0:ee.principal_name)||"N/A"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Person Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"contact_person_name",children:"Contact Person Name"}),m?e.jsx(D,{id:"contact_person_name",value:g.contact_person_name,onChange:M=>A(J=>({...J,contact_person_name:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:(($=(ne=r.contact_persons)==null?void 0:ne[0])==null?void 0:$.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"contact_person_email",children:"Contact Person Email"}),m?e.jsx(D,{id:"contact_person_email",type:"email",value:g.contact_person_email,onChange:M=>A(J=>({...J,contact_person_email:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:((G=(T=r.contact_persons)==null?void 0:T[0])==null?void 0:G.email)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"contact_person_phone",children:"Contact Person Phone"}),m?e.jsx(D,{id:"contact_person_phone",value:g.contact_person_phone,onChange:M=>A(J=>({...J,contact_person_phone:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:((Y=(X=r.contact_persons)==null?void 0:X[0])==null?void 0:Y.phone)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"contact_person_designation",children:"Designation"}),m?e.jsx(D,{id:"contact_person_designation",value:g.contact_person_designation,onChange:M=>A(J=>({...J,contact_person_designation:M.target.value})),className:"mt-1"}):e.jsx("p",{className:"text-lg mt-1",children:((W=(z=r.contact_persons)==null?void 0:z[0])==null?void 0:W.designation)||"N/A"})]})]})]})]})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center",children:[e.jsx(kt,{className:"w-5 h-5 mr-2"}),"Payment Details"]}),e.jsx(Re,{children:"Payment information and transaction history"})]}),e.jsxs(se,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:B(((ae=r.payment_info)==null?void 0:ae.total_amount)||0)})]}),e.jsx(kt,{className:"h-8 w-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Paid Amount"}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:B(((Pe=r.payment_info)==null?void 0:Pe.paid_amount)||0)})]}),e.jsx(it,{className:"h-8 w-8 text-green-500"})]})}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Pending Amount"}),e.jsx("p",{className:"text-2xl font-bold text-orange-700",children:B(((Ae=r.payment_info)==null?void 0:Ae.pending_amount)||0)})]}),e.jsx(Bn,{className:"h-8 w-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),e.jsx(he,{variant:((qe=r.payment_info)==null?void 0:qe.status)==="Paid"?"default":"secondary",className:"text-lg px-3 py-1",children:((gt=r.payment_info)==null?void 0:gt.status)||"Pending"})]}),e.jsx(Js,{className:"h-8 w-8 text-gray-500"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Payment History"}),r.payment_requests&&r.payment_requests.length>0?e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Payment ID"}),e.jsx(xe,{children:"Description"}),e.jsx(xe,{children:"Amount"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Created Date"}),e.jsx(xe,{children:"Updated Date"})]})}),e.jsx(cs,{children:r.payment_requests.map(M=>e.jsxs(Be,{children:[e.jsxs(me,{className:"font-medium",children:["#",M.id]}),e.jsx(me,{children:M.description}),e.jsx(me,{className:"font-medium",children:B(M.amount)}),e.jsx(me,{children:e.jsx(he,{variant:M.status==="Paid"?"default":"secondary",children:M.status})}),e.jsx(me,{children:M.created_at?H(M.created_at):"N/A"}),e.jsx(me,{children:M.updated_at?H(M.updated_at):"N/A"})]},M.id))})]})}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(kt,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"No payment requests found for this institution"})]})]})]})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center",children:[e.jsx(Fe,{className:"w-5 h-5 mr-2"}),"Sports Details"]}),e.jsx(Re,{children:"Sports offered by this institution"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Sport Name"}),e.jsx(xe,{children:"Type"}),e.jsx(xe,{children:"Fee"}),e.jsx(xe,{children:"Enrolled Students"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Actions"})]})}),e.jsx(cs,{children:i.length>0?i.map(M=>e.jsxs(Be,{children:[e.jsx(me,{className:"font-medium",children:M.sport_name}),e.jsx(me,{children:M.sport_type}),e.jsx(me,{className:"font-medium text-green-600",children:B(M.fee)}),e.jsx(me,{children:M.enrolled_students}),e.jsx(me,{children:e.jsx(he,{variant:M.is_active?"default":"secondary",children:M.is_active?"Active":"Inactive"})}),e.jsx(me,{children:m&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(F,{size:"sm",variant:"outline",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx(F,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",children:e.jsx(Rt,{className:"w-4 h-4"})})]})})]},M.id)):e.jsx(Be,{children:e.jsx(me,{colSpan:6,className:"text-center text-gray-500 py-8",children:"No sports found for this institution"})})})]})}),m&&e.jsx("div",{className:"mt-4",children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{j(!0),re()},children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Sport"]})})]})]}),e.jsxs(te,{children:[e.jsxs(le,{children:[e.jsxs(ce,{className:"flex items-center",children:[e.jsx(Ve,{className:"w-5 h-5 mr-2"}),"Student Details"]}),e.jsx(Re,{children:"Students associated with this institution"})]}),e.jsxs(se,{children:[e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs(os,{children:[e.jsx(ls,{children:e.jsxs(Be,{children:[e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Student ID"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Age"}),e.jsx(xe,{children:"Gender"}),e.jsx(xe,{children:"Payment Status"}),e.jsx(xe,{children:"Total Amount"}),e.jsx(xe,{children:"Actions"})]})}),e.jsx(cs,{children:l.length>0?l.map(M=>e.jsxs(Be,{children:[e.jsxs(me,{className:"font-medium",children:[M.fname," ",M.mname," ",M.lname]}),e.jsx(me,{children:M.student_id}),e.jsx(me,{children:M.email}),e.jsx(me,{children:M.dob?q(M.dob):"N/A"}),e.jsx(me,{children:M.gender}),e.jsx(me,{children:e.jsx(he,{variant:M.payment_status==="Paid"?"default":"secondary",children:M.payment_status})}),e.jsx(me,{className:"font-medium",children:B(M.total_amount)}),e.jsx(me,{children:m&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(F,{size:"sm",variant:"outline",children:e.jsx(Kt,{className:"w-4 h-4"})}),e.jsx(F,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",children:e.jsx(Rt,{className:"w-4 h-4"})})]})})]},M.id)):e.jsx(Be,{children:e.jsx(me,{colSpan:8,className:"text-center text-gray-500 py-8",children:"No students found for this institution"})})})]})}),m&&e.jsx("div",{className:"mt-4",children:e.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{f(!0),re()},children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Student"]})})]})]}),e.jsx(Xe,{open:y,onOpenChange:j,children:e.jsxs(Ke,{className:"max-w-md",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add Sport to Institution"}),e.jsx(xt,{children:"Add a new sport to this institution with custom fee and description."})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"sport",children:"Select Sport"}),e.jsxs(Ne,{value:_.sport_id,onValueChange:M=>w(J=>({...J,sport_id:M})),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Choose a sport"})}),e.jsx(je,{children:N.map(M=>e.jsxs(K,{value:M.id.toString(),children:[M.sport_name," (",M.sport_type,")"]},M.id))})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"fee",children:"Fee ()"}),e.jsx(D,{id:"fee",type:"number",placeholder:"Enter fee amount",value:_.fee,onChange:M=>w(J=>({...J,fee:M.target.value}))})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(at,{id:"description",placeholder:"Enter description",value:_.description,onChange:M=>w(J=>({...J,description:M.target.value}))})]}),e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsx(F,{onClick:Q,className:"flex-1",children:"Add Sport"}),e.jsx(F,{variant:"outline",onClick:()=>j(!1),className:"flex-1",children:"Cancel"})]})]})]})}),e.jsx(Xe,{open:v,onOpenChange:f,children:e.jsxs(Ke,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Je,{children:[e.jsx(Qe,{children:"Add Student to Institution"}),e.jsx(xt,{children:"Add a new student to this institution with their basic information and sports assignments."})]}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"fname",children:"First Name *"}),e.jsx(D,{id:"fname",placeholder:"Enter first name",value:b.fname,onChange:M=>I(J=>({...J,fname:M.target.value}))})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"mname",children:"Middle Name"}),e.jsx(D,{id:"mname",placeholder:"Enter middle name",value:b.mname,onChange:M=>I(J=>({...J,mname:M.target.value}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"lname",children:"Last Name *"}),e.jsx(D,{id:"lname",placeholder:"Enter last name",value:b.lname,onChange:M=>I(J=>({...J,lname:M.target.value}))})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"student_id",children:"Student ID *"}),e.jsx(D,{id:"student_id",placeholder:"Enter student ID",value:b.student_id,onChange:M=>I(J=>({...J,student_id:M.target.value}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email *"}),e.jsx(D,{id:"email",type:"email",placeholder:"Enter email",value:b.email,onChange:M=>I(J=>({...J,email:M.target.value}))})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"phone",children:"Phone"}),e.jsx(D,{id:"phone",placeholder:"Enter phone number",value:b.phone,onChange:M=>I(J=>({...J,phone:M.target.value}))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"gender",children:"Gender *"}),e.jsxs(Ne,{value:b.gender,onValueChange:M=>I(J=>({...J,gender:M})),children:[e.jsx(ye,{children:e.jsx(Se,{placeholder:"Select gender"})}),e.jsxs(je,{children:[e.jsx(K,{value:"Male",children:"Male"}),e.jsx(K,{value:"Female",children:"Female"}),e.jsx(K,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"dob",children:"Date of Birth *"}),e.jsx(D,{id:"dob",type:"date",value:b.dob,onChange:M=>I(J=>({...J,dob:M.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"address",children:"Address"}),e.jsx(at,{id:"address",placeholder:"Enter address",value:b.address,onChange:M=>I(J=>({...J,address:M.target.value}))})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Select Sports"}),e.jsx("div",{className:"mt-2 space-y-2 max-h-40 overflow-y-auto",children:N.map(M=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{id:`sport-${M.id}`,checked:b.selectedSports.includes(M.id.toString()),onCheckedChange:J=>{I(J?fe=>({...fe,selectedSports:[...fe.selectedSports,M.id.toString()]}):fe=>({...fe,selectedSports:fe.selectedSports.filter(we=>we!==M.id.toString())}))}}),e.jsxs(E,{htmlFor:`sport-${M.id}`,className:"text-sm",children:[M.sport_name," (",M.sport_type,")"]})]},M.id))})]}),e.jsxs("div",{className:"flex space-x-2 pt-4",children:[e.jsx(F,{onClick:ie,className:"flex-1",children:"Add Student"}),e.jsx(F,{variant:"outline",onClick:()=>f(!1),className:"flex-1",children:"Cancel"})]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Et,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Institution Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The institution you're looking for doesn't exist."}),e.jsxs(F,{onClick:()=>s("/admin/admin-institutions"),children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Back to Institutions"]})]})})},MF=({children:t})=>{const[s,n]=c.useState(null),{toast:r}=_e();return c.useEffect(()=>{(async()=>{try{const i=localStorage.getItem("adminSession"),o=localStorage.getItem("authToken");if(!i||!o){console.log("Missing admin session or auth token"),r({title:"Access Denied",description:"Please log in as an admin to access this page.",variant:"destructive"}),n(!1);return}if(JSON.parse(i).role!=="admin"){console.log("Invalid admin role"),r({title:"Access Denied",description:"You don't have admin privileges to access this page.",variant:"destructive"}),n(!1);return}try{const d=await fetch("http://localhost:8000/api/v1/admin/dashboard/stats",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});d.ok?(console.log("Admin access verified"),n(!0)):d.status===401?(console.log("Token expired or invalid"),localStorage.removeItem("authToken"),localStorage.removeItem("adminSession"),localStorage.removeItem("student"),r({title:"Session Expired",description:"Your admin session has expired. Please log in again.",variant:"destructive"}),n(!1)):(console.log("API call failed with status:",d.status),r({title:"Authentication Error",description:"Failed to verify admin access. Please log in again.",variant:"destructive"}),n(!1))}catch(d){console.error("API verification failed:",d),r({title:"Connection Error",description:"Unable to verify admin access. Please check your connection.",variant:"destructive"}),n(!1)}}catch(i){console.error("Error checking admin access:",i),r({title:"Authentication Error",description:"Failed to verify admin access. Please log in again.",variant:"destructive"}),n(!1)}})()},[r]),s===null?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Verifying admin access..."})]})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(xr,{to:"/login",replace:!0})},OF=({children:t})=>{const{isAuthenticated:s}=qt(),[n,r]=c.useState(!0),[a,i]=c.useState(!1);if(c.useEffect(()=>{const l=localStorage.getItem("student"),d=localStorage.getItem("authToken");if(!l||!d){i(!1),r(!1);return}try{const u=JSON.parse(l);u&&u.email?i(!0):i(!1)}catch(u){console.error("Error parsing stored student:",u),i(!1)}r(!1)},[]),n)return e.jsx("div",{children:"Loading..."});if(!s||!a)return e.jsx(xr,{to:"/institution/login",replace:!0});const o=localStorage.getItem("institutionSession");if(!o)return e.jsx(xr,{to:"/institution/login",replace:!0});try{if(JSON.parse(o).role!=="institution")return e.jsx(xr,{to:"/institution/login",replace:!0})}catch(l){return console.error("Error parsing institution session:",l),e.jsx(xr,{to:"/institution/login",replace:!0})}return e.jsx(e.Fragment,{children:t})},FF=new SR,DF=({children:t})=>{const{isAuthenticated:s}=qt();return s?t:e.jsx(xr,{to:"/login",replace:!0})},zl=({children:t})=>{const{isAuthenticated:s}=qt();return s?e.jsx(xr,{to:"/dashboard",replace:!0}):t},LF=()=>e.jsx(wR,{client:FF,children:e.jsxs(qN,{children:[e.jsx(mN,{}),e.jsx(cA,{}),e.jsx(__,{children:e.jsx(b_,{children:e.jsxs(f_,{children:[e.jsx(Oe,{path:"/",element:e.jsx(xr,{to:"/login",replace:!0})}),e.jsx(Oe,{path:"/register",element:e.jsx(zl,{children:e.jsx(ak,{})})}),e.jsx(Oe,{path:"/register-old",element:e.jsx(zl,{children:e.jsx(p4,{})})}),e.jsx(Oe,{path:"/login",element:e.jsx(zl,{children:e.jsx(ok,{})})}),e.jsx(Oe,{path:"/student-payment/:studentId",element:e.jsx(nF,{})}),e.jsx(Oe,{path:"/student-login",element:e.jsx(rF,{})}),e.jsxs(Oe,{path:"/dashboard",element:e.jsx(DF,{children:e.jsx(nO,{})}),children:[e.jsx(Oe,{index:!0,element:e.jsx(iO,{})}),e.jsx(Oe,{path:"profile",element:e.jsx(oO,{})}),e.jsx(Oe,{path:"sports-registration",element:e.jsx(wO,{})}),e.jsx(Oe,{path:"guardian-info",element:e.jsx(CO,{})}),e.jsx(Oe,{path:"medical-info",element:e.jsx(PO,{})}),e.jsx(Oe,{path:"student-payments",element:e.jsx(EO,{})}),e.jsx(Oe,{path:"consent",element:e.jsx(AO,{})}),e.jsx(Oe,{path:"notifications",element:e.jsx(IO,{})})]}),e.jsx(Oe,{path:"/institution/register",element:e.jsx(Jg,{})}),e.jsx(Oe,{path:"/institution/register/phase1",element:e.jsx(Jg,{})}),e.jsx(Oe,{path:"/institution/register-old",element:e.jsx(OO,{})}),e.jsx(Oe,{path:"/institution/login",element:e.jsx(zl,{children:e.jsx(ik,{})})}),e.jsxs(Oe,{path:"/institution",element:e.jsx(OF,{children:e.jsx(MO,{})}),children:[e.jsx(Oe,{index:!0,element:e.jsx(HO,{})}),e.jsx(Oe,{path:"profile",element:e.jsx(sF,{})}),e.jsx(Oe,{path:"institution-students",element:e.jsx(YO,{})}),e.jsx(Oe,{path:"institution-sports",element:e.jsx(eF,{})}),e.jsx(Oe,{path:"institution-payments",element:e.jsx(tF,{})})]}),e.jsxs(Oe,{path:"/admin",element:e.jsx(MF,{children:e.jsx(lF,{})}),children:[e.jsx(Oe,{index:!0,element:e.jsx(cF,{})}),e.jsx(Oe,{path:"admin-institutions",element:e.jsx(bF,{})}),e.jsx(Oe,{path:"admin-students",element:e.jsx(CF,{})}),e.jsx(Oe,{path:"admin-payments",element:e.jsx(PF,{})}),e.jsx(Oe,{path:"admin-invoices",element:e.jsx(EF,{})}),e.jsx(Oe,{path:"admin-sponsorships",element:e.jsx(AF,{})}),e.jsx(Oe,{path:"admin-sports",element:e.jsx(IF,{})}),e.jsx(Oe,{path:"admin-sports/:id",element:e.jsx(RF,{})}),e.jsx(Oe,{path:"admin-students/:studentId",element:e.jsx(_F,{})}),e.jsx(Oe,{path:"admin-institutions/:institutionId",element:e.jsx(kF,{})}),e.jsx(Oe,{path:"payment-details/:paymentType/:paymentId",element:e.jsx(TF,{})})]}),e.jsx(Oe,{path:"*",element:e.jsx(RO,{})})]})})})]})});class $F extends ve.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,n){console.error("Error caught by boundary:",s,n)}render(){return this.state.hasError?e.jsx("div",{children:"Something went wrong with the notification context."}):this.props.children}}Sj(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx($F,{children:e.jsxs(_E,{children:[e.jsx(LF,{}),e.jsx(mN,{})]})})}));
