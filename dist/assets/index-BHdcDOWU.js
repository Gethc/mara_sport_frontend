var c1=Object.defineProperty;var kf=t=>{throw TypeError(t)};var d1=(t,s,n)=>s in t?c1(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var al=(t,s,n)=>d1(t,typeof s!="symbol"?s+"":s,n),iu=(t,s,n)=>s.has(t)||kf("Cannot "+n);var Z=(t,s,n)=>(iu(t,s,"read from private field"),n?n.call(t):s.get(t)),ke=(t,s,n)=>s.has(t)?kf("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),be=(t,s,n,r)=>(iu(t,s,"write to private field"),r?r.call(t,n):s.set(t,n),n),At=(t,s,n)=>(iu(t,s,"access private method"),n);var il=(t,s,n,r)=>({set _(a){be(t,s,a,n)},get _(){return Z(t,s,r)}});function u1(t,s){for(var n=0;n<s.length;n++){const r=s[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function av(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iv={exports:{}},zc={},ov={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=Symbol.for("react.element"),m1=Symbol.for("react.portal"),h1=Symbol.for("react.fragment"),p1=Symbol.for("react.strict_mode"),f1=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),g1=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),y1=Symbol.for("react.suspense"),j1=Symbol.for("react.memo"),N1=Symbol.for("react.lazy"),Mf=Symbol.iterator;function S1(t){return t===null||typeof t!="object"?null:(t=Mf&&t[Mf]||t["@@iterator"],typeof t=="function"?t:null)}var lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cv=Object.assign,dv={};function ii(t,s,n){this.props=t,this.context=s,this.refs=dv,this.updater=n||lv}ii.prototype.isReactComponent={};ii.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uv(){}uv.prototype=ii.prototype;function wh(t,s,n){this.props=t,this.context=s,this.refs=dv,this.updater=n||lv}var bh=wh.prototype=new uv;bh.constructor=wh;cv(bh,ii.prototype);bh.isPureReactComponent=!0;var Of=Array.isArray,mv=Object.prototype.hasOwnProperty,Ch={current:null},hv={key:!0,ref:!0,__self:!0,__source:!0};function pv(t,s,n){var r,a={},i=null,o=null;if(s!=null)for(r in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)mv.call(s,r)&&!hv.hasOwnProperty(r)&&(a[r]=s[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];a.children=d}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:Fo,type:t,key:i,ref:o,props:a,_owner:Ch.current}}function w1(t,s){return{$$typeof:Fo,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Ph(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fo}function b1(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return s[n]})}var Ff=/\/+/g;function ou(t,s){return typeof t=="object"&&t!==null&&t.key!=null?b1(""+t.key):s.toString(36)}function Ml(t,s,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fo:case m1:o=!0}}if(o)return o=t,a=a(o),t=r===""?"."+ou(o,0):r,Of(a)?(n="",t!=null&&(n=t.replace(Ff,"$&/")+"/"),Ml(a,s,n,"",function(u){return u})):a!=null&&(Ph(a)&&(a=w1(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Ff,"$&/")+"/")+t)),s.push(a)),1;if(o=0,r=r===""?".":r+":",Of(t))for(var l=0;l<t.length;l++){i=t[l];var d=r+ou(i,l);o+=Ml(i,s,n,d,a)}else if(d=S1(t),typeof d=="function")for(t=d.call(t),l=0;!(i=t.next()).done;)i=i.value,d=r+ou(i,l++),o+=Ml(i,s,n,d,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function ol(t,s,n){if(t==null)return t;var r=[],a=0;return Ml(t,r,"","",function(i){return s.call(n,i,a++)}),r}function C1(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Ol={transition:null},P1={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:Ch};function fv(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:ol,forEach:function(t,s,n){ol(t,function(){s.apply(this,arguments)},n)},count:function(t){var s=0;return ol(t,function(){s++}),s},toArray:function(t){return ol(t,function(s){return s})||[]},only:function(t){if(!Ph(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=ii;Te.Fragment=h1;Te.Profiler=f1;Te.PureComponent=wh;Te.StrictMode=p1;Te.Suspense=y1;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1;Te.act=fv;Te.cloneElement=function(t,s,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cv({},t.props),a=t.key,i=t.ref,o=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=Ch.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in s)mv.call(s,d)&&!hv.hasOwnProperty(d)&&(r[d]=s[d]===void 0&&l!==void 0?l[d]:s[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Fo,type:t.type,key:a,ref:i,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:g1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x1,_context:t},t.Consumer=t};Te.createElement=pv;Te.createFactory=function(t){var s=pv.bind(null,t);return s.type=t,s};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:v1,render:t}};Te.isValidElement=Ph;Te.lazy=function(t){return{$$typeof:N1,_payload:{_status:-1,_result:t},_init:C1}};Te.memo=function(t,s){return{$$typeof:j1,type:t,compare:s===void 0?null:s}};Te.startTransition=function(t){var s=Ol.transition;Ol.transition={};try{t()}finally{Ol.transition=s}};Te.unstable_act=fv;Te.useCallback=function(t,s){return Vt.current.useCallback(t,s)};Te.useContext=function(t){return Vt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};Te.useEffect=function(t,s){return Vt.current.useEffect(t,s)};Te.useId=function(){return Vt.current.useId()};Te.useImperativeHandle=function(t,s,n){return Vt.current.useImperativeHandle(t,s,n)};Te.useInsertionEffect=function(t,s){return Vt.current.useInsertionEffect(t,s)};Te.useLayoutEffect=function(t,s){return Vt.current.useLayoutEffect(t,s)};Te.useMemo=function(t,s){return Vt.current.useMemo(t,s)};Te.useReducer=function(t,s,n){return Vt.current.useReducer(t,s,n)};Te.useRef=function(t){return Vt.current.useRef(t)};Te.useState=function(t){return Vt.current.useState(t)};Te.useSyncExternalStore=function(t,s,n){return Vt.current.useSyncExternalStore(t,s,n)};Te.useTransition=function(){return Vt.current.useTransition()};Te.version="18.3.1";ov.exports=Te;var c=ov.exports;const he=av(c),Eh=u1({__proto__:null,default:he},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=c,A1=Symbol.for("react.element"),R1=Symbol.for("react.fragment"),I1=Object.prototype.hasOwnProperty,T1=E1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_1={key:!0,ref:!0,__self:!0,__source:!0};function xv(t,s,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(r in s)I1.call(s,r)&&!_1.hasOwnProperty(r)&&(a[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:A1,type:t,key:i,ref:o,props:a,_owner:T1.current}}zc.Fragment=R1;zc.jsx=xv;zc.jsxs=xv;iv.exports=zc;var e=iv.exports,gv={exports:{}},ms={},vv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(H,z){var ee=H.length;H.push(z);e:for(;0<ee;){var K=ee-1>>>1,te=H[K];if(0<a(te,z))H[K]=z,H[ee]=te,ee=K;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var z=H[0],ee=H.pop();if(ee!==z){H[0]=ee;e:for(var K=0,te=H.length,de=te>>>1;K<de;){var F=2*(K+1)-1,re=H[F],T=F+1,b=H[T];if(0>a(re,ee))T<te&&0>a(b,re)?(H[K]=b,H[T]=ee,K=T):(H[K]=re,H[F]=ee,K=F);else if(T<te&&0>a(b,ee))H[K]=b,H[T]=ee,K=T;else break e}}return z}function a(H,z){var ee=H.sortIndex-z.sortIndex;return ee!==0?ee:H.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var d=[],u=[],f=1,m=null,x=3,h=!1,w=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(H){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=H)r(u),z.sortIndex=z.expirationTime,s(d,z);else break;z=n(u)}}function N(H){if(j=!1,v(H),!w)if(n(d)!==null)w=!0,W(P);else{var z=n(u);z!==null&&ne(N,z.startTime-H)}}function P(H,z){w=!1,j&&(j=!1,y(C),C=-1),h=!0;var ee=x;try{for(v(z),m=n(d);m!==null&&(!(m.expirationTime>z)||H&&!_());){var K=m.callback;if(typeof K=="function"){m.callback=null,x=m.priorityLevel;var te=K(m.expirationTime<=z);z=t.unstable_now(),typeof te=="function"?m.callback=te:m===n(d)&&r(d),v(z)}else r(d);m=n(d)}if(m!==null)var de=!0;else{var F=n(u);F!==null&&ne(N,F.startTime-z),de=!1}return de}finally{m=null,x=ee,h=!1}}var I=!1,g=null,C=-1,E=5,A=-1;function _(){return!(t.unstable_now()-A<E)}function M(){if(g!==null){var H=t.unstable_now();A=H;var z=!0;try{z=g(!0,H)}finally{z?$():(I=!1,g=null)}}else I=!1}var $;if(typeof p=="function")$=function(){p(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=M,$=function(){U.postMessage(null)}}else $=function(){S(M,0)};function W(H){g=H,I||(I=!0,$())}function ne(H,z){C=S(function(){H(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||h||(w=!0,W(P))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var ee=x;x=z;try{return H()}finally{x=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=x;x=H;try{return z()}finally{x=ee}},t.unstable_scheduleCallback=function(H,z,ee){var K=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?K+ee:K):ee=K,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ee+te,H={id:f++,callback:z,priorityLevel:H,startTime:ee,expirationTime:te,sortIndex:-1},ee>K?(H.sortIndex=ee,s(u,H),n(d)===null&&H===n(u)&&(j?(y(C),C=-1):j=!0,ne(N,ee-K))):(H.sortIndex=te,s(d,H),w||h||(w=!0,W(P))),H},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(H){var z=x;return function(){var ee=x;x=z;try{return H.apply(this,arguments)}finally{x=ee}}}})(yv);vv.exports=yv;var k1=vv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1=c,cs=k1;function ce(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jv=new Set,Ji={};function na(t,s){Ya(t,s),Ya(t+"Capture",s)}function Ya(t,s){for(Ji[t]=s,t=0;t<s.length;t++)jv.add(s[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=Object.prototype.hasOwnProperty,O1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Df={},Lf={};function F1(t){return em.call(Lf,t)?!0:em.call(Df,t)?!1:O1.test(t)?Lf[t]=!0:(Df[t]=!0,!1)}function D1(t,s,n,r){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L1(t,s,n,r){if(s===null||typeof s>"u"||D1(t,s,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function qt(t,s,n,r,a,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bt[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];bt[s]=new qt(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bt[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bt[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bt[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bt[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bt[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bt[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bt[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ah=/[\-:]([a-z])/g;function Rh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(Ah,Rh);bt[s]=new qt(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(Ah,Rh);bt[s]=new qt(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(Ah,Rh);bt[s]=new qt(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bt[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});bt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bt[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ih(t,s,n,r){var a=bt.hasOwnProperty(s)?bt[s]:null;(a!==null?a.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L1(s,n,a,r)&&(n=null),r||a===null?F1(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(s=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(s):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,s,n):t.setAttribute(s,n))))}var Mn=M1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),xa=Symbol.for("react.portal"),ga=Symbol.for("react.fragment"),Th=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),Nv=Symbol.for("react.provider"),Sv=Symbol.for("react.context"),_h=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),nm=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),wv=Symbol.for("react.offscreen"),$f=Symbol.iterator;function wi(t){return t===null||typeof t!="object"?null:(t=$f&&t[$f]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,lu;function ki(t){if(lu===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);lu=s&&s[1]||""}return`
`+lu+t}var cu=!1;function du(t,s){if(!t||cu)return"";cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var r=u}Reflect.construct(t,[],s)}else{try{s.call()}catch(u){r=u}t.call(s.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var d=`
`+a[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=l);break}}}finally{cu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ki(t):""}function $1(t){switch(t.tag){case 5:return ki(t.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 2:case 15:return t=du(t.type,!1),t;case 11:return t=du(t.type.render,!1),t;case 1:return t=du(t.type,!0),t;default:return""}}function rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ga:return"Fragment";case xa:return"Portal";case tm:return"Profiler";case Th:return"StrictMode";case sm:return"Suspense";case nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sv:return(t.displayName||"Context")+".Consumer";case Nv:return(t._context.displayName||"Context")+".Provider";case _h:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kh:return s=t.displayName||null,s!==null?s:rm(t.type)||"Memo";case Hn:s=t._payload,t=t._init;try{return rm(t(s))}catch{}}return null}function U1(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(s);case 8:return s===Th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bv(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function B1(t){var s=bv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function cl(t){t._valueTracker||(t._valueTracker=B1(t))}function Cv(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),r="";return t&&(r=bv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(s.setValue(t),!0):!1}function Xl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function am(t,s){var n=s.checked;return at({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uf(t,s){var n=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;n=xr(s.value!=null?s.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pv(t,s){s=s.checked,s!=null&&Ih(t,"checked",s,!1)}function im(t,s){Pv(t,s);var n=xr(s.value),r=s.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?om(t,s.type,n):s.hasOwnProperty("defaultValue")&&om(t,s.type,xr(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Bf(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function om(t,s,n){(s!=="number"||Xl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mi=Array.isArray;function Aa(t,s,n,r){if(t=t.options,s){s={};for(var a=0;a<n.length;a++)s["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=s.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xr(n),s=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function lm(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ce(91));return at({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zf(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(ce(92));if(Mi(n)){if(1<n.length)throw Error(ce(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:xr(n)}}function Ev(t,s){var n=xr(s.value),r=xr(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vf(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Av(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cm(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Av(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dl,Rv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(s,n,r,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(dl=dl||document.createElement("div"),dl.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Qi(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var $i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z1=["Webkit","ms","Moz","O"];Object.keys($i).forEach(function(t){z1.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),$i[s]=$i[t]})});function Iv(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||$i.hasOwnProperty(t)&&$i[t]?(""+s).trim():s+"px"}function Tv(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Iv(n,s[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var V1=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dm(t,s){if(s){if(V1[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ce(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ce(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ce(62))}}function um(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=null;function Mh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hm=null,Ra=null,Ia=null;function qf(t){if(t=$o(t)){if(typeof hm!="function")throw Error(ce(280));var s=t.stateNode;s&&(s=Hc(s),hm(t.stateNode,t.type,s))}}function _v(t){Ra?Ia?Ia.push(t):Ia=[t]:Ra=t}function kv(){if(Ra){var t=Ra,s=Ia;if(Ia=Ra=null,qf(t),s)for(t=0;t<s.length;t++)qf(s[t])}}function Mv(t,s){return t(s)}function Ov(){}var uu=!1;function Fv(t,s,n){if(uu)return t(s,n);uu=!0;try{return Mv(t,s,n)}finally{uu=!1,(Ra!==null||Ia!==null)&&(Ov(),kv())}}function Xi(t,s){var n=t.stateNode;if(n===null)return null;var r=Hc(n);if(r===null)return null;n=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,s,typeof n));return n}var pm=!1;if(En)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){pm=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{pm=!1}function q1(t,s,n,r,a,i,o,l,d){var u=Array.prototype.slice.call(arguments,3);try{s.apply(n,u)}catch(f){this.onError(f)}}var Ui=!1,Zl=null,ec=!1,fm=null,G1={onError:function(t){Ui=!0,Zl=t}};function Y1(t,s,n,r,a,i,o,l,d){Ui=!1,Zl=null,q1.apply(G1,arguments)}function H1(t,s,n,r,a,i,o,l,d){if(Y1.apply(this,arguments),Ui){if(Ui){var u=Zl;Ui=!1,Zl=null}else throw Error(ce(198));ec||(ec=!0,fm=u)}}function ra(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function Dv(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Gf(t){if(ra(t)!==t)throw Error(ce(188))}function W1(t){var s=t.alternate;if(!s){if(s=ra(t),s===null)throw Error(ce(188));return s!==t?null:t}for(var n=t,r=s;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Gf(a),t;if(i===r)return Gf(a),s;i=i.sibling}throw Error(ce(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:s}function Lv(t){return t=W1(t),t!==null?$v(t):null}function $v(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=$v(t);if(s!==null)return s;t=t.sibling}return null}var Uv=cs.unstable_scheduleCallback,Yf=cs.unstable_cancelCallback,K1=cs.unstable_shouldYield,J1=cs.unstable_requestPaint,ut=cs.unstable_now,Q1=cs.unstable_getCurrentPriorityLevel,Oh=cs.unstable_ImmediatePriority,Bv=cs.unstable_UserBlockingPriority,tc=cs.unstable_NormalPriority,X1=cs.unstable_LowPriority,zv=cs.unstable_IdlePriority,Vc=null,on=null;function Z1(t){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Vc,t,void 0,(t.current.flags&128)===128)}catch{}}var Us=Math.clz32?Math.clz32:s2,e2=Math.log,t2=Math.LN2;function s2(t){return t>>>=0,t===0?32:31-(e2(t)/t2|0)|0}var ul=64,ml=4194304;function Oi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sc(t,s){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Oi(l):(i&=o,i!==0&&(r=Oi(i)))}else o=n&~a,o!==0?r=Oi(o):i!==0&&(r=Oi(i));if(r===0)return 0;if(s!==0&&s!==r&&!(s&a)&&(a=r&-r,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(r&4&&(r|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)n=31-Us(s),a=1<<n,r|=t[n],s&=~a;return r}function n2(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r2(t,s){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Us(i),l=1<<o,d=a[o];d===-1?(!(l&n)||l&r)&&(a[o]=n2(l,s)):d<=s&&(t.expiredLanes|=l),i&=~l}}function xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vv(){var t=ul;return ul<<=1,!(ul&4194240)&&(ul=64),t}function mu(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function Do(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Us(s),t[s]=n}function a2(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Us(n),i=1<<a;s[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function Fh(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var r=31-Us(n),a=1<<r;a&s|t[r]&s&&(t[r]|=s),n&=~a}}var Ve=0;function qv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gv,Dh,Yv,Hv,Wv,gm=!1,hl=[],ir=null,or=null,lr=null,Zi=new Map,eo=new Map,Kn=[],i2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hf(t,s){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Zi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(s.pointerId)}}function Ci(t,s,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},s!==null&&(s=$o(s),s!==null&&Dh(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function o2(t,s,n,r,a){switch(s){case"focusin":return ir=Ci(ir,t,s,n,r,a),!0;case"dragenter":return or=Ci(or,t,s,n,r,a),!0;case"mouseover":return lr=Ci(lr,t,s,n,r,a),!0;case"pointerover":var i=a.pointerId;return Zi.set(i,Ci(Zi.get(i)||null,t,s,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,eo.set(i,Ci(eo.get(i)||null,t,s,n,r,a)),!0}return!1}function Kv(t){var s=Mr(t.target);if(s!==null){var n=ra(s);if(n!==null){if(s=n.tag,s===13){if(s=Dv(n),s!==null){t.blockedOn=s,Wv(t.priority,function(){Yv(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fl(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=vm(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mm=r,n.target.dispatchEvent(r),mm=null}else return s=$o(n),s!==null&&Dh(s),t.blockedOn=n,!1;s.shift()}return!0}function Wf(t,s,n){Fl(t)&&n.delete(s)}function l2(){gm=!1,ir!==null&&Fl(ir)&&(ir=null),or!==null&&Fl(or)&&(or=null),lr!==null&&Fl(lr)&&(lr=null),Zi.forEach(Wf),eo.forEach(Wf)}function Pi(t,s){t.blockedOn===s&&(t.blockedOn=null,gm||(gm=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,l2)))}function to(t){function s(a){return Pi(a,t)}if(0<hl.length){Pi(hl[0],t);for(var n=1;n<hl.length;n++){var r=hl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ir!==null&&Pi(ir,t),or!==null&&Pi(or,t),lr!==null&&Pi(lr,t),Zi.forEach(s),eo.forEach(s),n=0;n<Kn.length;n++)r=Kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)Kv(n),n.blockedOn===null&&Kn.shift()}var Ta=Mn.ReactCurrentBatchConfig,nc=!0;function c2(t,s,n,r){var a=Ve,i=Ta.transition;Ta.transition=null;try{Ve=1,Lh(t,s,n,r)}finally{Ve=a,Ta.transition=i}}function d2(t,s,n,r){var a=Ve,i=Ta.transition;Ta.transition=null;try{Ve=4,Lh(t,s,n,r)}finally{Ve=a,Ta.transition=i}}function Lh(t,s,n,r){if(nc){var a=vm(t,s,n,r);if(a===null)Su(t,s,r,rc,n),Hf(t,r);else if(o2(a,t,s,n,r))r.stopPropagation();else if(Hf(t,r),s&4&&-1<i2.indexOf(t)){for(;a!==null;){var i=$o(a);if(i!==null&&Gv(i),i=vm(t,s,n,r),i===null&&Su(t,s,r,rc,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Su(t,s,r,null,n)}}var rc=null;function vm(t,s,n,r){if(rc=null,t=Mh(r),t=Mr(t),t!==null)if(s=ra(t),s===null)t=null;else if(n=s.tag,n===13){if(t=Dv(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return rc=t,null}function Jv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q1()){case Oh:return 1;case Bv:return 4;case tc:case X1:return 16;case zv:return 536870912;default:return 16}default:return 16}}var nr=null,$h=null,Dl=null;function Qv(){if(Dl)return Dl;var t,s=$h,n=s.length,r,a="value"in nr?nr.value:nr.textContent,i=a.length;for(t=0;t<n&&s[t]===a[t];t++);var o=n-t;for(r=1;r<=o&&s[n-r]===a[i-r];r++);return Dl=a.slice(t,1<r?1-r:void 0)}function Ll(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function pl(){return!0}function Kf(){return!1}function hs(t){function s(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pl:Kf,this.isPropagationStopped=Kf,this}return at(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),s}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uh=hs(oi),Lo=at({},oi,{view:0,detail:0}),u2=hs(Lo),hu,pu,Ei,qc=at({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(hu=t.screenX-Ei.screenX,pu=t.screenY-Ei.screenY):pu=hu=0,Ei=t),hu)},movementY:function(t){return"movementY"in t?t.movementY:pu}}),Jf=hs(qc),m2=at({},qc,{dataTransfer:0}),h2=hs(m2),p2=at({},Lo,{relatedTarget:0}),fu=hs(p2),f2=at({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),x2=hs(f2),g2=at({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v2=hs(g2),y2=at({},oi,{data:0}),Qf=hs(y2),j2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=S2[t])?!!s[t]:!1}function Bh(){return w2}var b2=at({},Lo,{key:function(t){if(t.key){var s=j2[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C2=hs(b2),P2=at({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xf=hs(P2),E2=at({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),A2=hs(E2),R2=at({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=hs(R2),T2=at({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_2=hs(T2),k2=[9,13,27,32],zh=En&&"CompositionEvent"in window,Bi=null;En&&"documentMode"in document&&(Bi=document.documentMode);var M2=En&&"TextEvent"in window&&!Bi,Xv=En&&(!zh||Bi&&8<Bi&&11>=Bi),Zf=" ",ex=!1;function Zv(t,s){switch(t){case"keyup":return k2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function O2(t,s){switch(t){case"compositionend":return ey(s);case"keypress":return s.which!==32?null:(ex=!0,Zf);case"textInput":return t=s.data,t===Zf&&ex?null:t;default:return null}}function F2(t,s){if(va)return t==="compositionend"||!zh&&Zv(t,s)?(t=Qv(),Dl=$h=nr=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xv&&s.locale!=="ko"?null:s.data;default:return null}}var D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!D2[t.type]:s==="textarea"}function ty(t,s,n,r){_v(r),s=ac(s,"onChange"),0<s.length&&(n=new Uh("onChange","change",null,n,r),t.push({event:n,listeners:s}))}var zi=null,so=null;function L2(t){my(t,0)}function Gc(t){var s=Na(t);if(Cv(s))return t}function $2(t,s){if(t==="change")return s}var sy=!1;if(En){var xu;if(En){var gu="oninput"in document;if(!gu){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),gu=typeof sx.oninput=="function"}xu=gu}else xu=!1;sy=xu&&(!document.documentMode||9<document.documentMode)}function nx(){zi&&(zi.detachEvent("onpropertychange",ny),so=zi=null)}function ny(t){if(t.propertyName==="value"&&Gc(so)){var s=[];ty(s,so,t,Mh(t)),Fv(L2,s)}}function U2(t,s,n){t==="focusin"?(nx(),zi=s,so=n,zi.attachEvent("onpropertychange",ny)):t==="focusout"&&nx()}function B2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gc(so)}function z2(t,s){if(t==="click")return Gc(s)}function V2(t,s){if(t==="input"||t==="change")return Gc(s)}function q2(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Vs=typeof Object.is=="function"?Object.is:q2;function no(t,s){if(Vs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!em.call(s,a)||!Vs(t[a],s[a]))return!1}return!0}function rx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ax(t,s){var n=rx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=s&&r>=s)return{node:n,offset:s-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rx(n)}}function ry(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ry(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ay(){for(var t=window,s=Xl();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=Xl(t.document)}return s}function Vh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function G2(t){var s=ay(),n=t.focusedElem,r=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&ry(n.ownerDocument.documentElement,n)){if(r!==null&&Vh(n)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=ax(n,i);var o=ax(n,r);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(s),t.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y2=En&&"documentMode"in document&&11>=document.documentMode,ya=null,ym=null,Vi=null,jm=!1;function ix(t,s,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||ya==null||ya!==Xl(r)||(r=ya,"selectionStart"in r&&Vh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vi&&no(Vi,r)||(Vi=r,r=ac(ym,"onSelect"),0<r.length&&(s=new Uh("onSelect","select",null,s,n),t.push({event:s,listeners:r}),s.target=ya)))}function fl(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var ja={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},vu={},iy={};En&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Yc(t){if(vu[t])return vu[t];if(!ja[t])return t;var s=ja[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in iy)return vu[t]=s[n];return t}var oy=Yc("animationend"),ly=Yc("animationiteration"),cy=Yc("animationstart"),dy=Yc("transitionend"),uy=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,s){uy.set(t,s),na(s,[t])}for(var yu=0;yu<ox.length;yu++){var ju=ox[yu],H2=ju.toLowerCase(),W2=ju[0].toUpperCase()+ju.slice(1);wr(H2,"on"+W2)}wr(oy,"onAnimationEnd");wr(ly,"onAnimationIteration");wr(cy,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(dy,"onTransitionEnd");Ya("onMouseEnter",["mouseout","mouseover"]);Ya("onMouseLeave",["mouseout","mouseover"]);Ya("onPointerEnter",["pointerout","pointerover"]);Ya("onPointerLeave",["pointerout","pointerover"]);na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));na("onBeforeInput",["compositionend","keypress","textInput","paste"]);na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function lx(t,s,n){var r=t.type||"unknown-event";t.currentTarget=n,H1(r,s,void 0,t),t.currentTarget=null}function my(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(s)for(var o=r.length-1;0<=o;o--){var l=r[o],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==i&&a.isPropagationStopped())break e;lx(a,l,u),i=d}else for(o=0;o<r.length;o++){if(l=r[o],d=l.instance,u=l.currentTarget,l=l.listener,d!==i&&a.isPropagationStopped())break e;lx(a,l,u),i=d}}}if(ec)throw t=fm,ec=!1,fm=null,t}function Ke(t,s){var n=s[Cm];n===void 0&&(n=s[Cm]=new Set);var r=t+"__bubble";n.has(r)||(hy(s,t,2,!1),n.add(r))}function Nu(t,s,n){var r=0;s&&(r|=4),hy(n,t,r,s)}var xl="_reactListening"+Math.random().toString(36).slice(2);function ro(t){if(!t[xl]){t[xl]=!0,jv.forEach(function(n){n!=="selectionchange"&&(K2.has(n)||Nu(n,!1,t),Nu(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[xl]||(s[xl]=!0,Nu("selectionchange",!1,s))}}function hy(t,s,n,r){switch(Jv(s)){case 1:var a=c2;break;case 4:a=d2;break;default:a=Lh}n=a.bind(null,s,n,t),a=void 0,!pm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(s,n,{capture:!0,passive:a}):t.addEventListener(s,n,!0):a!==void 0?t.addEventListener(s,n,{passive:a}):t.addEventListener(s,n,!1)}function Su(t,s,n,r,a){var i=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Mr(l),o===null)return;if(d=o.tag,d===5||d===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Fv(function(){var u=i,f=Mh(n),m=[];e:{var x=uy.get(t);if(x!==void 0){var h=Uh,w=t;switch(t){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":h=C2;break;case"focusin":w="focus",h=fu;break;case"focusout":w="blur",h=fu;break;case"beforeblur":case"afterblur":h=fu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=h2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=A2;break;case oy:case ly:case cy:h=x2;break;case dy:h=I2;break;case"scroll":h=u2;break;case"wheel":h=_2;break;case"copy":case"cut":case"paste":h=v2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Xf}var j=(s&4)!==0,S=!j&&t==="scroll",y=j?x!==null?x+"Capture":null:x;j=[];for(var p=u,v;p!==null;){v=p;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,y!==null&&(N=Xi(p,y),N!=null&&j.push(ao(p,N,v)))),S)break;p=p.return}0<j.length&&(x=new h(x,w,null,n,f),m.push({event:x,listeners:j}))}}if(!(s&7)){e:{if(x=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",x&&n!==mm&&(w=n.relatedTarget||n.fromElement)&&(Mr(w)||w[An]))break e;if((h||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,h?(w=n.relatedTarget||n.toElement,h=u,w=w?Mr(w):null,w!==null&&(S=ra(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=u),h!==w)){if(j=Jf,N="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(j=Xf,N="onPointerLeave",y="onPointerEnter",p="pointer"),S=h==null?x:Na(h),v=w==null?x:Na(w),x=new j(N,p+"leave",h,n,f),x.target=S,x.relatedTarget=v,N=null,Mr(f)===u&&(j=new j(y,p+"enter",w,n,f),j.target=v,j.relatedTarget=S,N=j),S=N,h&&w)t:{for(j=h,y=w,p=0,v=j;v;v=ma(v))p++;for(v=0,N=y;N;N=ma(N))v++;for(;0<p-v;)j=ma(j),p--;for(;0<v-p;)y=ma(y),v--;for(;p--;){if(j===y||y!==null&&j===y.alternate)break t;j=ma(j),y=ma(y)}j=null}else j=null;h!==null&&cx(m,x,h,j,!1),w!==null&&S!==null&&cx(m,S,w,j,!0)}}e:{if(x=u?Na(u):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var P=$2;else if(tx(x))if(sy)P=V2;else{P=B2;var I=U2}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(P=z2);if(P&&(P=P(t,u))){ty(m,P,n,f);break e}I&&I(t,x,u),t==="focusout"&&(I=x._wrapperState)&&I.controlled&&x.type==="number"&&om(x,"number",x.value)}switch(I=u?Na(u):window,t){case"focusin":(tx(I)||I.contentEditable==="true")&&(ya=I,ym=u,Vi=null);break;case"focusout":Vi=ym=ya=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,ix(m,n,f);break;case"selectionchange":if(Y2)break;case"keydown":case"keyup":ix(m,n,f)}var g;if(zh)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else va?Zv(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Xv&&n.locale!=="ko"&&(va||C!=="onCompositionStart"?C==="onCompositionEnd"&&va&&(g=Qv()):(nr=f,$h="value"in nr?nr.value:nr.textContent,va=!0)),I=ac(u,C),0<I.length&&(C=new Qf(C,t,null,n,f),m.push({event:C,listeners:I}),g?C.data=g:(g=ey(n),g!==null&&(C.data=g)))),(g=M2?O2(t,n):F2(t,n))&&(u=ac(u,"onBeforeInput"),0<u.length&&(f=new Qf("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:u}),f.data=g))}my(m,s)})}function ao(t,s,n){return{instance:t,listener:s,currentTarget:n}}function ac(t,s){for(var n=s+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xi(t,n),i!=null&&r.unshift(ao(t,i,a)),i=Xi(t,s),i!=null&&r.push(ao(t,i,a))),t=t.return}return r}function ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cx(t,s,n,r,a){for(var i=s._reactName,o=[];n!==null&&n!==r;){var l=n,d=l.alternate,u=l.stateNode;if(d!==null&&d===r)break;l.tag===5&&u!==null&&(l=u,a?(d=Xi(n,i),d!=null&&o.unshift(ao(n,d,l))):a||(d=Xi(n,i),d!=null&&o.push(ao(n,d,l)))),n=n.return}o.length!==0&&t.push({event:s,listeners:o})}var J2=/\r\n?/g,Q2=/\u0000|\uFFFD/g;function dx(t){return(typeof t=="string"?t:""+t).replace(J2,`
`).replace(Q2,"")}function gl(t,s,n){if(s=dx(s),dx(t)!==s&&n)throw Error(ce(425))}function ic(){}var Nm=null,Sm=null;function wm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(t){return ux.resolve(null).then(t).catch(eC)}:bm;function eC(t){setTimeout(function(){throw t})}function wu(t,s){var n=s,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),to(s);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);to(s)}function cr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function mx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var li=Math.random().toString(36).slice(2),tn="__reactFiber$"+li,io="__reactProps$"+li,An="__reactContainer$"+li,Cm="__reactEvents$"+li,tC="__reactListeners$"+li,sC="__reactHandles$"+li;function Mr(t){var s=t[tn];if(s)return s;for(var n=t.parentNode;n;){if(s=n[An]||n[tn]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=mx(t);t!==null;){if(n=t[tn])return n;t=mx(t)}return s}t=n,n=t.parentNode}return null}function $o(t){return t=t[tn]||t[An],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Hc(t){return t[io]||null}var Pm=[],Sa=-1;function br(t){return{current:t}}function Je(t){0>Sa||(t.current=Pm[Sa],Pm[Sa]=null,Sa--)}function He(t,s){Sa++,Pm[Sa]=t.current,t.current=s}var gr={},Mt=br(gr),Kt=br(!1),Yr=gr;function Ha(t,s){var n=t.type.contextTypes;if(!n)return gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=s[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function Jt(t){return t=t.childContextTypes,t!=null}function oc(){Je(Kt),Je(Mt)}function hx(t,s,n){if(Mt.current!==gr)throw Error(ce(168));He(Mt,s),He(Kt,n)}function py(t,s,n){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in s))throw Error(ce(108,U1(t)||"Unknown",a));return at({},n,r)}function lc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gr,Yr=Mt.current,He(Mt,t),He(Kt,Kt.current),!0}function px(t,s,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=py(t,s,Yr),r.__reactInternalMemoizedMergedChildContext=t,Je(Kt),Je(Mt),He(Mt,t)):Je(Kt),He(Kt,n)}var Nn=null,Wc=!1,bu=!1;function fy(t){Nn===null?Nn=[t]:Nn.push(t)}function nC(t){Wc=!0,fy(t)}function Cr(){if(!bu&&Nn!==null){bu=!0;var t=0,s=Ve;try{var n=Nn;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,Wc=!1}catch(a){throw Nn!==null&&(Nn=Nn.slice(t+1)),Uv(Oh,Cr),a}finally{Ve=s,bu=!1}}return null}var wa=[],ba=0,cc=null,dc=0,xs=[],gs=0,Hr=null,wn=1,bn="";function _r(t,s){wa[ba++]=dc,wa[ba++]=cc,cc=t,dc=s}function xy(t,s,n){xs[gs++]=wn,xs[gs++]=bn,xs[gs++]=Hr,Hr=t;var r=wn;t=bn;var a=32-Us(r)-1;r&=~(1<<a),n+=1;var i=32-Us(s)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,wn=1<<32-Us(s)+a|n<<a|r,bn=i+t}else wn=1<<i|n<<a|r,bn=t}function qh(t){t.return!==null&&(_r(t,1),xy(t,1,0))}function Gh(t){for(;t===cc;)cc=wa[--ba],wa[ba]=null,dc=wa[--ba],wa[ba]=null;for(;t===Hr;)Hr=xs[--gs],xs[gs]=null,bn=xs[--gs],xs[gs]=null,wn=xs[--gs],xs[gs]=null}var is=null,ss=null,et=!1,Ds=null;function gy(t,s){var n=vs(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function fx(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,is=t,ss=cr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,is=t,ss=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=Hr!==null?{id:wn,overflow:bn}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=vs(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,is=t,ss=null,!0):!1;default:return!1}}function Em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Am(t){if(et){var s=ss;if(s){var n=s;if(!fx(t,s)){if(Em(t))throw Error(ce(418));s=cr(n.nextSibling);var r=is;s&&fx(t,s)?gy(r,n):(t.flags=t.flags&-4097|2,et=!1,is=t)}}else{if(Em(t))throw Error(ce(418));t.flags=t.flags&-4097|2,et=!1,is=t}}}function xx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;is=t}function vl(t){if(t!==is)return!1;if(!et)return xx(t),et=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!wm(t.type,t.memoizedProps)),s&&(s=ss)){if(Em(t))throw vy(),Error(ce(418));for(;s;)gy(t,s),s=cr(s.nextSibling)}if(xx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){ss=cr(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}ss=null}}else ss=is?cr(t.stateNode.nextSibling):null;return!0}function vy(){for(var t=ss;t;)t=cr(t.nextSibling)}function Wa(){ss=is=null,et=!1}function Yh(t){Ds===null?Ds=[t]:Ds.push(t)}var rC=Mn.ReactCurrentBatchConfig;function Ai(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var a=r,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function yl(t,s){throw t=Object.prototype.toString.call(s),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function gx(t){var s=t._init;return s(t._payload)}function yy(t){function s(y,p){if(t){var v=y.deletions;v===null?(y.deletions=[p],y.flags|=16):v.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)s(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function a(y,p){return y=hr(y,p),y.index=0,y.sibling=null,y}function i(y,p,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<p?(y.flags|=2,p):v):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,p,v,N){return p===null||p.tag!==6?(p=Tu(v,y.mode,N),p.return=y,p):(p=a(p,v),p.return=y,p)}function d(y,p,v,N){var P=v.type;return P===ga?f(y,p,v.props.children,N,v.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Hn&&gx(P)===p.type)?(N=a(p,v.props),N.ref=Ai(y,p,v),N.return=y,N):(N=Gl(v.type,v.key,v.props,null,y.mode,N),N.ref=Ai(y,p,v),N.return=y,N)}function u(y,p,v,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=_u(v,y.mode,N),p.return=y,p):(p=a(p,v.children||[]),p.return=y,p)}function f(y,p,v,N,P){return p===null||p.tag!==7?(p=Gr(v,y.mode,N,P),p.return=y,p):(p=a(p,v),p.return=y,p)}function m(y,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tu(""+p,y.mode,v),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ll:return v=Gl(p.type,p.key,p.props,null,y.mode,v),v.ref=Ai(y,null,p),v.return=y,v;case xa:return p=_u(p,y.mode,v),p.return=y,p;case Hn:var N=p._init;return m(y,N(p._payload),v)}if(Mi(p)||wi(p))return p=Gr(p,y.mode,v,null),p.return=y,p;yl(y,p)}return null}function x(y,p,v,N){var P=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return P!==null?null:l(y,p,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ll:return v.key===P?d(y,p,v,N):null;case xa:return v.key===P?u(y,p,v,N):null;case Hn:return P=v._init,x(y,p,P(v._payload),N)}if(Mi(v)||wi(v))return P!==null?null:f(y,p,v,N,null);yl(y,v)}return null}function h(y,p,v,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(v)||null,l(p,y,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ll:return y=y.get(N.key===null?v:N.key)||null,d(p,y,N,P);case xa:return y=y.get(N.key===null?v:N.key)||null,u(p,y,N,P);case Hn:var I=N._init;return h(y,p,v,I(N._payload),P)}if(Mi(N)||wi(N))return y=y.get(v)||null,f(p,y,N,P,null);yl(p,N)}return null}function w(y,p,v,N){for(var P=null,I=null,g=p,C=p=0,E=null;g!==null&&C<v.length;C++){g.index>C?(E=g,g=null):E=g.sibling;var A=x(y,g,v[C],N);if(A===null){g===null&&(g=E);break}t&&g&&A.alternate===null&&s(y,g),p=i(A,p,C),I===null?P=A:I.sibling=A,I=A,g=E}if(C===v.length)return n(y,g),et&&_r(y,C),P;if(g===null){for(;C<v.length;C++)g=m(y,v[C],N),g!==null&&(p=i(g,p,C),I===null?P=g:I.sibling=g,I=g);return et&&_r(y,C),P}for(g=r(y,g);C<v.length;C++)E=h(g,y,C,v[C],N),E!==null&&(t&&E.alternate!==null&&g.delete(E.key===null?C:E.key),p=i(E,p,C),I===null?P=E:I.sibling=E,I=E);return t&&g.forEach(function(_){return s(y,_)}),et&&_r(y,C),P}function j(y,p,v,N){var P=wi(v);if(typeof P!="function")throw Error(ce(150));if(v=P.call(v),v==null)throw Error(ce(151));for(var I=P=null,g=p,C=p=0,E=null,A=v.next();g!==null&&!A.done;C++,A=v.next()){g.index>C?(E=g,g=null):E=g.sibling;var _=x(y,g,A.value,N);if(_===null){g===null&&(g=E);break}t&&g&&_.alternate===null&&s(y,g),p=i(_,p,C),I===null?P=_:I.sibling=_,I=_,g=E}if(A.done)return n(y,g),et&&_r(y,C),P;if(g===null){for(;!A.done;C++,A=v.next())A=m(y,A.value,N),A!==null&&(p=i(A,p,C),I===null?P=A:I.sibling=A,I=A);return et&&_r(y,C),P}for(g=r(y,g);!A.done;C++,A=v.next())A=h(g,y,C,A.value,N),A!==null&&(t&&A.alternate!==null&&g.delete(A.key===null?C:A.key),p=i(A,p,C),I===null?P=A:I.sibling=A,I=A);return t&&g.forEach(function(M){return s(y,M)}),et&&_r(y,C),P}function S(y,p,v,N){if(typeof v=="object"&&v!==null&&v.type===ga&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ll:e:{for(var P=v.key,I=p;I!==null;){if(I.key===P){if(P=v.type,P===ga){if(I.tag===7){n(y,I.sibling),p=a(I,v.props.children),p.return=y,y=p;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Hn&&gx(P)===I.type){n(y,I.sibling),p=a(I,v.props),p.ref=Ai(y,I,v),p.return=y,y=p;break e}n(y,I);break}else s(y,I);I=I.sibling}v.type===ga?(p=Gr(v.props.children,y.mode,N,v.key),p.return=y,y=p):(N=Gl(v.type,v.key,v.props,null,y.mode,N),N.ref=Ai(y,p,v),N.return=y,y=N)}return o(y);case xa:e:{for(I=v.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(y,p.sibling),p=a(p,v.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else s(y,p);p=p.sibling}p=_u(v,y.mode,N),p.return=y,y=p}return o(y);case Hn:return I=v._init,S(y,p,I(v._payload),N)}if(Mi(v))return w(y,p,v,N);if(wi(v))return j(y,p,v,N);yl(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(y,p.sibling),p=a(p,v),p.return=y,y=p):(n(y,p),p=Tu(v,y.mode,N),p.return=y,y=p),o(y)):n(y,p)}return S}var Ka=yy(!0),jy=yy(!1),uc=br(null),mc=null,Ca=null,Hh=null;function Wh(){Hh=Ca=mc=null}function Kh(t){var s=uc.current;Je(uc),t._currentValue=s}function Rm(t,s,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===n)break;t=t.return}}function _a(t,s){mc=t,Hh=Ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Wt=!0),t.firstContext=null)}function Ns(t){var s=t._currentValue;if(Hh!==t)if(t={context:t,memoizedValue:s,next:null},Ca===null){if(mc===null)throw Error(ce(308));Ca=t,mc.dependencies={lanes:0,firstContext:t}}else Ca=Ca.next=t;return s}var Or=null;function Jh(t){Or===null?Or=[t]:Or.push(t)}function Ny(t,s,n,r){var a=s.interleaved;return a===null?(n.next=n,Jh(s)):(n.next=a.next,a.next=n),s.interleaved=n,Rn(t,r)}function Rn(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sy(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function dr(t,s,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var a=r.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s,Rn(t,n)}return a=r.interleaved,a===null?(s.next=s,Jh(r)):(s.next=a.next,a.next=s),r.interleaved=s,Rn(t,n)}function $l(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Fh(t,n)}}function vx(t,s){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=s:i=i.next=s}else a=i=s;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function hc(t,s,n,r){var a=t.updateQueue;Wn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var d=l,u=d.next;d.next=null,o===null?i=u:o.next=u,o=d;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=d))}if(i!==null){var m=a.baseState;o=0,f=u=d=null,l=i;do{var x=l.lane,h=l.eventTime;if((r&x)===x){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,j=l;switch(x=s,h=n,j.tag){case 1:if(w=j.payload,typeof w=="function"){m=w.call(h,m,x);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=j.payload,x=typeof w=="function"?w.call(h,m,x):w,x==null)break e;m=at({},m,x);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,x=a.effects,x===null?a.effects=[l]:x.push(l))}else h={eventTime:h,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=h,d=m):f=f.next=h,o|=x;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;x=l,l=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(f===null&&(d=m),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=f,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);Kr|=o,t.lanes=o,t.memoizedState=m}}function yx(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(ce(191,a));a.call(r)}}}var Uo={},ln=br(Uo),oo=br(Uo),lo=br(Uo);function Fr(t){if(t===Uo)throw Error(ce(174));return t}function Xh(t,s){switch(He(lo,s),He(oo,t),He(ln,Uo),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:cm(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=cm(s,t)}Je(ln),He(ln,s)}function Ja(){Je(ln),Je(oo),Je(lo)}function wy(t){Fr(lo.current);var s=Fr(ln.current),n=cm(s,t.type);s!==n&&(He(oo,t),He(ln,n))}function Zh(t){oo.current===t&&(Je(ln),Je(oo))}var tt=br(0);function pc(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cu=[];function ep(){for(var t=0;t<Cu.length;t++)Cu[t]._workInProgressVersionPrimary=null;Cu.length=0}var Ul=Mn.ReactCurrentDispatcher,Pu=Mn.ReactCurrentBatchConfig,Wr=0,nt=null,xt=null,jt=null,fc=!1,qi=!1,co=0,aC=0;function Rt(){throw Error(ce(321))}function tp(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!Vs(t[n],s[n]))return!1;return!0}function sp(t,s,n,r,a,i){if(Wr=i,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ul.current=t===null||t.memoizedState===null?cC:dC,t=n(r,a),qi){i=0;do{if(qi=!1,co=0,25<=i)throw Error(ce(301));i+=1,jt=xt=null,s.updateQueue=null,Ul.current=uC,t=n(r,a)}while(qi)}if(Ul.current=xc,s=xt!==null&&xt.next!==null,Wr=0,jt=xt=nt=null,fc=!1,s)throw Error(ce(300));return t}function np(){var t=co!==0;return co=0,t}function Qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?nt.memoizedState=jt=t:jt=jt.next=t,jt}function Ss(){if(xt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var s=jt===null?nt.memoizedState:jt.next;if(s!==null)jt=s,xt=t;else{if(t===null)throw Error(ce(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},jt===null?nt.memoizedState=jt=t:jt=jt.next=t}return jt}function uo(t,s){return typeof s=="function"?s(t):s}function Eu(t){var s=Ss(),n=s.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=xt,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,d=null,u=i;do{var f=u.lane;if((Wr&f)===f)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=m,o=r):d=d.next=m,nt.lanes|=f,Kr|=f}u=u.next}while(u!==null&&u!==i);d===null?o=r:d.next=l,Vs(r,s.memoizedState)||(Wt=!0),s.memoizedState=r,s.baseState=o,s.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,nt.lanes|=i,Kr|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function Au(t){var s=Ss(),n=s.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=s.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);Vs(i,s.memoizedState)||(Wt=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),n.lastRenderedState=i}return[i,r]}function by(){}function Cy(t,s){var n=nt,r=Ss(),a=s(),i=!Vs(r.memoizedState,a);if(i&&(r.memoizedState=a,Wt=!0),r=r.queue,rp(Ay.bind(null,n,r,t),[t]),r.getSnapshot!==s||i||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,mo(9,Ey.bind(null,n,r,a,s),void 0,null),Nt===null)throw Error(ce(349));Wr&30||Py(n,s,a)}return a}function Py(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Ey(t,s,n,r){s.value=n,s.getSnapshot=r,Ry(s)&&Iy(t)}function Ay(t,s,n){return n(function(){Ry(s)&&Iy(t)})}function Ry(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Vs(t,n)}catch{return!0}}function Iy(t){var s=Rn(t,1);s!==null&&Bs(s,t,1,-1)}function jx(t){var s=Qs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},s.queue=t,t=t.dispatch=lC.bind(null,nt,t),[s.memoizedState,t]}function mo(t,s,n,r){return t={tag:t,create:s,destroy:n,deps:r,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,s.lastEffect=t)),t}function Ty(){return Ss().memoizedState}function Bl(t,s,n,r){var a=Qs();nt.flags|=t,a.memoizedState=mo(1|s,n,void 0,r===void 0?null:r)}function Kc(t,s,n,r){var a=Ss();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&tp(r,o.deps)){a.memoizedState=mo(s,n,i,r);return}}nt.flags|=t,a.memoizedState=mo(1|s,n,i,r)}function Nx(t,s){return Bl(8390656,8,t,s)}function rp(t,s){return Kc(2048,8,t,s)}function _y(t,s){return Kc(4,2,t,s)}function ky(t,s){return Kc(4,4,t,s)}function My(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Oy(t,s,n){return n=n!=null?n.concat([t]):null,Kc(4,4,My.bind(null,s,t),n)}function ap(){}function Fy(t,s){var n=Ss();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&tp(s,r[1])?r[0]:(n.memoizedState=[t,s],t)}function Dy(t,s){var n=Ss();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&tp(s,r[1])?r[0]:(t=t(),n.memoizedState=[t,s],t)}function Ly(t,s,n){return Wr&21?(Vs(n,s)||(n=Vv(),nt.lanes|=n,Kr|=n,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function iC(t,s){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Pu.transition;Pu.transition={};try{t(!1),s()}finally{Ve=n,Pu.transition=r}}function $y(){return Ss().memoizedState}function oC(t,s,n){var r=mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Uy(t))By(s,n);else if(n=Ny(t,s,n,r),n!==null){var a=zt();Bs(n,t,r,a),zy(n,s,r)}}function lC(t,s,n){var r=mr(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uy(t))By(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Vs(l,o)){var d=s.interleaved;d===null?(a.next=a,Jh(s)):(a.next=d.next,d.next=a),s.interleaved=a;return}}catch{}finally{}n=Ny(t,s,a,r),n!==null&&(a=zt(),Bs(n,t,r,a),zy(n,s,r))}}function Uy(t){var s=t.alternate;return t===nt||s!==null&&s===nt}function By(t,s){qi=fc=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function zy(t,s,n){if(n&4194240){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Fh(t,n)}}var xc={readContext:Ns,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},cC={readContext:Ns,useCallback:function(t,s){return Qs().memoizedState=[t,s===void 0?null:s],t},useContext:Ns,useEffect:Nx,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,Bl(4194308,4,My.bind(null,s,t),n)},useLayoutEffect:function(t,s){return Bl(4194308,4,t,s)},useInsertionEffect:function(t,s){return Bl(4,2,t,s)},useMemo:function(t,s){var n=Qs();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var r=Qs();return s=n!==void 0?n(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=oC.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var s=Qs();return t={current:t},s.memoizedState=t},useState:jx,useDebugValue:ap,useDeferredValue:function(t){return Qs().memoizedState=t},useTransition:function(){var t=jx(!1),s=t[0];return t=iC.bind(null,t[1]),Qs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var r=nt,a=Qs();if(et){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=s(),Nt===null)throw Error(ce(349));Wr&30||Py(r,s,n)}a.memoizedState=n;var i={value:n,getSnapshot:s};return a.queue=i,Nx(Ay.bind(null,r,i,t),[t]),r.flags|=2048,mo(9,Ey.bind(null,r,i,n,s),void 0,null),n},useId:function(){var t=Qs(),s=Nt.identifierPrefix;if(et){var n=bn,r=wn;n=(r&~(1<<32-Us(r)-1)).toString(32)+n,s=":"+s+"R"+n,n=co++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=aC++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},dC={readContext:Ns,useCallback:Fy,useContext:Ns,useEffect:rp,useImperativeHandle:Oy,useInsertionEffect:_y,useLayoutEffect:ky,useMemo:Dy,useReducer:Eu,useRef:Ty,useState:function(){return Eu(uo)},useDebugValue:ap,useDeferredValue:function(t){var s=Ss();return Ly(s,xt.memoizedState,t)},useTransition:function(){var t=Eu(uo)[0],s=Ss().memoizedState;return[t,s]},useMutableSource:by,useSyncExternalStore:Cy,useId:$y,unstable_isNewReconciler:!1},uC={readContext:Ns,useCallback:Fy,useContext:Ns,useEffect:rp,useImperativeHandle:Oy,useInsertionEffect:_y,useLayoutEffect:ky,useMemo:Dy,useReducer:Au,useRef:Ty,useState:function(){return Au(uo)},useDebugValue:ap,useDeferredValue:function(t){var s=Ss();return xt===null?s.memoizedState=t:Ly(s,xt.memoizedState,t)},useTransition:function(){var t=Au(uo)[0],s=Ss().memoizedState;return[t,s]},useMutableSource:by,useSyncExternalStore:Cy,useId:$y,unstable_isNewReconciler:!1};function _s(t,s){if(t&&t.defaultProps){s=at({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function Im(t,s,n,r){s=t.memoizedState,n=n(r,s),n=n==null?s:at({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jc={isMounted:function(t){return(t=t._reactInternals)?ra(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var r=zt(),a=mr(t),i=Pn(r,a);i.payload=s,n!=null&&(i.callback=n),s=dr(t,i,a),s!==null&&(Bs(s,t,a,r),$l(s,t,a))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var r=zt(),a=mr(t),i=Pn(r,a);i.tag=1,i.payload=s,n!=null&&(i.callback=n),s=dr(t,i,a),s!==null&&(Bs(s,t,a,r),$l(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=zt(),r=mr(t),a=Pn(n,r);a.tag=2,s!=null&&(a.callback=s),s=dr(t,a,r),s!==null&&(Bs(s,t,r,n),$l(s,t,r))}};function Sx(t,s,n,r,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):s.prototype&&s.prototype.isPureReactComponent?!no(n,r)||!no(a,i):!0}function Vy(t,s,n){var r=!1,a=gr,i=s.contextType;return typeof i=="object"&&i!==null?i=Ns(i):(a=Jt(s)?Yr:Mt.current,r=s.contextTypes,i=(r=r!=null)?Ha(t,a):gr),s=new s(n,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Jc,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function wx(t,s,n,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,r),s.state!==t&&Jc.enqueueReplaceState(s,s.state,null)}function Tm(t,s,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},Qh(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Ns(i):(i=Jt(s)?Yr:Mt.current,a.context=Ha(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Im(t,s,i,n),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Jc.enqueueReplaceState(a,a.state,null),hc(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,s){try{var n="",r=s;do n+=$1(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function Ru(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function _m(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var mC=typeof WeakMap=="function"?WeakMap:Map;function qy(t,s,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=s.value;return n.callback=function(){vc||(vc=!0,zm=r),_m(t,s)},n}function Gy(t,s,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;n.payload=function(){return r(a)},n.callback=function(){_m(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_m(t,s),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),n}function bx(t,s,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mC;var a=new Set;r.set(s,a)}else a=r.get(s),a===void 0&&(a=new Set,r.set(s,a));a.has(n)||(a.add(n),t=PC.bind(null,t,s,n),s.then(t,t))}function Cx(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Px(t,s,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=Pn(-1,1),s.tag=2,dr(n,s,1))),n.lanes|=1),t)}var hC=Mn.ReactCurrentOwner,Wt=!1;function Ut(t,s,n,r){s.child=t===null?jy(s,null,n,r):Ka(s,t.child,n,r)}function Ex(t,s,n,r,a){n=n.render;var i=s.ref;return _a(s,a),r=sp(t,s,n,r,i,a),n=np(),t!==null&&!Wt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,In(t,s,a)):(et&&n&&qh(s),s.flags|=1,Ut(t,s,r,a),s.child)}function Ax(t,s,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!hp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=i,Yy(t,s,i,r,a)):(t=Gl(n.type,null,r,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:no,n(o,r)&&t.ref===s.ref)return In(t,s,a)}return s.flags|=1,t=hr(i,r),t.ref=s.ref,t.return=s,s.child=t}function Yy(t,s,n,r,a){if(t!==null){var i=t.memoizedProps;if(no(i,r)&&t.ref===s.ref)if(Wt=!1,s.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(Wt=!0);else return s.lanes=t.lanes,In(t,s,a)}return km(t,s,n,r,a)}function Hy(t,s,n){var r=s.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ea,Zt),Zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,He(Ea,Zt),Zt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He(Ea,Zt),Zt|=r}else i!==null?(r=i.baseLanes|n,s.memoizedState=null):r=n,He(Ea,Zt),Zt|=r;return Ut(t,s,a,n),s.child}function Wy(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function km(t,s,n,r,a){var i=Jt(n)?Yr:Mt.current;return i=Ha(s,i),_a(s,a),n=sp(t,s,n,r,i,a),r=np(),t!==null&&!Wt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,In(t,s,a)):(et&&r&&qh(s),s.flags|=1,Ut(t,s,n,a),s.child)}function Rx(t,s,n,r,a){if(Jt(n)){var i=!0;lc(s)}else i=!1;if(_a(s,a),s.stateNode===null)zl(t,s),Vy(s,n,r),Tm(s,n,r,a),r=!0;else if(t===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var d=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ns(u):(u=Jt(n)?Yr:Mt.current,u=Ha(s,u));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||d!==u)&&wx(s,o,r,u),Wn=!1;var x=s.memoizedState;o.state=x,hc(s,r,o,a),d=s.memoizedState,l!==r||x!==d||Kt.current||Wn?(typeof f=="function"&&(Im(s,n,f,r),d=s.memoizedState),(l=Wn||Sx(s,n,l,r,x,d,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=d),o.props=r,o.state=d,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{o=s.stateNode,Sy(t,s),l=s.memoizedProps,u=s.type===s.elementType?l:_s(s.type,l),o.props=u,m=s.pendingProps,x=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=Ns(d):(d=Jt(n)?Yr:Mt.current,d=Ha(s,d));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||x!==d)&&wx(s,o,r,d),Wn=!1,x=s.memoizedState,o.state=x,hc(s,r,o,a);var w=s.memoizedState;l!==m||x!==w||Kt.current||Wn?(typeof h=="function"&&(Im(s,n,h,r),w=s.memoizedState),(u=Wn||Sx(s,n,u,r,x,w,d)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,d)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=w),o.props=r,o.state=w,o.context=d,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),r=!1)}return Mm(t,s,n,r,i,a)}function Mm(t,s,n,r,a,i){Wy(t,s);var o=(s.flags&128)!==0;if(!r&&!o)return a&&px(s,n,!1),In(t,s,i);r=s.stateNode,hC.current=s;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&o?(s.child=Ka(s,t.child,null,i),s.child=Ka(s,null,l,i)):Ut(t,s,l,i),s.memoizedState=r.state,a&&px(s,n,!0),s.child}function Ky(t){var s=t.stateNode;s.pendingContext?hx(t,s.pendingContext,s.pendingContext!==s.context):s.context&&hx(t,s.context,!1),Xh(t,s.containerInfo)}function Ix(t,s,n,r,a){return Wa(),Yh(a),s.flags|=256,Ut(t,s,n,r),s.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jy(t,s,n){var r=s.pendingProps,a=tt.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),He(tt,a&1),t===null)return Am(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=r.children,t=r.fallback,i?(r=s.mode,i=s.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zc(o,r,0,null),t=Gr(t,r,n,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=Fm(n),s.memoizedState=Om,t):ip(s,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return pC(t,s,o,r,l,a,n);if(i){i=r.fallback,o=s.mode,a=t.child,l=a.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&s.child!==a?(r=s.child,r.childLanes=0,r.pendingProps=d,s.deletions=null):(r=hr(a,d),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=hr(l,i):(i=Gr(i,o,n,null),i.flags|=2),i.return=s,r.return=s,r.sibling=i,s.child=r,r=i,i=s.child,o=t.child.memoizedState,o=o===null?Fm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,s.memoizedState=Om,r}return i=t.child,t=i.sibling,r=hr(i,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=n),r.return=s,r.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=r,s.memoizedState=null,r}function ip(t,s){return s=Zc({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function jl(t,s,n,r){return r!==null&&Yh(r),Ka(s,t.child,null,n),t=ip(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function pC(t,s,n,r,a,i,o){if(n)return s.flags&256?(s.flags&=-257,r=Ru(Error(ce(422))),jl(t,s,o,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=r.fallback,a=s.mode,r=Zc({mode:"visible",children:r.children},a,0,null),i=Gr(i,a,o,null),i.flags|=2,r.return=s,i.return=s,r.sibling=i,s.child=r,s.mode&1&&Ka(s,t.child,null,o),s.child.memoizedState=Fm(o),s.memoizedState=Om,i);if(!(s.mode&1))return jl(t,s,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ce(419)),r=Ru(i,r,void 0),jl(t,s,o,r)}if(l=(o&t.childLanes)!==0,Wt||l){if(r=Nt,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Rn(t,a),Bs(r,t,a,-1))}return mp(),r=Ru(Error(ce(421))),jl(t,s,o,r)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=EC.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,ss=cr(a.nextSibling),is=s,et=!0,Ds=null,t!==null&&(xs[gs++]=wn,xs[gs++]=bn,xs[gs++]=Hr,wn=t.id,bn=t.overflow,Hr=s),s=ip(s,r.children),s.flags|=4096,s)}function Tx(t,s,n){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),Rm(t.return,s,n)}function Iu(t,s,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Qy(t,s,n){var r=s.pendingProps,a=r.revealOrder,i=r.tail;if(Ut(t,s,r.children,n),r=tt.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tx(t,n,s);else if(t.tag===19)Tx(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(tt,r),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(n=s.child,a=null;n!==null;)t=n.alternate,t!==null&&pc(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=s.child,s.child=null):(a=n.sibling,n.sibling=null),Iu(s,!1,a,n,i);break;case"backwards":for(n=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&pc(t)===null){s.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Iu(s,!0,n,null,i);break;case"together":Iu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zl(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function In(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),Kr|=s.lanes,!(n&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(ce(153));if(s.child!==null){for(t=s.child,n=hr(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=hr(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function fC(t,s,n){switch(s.tag){case 3:Ky(s),Wa();break;case 5:wy(s);break;case 1:Jt(s.type)&&lc(s);break;case 4:Xh(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,a=s.memoizedProps.value;He(uc,r._currentValue),r._currentValue=a;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(He(tt,tt.current&1),s.flags|=128,null):n&s.child.childLanes?Jy(t,s,n):(He(tt,tt.current&1),t=In(t,s,n),t!==null?t.sibling:null);He(tt,tt.current&1);break;case 19:if(r=(n&s.childLanes)!==0,t.flags&128){if(r)return Qy(t,s,n);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),He(tt,tt.current),r)break;return null;case 22:case 23:return s.lanes=0,Hy(t,s,n)}return In(t,s,n)}var Xy,Dm,Zy,ej;Xy=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dm=function(){};Zy=function(t,s,n,r){var a=t.memoizedProps;if(a!==r){t=s.stateNode,Fr(ln.current);var i=null;switch(n){case"input":a=am(t,a),r=am(t,r),i=[];break;case"select":a=at({},a,{value:void 0}),r=at({},r,{value:void 0}),i=[];break;case"textarea":a=lm(t,a),r=lm(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ic)}dm(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ji.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var d=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(i||(i=[]),i.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&Ke("scroll",t),i||l===d||(i=[])):(i=i||[]).push(u,d))}n&&(i=i||[]).push("style",n);var u=i;(s.updateQueue=u)&&(s.flags|=4)}};ej=function(t,s,n,r){n!==r&&(s.flags|=4)};function Ri(t,s){if(!et)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(s)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,s}function xC(t,s,n){var r=s.pendingProps;switch(Gh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return Jt(s.type)&&oc(),It(s),null;case 3:return r=s.stateNode,Ja(),Je(Kt),Je(Mt),ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vl(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ds!==null&&(Gm(Ds),Ds=null))),Dm(t,s),It(s),null;case 5:Zh(s);var a=Fr(lo.current);if(n=s.type,t!==null&&s.stateNode!=null)Zy(t,s,n,r,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(ce(166));return It(s),null}if(t=Fr(ln.current),vl(s)){r=s.stateNode,n=s.type;var i=s.memoizedProps;switch(r[tn]=s,r[io]=i,t=(s.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(a=0;a<Fi.length;a++)Ke(Fi[a],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Uf(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":zf(r,i),Ke("invalid",r)}dm(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&gl(r.textContent,l,t),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&gl(r.textContent,l,t),a=["children",""+l]):Ji.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":cl(r),Bf(r,i,!0);break;case"textarea":cl(r),Vf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ic)}r=a,s.updateQueue=r,r!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Av(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tn]=s,t[io]=r,Xy(t,s,!1,!1),s.stateNode=t;e:{switch(o=um(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),a=r;break;case"iframe":case"object":case"embed":Ke("load",t),a=r;break;case"video":case"audio":for(a=0;a<Fi.length;a++)Ke(Fi[a],t);a=r;break;case"source":Ke("error",t),a=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),a=r;break;case"details":Ke("toggle",t),a=r;break;case"input":Uf(t,r),a=am(t,r),Ke("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=at({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":zf(t,r),a=lm(t,r),Ke("invalid",t);break;default:a=r}dm(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?Tv(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Rv(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Qi(t,d):typeof d=="number"&&Qi(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ji.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Ke("scroll",t):d!=null&&Ih(t,i,d,o))}switch(n){case"input":cl(t),Bf(t,r,!1);break;case"textarea":cl(t),Vf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Aa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Aa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ic)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return It(s),null;case 6:if(t&&s.stateNode!=null)ej(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(ce(166));if(n=Fr(lo.current),Fr(ln.current),vl(s)){if(r=s.stateNode,n=s.memoizedProps,r[tn]=s,(i=r.nodeValue!==n)&&(t=is,t!==null))switch(t.tag){case 3:gl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gl(r.nodeValue,n,(t.mode&1)!==0)}i&&(s.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tn]=s,s.stateNode=r}return It(s),null;case 13:if(Je(tt),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&ss!==null&&s.mode&1&&!(s.flags&128))vy(),Wa(),s.flags|=98560,i=!1;else if(i=vl(s),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ce(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[tn]=s}else Wa(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;It(s),i=!1}else Ds!==null&&(Gm(Ds),Ds=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||tt.current&1?gt===0&&(gt=3):mp())),s.updateQueue!==null&&(s.flags|=4),It(s),null);case 4:return Ja(),Dm(t,s),t===null&&ro(s.stateNode.containerInfo),It(s),null;case 10:return Kh(s.type._context),It(s),null;case 17:return Jt(s.type)&&oc(),It(s),null;case 19:if(Je(tt),i=s.memoizedState,i===null)return It(s),null;if(r=(s.flags&128)!==0,o=i.rendering,o===null)if(r)Ri(i,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(o=pc(t),o!==null){for(s.flags|=128,Ri(i,!1),r=o.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=n,n=s.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(tt,tt.current&1|2),s.child}t=t.sibling}i.tail!==null&&ut()>Xa&&(s.flags|=128,r=!0,Ri(i,!1),s.lanes=4194304)}else{if(!r)if(t=pc(o),t!==null){if(s.flags|=128,r=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),Ri(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return It(s),null}else 2*ut()-i.renderingStartTime>Xa&&n!==1073741824&&(s.flags|=128,r=!0,Ri(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(n=i.last,n!==null?n.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=ut(),s.sibling=null,n=tt.current,He(tt,r?n&1|2:n&1),s):(It(s),null);case 22:case 23:return up(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?Zt&1073741824&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),null;case 24:return null;case 25:return null}throw Error(ce(156,s.tag))}function gC(t,s){switch(Gh(s),s.tag){case 1:return Jt(s.type)&&oc(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ja(),Je(Kt),Je(Mt),ep(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Zh(s),null;case 13:if(Je(tt),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(ce(340));Wa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Je(tt),null;case 4:return Ja(),null;case 10:return Kh(s.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var Nl=!1,Tt=!1,vC=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Pa(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,s,r)}else n.current=null}function Lm(t,s,n){try{n()}catch(r){ot(t,s,r)}}var _x=!1;function yC(t,s){if(Nm=nc,t=ay(),Vh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,d=-1,u=0,f=0,m=t,x=null;t:for(;;){for(var h;m!==n||a!==0&&m.nodeType!==3||(l=o+a),m!==i||r!==0&&m.nodeType!==3||(d=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)x=m,m=h;for(;;){if(m===t)break t;if(x===n&&++u===a&&(l=o),x===i&&++f===r&&(d=o),(h=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=h}n=l===-1||d===-1?null:{start:l,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sm={focusedElem:t,selectionRange:n},nc=!1,Ne=s;Ne!==null;)if(s=Ne,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ne=t;else for(;Ne!==null;){s=Ne;try{var w=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var j=w.memoizedProps,S=w.memoizedState,y=s.stateNode,p=y.getSnapshotBeforeUpdate(s.elementType===s.type?j:_s(s.type,j),S);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=s.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(N){ot(s,s.return,N)}if(t=s.sibling,t!==null){t.return=s.return,Ne=t;break}Ne=s.return}return w=_x,_x=!1,w}function Gi(t,s,n){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Lm(s,n,i)}a=a.next}while(a!==r)}}function Qc(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==s)}}function $m(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function tj(t){var s=t.alternate;s!==null&&(t.alternate=null,tj(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[tn],delete s[io],delete s[Cm],delete s[tC],delete s[sC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sj(t){return t.tag===5||t.tag===3||t.tag===4}function kx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Um(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=ic));else if(r!==4&&(t=t.child,t!==null))for(Um(t,s,n),t=t.sibling;t!==null;)Um(t,s,n),t=t.sibling}function Bm(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bm(t,s,n),t=t.sibling;t!==null;)Bm(t,s,n),t=t.sibling}var St=null,Fs=!1;function zn(t,s,n){for(n=n.child;n!==null;)nj(t,s,n),n=n.sibling}function nj(t,s,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Vc,n)}catch{}switch(n.tag){case 5:Tt||Pa(n,s);case 6:var r=St,a=Fs;St=null,zn(t,s,n),St=r,Fs=a,St!==null&&(Fs?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Fs?(t=St,n=n.stateNode,t.nodeType===8?wu(t.parentNode,n):t.nodeType===1&&wu(t,n),to(t)):wu(St,n.stateNode));break;case 4:r=St,a=Fs,St=n.stateNode.containerInfo,Fs=!0,zn(t,s,n),St=r,Fs=a;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lm(n,s,o),a=a.next}while(a!==r)}zn(t,s,n);break;case 1:if(!Tt&&(Pa(n,s),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ot(n,s,l)}zn(t,s,n);break;case 21:zn(t,s,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,zn(t,s,n),Tt=r):zn(t,s,n);break;default:zn(t,s,n)}}function Mx(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vC),s.forEach(function(r){var a=AC.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Rs(t,s){var n=s.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,Fs=!1;break e;case 3:St=l.stateNode.containerInfo,Fs=!0;break e;case 4:St=l.stateNode.containerInfo,Fs=!0;break e}l=l.return}if(St===null)throw Error(ce(160));nj(i,o,a),St=null,Fs=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){ot(a,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)rj(s,t),s=s.sibling}function rj(t,s){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rs(s,t),Js(t),r&4){try{Gi(3,t,t.return),Qc(3,t)}catch(j){ot(t,t.return,j)}try{Gi(5,t,t.return)}catch(j){ot(t,t.return,j)}}break;case 1:Rs(s,t),Js(t),r&512&&n!==null&&Pa(n,n.return);break;case 5:if(Rs(s,t),Js(t),r&512&&n!==null&&Pa(n,n.return),t.flags&32){var a=t.stateNode;try{Qi(a,"")}catch(j){ot(t,t.return,j)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Pv(a,i),um(l,o);var u=um(l,i);for(o=0;o<d.length;o+=2){var f=d[o],m=d[o+1];f==="style"?Tv(a,m):f==="dangerouslySetInnerHTML"?Rv(a,m):f==="children"?Qi(a,m):Ih(a,f,m,u)}switch(l){case"input":im(a,i);break;case"textarea":Ev(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Aa(a,!!i.multiple,h,!1):x!==!!i.multiple&&(i.defaultValue!=null?Aa(a,!!i.multiple,i.defaultValue,!0):Aa(a,!!i.multiple,i.multiple?[]:"",!1))}a[io]=i}catch(j){ot(t,t.return,j)}}break;case 6:if(Rs(s,t),Js(t),r&4){if(t.stateNode===null)throw Error(ce(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(j){ot(t,t.return,j)}}break;case 3:if(Rs(s,t),Js(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(s.containerInfo)}catch(j){ot(t,t.return,j)}break;case 4:Rs(s,t),Js(t);break;case 13:Rs(s,t),Js(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(cp=ut())),r&4&&Mx(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(u=Tt)||f,Rs(s,t),Tt=u):Rs(s,t),Js(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Ne=t,f=t.child;f!==null;){for(m=Ne=f;Ne!==null;){switch(x=Ne,h=x.child,x.tag){case 0:case 11:case 14:case 15:Gi(4,x,x.return);break;case 1:Pa(x,x.return);var w=x.stateNode;if(typeof w.componentWillUnmount=="function"){r=x,n=x.return;try{s=r,w.props=s.memoizedProps,w.state=s.memoizedState,w.componentWillUnmount()}catch(j){ot(r,n,j)}}break;case 5:Pa(x,x.return);break;case 22:if(x.memoizedState!==null){Fx(m);continue}}h!==null?(h.return=x,Ne=h):Fx(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{a=m.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Iv("display",o))}catch(j){ot(t,t.return,j)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(j){ot(t,t.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rs(s,t),Js(t),r&4&&Mx(t);break;case 21:break;default:Rs(s,t),Js(t)}}function Js(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(sj(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Qi(a,""),r.flags&=-33);var i=kx(t);Bm(t,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=kx(t);Um(t,l,o);break;default:throw Error(ce(161))}}catch(d){ot(t,t.return,d)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function jC(t,s,n){Ne=t,aj(t)}function aj(t,s,n){for(var r=(t.mode&1)!==0;Ne!==null;){var a=Ne,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Nl;if(!o){var l=a.alternate,d=l!==null&&l.memoizedState!==null||Tt;l=Nl;var u=Tt;if(Nl=o,(Tt=d)&&!u)for(Ne=a;Ne!==null;)o=Ne,d=o.child,o.tag===22&&o.memoizedState!==null?Dx(a):d!==null?(d.return=o,Ne=d):Dx(a);for(;i!==null;)Ne=i,aj(i),i=i.sibling;Ne=a,Nl=l,Tt=u}Ox(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ne=i):Ox(t)}}function Ox(t){for(;Ne!==null;){var s=Ne;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Tt||Qc(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var a=s.elementType===s.type?n.memoizedProps:_s(s.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&yx(s,i,r);break;case 3:var o=s.updateQueue;if(o!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}yx(s,o,n)}break;case 5:var l=s.stateNode;if(n===null&&s.flags&4){n=l;var d=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&to(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Tt||s.flags&512&&$m(s)}catch(x){ot(s,s.return,x)}}if(s===t){Ne=null;break}if(n=s.sibling,n!==null){n.return=s.return,Ne=n;break}Ne=s.return}}function Fx(t){for(;Ne!==null;){var s=Ne;if(s===t){Ne=null;break}var n=s.sibling;if(n!==null){n.return=s.return,Ne=n;break}Ne=s.return}}function Dx(t){for(;Ne!==null;){var s=Ne;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{Qc(4,s)}catch(d){ot(s,n,d)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var a=s.return;try{r.componentDidMount()}catch(d){ot(s,a,d)}}var i=s.return;try{$m(s)}catch(d){ot(s,i,d)}break;case 5:var o=s.return;try{$m(s)}catch(d){ot(s,o,d)}}}catch(d){ot(s,s.return,d)}if(s===t){Ne=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ne=l;break}Ne=s.return}}var NC=Math.ceil,gc=Mn.ReactCurrentDispatcher,op=Mn.ReactCurrentOwner,ys=Mn.ReactCurrentBatchConfig,Fe=0,Nt=null,pt=null,wt=0,Zt=0,Ea=br(0),gt=0,ho=null,Kr=0,Xc=0,lp=0,Yi=null,Ht=null,cp=0,Xa=1/0,jn=null,vc=!1,zm=null,ur=null,Sl=!1,rr=null,yc=0,Hi=0,Vm=null,Vl=-1,ql=0;function zt(){return Fe&6?ut():Vl!==-1?Vl:Vl=ut()}function mr(t){return t.mode&1?Fe&2&&wt!==0?wt&-wt:rC.transition!==null?(ql===0&&(ql=Vv()),ql):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:Jv(t.type)),t):1}function Bs(t,s,n,r){if(50<Hi)throw Hi=0,Vm=null,Error(ce(185));Do(t,n,r),(!(Fe&2)||t!==Nt)&&(t===Nt&&(!(Fe&2)&&(Xc|=n),gt===4&&Jn(t,wt)),Qt(t,r),n===1&&Fe===0&&!(s.mode&1)&&(Xa=ut()+500,Wc&&Cr()))}function Qt(t,s){var n=t.callbackNode;r2(t,s);var r=sc(t,t===Nt?wt:0);if(r===0)n!==null&&Yf(n),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(n!=null&&Yf(n),s===1)t.tag===0?nC(Lx.bind(null,t)):fy(Lx.bind(null,t)),Z2(function(){!(Fe&6)&&Cr()}),n=null;else{switch(qv(r)){case 1:n=Oh;break;case 4:n=Bv;break;case 16:n=tc;break;case 536870912:n=zv;break;default:n=tc}n=hj(n,ij.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function ij(t,s){if(Vl=-1,ql=0,Fe&6)throw Error(ce(327));var n=t.callbackNode;if(ka()&&t.callbackNode!==n)return null;var r=sc(t,t===Nt?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=jc(t,r);else{s=r;var a=Fe;Fe|=2;var i=lj();(Nt!==t||wt!==s)&&(jn=null,Xa=ut()+500,qr(t,s));do try{bC();break}catch(l){oj(t,l)}while(!0);Wh(),gc.current=i,Fe=a,pt!==null?s=0:(Nt=null,wt=0,s=gt)}if(s!==0){if(s===2&&(a=xm(t),a!==0&&(r=a,s=qm(t,a))),s===1)throw n=ho,qr(t,0),Jn(t,r),Qt(t,ut()),n;if(s===6)Jn(t,r);else{if(a=t.current.alternate,!(r&30)&&!SC(a)&&(s=jc(t,r),s===2&&(i=xm(t),i!==0&&(r=i,s=qm(t,i))),s===1))throw n=ho,qr(t,0),Jn(t,r),Qt(t,ut()),n;switch(t.finishedWork=a,t.finishedLanes=r,s){case 0:case 1:throw Error(ce(345));case 2:kr(t,Ht,jn);break;case 3:if(Jn(t,r),(r&130023424)===r&&(s=cp+500-ut(),10<s)){if(sc(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=bm(kr.bind(null,t,Ht,jn),s);break}kr(t,Ht,jn);break;case 4:if(Jn(t,r),(r&4194240)===r)break;for(s=t.eventTimes,a=-1;0<r;){var o=31-Us(r);i=1<<o,o=s[o],o>a&&(a=o),r&=~i}if(r=a,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NC(r/1960))-r,10<r){t.timeoutHandle=bm(kr.bind(null,t,Ht,jn),r);break}kr(t,Ht,jn);break;case 5:kr(t,Ht,jn);break;default:throw Error(ce(329))}}}return Qt(t,ut()),t.callbackNode===n?ij.bind(null,t):null}function qm(t,s){var n=Yi;return t.current.memoizedState.isDehydrated&&(qr(t,s).flags|=256),t=jc(t,s),t!==2&&(s=Ht,Ht=n,s!==null&&Gm(s)),t}function Gm(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function SC(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Vs(i(),a))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Jn(t,s){for(s&=~lp,s&=~Xc,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-Us(s),r=1<<n;t[n]=-1,s&=~r}}function Lx(t){if(Fe&6)throw Error(ce(327));ka();var s=sc(t,0);if(!(s&1))return Qt(t,ut()),null;var n=jc(t,s);if(t.tag!==0&&n===2){var r=xm(t);r!==0&&(s=r,n=qm(t,r))}if(n===1)throw n=ho,qr(t,0),Jn(t,s),Qt(t,ut()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,kr(t,Ht,jn),Qt(t,ut()),null}function dp(t,s){var n=Fe;Fe|=1;try{return t(s)}finally{Fe=n,Fe===0&&(Xa=ut()+500,Wc&&Cr())}}function Jr(t){rr!==null&&rr.tag===0&&!(Fe&6)&&ka();var s=Fe;Fe|=1;var n=ys.transition,r=Ve;try{if(ys.transition=null,Ve=1,t)return t()}finally{Ve=r,ys.transition=n,Fe=s,!(Fe&6)&&Cr()}}function up(){Zt=Ea.current,Je(Ea)}function qr(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X2(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&oc();break;case 3:Ja(),Je(Kt),Je(Mt),ep();break;case 5:Zh(r);break;case 4:Ja();break;case 13:Je(tt);break;case 19:Je(tt);break;case 10:Kh(r.type._context);break;case 22:case 23:up()}n=n.return}if(Nt=t,pt=t=hr(t.current,null),wt=Zt=s,gt=0,ho=null,lp=Xc=Kr=0,Ht=Yi=null,Or!==null){for(s=0;s<Or.length;s++)if(n=Or[s],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Or=null}return t}function oj(t,s){do{var n=pt;try{if(Wh(),Ul.current=xc,fc){for(var r=nt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}fc=!1}if(Wr=0,jt=xt=nt=null,qi=!1,co=0,op.current=null,n===null||n.return===null){gt=1,ho=s,pt=null;break}e:{var i=t,o=n.return,l=n,d=s;if(s=wt,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Cx(o);if(h!==null){h.flags&=-257,Px(h,o,l,i,s),h.mode&1&&bx(i,u,s),s=h,d=u;var w=s.updateQueue;if(w===null){var j=new Set;j.add(d),s.updateQueue=j}else w.add(d);break e}else{if(!(s&1)){bx(i,u,s),mp();break e}d=Error(ce(426))}}else if(et&&l.mode&1){var S=Cx(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Px(S,o,l,i,s),Yh(Qa(d,l));break e}}i=d=Qa(d,l),gt!==4&&(gt=2),Yi===null?Yi=[i]:Yi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var y=qy(i,d,s);vx(i,y);break e;case 1:l=d;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ur===null||!ur.has(v)))){i.flags|=65536,s&=-s,i.lanes|=s;var N=Gy(i,l,s);vx(i,N);break e}}i=i.return}while(i!==null)}dj(n)}catch(P){s=P,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function lj(){var t=gc.current;return gc.current=xc,t===null?xc:t}function mp(){(gt===0||gt===3||gt===2)&&(gt=4),Nt===null||!(Kr&268435455)&&!(Xc&268435455)||Jn(Nt,wt)}function jc(t,s){var n=Fe;Fe|=2;var r=lj();(Nt!==t||wt!==s)&&(jn=null,qr(t,s));do try{wC();break}catch(a){oj(t,a)}while(!0);if(Wh(),Fe=n,gc.current=r,pt!==null)throw Error(ce(261));return Nt=null,wt=0,gt}function wC(){for(;pt!==null;)cj(pt)}function bC(){for(;pt!==null&&!K1();)cj(pt)}function cj(t){var s=mj(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,s===null?dj(t):pt=s,op.current=null}function dj(t){var s=t;do{var n=s.alternate;if(t=s.return,s.flags&32768){if(n=gC(n,s),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,pt=null;return}}else if(n=xC(n,s,Zt),n!==null){pt=n;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=t}while(s!==null);gt===0&&(gt=5)}function kr(t,s,n){var r=Ve,a=ys.transition;try{ys.transition=null,Ve=1,CC(t,s,n,r)}finally{ys.transition=a,Ve=r}return null}function CC(t,s,n,r){do ka();while(rr!==null);if(Fe&6)throw Error(ce(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(a2(t,i),t===Nt&&(pt=Nt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sl||(Sl=!0,hj(tc,function(){return ka(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ys.transition,ys.transition=null;var o=Ve;Ve=1;var l=Fe;Fe|=4,op.current=null,yC(t,n),rj(n,t),G2(Sm),nc=!!Nm,Sm=Nm=null,t.current=n,jC(n),J1(),Fe=l,Ve=o,ys.transition=i}else t.current=n;if(Sl&&(Sl=!1,rr=t,yc=a),i=t.pendingLanes,i===0&&(ur=null),Z1(n.stateNode),Qt(t,ut()),s!==null)for(r=t.onRecoverableError,n=0;n<s.length;n++)a=s[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(vc)throw vc=!1,t=zm,zm=null,t;return yc&1&&t.tag!==0&&ka(),i=t.pendingLanes,i&1?t===Vm?Hi++:(Hi=0,Vm=t):Hi=0,Cr(),null}function ka(){if(rr!==null){var t=qv(yc),s=ys.transition,n=Ve;try{if(ys.transition=null,Ve=16>t?16:t,rr===null)var r=!1;else{if(t=rr,rr=null,yc=0,Fe&6)throw Error(ce(331));var a=Fe;for(Fe|=4,Ne=t.current;Ne!==null;){var i=Ne,o=i.child;if(Ne.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(Ne=u;Ne!==null;){var f=Ne;switch(f.tag){case 0:case 11:case 15:Gi(8,f,i)}var m=f.child;if(m!==null)m.return=f,Ne=m;else for(;Ne!==null;){f=Ne;var x=f.sibling,h=f.return;if(tj(f),f===u){Ne=null;break}if(x!==null){x.return=h,Ne=x;break}Ne=h}}}var w=i.alternate;if(w!==null){var j=w.child;if(j!==null){w.child=null;do{var S=j.sibling;j.sibling=null,j=S}while(j!==null)}}Ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ne=o;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ne=y;break e}Ne=i.return}}var p=t.current;for(Ne=p;Ne!==null;){o=Ne;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Ne=v;else e:for(o=p;Ne!==null;){if(l=Ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qc(9,l)}}catch(P){ot(l,l.return,P)}if(l===o){Ne=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ne=N;break e}Ne=l.return}}if(Fe=a,Cr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Vc,t)}catch{}r=!0}return r}finally{Ve=n,ys.transition=s}}return!1}function $x(t,s,n){s=Qa(n,s),s=qy(t,s,1),t=dr(t,s,1),s=zt(),t!==null&&(Do(t,1,s),Qt(t,s))}function ot(t,s,n){if(t.tag===3)$x(t,t,n);else for(;s!==null;){if(s.tag===3){$x(s,t,n);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){t=Qa(n,t),t=Gy(s,t,1),s=dr(s,t,1),t=zt(),s!==null&&(Do(s,1,t),Qt(s,t));break}}s=s.return}}function PC(t,s,n){var r=t.pingCache;r!==null&&r.delete(s),s=zt(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(wt&n)===n&&(gt===4||gt===3&&(wt&130023424)===wt&&500>ut()-cp?qr(t,0):lp|=n),Qt(t,s)}function uj(t,s){s===0&&(t.mode&1?(s=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):s=1);var n=zt();t=Rn(t,s),t!==null&&(Do(t,s,n),Qt(t,n))}function EC(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),uj(t,n)}function AC(t,s){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(s),uj(t,n)}var mj;mj=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||Kt.current)Wt=!0;else{if(!(t.lanes&n)&&!(s.flags&128))return Wt=!1,fC(t,s,n);Wt=!!(t.flags&131072)}else Wt=!1,et&&s.flags&1048576&&xy(s,dc,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;zl(t,s),t=s.pendingProps;var a=Ha(s,Mt.current);_a(s,n),a=sp(null,s,r,t,a,n);var i=np();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(r)?(i=!0,lc(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Qh(s),a.updater=Jc,s.stateNode=a,a._reactInternals=s,Tm(s,r,t,n),s=Mm(null,s,r,!0,i,n)):(s.tag=0,et&&i&&qh(s),Ut(null,s,a,n),s=s.child),s;case 16:r=s.elementType;e:{switch(zl(t,s),t=s.pendingProps,a=r._init,r=a(r._payload),s.type=r,a=s.tag=IC(r),t=_s(r,t),a){case 0:s=km(null,s,r,t,n);break e;case 1:s=Rx(null,s,r,t,n);break e;case 11:s=Ex(null,s,r,t,n);break e;case 14:s=Ax(null,s,r,_s(r.type,t),n);break e}throw Error(ce(306,r,""))}return s;case 0:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:_s(r,a),km(t,s,r,a,n);case 1:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:_s(r,a),Rx(t,s,r,a,n);case 3:e:{if(Ky(s),t===null)throw Error(ce(387));r=s.pendingProps,i=s.memoizedState,a=i.element,Sy(t,s),hc(s,r,null,n);var o=s.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=Qa(Error(ce(423)),s),s=Ix(t,s,r,n,a);break e}else if(r!==a){a=Qa(Error(ce(424)),s),s=Ix(t,s,r,n,a);break e}else for(ss=cr(s.stateNode.containerInfo.firstChild),is=s,et=!0,Ds=null,n=jy(s,null,r,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wa(),r===a){s=In(t,s,n);break e}Ut(t,s,r,n)}s=s.child}return s;case 5:return wy(s),t===null&&Am(s),r=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,wm(r,a)?o=null:i!==null&&wm(r,i)&&(s.flags|=32),Wy(t,s),Ut(t,s,o,n),s.child;case 6:return t===null&&Am(s),null;case 13:return Jy(t,s,n);case 4:return Xh(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=Ka(s,null,r,n):Ut(t,s,r,n),s.child;case 11:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:_s(r,a),Ex(t,s,r,a,n);case 7:return Ut(t,s,s.pendingProps,n),s.child;case 8:return Ut(t,s,s.pendingProps.children,n),s.child;case 12:return Ut(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(r=s.type._context,a=s.pendingProps,i=s.memoizedProps,o=a.value,He(uc,r._currentValue),r._currentValue=o,i!==null)if(Vs(i.value,o)){if(i.children===a.children&&!Kt.current){s=In(t,s,n);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=Pn(-1,n&-n),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?d.next=d:(d.next=f.next,f.next=d),u.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Rm(i.return,n,s),l.lanes|=n;break}d=d.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Rm(o,n,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(t,s,a.children,n),s=s.child}return s;case 9:return a=s.type,r=s.pendingProps.children,_a(s,n),a=Ns(a),r=r(a),s.flags|=1,Ut(t,s,r,n),s.child;case 14:return r=s.type,a=_s(r,s.pendingProps),a=_s(r.type,a),Ax(t,s,r,a,n);case 15:return Yy(t,s,s.type,s.pendingProps,n);case 17:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:_s(r,a),zl(t,s),s.tag=1,Jt(r)?(t=!0,lc(s)):t=!1,_a(s,n),Vy(s,r,a),Tm(s,r,a,n),Mm(null,s,r,!0,t,n);case 19:return Qy(t,s,n);case 22:return Hy(t,s,n)}throw Error(ce(156,s.tag))};function hj(t,s){return Uv(t,s)}function RC(t,s,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(t,s,n,r){return new RC(t,s,n,r)}function hp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IC(t){if(typeof t=="function")return hp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_h)return 11;if(t===kh)return 14}return 2}function hr(t,s){var n=t.alternate;return n===null?(n=vs(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gl(t,s,n,r,a,i){var o=2;if(r=t,typeof t=="function")hp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ga:return Gr(n.children,a,i,s);case Th:o=8,a|=8;break;case tm:return t=vs(12,n,s,a|2),t.elementType=tm,t.lanes=i,t;case sm:return t=vs(13,n,s,a),t.elementType=sm,t.lanes=i,t;case nm:return t=vs(19,n,s,a),t.elementType=nm,t.lanes=i,t;case wv:return Zc(n,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nv:o=10;break e;case Sv:o=9;break e;case _h:o=11;break e;case kh:o=14;break e;case Hn:o=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return s=vs(o,n,s,a),s.elementType=t,s.type=r,s.lanes=i,s}function Gr(t,s,n,r){return t=vs(7,t,r,s),t.lanes=n,t}function Zc(t,s,n,r){return t=vs(22,t,r,s),t.elementType=wv,t.lanes=n,t.stateNode={isHidden:!1},t}function Tu(t,s,n){return t=vs(6,t,null,s),t.lanes=n,t}function _u(t,s,n){return s=vs(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function TC(t,s,n,r,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function pp(t,s,n,r,a,i,o,l,d){return t=new TC(t,s,n,l,d),s===1?(s=1,i===!0&&(s|=8)):s=0,i=vs(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(i),t}function _C(t,s,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:r==null?null:""+r,children:t,containerInfo:s,implementation:n}}function pj(t){if(!t)return gr;t=t._reactInternals;e:{if(ra(t)!==t||t.tag!==1)throw Error(ce(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Jt(n))return py(t,n,s)}return s}function fj(t,s,n,r,a,i,o,l,d){return t=pp(n,r,!0,t,a,i,o,l,d),t.context=pj(null),n=t.current,r=zt(),a=mr(n),i=Pn(r,a),i.callback=s??null,dr(n,i,a),t.current.lanes=a,Do(t,a,r),Qt(t,r),t}function ed(t,s,n,r){var a=s.current,i=zt(),o=mr(a);return n=pj(n),s.context===null?s.context=n:s.pendingContext=n,s=Pn(i,o),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=dr(a,s,o),t!==null&&(Bs(t,a,o,i),$l(t,a,o)),o}function Nc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ux(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function fp(t,s){Ux(t,s),(t=t.alternate)&&Ux(t,s)}function kC(){return null}var xj=typeof reportError=="function"?reportError:function(t){console.error(t)};function xp(t){this._internalRoot=t}td.prototype.render=xp.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(ce(409));ed(t,s,null,null)};td.prototype.unmount=xp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Jr(function(){ed(null,t,null,null)}),s[An]=null}};function td(t){this._internalRoot=t}td.prototype.unstable_scheduleHydration=function(t){if(t){var s=Hv();t={blockedOn:null,target:t,priority:s};for(var n=0;n<Kn.length&&s!==0&&s<Kn[n].priority;n++);Kn.splice(n,0,t),n===0&&Kv(t)}};function gp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bx(){}function MC(t,s,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Nc(o);i.call(u)}}var o=fj(s,r,t,0,null,!1,!1,"",Bx);return t._reactRootContainer=o,t[An]=o.current,ro(t.nodeType===8?t.parentNode:t),Jr(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Nc(d);l.call(u)}}var d=pp(t,0,!1,null,null,!1,!1,"",Bx);return t._reactRootContainer=d,t[An]=d.current,ro(t.nodeType===8?t.parentNode:t),Jr(function(){ed(s,d,n,r)}),d}function nd(t,s,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var d=Nc(o);l.call(d)}}ed(s,o,t,a)}else o=MC(n,s,t,a,r);return Nc(o)}Gv=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=Oi(s.pendingLanes);n!==0&&(Fh(s,n|1),Qt(s,ut()),!(Fe&6)&&(Xa=ut()+500,Cr()))}break;case 13:Jr(function(){var r=Rn(t,1);if(r!==null){var a=zt();Bs(r,t,1,a)}}),fp(t,1)}};Dh=function(t){if(t.tag===13){var s=Rn(t,134217728);if(s!==null){var n=zt();Bs(s,t,134217728,n)}fp(t,134217728)}};Yv=function(t){if(t.tag===13){var s=mr(t),n=Rn(t,s);if(n!==null){var r=zt();Bs(n,t,s,r)}fp(t,s)}};Hv=function(){return Ve};Wv=function(t,s){var n=Ve;try{return Ve=t,s()}finally{Ve=n}};hm=function(t,s,n){switch(s){case"input":if(im(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var r=n[s];if(r!==t&&r.form===t.form){var a=Hc(r);if(!a)throw Error(ce(90));Cv(r),im(r,a)}}}break;case"textarea":Ev(t,n);break;case"select":s=n.value,s!=null&&Aa(t,!!n.multiple,s,!1)}};Mv=dp;Ov=Jr;var OC={usingClientEntryPoint:!1,Events:[$o,Na,Hc,_v,kv,dp]},Ii={findFiberByHostInstance:Mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FC={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lv(t),t===null?null:t.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance||kC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{Vc=wl.inject(FC),on=wl}catch{}}ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OC;ms.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gp(s))throw Error(ce(200));return _C(t,s,null,n)};ms.createRoot=function(t,s){if(!gp(t))throw Error(ce(299));var n=!1,r="",a=xj;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=pp(t,1,!1,null,null,n,!1,r,a),t[An]=s.current,ro(t.nodeType===8?t.parentNode:t),new xp(s)};ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=Lv(s),t=t===null?null:t.stateNode,t};ms.flushSync=function(t){return Jr(t)};ms.hydrate=function(t,s,n){if(!sd(s))throw Error(ce(200));return nd(null,t,s,!0,n)};ms.hydrateRoot=function(t,s,n){if(!gp(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=xj;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),s=fj(s,null,t,1,n??null,a,!1,i,o),t[An]=s.current,ro(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,a]:s.mutableSourceEagerHydrationData.push(n,a);return new td(s)};ms.render=function(t,s,n){if(!sd(s))throw Error(ce(200));return nd(null,t,s,!1,n)};ms.unmountComponentAtNode=function(t){if(!sd(t))throw Error(ce(40));return t._reactRootContainer?(Jr(function(){nd(null,null,t,!1,function(){t._reactRootContainer=null,t[An]=null})}),!0):!1};ms.unstable_batchedUpdates=dp;ms.unstable_renderSubtreeIntoContainer=function(t,s,n,r){if(!sd(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return nd(t,s,n,!1,r)};ms.version="18.3.1-next-f1338f8080-20240426";function gj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gj)}catch(t){console.error(t)}}gj(),gv.exports=ms;var aa=gv.exports;const vj=av(aa);var yj,zx=aa;yj=zx.createRoot,zx.hydrateRoot;const DC=1,LC=1e6;let ku=0;function $C(){return ku=(ku+1)%Number.MAX_SAFE_INTEGER,ku.toString()}const Mu=new Map,Vx=t=>{if(Mu.has(t))return;const s=setTimeout(()=>{Mu.delete(t),Wi({type:"REMOVE_TOAST",toastId:t})},LC);Mu.set(t,s)},UC=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,DC)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?Vx(n):t.toasts.forEach(r=>{Vx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},Yl=[];let Hl={toasts:[]};function Wi(t){Hl=UC(Hl,t),Yl.forEach(s=>{s(Hl)})}function BC({...t}){const s=$C(),n=a=>Wi({type:"UPDATE_TOAST",toast:{...a,id:s}}),r=()=>Wi({type:"DISMISS_TOAST",toastId:s});return Wi({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||r()}}}),{id:s,dismiss:r,update:n}}function Ee(){const[t,s]=c.useState(Hl);return c.useEffect(()=>(Yl.push(s),()=>{const n=Yl.indexOf(s);n>-1&&Yl.splice(n,1)}),[t]),{...t,toast:BC,dismiss:n=>Wi({type:"DISMISS_TOAST",toastId:n})}}function ue(t,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function qx(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function rd(...t){return s=>{let n=!1;const r=t.map(a=>{const i=qx(a,s);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():qx(t[a],null)}}}}function Ce(...t){return c.useCallback(rd(...t),t)}function zC(t,s){const n=c.createContext(s),r=i=>{const{children:o,...l}=i,d=c.useMemo(()=>l,Object.values(l));return e.jsx(n.Provider,{value:d,children:o})};r.displayName=t+"Provider";function a(i){const o=c.useContext(n);if(o)return o;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,a]}function Ft(t,s=[]){let n=[];function r(i,o){const l=c.createContext(o),d=n.length;n=[...n,o];const u=m=>{var y;const{scope:x,children:h,...w}=m,j=((y=x==null?void 0:x[t])==null?void 0:y[d])||l,S=c.useMemo(()=>w,Object.values(w));return e.jsx(j.Provider,{value:S,children:h})};u.displayName=i+"Provider";function f(m,x){var j;const h=((j=x==null?void 0:x[t])==null?void 0:j[d])||l,w=c.useContext(h);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,f]}const a=()=>{const i=n.map(o=>c.createContext(o));return function(l){const d=(l==null?void 0:l[t])||i;return c.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return a.scopeName=t,[r,VC(a,...s)]}function VC(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return c.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return n.scopeName=s.scopeName,n}function Qr(t){const s=qC(t),n=c.forwardRef((r,a)=>{const{children:i,...o}=r,l=c.Children.toArray(i),d=l.find(GC);if(d){const u=d.props.children,f=l.map(m=>m===d?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:m);return e.jsx(s,{...o,ref:a,children:c.isValidElement(u)?c.cloneElement(u,void 0,f):null})}return e.jsx(s,{...o,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}var ci=Qr("Slot");function qC(t){const s=c.forwardRef((n,r)=>{const{children:a,...i}=n;if(c.isValidElement(a)){const o=HC(a),l=YC(i,a.props);return a.type!==c.Fragment&&(l.ref=r?rd(r,o):o),c.cloneElement(a,l)}return c.Children.count(a)>1?c.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var jj=Symbol("radix.slottable");function Nj(t){const s=({children:n})=>e.jsx(e.Fragment,{children:n});return s.displayName=`${t}.Slottable`,s.__radixId=jj,s}function GC(t){return c.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jj}function YC(t,s){const n={...s};for(const r in s){const a=t[r],i=s[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const d=i(...l);return a(...l),d}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function HC(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ad(t){const s=t+"CollectionProvider",[n,r]=Ft(s),[a,i]=n(s,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:S,children:y}=j,p=he.useRef(null),v=he.useRef(new Map).current;return e.jsx(a,{scope:S,itemMap:v,collectionRef:p,children:y})};o.displayName=s;const l=t+"CollectionSlot",d=Qr(l),u=he.forwardRef((j,S)=>{const{scope:y,children:p}=j,v=i(l,y),N=Ce(S,v.collectionRef);return e.jsx(d,{ref:N,children:p})});u.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",x=Qr(f),h=he.forwardRef((j,S)=>{const{scope:y,children:p,...v}=j,N=he.useRef(null),P=Ce(S,N),I=i(f,y);return he.useEffect(()=>(I.itemMap.set(N,{ref:N,...v}),()=>void I.itemMap.delete(N))),e.jsx(x,{[m]:"",ref:P,children:p})});h.displayName=f;function w(j){const S=i(t+"CollectionConsumer",j);return he.useCallback(()=>{const p=S.collectionRef.current;if(!p)return[];const v=Array.from(p.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((I,g)=>v.indexOf(I.ref.current)-v.indexOf(g.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},w,r]}var WC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=WC.reduce((t,s)=>{const n=Qr(`Primitive.${s}`),r=c.forwardRef((a,i)=>{const{asChild:o,...l}=a,d=o?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...l,ref:i})});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function vp(t,s){t&&aa.flushSync(()=>t.dispatchEvent(s))}function lt(t){const s=c.useRef(t);return c.useEffect(()=>{s.current=t}),c.useMemo(()=>(...n)=>{var r;return(r=s.current)==null?void 0:r.call(s,...n)},[])}function KC(t,s=globalThis==null?void 0:globalThis.document){const n=lt(t);c.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return s.addEventListener("keydown",r,{capture:!0}),()=>s.removeEventListener("keydown",r,{capture:!0})},[n,s])}var JC="DismissableLayer",Ym="dismissableLayer.update",QC="dismissableLayer.pointerDownOutside",XC="dismissableLayer.focusOutside",Gx,Sj=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),di=c.forwardRef((t,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=t,u=c.useContext(Sj),[f,m]=c.useState(null),x=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=c.useState({}),w=Ce(s,g=>m(g)),j=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=j.indexOf(S),p=f?j.indexOf(f):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,N=p>=y,P=eP(g=>{const C=g.target,E=[...u.branches].some(A=>A.contains(C));!N||E||(a==null||a(g),o==null||o(g),g.defaultPrevented||l==null||l())},x),I=tP(g=>{const C=g.target;[...u.branches].some(A=>A.contains(C))||(i==null||i(g),o==null||o(g),g.defaultPrevented||l==null||l())},x);return KC(g=>{p===u.layers.size-1&&(r==null||r(g),!g.defaultPrevented&&l&&(g.preventDefault(),l()))},x),c.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gx=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Yx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Gx)}},[f,x,n,u]),c.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Yx())},[f,u]),c.useEffect(()=>{const g=()=>h({});return document.addEventListener(Ym,g),()=>document.removeEventListener(Ym,g)},[]),e.jsx(Se.div,{...d,ref:w,style:{pointerEvents:v?N?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,I.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,P.onPointerDownCapture)})});di.displayName=JC;var ZC="DismissableLayerBranch",wj=c.forwardRef((t,s)=>{const n=c.useContext(Sj),r=c.useRef(null),a=Ce(s,r);return c.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),e.jsx(Se.div,{...t,ref:a})});wj.displayName=ZC;function eP(t,s=globalThis==null?void 0:globalThis.document){const n=lt(t),r=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let d=function(){bj(QC,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=d,s.addEventListener("click",a.current,{once:!0})):d()}else s.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,n]),{onPointerDownCapture:()=>r.current=!0}}function tP(t,s=globalThis==null?void 0:globalThis.document){const n=lt(t),r=c.useRef(!1);return c.useEffect(()=>{const a=i=>{i.target&&!r.current&&bj(XC,n,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Yx(){const t=new CustomEvent(Ym);document.dispatchEvent(t)}function bj(t,s,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});s&&a.addEventListener(t,s,{once:!0}),r?vp(a,i):a.dispatchEvent(i)}var sP=di,nP=wj,mt=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},rP="Portal",Bo=c.forwardRef((t,s)=>{var l;const{container:n,...r}=t,[a,i]=c.useState(!1);mt(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?vj.createPortal(e.jsx(Se.div,{...r,ref:s}),o):null});Bo.displayName=rP;function aP(t,s){return c.useReducer((n,r)=>s[n][r]??n,t)}var Pt=t=>{const{present:s,children:n}=t,r=iP(s),a=typeof n=="function"?n({present:r.isPresent}):c.Children.only(n),i=Ce(r.ref,oP(a));return typeof n=="function"||r.isPresent?c.cloneElement(a,{ref:i}):null};Pt.displayName="Presence";function iP(t){const[s,n]=c.useState(),r=c.useRef(null),a=c.useRef(t),i=c.useRef("none"),o=t?"mounted":"unmounted",[l,d]=aP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const u=bl(r.current);i.current=l==="mounted"?u:"none"},[l]),mt(()=>{const u=r.current,f=a.current;if(f!==t){const x=i.current,h=bl(u);t?d("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&x!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),mt(()=>{if(s){let u;const f=s.ownerDocument.defaultView??window,m=h=>{const j=bl(r.current).includes(CSS.escape(h.animationName));if(h.target===s&&j&&(d("ANIMATION_END"),!a.current)){const S=s.style.animationFillMode;s.style.animationFillMode="forwards",u=f.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=S)})}},x=h=>{h.target===s&&(i.current=bl(r.current))};return s.addEventListener("animationstart",x),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{f.clearTimeout(u),s.removeEventListener("animationstart",x),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:c.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function bl(t){return(t==null?void 0:t.animationName)||"none"}function oP(t){var r,a;let s=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lP=Eh[" useInsertionEffect ".trim().toString()]||mt;function un({prop:t,defaultProp:s,onChange:n=()=>{},caller:r}){const[a,i,o]=cP({defaultProp:s,onChange:n}),l=t!==void 0,d=l?t:a;{const f=c.useRef(t!==void 0);c.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=c.useCallback(f=>{var m;if(l){const x=dP(f)?f(t):f;x!==t&&((m=o.current)==null||m.call(o,x))}else i(f)},[l,t,i,o]);return[d,u]}function cP({defaultProp:t,onChange:s}){const[n,r]=c.useState(t),a=c.useRef(n),i=c.useRef(s);return lP(()=>{i.current=s},[s]),c.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function dP(t){return typeof t=="function"}var Cj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uP="VisuallyHidden",id=c.forwardRef((t,s)=>e.jsx(Se.span,{...t,ref:s,style:{...Cj,...t.style}}));id.displayName=uP;var mP=id,yp="ToastProvider",[jp,hP,pP]=ad("Toast"),[Pj]=Ft("Toast",[pP]),[fP,od]=Pj(yp),Ej=t=>{const{__scopeToast:s,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,d]=c.useState(null),[u,f]=c.useState(0),m=c.useRef(!1),x=c.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${yp}\`. Expected non-empty \`string\`.`),e.jsx(jp.Provider,{scope:s,children:e.jsx(fP,{scope:s,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:c.useCallback(()=>f(h=>h+1),[]),onToastRemove:c.useCallback(()=>f(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:x,children:o})})};Ej.displayName=yp;var Aj="ToastViewport",xP=["F8"],Hm="toast.viewportPause",Wm="toast.viewportResume",Rj=c.forwardRef((t,s)=>{const{__scopeToast:n,hotkey:r=xP,label:a="Notifications ({hotkey})",...i}=t,o=od(Aj,n),l=hP(n),d=c.useRef(null),u=c.useRef(null),f=c.useRef(null),m=c.useRef(null),x=Ce(s,m,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;c.useEffect(()=>{const S=y=>{var v;r.length!==0&&r.every(N=>y[N]||y.code===N)&&((v=m.current)==null||v.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),c.useEffect(()=>{const S=d.current,y=m.current;if(w&&S&&y){const p=()=>{if(!o.isClosePausedRef.current){const I=new CustomEvent(Hm);y.dispatchEvent(I),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const I=new CustomEvent(Wm);y.dispatchEvent(I),o.isClosePausedRef.current=!1}},N=I=>{!S.contains(I.relatedTarget)&&v()},P=()=>{S.contains(document.activeElement)||v()};return S.addEventListener("focusin",p),S.addEventListener("focusout",N),S.addEventListener("pointermove",p),S.addEventListener("pointerleave",P),window.addEventListener("blur",p),window.addEventListener("focus",v),()=>{S.removeEventListener("focusin",p),S.removeEventListener("focusout",N),S.removeEventListener("pointermove",p),S.removeEventListener("pointerleave",P),window.removeEventListener("blur",p),window.removeEventListener("focus",v)}}},[w,o.isClosePausedRef]);const j=c.useCallback(({tabbingDirection:S})=>{const p=l().map(v=>{const N=v.ref.current,P=[N,...RP(N)];return S==="forwards"?P:P.reverse()});return(S==="forwards"?p.reverse():p).flat()},[l]);return c.useEffect(()=>{const S=m.current;if(S){const y=p=>{var P,I,g;const v=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!v){const C=document.activeElement,E=p.shiftKey;if(p.target===S&&E){(P=u.current)==null||P.focus();return}const M=j({tabbingDirection:E?"backwards":"forwards"}),$=M.findIndex(L=>L===C);Ou(M.slice($+1))?p.preventDefault():E?(I=u.current)==null||I.focus():(g=f.current)==null||g.focus()}};return S.addEventListener("keydown",y),()=>S.removeEventListener("keydown",y)}},[l,j]),e.jsxs(nP,{ref:d,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&e.jsx(Km,{ref:u,onFocusFromOutsideViewport:()=>{const S=j({tabbingDirection:"forwards"});Ou(S)}}),e.jsx(jp.Slot,{scope:n,children:e.jsx(Se.ol,{tabIndex:-1,...i,ref:x})}),w&&e.jsx(Km,{ref:f,onFocusFromOutsideViewport:()=>{const S=j({tabbingDirection:"backwards"});Ou(S)}})]})});Rj.displayName=Aj;var Ij="ToastFocusProxy",Km=c.forwardRef((t,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=t,i=od(Ij,n);return e.jsx(id,{tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Km.displayName=Ij;var zo="Toast",gP="toast.swipeStart",vP="toast.swipeMove",yP="toast.swipeCancel",jP="toast.swipeEnd",Tj=c.forwardRef((t,s)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=t,[l,d]=un({prop:r,defaultProp:a??!0,onChange:i,caller:zo});return e.jsx(Pt,{present:n||l,children:e.jsx(wP,{open:l,...o,ref:s,onClose:()=>d(!1),onPause:lt(t.onPause),onResume:lt(t.onResume),onSwipeStart:ue(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ue(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,u=>{const{x:f,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});Tj.displayName=zo;var[NP,SP]=Pj(zo,{onClose(){}}),wP=c.forwardRef((t,s)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:x,onSwipeEnd:h,...w}=t,j=od(zo,n),[S,y]=c.useState(null),p=Ce(s,L=>y(L)),v=c.useRef(null),N=c.useRef(null),P=a||j.duration,I=c.useRef(0),g=c.useRef(P),C=c.useRef(0),{onToastAdd:E,onToastRemove:A}=j,_=lt(()=>{var U;(S==null?void 0:S.contains(document.activeElement))&&((U=j.viewport)==null||U.focus()),o()}),M=c.useCallback(L=>{!L||L===1/0||(window.clearTimeout(C.current),I.current=new Date().getTime(),C.current=window.setTimeout(_,L))},[_]);c.useEffect(()=>{const L=j.viewport;if(L){const U=()=>{M(g.current),u==null||u()},W=()=>{const ne=new Date().getTime()-I.current;g.current=g.current-ne,window.clearTimeout(C.current),d==null||d()};return L.addEventListener(Hm,W),L.addEventListener(Wm,U),()=>{L.removeEventListener(Hm,W),L.removeEventListener(Wm,U)}}},[j.viewport,P,d,u,M]),c.useEffect(()=>{i&&!j.isClosePausedRef.current&&M(P)},[i,P,j.isClosePausedRef,M]),c.useEffect(()=>(E(),()=>A()),[E,A]);const $=c.useMemo(()=>S?Lj(S):null,[S]);return j.viewport?e.jsxs(e.Fragment,{children:[$&&e.jsx(bP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:$}),e.jsx(NP,{scope:n,onClose:_,children:aa.createPortal(e.jsx(jp.ItemSlot,{scope:n,children:e.jsx(sP,{asChild:!0,onEscapeKeyDown:ue(l,()=>{j.isFocusedToastEscapeKeyDownRef.current||_(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Se.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":j.swipeDirection,...w,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:ue(t.onPointerDown,L=>{L.button===0&&(v.current={x:L.clientX,y:L.clientY})}),onPointerMove:ue(t.onPointerMove,L=>{if(!v.current)return;const U=L.clientX-v.current.x,W=L.clientY-v.current.y,ne=!!N.current,H=["left","right"].includes(j.swipeDirection),z=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ee=H?z(0,U):0,K=H?0:z(0,W),te=L.pointerType==="touch"?10:2,de={x:ee,y:K},F={originalEvent:L,delta:de};ne?(N.current=de,Cl(vP,m,F,{discrete:!1})):Hx(de,j.swipeDirection,te)?(N.current=de,Cl(gP,f,F,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(U)>te||Math.abs(W)>te)&&(v.current=null)}),onPointerUp:ue(t.onPointerUp,L=>{const U=N.current,W=L.target;if(W.hasPointerCapture(L.pointerId)&&W.releasePointerCapture(L.pointerId),N.current=null,v.current=null,U){const ne=L.currentTarget,H={originalEvent:L,delta:U};Hx(U,j.swipeDirection,j.swipeThreshold)?Cl(jP,h,H,{discrete:!0}):Cl(yP,x,H,{discrete:!0}),ne.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),bP=t=>{const{__scopeToast:s,children:n,...r}=t,a=od(zo,s),[i,o]=c.useState(!1),[l,d]=c.useState(!1);return EP(()=>o(!0)),c.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:e.jsx(Bo,{asChild:!0,children:e.jsx(id,{...r,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",n]})})})},CP="ToastTitle",_j=c.forwardRef((t,s)=>{const{__scopeToast:n,...r}=t;return e.jsx(Se.div,{...r,ref:s})});_j.displayName=CP;var PP="ToastDescription",kj=c.forwardRef((t,s)=>{const{__scopeToast:n,...r}=t;return e.jsx(Se.div,{...r,ref:s})});kj.displayName=PP;var Mj="ToastAction",Oj=c.forwardRef((t,s)=>{const{altText:n,...r}=t;return n.trim()?e.jsx(Dj,{altText:n,asChild:!0,children:e.jsx(Np,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Mj}\`. Expected non-empty \`string\`.`),null)});Oj.displayName=Mj;var Fj="ToastClose",Np=c.forwardRef((t,s)=>{const{__scopeToast:n,...r}=t,a=SP(Fj,n);return e.jsx(Dj,{asChild:!0,children:e.jsx(Se.button,{type:"button",...r,ref:s,onClick:ue(t.onClick,a.onClose)})})});Np.displayName=Fj;var Dj=c.forwardRef((t,s)=>{const{__scopeToast:n,altText:r,...a}=t;return e.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:s})});function Lj(t){const s=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&s.push(r.textContent),AP(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&s.push(o)}else s.push(...Lj(r))}}),s}function Cl(t,s,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});s&&a.addEventListener(t,s,{once:!0}),r?vp(a,i):a.dispatchEvent(i)}var Hx=(t,s,n=0)=>{const r=Math.abs(t.x),a=Math.abs(t.y),i=r>a;return s==="left"||s==="right"?i&&r>n:!i&&a>n};function EP(t=()=>{}){const s=lt(t);mt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[s])}function AP(t){return t.nodeType===t.ELEMENT_NODE}function RP(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function Ou(t){const s=document.activeElement;return t.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var IP=Ej,$j=Rj,Uj=Tj,Bj=_j,zj=kj,Vj=Oj,qj=Np;function Gj(t){var s,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(n=Gj(t[s]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yj(){for(var t,s,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(s=Gj(t))&&(r&&(r+=" "),r+=s);return r}const Wx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Kx=Yj,ia=(t,s)=>n=>{var r;if((s==null?void 0:s.variants)==null)return Kx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=s,o=Object.keys(a).map(u=>{const f=n==null?void 0:n[u],m=i==null?void 0:i[u];if(f===null)return null;const x=Wx(f)||Wx(m);return a[u][x]}),l=n&&Object.entries(n).reduce((u,f)=>{let[m,x]=f;return x===void 0||(u[m]=x),u},{}),d=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:m,className:x,...h}=f;return Object.entries(h).every(w=>{let[j,S]=w;return Array.isArray(S)?S.includes({...i,...l}[j]):{...i,...l}[j]===S})?[...u,m,x]:u},[]);return Kx(t,o,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hj=(...t)=>t.filter((s,n,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _P={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=c.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},d)=>c.createElement("svg",{ref:d,..._P,width:s,height:s,stroke:t,strokeWidth:r?Number(n)*24/Number(s):n,className:Hj("lucide",a),...l},[...o.map(([u,f])=>c.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(t,s)=>{const n=c.forwardRef(({className:r,...a},i)=>c.createElement(kP,{ref:i,iconNode:s,className:Hj(`lucide-${TP(t)}`,r),...a}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ye("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ye("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ye("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ye("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ye("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ye("HandHeart",[["path",{d:"M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1ifwr1"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"17abbs"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z",key:"1h3036"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ye("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ye("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ye("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ye("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ye("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ye("Signature",[["path",{d:"m21 17-2.156-1.868A.5.5 0 0 0 18 15.5v.5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1c0-2.545-3.991-3.97-8.5-4a1 1 0 0 0 0 5c4.153 0 4.745-11.295 5.708-13.5a2.5 2.5 0 1 1 3.31 3.284",key:"y32ogt"}],["path",{d:"M3 21h18",key:"itz85i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ye("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ye("University",[["circle",{cx:"12",cy:"10",r:"1",key:"1gnqs8"}],["path",{d:"M22 20V8h-4l-6-4-6 4H2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2",key:"1qj5sn"}],["path",{d:"M6 17v.01",key:"roodi6"}],["path",{d:"M6 13v.01",key:"67c122"}],["path",{d:"M18 17v.01",key:"12ktxm"}],["path",{d:"M18 13v.01",key:"tn1rt1"}],["path",{d:"M14 22v-5a2 2 0 0 0-2-2a2 2 0 0 0-2 2v5",key:"11g7fi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ye("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=ye("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rp="-",QP=t=>{const s=ZP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(Rp);return l[0]===""&&l.length!==1&&l.shift(),Zj(l,s)||XP(o)},getConflictingClassGroupIds:(o,l)=>{const d=n[o]||[];return l&&r[o]?[...d,...r[o]]:d}}},Zj=(t,s)=>{var o;if(t.length===0)return s.classGroupId;const n=t[0],r=s.nextPart.get(n),a=r?Zj(t.slice(1),r):void 0;if(a)return a;if(s.validators.length===0)return;const i=t.join(Rp);return(o=s.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Xx=/^\[(.+)\]$/,XP=t=>{if(Xx.test(t)){const s=Xx.exec(t)[1],n=s==null?void 0:s.substring(0,s.indexOf(":"));if(n)return"arbitrary.."+n}},ZP=t=>{const{theme:s,prefix:n}=t,r={nextPart:new Map,validators:[]};return tE(Object.entries(t.classGroups),n).forEach(([i,o])=>{Jm(o,r,i,s)}),r},Jm=(t,s,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?s:Zx(s,a);i.classGroupId=n;return}if(typeof a=="function"){if(eE(a)){Jm(a(r),s,n,r);return}s.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{Jm(o,Zx(s,i),n,r)})})},Zx=(t,s)=>{let n=t;return s.split(Rp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},eE=t=>t.isThemeGetter,tE=(t,s)=>s?t.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[s+o,l])):i);return[n,a]}):t,sE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),s++,s>t&&(s=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},eN="!",nE=t=>{const{separator:s,experimentalParseClassName:n}=t,r=s.length===1,a=s[0],i=s.length,o=l=>{const d=[];let u=0,f=0,m;for(let S=0;S<l.length;S++){let y=l[S];if(u===0){if(y===a&&(r||l.slice(S,S+i)===s)){d.push(l.slice(f,S)),f=S+i;continue}if(y==="/"){m=S;continue}}y==="["?u++:y==="]"&&u--}const x=d.length===0?l:l.substring(f),h=x.startsWith(eN),w=h?x.substring(1):x,j=m&&m>f?m-f:void 0;return{modifiers:d,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:j}};return n?l=>n({className:l,parseClassName:o}):o},rE=t=>{if(t.length<=1)return t;const s=[];let n=[];return t.forEach(r=>{r[0]==="["?(s.push(...n.sort(),r),n=[]):n.push(r)}),s.push(...n.sort()),s},aE=t=>({cache:sE(t.cacheSize),parseClassName:nE(t),...QP(t)}),iE=/\s+/,oE=(t,s)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=s,i=[],o=t.trim().split(iE);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:f,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:h}=n(u);let w=!!h,j=r(w?x.substring(0,h):x);if(!j){if(!w){l=u+(l.length>0?" "+l:l);continue}if(j=r(x),!j){l=u+(l.length>0?" "+l:l);continue}w=!1}const S=rE(f).join(":"),y=m?S+eN:S,p=y+j;if(i.includes(p))continue;i.push(p);const v=a(j,w);for(let N=0;N<v.length;++N){const P=v[N];i.push(y+P)}l=u+(l.length>0?" "+l:l)}return l};function lE(){let t=0,s,n,r="";for(;t<arguments.length;)(s=arguments[t++])&&(n=tN(s))&&(r&&(r+=" "),r+=n);return r}const tN=t=>{if(typeof t=="string")return t;let s,n="";for(let r=0;r<t.length;r++)t[r]&&(s=tN(t[r]))&&(n&&(n+=" "),n+=s);return n};function cE(t,...s){let n,r,a,i=o;function o(d){const u=s.reduce((f,m)=>m(f),t());return n=aE(u),r=n.cache.get,a=n.cache.set,i=l,l(d)}function l(d){const u=r(d);if(u)return u;const f=oE(d,n);return a(d,f),f}return function(){return i(lE.apply(null,arguments))}}const We=t=>{const s=n=>n[t]||[];return s.isThemeGetter=!0,s},sN=/^\[(?:([a-z-]+):)?(.+)\]$/i,dE=/^\d+\/\d+$/,uE=new Set(["px","full","screen"]),mE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vn=t=>Ma(t)||uE.has(t)||dE.test(t),Vn=t=>ui(t,"length",bE),Ma=t=>!!t&&!Number.isNaN(Number(t)),Du=t=>ui(t,"number",Ma),Ti=t=>!!t&&Number.isInteger(Number(t)),gE=t=>t.endsWith("%")&&Ma(t.slice(0,-1)),Ae=t=>sN.test(t),qn=t=>mE.test(t),vE=new Set(["length","size","percentage"]),yE=t=>ui(t,vE,nN),jE=t=>ui(t,"position",nN),NE=new Set(["image","url"]),SE=t=>ui(t,NE,PE),wE=t=>ui(t,"",CE),_i=()=>!0,ui=(t,s,n)=>{const r=sN.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):n(r[2]):!1},bE=t=>hE.test(t)&&!pE.test(t),nN=()=>!1,CE=t=>fE.test(t),PE=t=>xE.test(t),EE=()=>{const t=We("colors"),s=We("spacing"),n=We("blur"),r=We("brightness"),a=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),l=We("borderWidth"),d=We("contrast"),u=We("grayscale"),f=We("hueRotate"),m=We("invert"),x=We("gap"),h=We("gradientColorStops"),w=We("gradientColorStopPositions"),j=We("inset"),S=We("margin"),y=We("opacity"),p=We("padding"),v=We("saturate"),N=We("scale"),P=We("sepia"),I=We("skew"),g=We("space"),C=We("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Ae,s],M=()=>[Ae,s],$=()=>["",vn,Vn],L=()=>["auto",Ma,Ae],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ae],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Ma,Ae];return{cacheSize:500,separator:":",theme:{colors:[_i],spacing:[vn,Vn],blur:["none","",qn,Ae],brightness:K(),borderColor:[t],borderRadius:["none","","full",qn,Ae],borderSpacing:M(),borderWidth:$(),contrast:K(),grayscale:z(),hueRotate:K(),invert:z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[gE,Vn],inset:_(),margin:_(),opacity:K(),padding:M(),saturate:K(),scale:K(),sepia:z(),skew:K(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[qn]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ae]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ti,Ae]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Ti,Ae]}],"grid-cols":[{"grid-cols":[_i]}],"col-start-end":[{col:["auto",{span:["full",Ti,Ae]},Ae]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[_i]}],"row-start-end":[{row:["auto",{span:[Ti,Ae]},Ae]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[g]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[g]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,s]}],"min-w":[{"min-w":[Ae,s,"min","max","fit"]}],"max-w":[{"max-w":[Ae,s,"none","full","min","max","fit","prose",{screen:[qn]},qn]}],h:[{h:[Ae,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,s,"auto","min","max","fit"]}],"font-size":[{text:["base",qn,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Du]}],"font-family":[{font:[_i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Ma,Du]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vn,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vn,Vn]}],"underline-offset":[{"underline-offset":["auto",vn,Ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),jE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[vn,Ae]}],"outline-w":[{outline:[vn,Vn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[vn,Vn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qn,wE]}],"shadow-color":[{shadow:[_i]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",qn,Ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[v]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ti,Ae]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[vn,Vn,Du]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AE=cE(EE);function ae(...t){return AE(Yj(t))}const RE=IP,rN=c.forwardRef(({className:t,...s},n)=>e.jsx($j,{ref:n,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));rN.displayName=$j.displayName;const IE=ia("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aN=c.forwardRef(({className:t,variant:s,...n},r)=>e.jsx(Uj,{ref:r,className:ae(IE({variant:s}),t),...n}));aN.displayName=Uj.displayName;const TE=c.forwardRef(({className:t,...s},n)=>e.jsx(Vj,{ref:n,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...s}));TE.displayName=Vj.displayName;const iN=c.forwardRef(({className:t,...s},n)=>e.jsx(qj,{ref:n,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(On,{className:"h-4 w-4"})}));iN.displayName=qj.displayName;const oN=c.forwardRef(({className:t,...s},n)=>e.jsx(Bj,{ref:n,className:ae("text-sm font-semibold",t),...s}));oN.displayName=Bj.displayName;const lN=c.forwardRef(({className:t,...s},n)=>e.jsx(zj,{ref:n,className:ae("text-sm opacity-90",t),...s}));lN.displayName=zj.displayName;function cN(){const{toasts:t}=Ee();return e.jsxs(RE,{children:[t.map(function({id:s,title:n,description:r,action:a,...i}){return e.jsxs(aN,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(oN,{children:n}),r&&e.jsx(lN,{children:r})]}),a,e.jsx(iN,{})]},s)}),e.jsx(rN,{})]})}const dN=c.createContext(void 0),uN=()=>{const t=c.useContext(dN);if(!t)throw new Error("useNotifications must be used within a NotificationProvider");return t},_E=({children:t})=>{const[s,n]=c.useState([]),r=c.useMemo(()=>s.filter(u=>!u.read).length,[s]),a=c.useCallback(u=>{const f={...u,id:Date.now(),timestamp:new Date().toISOString(),read:!1};n(m=>[f,...m])},[]),i=c.useCallback(u=>{n(f=>f.map(m=>m.id===u?{...m,read:!0}:m))},[]),o=c.useCallback(()=>{n(u=>u.map(f=>({...f,read:!0})))},[]),l=c.useCallback(()=>s,[s]),d=c.useMemo(()=>({notifications:s,unreadCount:r,addNotification:a,markAsRead:i,markAllAsRead:o,getNotifications:l}),[s,r,a,i,o,l]);return e.jsx(dN.Provider,{value:d,children:t})};var eg=["light","dark"],kE="(prefers-color-scheme: dark)",ME=c.createContext(void 0),OE={setTheme:t=>{},themes:[]},FE=()=>{var t;return(t=c.useContext(ME))!=null?t:OE};c.memo(({forcedTheme:t,storageKey:s,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:d})=>{let u=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=a?eg.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(w,j=!1,S=!0)=>{let y=o?o[w]:w,p=j?w+"|| ''":`'${y}'`,v="";return a&&S&&!j&&eg.includes(w)&&(v+=`d.style.colorScheme = '${w}';`),n==="class"?j||y?v+=`c.add(${p})`:v+="null":y&&(v+=`d[s](n,${p})`),v},h=t?`!function(){${f}${x(t)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${s}');if('system'===e||(!e&&${u})){var t='${kE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${x(o?"x[e]":"e",!0)}}${u?"":"else{"+x(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${s}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${x(o?"x[e]":"e",!0)}}else{${x(i,!1,!1)};}${m}}catch(t){}}();`;return c.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:h}})});var DE=t=>{switch(t){case"success":return UE;case"info":return zE;case"warning":return BE;case"error":return VE;default:return null}},LE=Array(12).fill(0),$E=({visible:t,className:s})=>he.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},he.createElement("div",{className:"sonner-spinner"},LE.map((n,r)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),UE=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BE=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zE=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VE=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qE=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GE=()=>{let[t,s]=he.useState(document.hidden);return he.useEffect(()=>{let n=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qm=1,YE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;let{message:n,...r}=t,a=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Qm++,i=this.toasts.find(l=>l.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:n}),{...l,...t,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:t,dismiss:!0})),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let r=t instanceof Promise?t:t(),a=n!==void 0,i,o=r.then(async d=>{if(i=["resolve",d],he.isValidElement(d))a=!1,this.create({id:n,type:"default",message:d});else if(WE(d)&&!d.ok){a=!1;let u=typeof s.error=="function"?await s.error(`HTTP error! status: ${d.status}`):s.error,f=typeof s.description=="function"?await s.description(`HTTP error! status: ${d.status}`):s.description;this.create({id:n,type:"error",message:u,description:f})}else if(s.success!==void 0){a=!1;let u=typeof s.success=="function"?await s.success(d):s.success,f=typeof s.description=="function"?await s.description(d):s.description;this.create({id:n,type:"success",message:u,description:f})}}).catch(async d=>{if(i=["reject",d],s.error!==void 0){a=!1;let u=typeof s.error=="function"?await s.error(d):s.error,f=typeof s.description=="function"?await s.description(d):s.description;this.create({id:n,type:"error",message:u,description:f})}}).finally(()=>{var d;a&&(this.dismiss(n),n=void 0),(d=s.finally)==null||d.call(s)}),l=()=>new Promise((d,u)=>o.then(()=>i[0]==="reject"?u(i[1]):d(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,s)=>{let n=(s==null?void 0:s.id)||Qm++;return this.create({jsx:t(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Yt=new YE,HE=(t,s)=>{let n=(s==null?void 0:s.id)||Qm++;return Yt.addToast({title:t,...s,id:n}),n},WE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",KE=HE,JE=()=>Yt.toasts,QE=()=>Yt.getActiveToasts();Object.assign(KE,{success:Yt.success,info:Yt.info,warning:Yt.warning,error:Yt.error,custom:Yt.custom,message:Yt.message,promise:Yt.promise,dismiss:Yt.dismiss,loading:Yt.loading},{getHistory:JE,getToasts:QE});function XE(t,{insertAt:s}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}XE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Pl(t){return t.label!==void 0}var ZE=3,eA="32px",tA="16px",tg=4e3,sA=356,nA=14,rA=20,aA=200;function Is(...t){return t.filter(Boolean).join(" ")}function iA(t){let[s,n]=t.split("-"),r=[];return s&&r.push(s),n&&r.push(n),r}var oA=t=>{var s,n,r,a,i,o,l,d,u,f,m;let{invert:x,toast:h,unstyled:w,interacting:j,setHeights:S,visibleToasts:y,heights:p,index:v,toasts:N,expanded:P,removeToast:I,defaultRichColors:g,closeButton:C,style:E,cancelButtonStyle:A,actionButtonStyle:_,className:M="",descriptionClassName:$="",duration:L,position:U,gap:W,loadingIcon:ne,expandByDefault:H,classNames:z,icons:ee,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:te}=t,[de,F]=he.useState(null),[re,T]=he.useState(null),[b,k]=he.useState(!1),[B,V]=he.useState(!1),[Y,X]=he.useState(!1),[ve,G]=he.useState(!1),[le,je]=he.useState(!1),[we,Xe]=he.useState(0),[ft,Ln]=he.useState(0),Ge=he.useRef(h.duration||L||tg),Rr=he.useRef(null),Ks=he.useRef(null),Et=v===0,Ir=v+1<=y,ps=h.type,ca=h.dismissible!==!1,s1=h.className||"",n1=h.descriptionClassName||"",rl=he.useMemo(()=>p.findIndex(Pe=>Pe.toastId===h.id)||0,[p,h.id]),r1=he.useMemo(()=>{var Pe;return(Pe=h.closeButton)!=null?Pe:C},[h.closeButton,C]),Rf=he.useMemo(()=>h.duration||L||tg,[h.duration,L]),ru=he.useRef(0),da=he.useRef(0),If=he.useRef(0),ua=he.useRef(null),[a1,i1]=U.split("-"),Tf=he.useMemo(()=>p.reduce((Pe,qe,Ze)=>Ze>=rl?Pe:Pe+qe.height,0),[p,rl]),_f=GE(),o1=h.invert||x,au=ps==="loading";da.current=he.useMemo(()=>rl*W+Tf,[rl,Tf]),he.useEffect(()=>{Ge.current=Rf},[Rf]),he.useEffect(()=>{k(!0)},[]),he.useEffect(()=>{let Pe=Ks.current;if(Pe){let qe=Pe.getBoundingClientRect().height;return Ln(qe),S(Ze=>[{toastId:h.id,height:qe,position:h.position},...Ze]),()=>S(Ze=>Ze.filter(Ps=>Ps.toastId!==h.id))}},[S,h.id]),he.useLayoutEffect(()=>{if(!b)return;let Pe=Ks.current,qe=Pe.style.height;Pe.style.height="auto";let Ze=Pe.getBoundingClientRect().height;Pe.style.height=qe,Ln(Ze),S(Ps=>Ps.find(Es=>Es.toastId===h.id)?Ps.map(Es=>Es.toastId===h.id?{...Es,height:Ze}:Es):[{toastId:h.id,height:Ze,position:h.position},...Ps])},[b,h.title,h.description,S,h.id]);let $n=he.useCallback(()=>{V(!0),Xe(da.current),S(Pe=>Pe.filter(qe=>qe.toastId!==h.id)),setTimeout(()=>{I(h)},aA)},[h,I,S,da]);he.useEffect(()=>{if(h.promise&&ps==="loading"||h.duration===1/0||h.type==="loading")return;let Pe;return P||j||te&&_f?(()=>{if(If.current<ru.current){let qe=new Date().getTime()-ru.current;Ge.current=Ge.current-qe}If.current=new Date().getTime()})():Ge.current!==1/0&&(ru.current=new Date().getTime(),Pe=setTimeout(()=>{var qe;(qe=h.onAutoClose)==null||qe.call(h,h),$n()},Ge.current)),()=>clearTimeout(Pe)},[P,j,h,ps,te,_f,$n]),he.useEffect(()=>{h.delete&&$n()},[$n,h.delete]);function l1(){var Pe,qe,Ze;return ee!=null&&ee.loading?he.createElement("div",{className:Is(z==null?void 0:z.loader,(Pe=h==null?void 0:h.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":ps==="loading"},ee.loading):ne?he.createElement("div",{className:Is(z==null?void 0:z.loader,(qe=h==null?void 0:h.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":ps==="loading"},ne):he.createElement($E,{className:Is(z==null?void 0:z.loader,(Ze=h==null?void 0:h.classNames)==null?void 0:Ze.loader),visible:ps==="loading"})}return he.createElement("li",{tabIndex:0,ref:Ks,className:Is(M,s1,z==null?void 0:z.toast,(s=h==null?void 0:h.classNames)==null?void 0:s.toast,z==null?void 0:z.default,z==null?void 0:z[ps],(n=h==null?void 0:h.classNames)==null?void 0:n[ps]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:g,"data-styled":!(h.jsx||h.unstyled||w),"data-mounted":b,"data-promise":!!h.promise,"data-swiped":le,"data-removed":B,"data-visible":Ir,"data-y-position":a1,"data-x-position":i1,"data-index":v,"data-front":Et,"data-swiping":Y,"data-dismissible":ca,"data-type":ps,"data-invert":o1,"data-swipe-out":ve,"data-swipe-direction":re,"data-expanded":!!(P||H&&b),style:{"--index":v,"--toasts-before":v,"--z-index":N.length-v,"--offset":`${B?we:da.current}px`,"--initial-height":H?"auto":`${ft}px`,...E,...h.style},onDragEnd:()=>{X(!1),F(null),ua.current=null},onPointerDown:Pe=>{au||!ca||(Rr.current=new Date,Xe(da.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(X(!0),ua.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,qe,Ze,Ps;if(ve||!ca)return;ua.current=null;let Es=Number(((Pe=Ks.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((qe=Ks.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tr=new Date().getTime()-((Ze=Rr.current)==null?void 0:Ze.getTime()),As=de==="x"?Es:Un,Bn=Math.abs(As)/Tr;if(Math.abs(As)>=rA||Bn>.11){Xe(da.current),(Ps=h.onDismiss)==null||Ps.call(h,h),T(de==="x"?Es>0?"right":"left":Un>0?"down":"up"),$n(),G(!0),je(!1);return}X(!1),F(null)},onPointerMove:Pe=>{var qe,Ze,Ps,Es;if(!ua.current||!ca||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;let Un=Pe.clientY-ua.current.y,Tr=Pe.clientX-ua.current.x,As=(Ze=t.swipeDirections)!=null?Ze:iA(U);!de&&(Math.abs(Tr)>1||Math.abs(Un)>1)&&F(Math.abs(Tr)>Math.abs(Un)?"x":"y");let Bn={x:0,y:0};de==="y"?(As.includes("top")||As.includes("bottom"))&&(As.includes("top")&&Un<0||As.includes("bottom")&&Un>0)&&(Bn.y=Un):de==="x"&&(As.includes("left")||As.includes("right"))&&(As.includes("left")&&Tr<0||As.includes("right")&&Tr>0)&&(Bn.x=Tr),(Math.abs(Bn.x)>0||Math.abs(Bn.y)>0)&&je(!0),(Ps=Ks.current)==null||Ps.style.setProperty("--swipe-amount-x",`${Bn.x}px`),(Es=Ks.current)==null||Es.style.setProperty("--swipe-amount-y",`${Bn.y}px`)}},r1&&!h.jsx?he.createElement("button",{"aria-label":K,"data-disabled":au,"data-close-button":!0,onClick:au||!ca?()=>{}:()=>{var Pe;$n(),(Pe=h.onDismiss)==null||Pe.call(h,h)},className:Is(z==null?void 0:z.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(i=ee==null?void 0:ee.close)!=null?i:qE):null,h.jsx||c.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:he.createElement(he.Fragment,null,ps||h.icon||h.promise?he.createElement("div",{"data-icon":"",className:Is(z==null?void 0:z.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||l1():null,h.type!=="loading"?h.icon||(ee==null?void 0:ee[ps])||DE(ps):null):null,he.createElement("div",{"data-content":"",className:Is(z==null?void 0:z.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},he.createElement("div",{"data-title":"",className:Is(z==null?void 0:z.title,(d=h==null?void 0:h.classNames)==null?void 0:d.title)},typeof h.title=="function"?h.title():h.title),h.description?he.createElement("div",{"data-description":"",className:Is($,n1,z==null?void 0:z.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),c.isValidElement(h.cancel)?h.cancel:h.cancel&&Pl(h.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:Pe=>{var qe,Ze;Pl(h.cancel)&&ca&&((Ze=(qe=h.cancel).onClick)==null||Ze.call(qe,Pe),$n())},className:Is(z==null?void 0:z.cancelButton,(f=h==null?void 0:h.classNames)==null?void 0:f.cancelButton)},h.cancel.label):null,c.isValidElement(h.action)?h.action:h.action&&Pl(h.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||_,onClick:Pe=>{var qe,Ze;Pl(h.action)&&((Ze=(qe=h.action).onClick)==null||Ze.call(qe,Pe),!Pe.defaultPrevented&&$n())},className:Is(z==null?void 0:z.actionButton,(m=h==null?void 0:h.classNames)==null?void 0:m.actionButton)},h.action.label):null))};function sg(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lA(t,s){let n={};return[t,s].forEach((r,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?tA:eA;function d(u){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):d(l)}),n}var cA=c.forwardRef(function(t,s){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:d,mobileOffset:u,theme:f="light",richColors:m,duration:x,style:h,visibleToasts:w=ZE,toastOptions:j,dir:S=sg(),gap:y=nA,loadingIcon:p,icons:v,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:P}=t,[I,g]=he.useState([]),C=he.useMemo(()=>Array.from(new Set([r].concat(I.filter(te=>te.position).map(te=>te.position)))),[I,r]),[E,A]=he.useState([]),[_,M]=he.useState(!1),[$,L]=he.useState(!1),[U,W]=he.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=he.useRef(null),H=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=he.useRef(null),ee=he.useRef(!1),K=he.useCallback(te=>{g(de=>{var F;return(F=de.find(re=>re.id===te.id))!=null&&F.delete||Yt.dismiss(te.id),de.filter(({id:re})=>re!==te.id)})},[]);return he.useEffect(()=>Yt.subscribe(te=>{if(te.dismiss){g(de=>de.map(F=>F.id===te.id?{...F,delete:!0}:F));return}setTimeout(()=>{vj.flushSync(()=>{g(de=>{let F=de.findIndex(re=>re.id===te.id);return F!==-1?[...de.slice(0,F),{...de[F],...te},...de.slice(F+1)]:[te,...de]})})})}),[]),he.useEffect(()=>{if(f!=="system"){W(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:de})=>{W(de?"dark":"light")})}catch{te.addListener(({matches:F})=>{try{W(F?"dark":"light")}catch(re){console.error(re)}})}},[f]),he.useEffect(()=>{I.length<=1&&M(!1)},[I]),he.useEffect(()=>{let te=de=>{var F,re;a.every(T=>de[T]||de.code===T)&&(M(!0),(F=ne.current)==null||F.focus()),de.code==="Escape"&&(document.activeElement===ne.current||(re=ne.current)!=null&&re.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[a]),he.useEffect(()=>{if(ne.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,ee.current=!1)}},[ne.current]),he.createElement("section",{ref:s,"aria-label":`${N} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((te,de)=>{var F;let[re,T]=te.split("-");return I.length?he.createElement("ol",{key:te,dir:S==="auto"?sg():S,tabIndex:-1,ref:ne,className:l,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":re,"data-lifted":_&&I.length>1&&!i,"data-x-position":T,style:{"--front-toast-height":`${((F=E[0])==null?void 0:F.height)||0}px`,"--width":`${sA}px`,"--gap":`${y}px`,...h,...lA(d,u)},onBlur:b=>{ee.current&&!b.currentTarget.contains(b.relatedTarget)&&(ee.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:b=>{b.target instanceof HTMLElement&&b.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,z.current=b.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{$||M(!1)},onDragEnd:()=>M(!1),onPointerDown:b=>{b.target instanceof HTMLElement&&b.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},I.filter(b=>!b.position&&de===0||b.position===te).map((b,k)=>{var B,V;return he.createElement(oA,{key:b.id,icons:v,index:k,toast:b,defaultRichColors:m,duration:(B=j==null?void 0:j.duration)!=null?B:x,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:n,visibleToasts:w,closeButton:(V=j==null?void 0:j.closeButton)!=null?V:o,interacting:$,position:te,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,removeToast:K,toasts:I.filter(Y=>Y.position==b.position),heights:E.filter(Y=>Y.position==b.position),setHeights:A,expandByDefault:i,gap:y,loadingIcon:p,expanded:_,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const dA=({...t})=>{const{theme:s="system"}=FE();return e.jsx(cA,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var uA=Eh[" useId ".trim().toString()]||(()=>{}),mA=0;function zs(t){const[s,n]=c.useState(uA());return mt(()=>{n(r=>r??String(mA++))},[t]),s?`radix-${s}`:""}const hA=["top","right","bottom","left"],Nr=Math.min,es=Math.max,Pc=Math.round,El=Math.floor,cn=t=>({x:t,y:t}),pA={left:"right",right:"left",bottom:"top",top:"bottom"},fA={start:"end",end:"start"};function Xm(t,s,n){return es(t,Nr(s,n))}function _n(t,s){return typeof t=="function"?t(s):t}function kn(t){return t.split("-")[0]}function mi(t){return t.split("-")[1]}function Ip(t){return t==="x"?"y":"x"}function Tp(t){return t==="y"?"height":"width"}const xA=new Set(["top","bottom"]);function rn(t){return xA.has(kn(t))?"y":"x"}function _p(t){return Ip(rn(t))}function gA(t,s,n){n===void 0&&(n=!1);const r=mi(t),a=_p(t),i=Tp(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(o=Ec(o)),[o,Ec(o)]}function vA(t){const s=Ec(t);return[Zm(t),s,Zm(s)]}function Zm(t){return t.replace(/start|end/g,s=>fA[s])}const ng=["left","right"],rg=["right","left"],yA=["top","bottom"],jA=["bottom","top"];function NA(t,s,n){switch(t){case"top":case"bottom":return n?s?rg:ng:s?ng:rg;case"left":case"right":return s?yA:jA;default:return[]}}function SA(t,s,n,r){const a=mi(t);let i=NA(kn(t),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),s&&(i=i.concat(i.map(Zm)))),i}function Ec(t){return t.replace(/left|right|bottom|top/g,s=>pA[s])}function wA(t){return{top:0,right:0,bottom:0,left:0,...t}}function mN(t){return typeof t!="number"?wA(t):{top:t,right:t,bottom:t,left:t}}function Ac(t){const{x:s,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:s,right:s+r,bottom:n+a,x:s,y:n}}function ag(t,s,n){let{reference:r,floating:a}=t;const i=rn(s),o=_p(s),l=Tp(o),d=kn(s),u=i==="y",f=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,x=r[l]/2-a[l]/2;let h;switch(d){case"top":h={x:f,y:r.y-a.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:m};break;case"left":h={x:r.x-a.width,y:m};break;default:h={x:r.x,y:r.y}}switch(mi(s)){case"start":h[o]-=x*(n&&u?-1:1);break;case"end":h[o]+=x*(n&&u?-1:1);break}return h}const bA=async(t,s,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(s));let u=await o.getElementRects({reference:t,floating:s,strategy:a}),{x:f,y:m}=ag(u,r,d),x=r,h={},w=0;for(let j=0;j<l.length;j++){const{name:S,fn:y}=l[j],{x:p,y:v,data:N,reset:P}=await y({x:f,y:m,initialPlacement:r,placement:x,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:t,floating:s}});f=p??f,m=v??m,h={...h,[S]:{...h[S],...N}},P&&w<=50&&(w++,typeof P=="object"&&(P.placement&&(x=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:t,floating:s,strategy:a}):P.rects),{x:f,y:m}=ag(u,x,d)),j=-1)}return{x:f,y:m,placement:x,strategy:a,middlewareData:h}};async function xo(t,s){var n;s===void 0&&(s={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:d}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:x=!1,padding:h=0}=_n(s,t),w=mN(h),S=l[x?m==="floating"?"reference":"floating":m],y=Ac(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:d})),p=m==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},P=Ac(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:d}):p);return{top:(y.top-P.top+w.top)/N.y,bottom:(P.bottom-y.bottom+w.bottom)/N.y,left:(y.left-P.left+w.left)/N.x,right:(P.right-y.right+w.right)/N.x}}const CA=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:d}=s,{element:u,padding:f=0}=_n(t,s)||{};if(u==null)return{};const m=mN(f),x={x:n,y:r},h=_p(a),w=Tp(h),j=await o.getDimensions(u),S=h==="y",y=S?"top":"left",p=S?"bottom":"right",v=S?"clientHeight":"clientWidth",N=i.reference[w]+i.reference[h]-x[h]-i.floating[w],P=x[h]-i.reference[h],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let g=I?I[v]:0;(!g||!await(o.isElement==null?void 0:o.isElement(I)))&&(g=l.floating[v]||i.floating[w]);const C=N/2-P/2,E=g/2-j[w]/2-1,A=Nr(m[y],E),_=Nr(m[p],E),M=A,$=g-j[w]-_,L=g/2-j[w]/2+C,U=Xm(M,L,$),W=!d.arrow&&mi(a)!=null&&L!==U&&i.reference[w]/2-(L<M?A:_)-j[w]/2<0,ne=W?L<M?L-M:L-$:0;return{[h]:x[h]+ne,data:{[h]:U,centerOffset:L-U-ne,...W&&{alignmentOffset:ne}},reset:W}}}),PA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=s,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...S}=_n(t,s);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=kn(a),p=rn(l),v=kn(l)===l,N=await(d.isRTL==null?void 0:d.isRTL(u.floating)),P=x||(v||!j?[Ec(l)]:vA(l)),I=w!=="none";!x&&I&&P.push(...SA(l,j,w,N));const g=[l,...P],C=await xo(s,S),E=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&E.push(C[y]),m){const L=gA(a,o,N);E.push(C[L[0]],C[L[1]])}if(A=[...A,{placement:a,overflows:E}],!E.every(L=>L<=0)){var _,M;const L=(((_=i.flip)==null?void 0:_.index)||0)+1,U=g[L];if(U&&(!(m==="alignment"?p!==rn(U):!1)||A.every(H=>rn(H.placement)===p?H.overflows[0]>0:!0)))return{data:{index:L,overflows:A},reset:{placement:U}};let W=(M=A.filter(ne=>ne.overflows[0]<=0).sort((ne,H)=>ne.overflows[1]-H.overflows[1])[0])==null?void 0:M.placement;if(!W)switch(h){case"bestFit":{var $;const ne=($=A.filter(H=>{if(I){const z=rn(H.placement);return z===p||z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(z=>z>0).reduce((z,ee)=>z+ee,0)]).sort((H,z)=>H[1]-z[1])[0])==null?void 0:$[0];ne&&(W=ne);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function ig(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function og(t){return hA.some(s=>t[s]>=0)}const EA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...a}=_n(t,s);switch(r){case"referenceHidden":{const i=await xo(s,{...a,elementContext:"reference"}),o=ig(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:og(o)}}}case"escaped":{const i=await xo(s,{...a,altBoundary:!0}),o=ig(i,n.floating);return{data:{escapedOffsets:o,escaped:og(o)}}}default:return{}}}}},hN=new Set(["left","top"]);async function AA(t,s){const{placement:n,platform:r,elements:a}=t,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=kn(n),l=mi(n),d=rn(n)==="y",u=hN.has(o)?-1:1,f=i&&d?-1:1,m=_n(s,t);let{mainAxis:x,crossAxis:h,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(h=l==="end"?w*-1:w),d?{x:h*f,y:x*u}:{x:x*u,y:h*f}}const RA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=s,d=await AA(s,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},IA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:a}=s,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:y,y:p}=S;return{x:y,y:p}}},...d}=_n(t,s),u={x:n,y:r},f=await xo(s,d),m=rn(kn(a)),x=Ip(m);let h=u[x],w=u[m];if(i){const S=x==="y"?"top":"left",y=x==="y"?"bottom":"right",p=h+f[S],v=h-f[y];h=Xm(p,h,v)}if(o){const S=m==="y"?"top":"left",y=m==="y"?"bottom":"right",p=w+f[S],v=w-f[y];w=Xm(p,w,v)}const j=l.fn({...s,[x]:h,[m]:w});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[x]:i,[m]:o}}}}}},TA=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=s,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=_n(t,s),f={x:n,y:r},m=rn(a),x=Ip(m);let h=f[x],w=f[m];const j=_n(l,s),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(d){const v=x==="y"?"height":"width",N=i.reference[x]-i.floating[v]+S.mainAxis,P=i.reference[x]+i.reference[v]-S.mainAxis;h<N?h=N:h>P&&(h=P)}if(u){var y,p;const v=x==="y"?"width":"height",N=hN.has(kn(a)),P=i.reference[m]-i.floating[v]+(N&&((y=o.offset)==null?void 0:y[m])||0)+(N?0:S.crossAxis),I=i.reference[m]+i.reference[v]+(N?0:((p=o.offset)==null?void 0:p[m])||0)-(N?S.crossAxis:0);w<P?w=P:w>I&&(w=I)}return{[x]:h,[m]:w}}}},_A=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:a,rects:i,platform:o,elements:l}=s,{apply:d=()=>{},...u}=_n(t,s),f=await xo(s,u),m=kn(a),x=mi(a),h=rn(a)==="y",{width:w,height:j}=i.floating;let S,y;m==="top"||m==="bottom"?(S=m,y=x===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=m,S=x==="end"?"top":"bottom");const p=j-f.top-f.bottom,v=w-f.left-f.right,N=Nr(j-f[S],p),P=Nr(w-f[y],v),I=!s.middlewareData.shift;let g=N,C=P;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(C=v),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(g=p),I&&!x){const A=es(f.left,0),_=es(f.right,0),M=es(f.top,0),$=es(f.bottom,0);h?C=w-2*(A!==0||_!==0?A+_:es(f.left,f.right)):g=j-2*(M!==0||$!==0?M+$:es(f.top,f.bottom))}await d({...s,availableWidth:C,availableHeight:g});const E=await o.getDimensions(l.floating);return w!==E.width||j!==E.height?{reset:{rects:!0}}:{}}}};function ud(){return typeof window<"u"}function hi(t){return pN(t)?(t.nodeName||"").toLowerCase():"#document"}function os(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function fn(t){var s;return(s=(pN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function pN(t){return ud()?t instanceof Node||t instanceof os(t).Node:!1}function qs(t){return ud()?t instanceof Element||t instanceof os(t).Element:!1}function mn(t){return ud()?t instanceof HTMLElement||t instanceof os(t).HTMLElement:!1}function lg(t){return!ud()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof os(t).ShadowRoot}const kA=new Set(["inline","contents"]);function Yo(t){const{overflow:s,overflowX:n,overflowY:r,display:a}=Gs(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!kA.has(a)}const MA=new Set(["table","td","th"]);function OA(t){return MA.has(hi(t))}const FA=[":popover-open",":modal"];function md(t){return FA.some(s=>{try{return t.matches(s)}catch{return!1}})}const DA=["transform","translate","scale","rotate","perspective"],LA=["transform","translate","scale","rotate","perspective","filter"],$A=["paint","layout","strict","content"];function kp(t){const s=Mp(),n=qs(t)?Gs(t):t;return DA.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||LA.some(r=>(n.willChange||"").includes(r))||$A.some(r=>(n.contain||"").includes(r))}function UA(t){let s=Sr(t);for(;mn(s)&&!ei(s);){if(kp(s))return s;if(md(s))return null;s=Sr(s)}return null}function Mp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BA=new Set(["html","body","#document"]);function ei(t){return BA.has(hi(t))}function Gs(t){return os(t).getComputedStyle(t)}function hd(t){return qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Sr(t){if(hi(t)==="html")return t;const s=t.assignedSlot||t.parentNode||lg(t)&&t.host||fn(t);return lg(s)?s.host:s}function fN(t){const s=Sr(t);return ei(s)?t.ownerDocument?t.ownerDocument.body:t.body:mn(s)&&Yo(s)?s:fN(s)}function go(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=fN(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),o=os(a);if(i){const l=eh(o);return s.concat(o,o.visualViewport||[],Yo(a)?a:[],l&&n?go(l):[])}return s.concat(a,go(a,[],n))}function eh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xN(t){const s=Gs(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const a=mn(t),i=a?t.offsetWidth:n,o=a?t.offsetHeight:r,l=Pc(n)!==i||Pc(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Op(t){return qs(t)?t:t.contextElement}function Oa(t){const s=Op(t);if(!mn(s))return cn(1);const n=s.getBoundingClientRect(),{width:r,height:a,$:i}=xN(s);let o=(i?Pc(n.width):n.width)/r,l=(i?Pc(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zA=cn(0);function gN(t){const s=os(t);return!Mp()||!s.visualViewport?zA:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function VA(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==os(t)?!1:s}function Xr(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=Op(t);let o=cn(1);s&&(r?qs(r)&&(o=Oa(r)):o=Oa(t));const l=VA(i,n,r)?gN(i):cn(0);let d=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const x=os(i),h=r&&qs(r)?os(r):r;let w=x,j=eh(w);for(;j&&r&&h!==w;){const S=Oa(j),y=j.getBoundingClientRect(),p=Gs(j),v=y.left+(j.clientLeft+parseFloat(p.paddingLeft))*S.x,N=y.top+(j.clientTop+parseFloat(p.paddingTop))*S.y;d*=S.x,u*=S.y,f*=S.x,m*=S.y,d+=v,u+=N,w=os(j),j=eh(w)}}return Ac({width:f,height:m,x:d,y:u})}function pd(t,s){const n=hd(t).scrollLeft;return s?s.left+n:Xr(fn(t)).left+n}function vN(t,s){const n=t.getBoundingClientRect(),r=n.left+s.scrollLeft-pd(t,n),a=n.top+s.scrollTop;return{x:r,y:a}}function qA(t){let{elements:s,rect:n,offsetParent:r,strategy:a}=t;const i=a==="fixed",o=fn(r),l=s?md(s.floating):!1;if(r===o||l&&i)return n;let d={scrollLeft:0,scrollTop:0},u=cn(1);const f=cn(0),m=mn(r);if((m||!m&&!i)&&((hi(r)!=="body"||Yo(o))&&(d=hd(r)),mn(r))){const h=Xr(r);u=Oa(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}const x=o&&!m&&!i?vN(o,d):cn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-d.scrollLeft*u.x+f.x+x.x,y:n.y*u.y-d.scrollTop*u.y+f.y+x.y}}function GA(t){return Array.from(t.getClientRects())}function YA(t){const s=fn(t),n=hd(t),r=t.ownerDocument.body,a=es(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),i=es(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+pd(t);const l=-n.scrollTop;return Gs(r).direction==="rtl"&&(o+=es(s.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const cg=25;function HA(t,s){const n=os(t),r=fn(t),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,d=0;if(a){i=a.width,o=a.height;const f=Mp();(!f||f&&s==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}const u=pd(r);if(u<=0){const f=r.ownerDocument,m=f.body,x=getComputedStyle(m),h=f.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-h);w<=cg&&(i-=w)}else u<=cg&&(i+=u);return{width:i,height:o,x:l,y:d}}const WA=new Set(["absolute","fixed"]);function KA(t,s){const n=Xr(t,!0,s==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,i=mn(t)?Oa(t):cn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,d=a*i.x,u=r*i.y;return{width:o,height:l,x:d,y:u}}function dg(t,s,n){let r;if(s==="viewport")r=HA(t,n);else if(s==="document")r=YA(fn(t));else if(qs(s))r=KA(s,n);else{const a=gN(t);r={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Ac(r)}function yN(t,s){const n=Sr(t);return n===s||!qs(n)||ei(n)?!1:Gs(n).position==="fixed"||yN(n,s)}function JA(t,s){const n=s.get(t);if(n)return n;let r=go(t,[],!1).filter(l=>qs(l)&&hi(l)!=="body"),a=null;const i=Gs(t).position==="fixed";let o=i?Sr(t):t;for(;qs(o)&&!ei(o);){const l=Gs(o),d=kp(o);!d&&l.position==="fixed"&&(a=null),(i?!d&&!a:!d&&l.position==="static"&&!!a&&WA.has(a.position)||Yo(o)&&!d&&yN(t,o))?r=r.filter(f=>f!==o):a=l,o=Sr(o)}return s.set(t,r),r}function QA(t){let{element:s,boundary:n,rootBoundary:r,strategy:a}=t;const o=[...n==="clippingAncestors"?md(s)?[]:JA(s,this._c):[].concat(n),r],l=o[0],d=o.reduce((u,f)=>{const m=dg(s,f,a);return u.top=es(m.top,u.top),u.right=Nr(m.right,u.right),u.bottom=Nr(m.bottom,u.bottom),u.left=es(m.left,u.left),u},dg(s,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function XA(t){const{width:s,height:n}=xN(t);return{width:s,height:n}}function ZA(t,s,n){const r=mn(s),a=fn(s),i=n==="fixed",o=Xr(t,!0,i,s);let l={scrollLeft:0,scrollTop:0};const d=cn(0);function u(){d.x=pd(a)}if(r||!r&&!i)if((hi(s)!=="body"||Yo(a))&&(l=hd(s)),r){const h=Xr(s,!0,i,s);d.x=h.x+s.clientLeft,d.y=h.y+s.clientTop}else a&&u();i&&!r&&a&&u();const f=a&&!r&&!i?vN(a,l):cn(0),m=o.left+l.scrollLeft-d.x-f.x,x=o.top+l.scrollTop-d.y-f.y;return{x:m,y:x,width:o.width,height:o.height}}function Lu(t){return Gs(t).position==="static"}function ug(t,s){if(!mn(t)||Gs(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return fn(t)===n&&(n=n.ownerDocument.body),n}function jN(t,s){const n=os(t);if(md(t))return n;if(!mn(t)){let a=Sr(t);for(;a&&!ei(a);){if(qs(a)&&!Lu(a))return a;a=Sr(a)}return n}let r=ug(t,s);for(;r&&OA(r)&&Lu(r);)r=ug(r,s);return r&&ei(r)&&Lu(r)&&!kp(r)?n:r||UA(t)||n}const eR=async function(t){const s=this.getOffsetParent||jN,n=this.getDimensions,r=await n(t.floating);return{reference:ZA(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tR(t){return Gs(t).direction==="rtl"}const sR={convertOffsetParentRelativeRectToViewportRelativeRect:qA,getDocumentElement:fn,getClippingRect:QA,getOffsetParent:jN,getElementRects:eR,getClientRects:GA,getDimensions:XA,getScale:Oa,isElement:qs,isRTL:tR};function NN(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function nR(t,s){let n=null,r;const a=fn(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=t.getBoundingClientRect(),{left:f,top:m,width:x,height:h}=u;if(l||s(),!x||!h)return;const w=El(m),j=El(a.clientWidth-(f+x)),S=El(a.clientHeight-(m+h)),y=El(f),v={rootMargin:-w+"px "+-j+"px "+-S+"px "+-y+"px",threshold:es(0,Nr(1,d))||1};let N=!0;function P(I){const g=I[0].intersectionRatio;if(g!==d){if(!N)return o();g?o(!1,g):r=setTimeout(()=>{o(!1,1e-7)},1e3)}g===1&&!NN(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(P,{...v,root:a.ownerDocument})}catch{n=new IntersectionObserver(P,v)}n.observe(t)}return o(!0),i}function rR(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,u=Op(t),f=a||i?[...u?go(u):[],...go(s)]:[];f.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const m=u&&l?nR(u,n):null;let x=-1,h=null;o&&(h=new ResizeObserver(y=>{let[p]=y;p&&p.target===u&&h&&(h.unobserve(s),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(s)})),n()}),u&&!d&&h.observe(u),h.observe(s));let w,j=d?Xr(t):null;d&&S();function S(){const y=Xr(t);j&&!NN(j,y)&&n(),j=y,w=requestAnimationFrame(S)}return n(),()=>{var y;f.forEach(p=>{a&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),m==null||m(),(y=h)==null||y.disconnect(),h=null,d&&cancelAnimationFrame(w)}}const aR=RA,iR=IA,oR=PA,lR=_A,cR=EA,mg=CA,dR=TA,uR=(t,s,n)=>{const r=new Map,a={platform:sR,...n},i={...a.platform,_c:r};return bA(t,s,{...a,platform:i})};var mR=typeof document<"u",hR=function(){},Wl=mR?c.useLayoutEffect:hR;function Rc(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!Rc(t[r],s[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&t.$$typeof)&&!Rc(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function SN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hg(t,s){const n=SN(t);return Math.round(s*n)/n}function $u(t){const s=c.useRef(t);return Wl(()=>{s.current=t}),s}function pR(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=t,[f,m]=c.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[x,h]=c.useState(r);Rc(x,r)||h(r);const[w,j]=c.useState(null),[S,y]=c.useState(null),p=c.useCallback(H=>{H!==I.current&&(I.current=H,j(H))},[]),v=c.useCallback(H=>{H!==g.current&&(g.current=H,y(H))},[]),N=i||w,P=o||S,I=c.useRef(null),g=c.useRef(null),C=c.useRef(f),E=d!=null,A=$u(d),_=$u(a),M=$u(u),$=c.useCallback(()=>{if(!I.current||!g.current)return;const H={placement:s,strategy:n,middleware:x};_.current&&(H.platform=_.current),uR(I.current,g.current,H).then(z=>{const ee={...z,isPositioned:M.current!==!1};L.current&&!Rc(C.current,ee)&&(C.current=ee,aa.flushSync(()=>{m(ee)}))})},[x,s,n,_,M]);Wl(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[u]);const L=c.useRef(!1);Wl(()=>(L.current=!0,()=>{L.current=!1}),[]),Wl(()=>{if(N&&(I.current=N),P&&(g.current=P),N&&P){if(A.current)return A.current(N,P,$);$()}},[N,P,$,A,E]);const U=c.useMemo(()=>({reference:I,floating:g,setReference:p,setFloating:v}),[p,v]),W=c.useMemo(()=>({reference:N,floating:P}),[N,P]),ne=c.useMemo(()=>{const H={position:n,left:0,top:0};if(!W.floating)return H;const z=hg(W.floating,f.x),ee=hg(W.floating,f.y);return l?{...H,transform:"translate("+z+"px, "+ee+"px)",...SN(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:ee}},[n,l,W.floating,f.x,f.y]);return c.useMemo(()=>({...f,update:$,refs:U,elements:W,floatingStyles:ne}),[f,$,U,W,ne])}const fR=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?mg({element:r.current,padding:a}).fn(n):{}:r?mg({element:r,padding:a}).fn(n):{}}}},xR=(t,s)=>({...aR(t),options:[t,s]}),gR=(t,s)=>({...iR(t),options:[t,s]}),vR=(t,s)=>({...dR(t),options:[t,s]}),yR=(t,s)=>({...oR(t),options:[t,s]}),jR=(t,s)=>({...lR(t),options:[t,s]}),NR=(t,s)=>({...cR(t),options:[t,s]}),SR=(t,s)=>({...fR(t),options:[t,s]});var wR="Arrow",wN=c.forwardRef((t,s)=>{const{children:n,width:r=10,height:a=5,...i}=t;return e.jsx(Se.svg,{...i,ref:s,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});wN.displayName=wR;var bR=wN;function Fp(t){const[s,n]=c.useState(void 0);return mt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),s}var Dp="Popper",[bN,pi]=Ft(Dp),[CR,CN]=bN(Dp),PN=t=>{const{__scopePopper:s,children:n}=t,[r,a]=c.useState(null);return e.jsx(CR,{scope:s,anchor:r,onAnchorChange:a,children:n})};PN.displayName=Dp;var EN="PopperAnchor",AN=c.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...a}=t,i=CN(EN,n),o=c.useRef(null),l=Ce(s,o),d=c.useRef(null);return c.useEffect(()=>{const u=d.current;d.current=(r==null?void 0:r.current)||o.current,u!==d.current&&i.onAnchorChange(d.current)}),r?null:e.jsx(Se.div,{...a,ref:l})});AN.displayName=EN;var Lp="PopperContent",[PR,ER]=bN(Lp),RN=c.forwardRef((t,s)=>{var b,k,B,V,Y,X;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:h="optimized",onPlaced:w,...j}=t,S=CN(Lp,n),[y,p]=c.useState(null),v=Ce(s,ve=>p(ve)),[N,P]=c.useState(null),I=Fp(N),g=(I==null?void 0:I.width)??0,C=(I==null?void 0:I.height)??0,E=r+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},_=Array.isArray(u)?u:[u],M=_.length>0,$={padding:A,boundary:_.filter(RR),altBoundary:M},{refs:L,floatingStyles:U,placement:W,isPositioned:ne,middlewareData:H}=pR({strategy:"fixed",placement:E,whileElementsMounted:(...ve)=>rR(...ve,{animationFrame:h==="always"}),elements:{reference:S.anchor},middleware:[xR({mainAxis:a+C,alignmentAxis:o}),d&&gR({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?vR():void 0,...$}),d&&yR({...$}),jR({...$,apply:({elements:ve,rects:G,availableWidth:le,availableHeight:je})=>{const{width:we,height:Xe}=G.reference,ft=ve.floating.style;ft.setProperty("--radix-popper-available-width",`${le}px`),ft.setProperty("--radix-popper-available-height",`${je}px`),ft.setProperty("--radix-popper-anchor-width",`${we}px`),ft.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),N&&SR({element:N,padding:l}),IR({arrowWidth:g,arrowHeight:C}),x&&NR({strategy:"referenceHidden",...$})]}),[z,ee]=_N(W),K=lt(w);mt(()=>{ne&&(K==null||K())},[ne,K]);const te=(b=H.arrow)==null?void 0:b.x,de=(k=H.arrow)==null?void 0:k.y,F=((B=H.arrow)==null?void 0:B.centerOffset)!==0,[re,T]=c.useState();return mt(()=>{y&&T(window.getComputedStyle(y).zIndex)},[y]),e.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:ne?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(V=H.transformOrigin)==null?void 0:V.x,(Y=H.transformOrigin)==null?void 0:Y.y].join(" "),...((X=H.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(PR,{scope:n,placedSide:z,onArrowChange:P,arrowX:te,arrowY:de,shouldHideArrow:F,children:e.jsx(Se.div,{"data-side":z,"data-align":ee,...j,ref:v,style:{...j.style,animation:ne?void 0:"none"}})})})});RN.displayName=Lp;var IN="PopperArrow",AR={top:"bottom",right:"left",bottom:"top",left:"right"},TN=c.forwardRef(function(s,n){const{__scopePopper:r,...a}=s,i=ER(IN,r),o=AR[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(bR,{...a,ref:n,style:{...a.style,display:"block"}})})});TN.displayName=IN;function RR(t){return t!==null}var IR=t=>({name:"transformOrigin",options:t,fn(s){var S,y,p;const{placement:n,rects:r,middlewareData:a}=s,o=((S=a.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[u,f]=_N(n),m={start:"0%",center:"50%",end:"100%"}[f],x=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,h=(((p=a.arrow)==null?void 0:p.y)??0)+d/2;let w="",j="";return u==="bottom"?(w=o?m:`${x}px`,j=`${-d}px`):u==="top"?(w=o?m:`${x}px`,j=`${r.floating.height+d}px`):u==="right"?(w=`${-d}px`,j=o?m:`${h}px`):u==="left"&&(w=`${r.floating.width+d}px`,j=o?m:`${h}px`),{data:{x:w,y:j}}}});function _N(t){const[s,n="center"]=t.split("-");return[s,n]}var $p=PN,Up=AN,Bp=RN,zp=TN,[fd]=Ft("Tooltip",[pi]),xd=pi(),kN="TooltipProvider",TR=700,th="tooltip.open",[_R,Vp]=fd(kN),MN=t=>{const{__scopeTooltip:s,delayDuration:n=TR,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=t,o=c.useRef(!0),l=c.useRef(!1),d=c.useRef(0);return c.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),e.jsx(_R,{scope:s,isOpenDelayedRef:o,delayDuration:n,onOpen:c.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:c.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};MN.displayName=kN;var vo="Tooltip",[kR,gd]=fd(vo),ON=t=>{const{__scopeTooltip:s,children:n,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,d=Vp(vo,t.__scopeTooltip),u=xd(s),[f,m]=c.useState(null),x=zs(),h=c.useRef(0),w=o??d.disableHoverableContent,j=l??d.delayDuration,S=c.useRef(!1),[y,p]=un({prop:r,defaultProp:a??!1,onChange:g=>{g?(d.onOpen(),document.dispatchEvent(new CustomEvent(th))):d.onClose(),i==null||i(g)},caller:vo}),v=c.useMemo(()=>y?S.current?"delayed-open":"instant-open":"closed",[y]),N=c.useCallback(()=>{window.clearTimeout(h.current),h.current=0,S.current=!1,p(!0)},[p]),P=c.useCallback(()=>{window.clearTimeout(h.current),h.current=0,p(!1)},[p]),I=c.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{S.current=!0,p(!0),h.current=0},j)},[j,p]);return c.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),e.jsx($p,{...u,children:e.jsx(kR,{scope:s,contentId:x,open:y,stateAttribute:v,trigger:f,onTriggerChange:m,onTriggerEnter:c.useCallback(()=>{d.isOpenDelayedRef.current?I():N()},[d.isOpenDelayedRef,I,N]),onTriggerLeave:c.useCallback(()=>{w?P():(window.clearTimeout(h.current),h.current=0)},[P,w]),onOpen:N,onClose:P,disableHoverableContent:w,children:n})})};ON.displayName=vo;var sh="TooltipTrigger",FN=c.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=gd(sh,n),i=Vp(sh,n),o=xd(n),l=c.useRef(null),d=Ce(s,l,a.onTriggerChange),u=c.useRef(!1),f=c.useRef(!1),m=c.useCallback(()=>u.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(Up,{asChild:!0,...o,children:e.jsx(Se.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:d,onPointerMove:ue(t.onPointerMove,x=>{x.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:ue(t.onBlur,a.onClose),onClick:ue(t.onClick,a.onClose)})})});FN.displayName=sh;var MR="TooltipPortal",[UF,OR]=fd(MR,{forceMount:void 0}),ti="TooltipContent",DN=c.forwardRef((t,s)=>{const n=OR(ti,t.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=t,o=gd(ti,t.__scopeTooltip);return e.jsx(Pt,{present:r||o.open,children:o.disableHoverableContent?e.jsx(LN,{side:a,...i,ref:s}):e.jsx(FR,{side:a,...i,ref:s})})}),FR=c.forwardRef((t,s)=>{const n=gd(ti,t.__scopeTooltip),r=Vp(ti,t.__scopeTooltip),a=c.useRef(null),i=Ce(s,a),[o,l]=c.useState(null),{trigger:d,onClose:u}=n,f=a.current,{onPointerInTransitChange:m}=r,x=c.useCallback(()=>{l(null),m(!1)},[m]),h=c.useCallback((w,j)=>{const S=w.currentTarget,y={x:w.clientX,y:w.clientY},p=BR(y,S.getBoundingClientRect()),v=zR(y,p),N=VR(j.getBoundingClientRect()),P=GR([...v,...N]);l(P),m(!0)},[m]);return c.useEffect(()=>()=>x(),[x]),c.useEffect(()=>{if(d&&f){const w=S=>h(S,f),j=S=>h(S,d);return d.addEventListener("pointerleave",w),f.addEventListener("pointerleave",j),()=>{d.removeEventListener("pointerleave",w),f.removeEventListener("pointerleave",j)}}},[d,f,h,x]),c.useEffect(()=>{if(o){const w=j=>{const S=j.target,y={x:j.clientX,y:j.clientY},p=(d==null?void 0:d.contains(S))||(f==null?void 0:f.contains(S)),v=!qR(y,o);p?x():v&&(x(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,f,o,u,x]),e.jsx(LN,{...t,ref:i})}),[DR,LR]=fd(vo,{isInside:!1}),$R=Nj("TooltipContent"),LN=c.forwardRef((t,s)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,d=gd(ti,n),u=xd(n),{onClose:f}=d;return c.useEffect(()=>(document.addEventListener(th,f),()=>document.removeEventListener(th,f)),[f]),c.useEffect(()=>{if(d.trigger){const m=x=>{const h=x.target;h!=null&&h.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),e.jsx(di,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:e.jsxs(Bp,{"data-state":d.stateAttribute,...u,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx($R,{children:r}),e.jsx(DR,{scope:n,isInside:!0,children:e.jsx(mP,{id:d.contentId,role:"tooltip",children:a||r})})]})})});DN.displayName=ti;var $N="TooltipArrow",UR=c.forwardRef((t,s)=>{const{__scopeTooltip:n,...r}=t,a=xd(n);return LR($N,n).isInside?null:e.jsx(zp,{...a,...r,ref:s})});UR.displayName=$N;function BR(t,s){const n=Math.abs(s.top-t.y),r=Math.abs(s.bottom-t.y),a=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zR(t,s,n=5){const r=[];switch(s){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function VR(t){const{top:s,right:n,bottom:r,left:a}=t;return[{x:a,y:s},{x:n,y:s},{x:n,y:r},{x:a,y:r}]}function qR(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i],d=s[o],u=l.x,f=l.y,m=d.x,x=d.y;f>r!=x>r&&n<(m-u)*(r-f)/(x-f)+u&&(a=!a)}return a}function GR(t){const s=t.slice();return s.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YR(s)}function YR(t){if(t.length<=1)return t.slice();const s=[];for(let r=0;r<t.length;r++){const a=t[r];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))s.pop();else break}s.push(a)}s.pop();const n=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),s.length===1&&n.length===1&&s[0].x===n[0].x&&s[0].y===n[0].y?s:s.concat(n)}var HR=MN,WR=ON,KR=FN,UN=DN;const BN=HR,JR=WR,QR=KR,zN=c.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(UN,{ref:r,sideOffset:s,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));zN.displayName=UN.displayName;var vd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},XR={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},Qn,Sh,Jg,ZR=(Jg=class{constructor(){ke(this,Qn,XR);ke(this,Sh,!1)}setTimeoutProvider(t){be(this,Qn,t)}setTimeout(t,s){return Z(this,Qn).setTimeout(t,s)}clearTimeout(t){Z(this,Qn).clearTimeout(t)}setInterval(t,s){return Z(this,Qn).setInterval(t,s)}clearInterval(t){Z(this,Qn).clearInterval(t)}},Qn=new WeakMap,Sh=new WeakMap,Jg),nh=new ZR;function eI(t){setTimeout(t,0)}var yd=typeof window>"u"||"Deno"in globalThis;function ks(){}function tI(t,s){return typeof t=="function"?t(s):t}function sI(t){return typeof t=="number"&&t>=0&&t!==1/0}function nI(t,s){return Math.max(t+(s||0)-Date.now(),0)}function rh(t,s){return typeof t=="function"?t(s):t}function rI(t,s){return typeof t=="function"?t(s):t}function pg(t,s){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(s.queryHash!==qp(o,s.options))return!1}else if(!jo(s.queryKey,o))return!1}if(n!=="all"){const d=s.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||a&&a!==s.state.fetchStatus||i&&!i(s))}function fg(t,s){const{exact:n,status:r,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(n){if(yo(s.options.mutationKey)!==yo(i))return!1}else if(!jo(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||a&&!a(s))}function qp(t,s){return((s==null?void 0:s.queryKeyHashFn)||yo)(t)}function yo(t){return JSON.stringify(t,(s,n)=>ah(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function jo(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(n=>jo(t[n],s[n])):!1}var aI=Object.prototype.hasOwnProperty;function VN(t,s){if(t===s)return t;const n=xg(t)&&xg(s);if(!n&&!(ah(t)&&ah(s)))return s;const a=(n?t:Object.keys(t)).length,i=n?s:Object.keys(s),o=i.length,l=n?new Array(o):{};let d=0;for(let u=0;u<o;u++){const f=n?u:i[u],m=t[f],x=s[f];if(m===x){l[f]=m,(n?u<a:aI.call(t,f))&&d++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){l[f]=x;continue}const h=VN(m,x);l[f]=h,h===m&&d++}return a===o&&d===a?t:l}function xg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ah(t){if(!gg(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!gg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gg(t){return Object.prototype.toString.call(t)==="[object Object]"}function iI(t){return new Promise(s=>{nh.setTimeout(s,t)})}function oI(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?VN(t,s):s}function lI(t,s,n=0){const r=[...t,s];return n&&r.length>n?r.slice(1):r}function cI(t,s,n=0){const r=[s,...t];return n&&r.length>n?r.slice(0,-1):r}var Gp=Symbol();function qN(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Gp?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Lr,Xn,La,Qg,dI=(Qg=class extends vd{constructor(){super();ke(this,Lr);ke(this,Xn);ke(this,La);be(this,La,s=>{if(!yd&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,Xn)||this.setEventListener(Z(this,La))}onUnsubscribe(){var s;this.hasListeners()||((s=Z(this,Xn))==null||s.call(this),be(this,Xn,void 0))}setEventListener(s){var n;be(this,La,s),(n=Z(this,Xn))==null||n.call(this),be(this,Xn,s(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(s){Z(this,Lr)!==s&&(be(this,Lr,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){var s;return typeof Z(this,Lr)=="boolean"?Z(this,Lr):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Lr=new WeakMap,Xn=new WeakMap,La=new WeakMap,Qg),GN=new dI;function uI(){let t,s;const n=new Promise((a,i)=>{t=a,s=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),t(a)},n.reject=a=>{r({status:"rejected",reason:a}),s(a)},n}var mI=eI;function hI(){let t=[],s=0,n=l=>{l()},r=l=>{l()},a=mI;const i=l=>{s?t.push(l):a(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{r(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;s++;try{d=l()}finally{s--,s||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Bt=hI(),$a,Zn,Ua,Xg,pI=(Xg=class extends vd{constructor(){super();ke(this,$a,!0);ke(this,Zn);ke(this,Ua);be(this,Ua,s=>{if(!yd&&window.addEventListener){const n=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,Zn)||this.setEventListener(Z(this,Ua))}onUnsubscribe(){var s;this.hasListeners()||((s=Z(this,Zn))==null||s.call(this),be(this,Zn,void 0))}setEventListener(s){var n;be(this,Ua,s),(n=Z(this,Zn))==null||n.call(this),be(this,Zn,s(this.setOnline.bind(this)))}setOnline(s){Z(this,$a)!==s&&(be(this,$a,s),this.listeners.forEach(r=>{r(s)}))}isOnline(){return Z(this,$a)}},$a=new WeakMap,Zn=new WeakMap,Ua=new WeakMap,Xg),Ic=new pI;function fI(t){return Math.min(1e3*2**t,3e4)}function YN(t){return(t??"online")==="online"?Ic.isOnline():!0}var ih=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function HN(t){let s=!1,n=0,r;const a=uI(),i=()=>a.status!=="pending",o=j=>{var S;if(!i()){const y=new ih(j);x(y),(S=t.onCancel)==null||S.call(t,y)}},l=()=>{s=!0},d=()=>{s=!1},u=()=>GN.isFocused()&&(t.networkMode==="always"||Ic.isOnline())&&t.canRun(),f=()=>YN(t.networkMode)&&t.canRun(),m=j=>{i()||(r==null||r(),a.resolve(j))},x=j=>{i()||(r==null||r(),a.reject(j))},h=()=>new Promise(j=>{var S;r=y=>{(i()||u())&&j(y)},(S=t.onPause)==null||S.call(t)}).then(()=>{var j;r=void 0,i()||(j=t.onContinue)==null||j.call(t)}),w=()=>{if(i())return;let j;const S=n===0?t.initialPromise:void 0;try{j=S??t.fn()}catch(y){j=Promise.reject(y)}Promise.resolve(j).then(m).catch(y=>{var I;if(i())return;const p=t.retry??(yd?0:3),v=t.retryDelay??fI,N=typeof v=="function"?v(n,y):v,P=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,y);if(s||!P){x(y);return}n++,(I=t.onFail)==null||I.call(t,n,y),iI(N).then(()=>u()?void 0:h()).then(()=>{s?x(y):w()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:d,canStart:f,start:()=>(f()?w():h().then(w),a)}}var $r,Zg,WN=(Zg=class{constructor(){ke(this,$r)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sI(this.gcTime)&&be(this,$r,nh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yd?1/0:5*60*1e3))}clearGcTimeout(){Z(this,$r)&&(nh.clearTimeout(Z(this,$r)),be(this,$r,void 0))}},$r=new WeakMap,Zg),Ur,Ba,fs,Br,yt,ko,zr,Ms,yn,ev,xI=(ev=class extends WN{constructor(s){super();ke(this,Ms);ke(this,Ur);ke(this,Ba);ke(this,fs);ke(this,Br);ke(this,yt);ke(this,ko);ke(this,zr);be(this,zr,!1),be(this,ko,s.defaultOptions),this.setOptions(s.options),this.observers=[],be(this,Br,s.client),be(this,fs,Z(this,Br).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,be(this,Ur,vg(this.options)),this.state=s.state??Z(this,Ur),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=Z(this,yt))==null?void 0:s.promise}setOptions(s){if(this.options={...Z(this,ko),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=vg(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),be(this,Ur,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,fs).remove(this)}setData(s,n){const r=oI(this.state.data,s,this.options);return At(this,Ms,yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(s,n){At(this,Ms,yn).call(this,{type:"setState",state:s,setStateOptions:n})}cancel(s){var r,a;const n=(r=Z(this,yt))==null?void 0:r.promise;return(a=Z(this,yt))==null||a.cancel(s),n?n.then(ks).catch(ks):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Ur))}isActive(){return this.observers.some(s=>rI(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>rh(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!nI(this.state.dataUpdatedAt,s)}onFocus(){var n;const s=this.observers.find(r=>r.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(n=Z(this,yt))==null||n.continue()}onOnline(){var n;const s=this.observers.find(r=>r.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(n=Z(this,yt))==null||n.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),Z(this,fs).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(Z(this,yt)&&(Z(this,zr)?Z(this,yt).cancel({revert:!0}):Z(this,yt).cancelRetry()),this.scheduleGc()),Z(this,fs).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Ms,yn).call(this,{type:"invalidate"})}async fetch(s,n){var d,u,f,m,x,h,w,j,S,y,p,v;if(this.state.fetchStatus!=="idle"&&((d=Z(this,yt))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Z(this,yt))return Z(this,yt).continueRetry(),Z(this,yt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const N=this.observers.find(P=>P.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(be(this,zr,!0),r.signal)})},i=()=>{const N=qN(this.options,n),I=(()=>{const g={client:Z(this,Br),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return be(this,zr,!1),this.options.persister?this.options.persister(N,I,this):N(I)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Z(this,Br),state:this.state,fetchFn:i};return a(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),be(this,Ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&At(this,Ms,yn).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),be(this,yt,HN({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof ih&&N.revert&&this.setState({...Z(this,Ba),fetchStatus:"idle"}),r.abort()},onFail:(N,P)=>{At(this,Ms,yn).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{At(this,Ms,yn).call(this,{type:"pause"})},onContinue:()=>{At(this,Ms,yn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await Z(this,yt).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(h=(x=Z(this,fs).config).onSuccess)==null||h.call(x,N,this),(j=(w=Z(this,fs).config).onSettled)==null||j.call(w,N,this.state.error,this),N}catch(N){if(N instanceof ih){if(N.silent)return Z(this,yt).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw At(this,Ms,yn).call(this,{type:"error",error:N}),(y=(S=Z(this,fs).config).onError)==null||y.call(S,N,this),(v=(p=Z(this,fs).config).onSettled)==null||v.call(p,this.state.data,N,this),N}finally{this.scheduleGc()}}},Ur=new WeakMap,Ba=new WeakMap,fs=new WeakMap,Br=new WeakMap,yt=new WeakMap,ko=new WeakMap,zr=new WeakMap,Ms=new WeakSet,yn=function(s){const n=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gI(r.data,this.options),fetchMeta:s.meta??null};case"success":const a={...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return be(this,Ba,s.manual?a:void 0),a;case"error":const i=s.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=n(this.state),Bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Z(this,fs).notify({query:this,type:"updated",action:s})})},ev);function gI(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YN(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vg(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,n=s!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function yg(t){return{onFetch:(s,n)=>{var f,m,x,h,w;const r=s.options,a=(x=(m=(f=s.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:x.direction,i=((h=s.state.data)==null?void 0:h.pages)||[],o=((w=s.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let j=!1;const S=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(s.signal.aborted?j=!0:s.signal.addEventListener("abort",()=>{j=!0}),s.signal)})},y=qN(s.options,s.fetchOptions),p=async(v,N,P)=>{if(j)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const g=(()=>{const _={client:s.client,queryKey:s.queryKey,pageParam:N,direction:P?"backward":"forward",meta:s.options.meta};return S(_),_})(),C=await y(g),{maxPages:E}=s.options,A=P?cI:lI;return{pages:A(v.pages,C,E),pageParams:A(v.pageParams,N,E)}};if(a&&i.length){const v=a==="backward",N=v?vI:jg,P={pages:i,pageParams:o},I=N(r,P);l=await p(P,I,v)}else{const v=t??i.length;do{const N=d===0?o[0]??r.initialPageParam:jg(r,l);if(d>0&&N==null)break;l=await p(l,N),d++}while(d<v)}return l};s.options.persister?s.fetchFn=()=>{var j,S;return(S=(j=s.options).persister)==null?void 0:S.call(j,u,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n)}:s.fetchFn=u}}}function jg(t,{pages:s,pageParams:n}){const r=s.length-1;return s.length>0?t.getNextPageParam(s[r],s,n[r],n):void 0}function vI(t,{pages:s,pageParams:n}){var r;return s.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,s[0],s,n[0],n):void 0}var Mo,Xs,$t,Vr,Zs,Gn,tv,yI=(tv=class extends WN{constructor(s){super();ke(this,Zs);ke(this,Mo);ke(this,Xs);ke(this,$t);ke(this,Vr);be(this,Mo,s.client),this.mutationId=s.mutationId,be(this,$t,s.mutationCache),be(this,Xs,[]),this.state=s.state||jI(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){Z(this,Xs).includes(s)||(Z(this,Xs).push(s),this.clearGcTimeout(),Z(this,$t).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){be(this,Xs,Z(this,Xs).filter(n=>n!==s)),this.scheduleGc(),Z(this,$t).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){Z(this,Xs).length||(this.state.status==="pending"?this.scheduleGc():Z(this,$t).remove(this))}continue(){var s;return((s=Z(this,Vr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var o,l,d,u,f,m,x,h,w,j,S,y,p,v,N,P,I,g,C,E;const n=()=>{At(this,Zs,Gn).call(this,{type:"continue"})},r={client:Z(this,Mo),meta:this.options.meta,mutationKey:this.options.mutationKey};be(this,Vr,HN({fn:()=>this.options.mutationFn?this.options.mutationFn(s,r):Promise.reject(new Error("No mutationFn found")),onFail:(A,_)=>{At(this,Zs,Gn).call(this,{type:"failed",failureCount:A,error:_})},onPause:()=>{At(this,Zs,Gn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,$t).canRun(this)}));const a=this.state.status==="pending",i=!Z(this,Vr).canStart();try{if(a)n();else{At(this,Zs,Gn).call(this,{type:"pending",variables:s,isPaused:i}),await((l=(o=Z(this,$t).config).onMutate)==null?void 0:l.call(o,s,this,r));const _=await((u=(d=this.options).onMutate)==null?void 0:u.call(d,s,r));_!==this.state.context&&At(this,Zs,Gn).call(this,{type:"pending",context:_,variables:s,isPaused:i})}const A=await Z(this,Vr).start();return await((m=(f=Z(this,$t).config).onSuccess)==null?void 0:m.call(f,A,s,this.state.context,this,r)),await((h=(x=this.options).onSuccess)==null?void 0:h.call(x,A,s,this.state.context,r)),await((j=(w=Z(this,$t).config).onSettled)==null?void 0:j.call(w,A,null,this.state.variables,this.state.context,this,r)),await((y=(S=this.options).onSettled)==null?void 0:y.call(S,A,null,s,this.state.context,r)),At(this,Zs,Gn).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(p=Z(this,$t).config).onError)==null?void 0:v.call(p,A,s,this.state.context,this,r)),await((P=(N=this.options).onError)==null?void 0:P.call(N,A,s,this.state.context,r)),await((g=(I=Z(this,$t).config).onSettled)==null?void 0:g.call(I,void 0,A,this.state.variables,this.state.context,this,r)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,A,s,this.state.context,r)),A}finally{At(this,Zs,Gn).call(this,{type:"error",error:A})}}finally{Z(this,$t).runNext(this)}}},Mo=new WeakMap,Xs=new WeakMap,$t=new WeakMap,Vr=new WeakMap,Zs=new WeakSet,Gn=function(s){const n=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Bt.batch(()=>{Z(this,Xs).forEach(r=>{r.onMutationUpdate(s)}),Z(this,$t).notify({mutation:this,type:"updated",action:s})})},tv);function jI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sn,Os,Oo,sv,NI=(sv=class extends vd{constructor(s={}){super();ke(this,Sn);ke(this,Os);ke(this,Oo);this.config=s,be(this,Sn,new Set),be(this,Os,new Map),be(this,Oo,0)}build(s,n,r){const a=new yI({client:s,mutationCache:this,mutationId:++il(this,Oo)._,options:s.defaultMutationOptions(n),state:r});return this.add(a),a}add(s){Z(this,Sn).add(s);const n=Al(s);if(typeof n=="string"){const r=Z(this,Os).get(n);r?r.push(s):Z(this,Os).set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(Z(this,Sn).delete(s)){const n=Al(s);if(typeof n=="string"){const r=Z(this,Os).get(n);if(r)if(r.length>1){const a=r.indexOf(s);a!==-1&&r.splice(a,1)}else r[0]===s&&Z(this,Os).delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=Al(s);if(typeof n=="string"){const r=Z(this,Os).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var r;const n=Al(s);if(typeof n=="string"){const a=(r=Z(this,Os).get(n))==null?void 0:r.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bt.batch(()=>{Z(this,Sn).forEach(s=>{this.notify({type:"removed",mutation:s})}),Z(this,Sn).clear(),Z(this,Os).clear()})}getAll(){return Array.from(Z(this,Sn))}find(s){const n={exact:!0,...s};return this.getAll().find(r=>fg(n,r))}findAll(s={}){return this.getAll().filter(n=>fg(s,n))}notify(s){Bt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return Bt.batch(()=>Promise.all(s.map(n=>n.continue().catch(ks))))}},Sn=new WeakMap,Os=new WeakMap,Oo=new WeakMap,sv);function Al(t){var s;return(s=t.options.scope)==null?void 0:s.id}var en,nv,SI=(nv=class extends vd{constructor(s={}){super();ke(this,en);this.config=s,be(this,en,new Map)}build(s,n,r){const a=n.queryKey,i=n.queryHash??qp(a,n);let o=this.get(i);return o||(o=new xI({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(n),state:r,defaultOptions:s.getQueryDefaults(a)}),this.add(o)),o}add(s){Z(this,en).has(s.queryHash)||(Z(this,en).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=Z(this,en).get(s.queryHash);n&&(s.destroy(),n===s&&Z(this,en).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Bt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return Z(this,en).get(s)}getAll(){return[...Z(this,en).values()]}find(s){const n={exact:!0,...s};return this.getAll().find(r=>pg(n,r))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(r=>pg(s,r)):n}notify(s){Bt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},en=new WeakMap,nv),it,er,tr,za,Va,sr,qa,Ga,rv,wI=(rv=class{constructor(t={}){ke(this,it);ke(this,er);ke(this,tr);ke(this,za);ke(this,Va);ke(this,sr);ke(this,qa);ke(this,Ga);be(this,it,t.queryCache||new SI),be(this,er,t.mutationCache||new NI),be(this,tr,t.defaultOptions||{}),be(this,za,new Map),be(this,Va,new Map),be(this,sr,0)}mount(){il(this,sr)._++,Z(this,sr)===1&&(be(this,qa,GN.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,it).onFocus())})),be(this,Ga,Ic.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,it).onOnline())})))}unmount(){var t,s;il(this,sr)._--,Z(this,sr)===0&&((t=Z(this,qa))==null||t.call(this),be(this,qa,void 0),(s=Z(this,Ga))==null||s.call(this),be(this,Ga,void 0))}isFetching(t){return Z(this,it).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Z(this,er).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const s=this.defaultQueryOptions({queryKey:t});return(n=Z(this,it).get(s.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=Z(this,it).build(this,s),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(rh(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(t){return Z(this,it).findAll(t).map(({queryKey:s,state:n})=>{const r=n.data;return[s,r]})}setQueryData(t,s,n){const r=this.defaultQueryOptions({queryKey:t}),a=Z(this,it).get(r.queryHash),i=a==null?void 0:a.state.data,o=tI(s,i);if(o!==void 0)return Z(this,it).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,s,n){return Bt.batch(()=>Z(this,it).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,s,n)]))}getQueryState(t){var n;const s=this.defaultQueryOptions({queryKey:t});return(n=Z(this,it).get(s.queryHash))==null?void 0:n.state}removeQueries(t){const s=Z(this,it);Bt.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=Z(this,it);return Bt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},r=Bt.batch(()=>Z(this,it).findAll(t).map(a=>a.cancel(n)));return Promise.all(r).then(ks).catch(ks)}invalidateQueries(t,s={}){return Bt.batch(()=>(Z(this,it).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},r=Bt.batch(()=>Z(this,it).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(ks)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ks)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=Z(this,it).build(this,s);return n.isStaleByTime(rh(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ks).catch(ks)}fetchInfiniteQuery(t){return t.behavior=yg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ks).catch(ks)}ensureInfiniteQueryData(t){return t.behavior=yg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ic.isOnline()?Z(this,er).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,it)}getMutationCache(){return Z(this,er)}getDefaultOptions(){return Z(this,tr)}setDefaultOptions(t){be(this,tr,t)}setQueryDefaults(t,s){Z(this,za).set(yo(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...Z(this,za).values()],n={};return s.forEach(r=>{jo(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,s){Z(this,Va).set(yo(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...Z(this,Va).values()],n={};return s.forEach(r=>{jo(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...Z(this,tr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=qp(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Gp&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Z(this,tr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Z(this,it).clear(),Z(this,er).clear()}},it=new WeakMap,er=new WeakMap,tr=new WeakMap,za=new WeakMap,Va=new WeakMap,sr=new WeakMap,qa=new WeakMap,Ga=new WeakMap,rv),bI=c.createContext(void 0),CI=({client:t,children:s})=>(c.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(bI.Provider,{value:t,children:s}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(this,arguments)}var ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ar||(ar={}));const Ng="popstate";function PI(t){t===void 0&&(t={});function s(r,a){let{pathname:i,search:o,hash:l}=r.location;return oh("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Tc(a)}return AI(s,n,null,t)}function rt(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function KN(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function EI(){return Math.random().toString(36).substr(2,8)}function Sg(t,s){return{usr:t.state,key:t.key,idx:s}}function oh(t,s,n,r){return n===void 0&&(n=null),No({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?fi(s):s,{state:n,key:s&&s.key||r||EI()})}function Tc(t){let{pathname:s="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function fi(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function AI(t,s,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=ar.Pop,d=null,u=f();u==null&&(u=0,o.replaceState(No({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=ar.Pop;let S=f(),y=S==null?null:S-u;u=S,d&&d({action:l,location:j.location,delta:y})}function x(S,y){l=ar.Push;let p=oh(j.location,S,y);u=f()+1;let v=Sg(p,u),N=j.createHref(p);try{o.pushState(v,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(N)}i&&d&&d({action:l,location:j.location,delta:1})}function h(S,y){l=ar.Replace;let p=oh(j.location,S,y);u=f();let v=Sg(p,u),N=j.createHref(p);o.replaceState(v,"",N),i&&d&&d({action:l,location:j.location,delta:0})}function w(S){let y=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof S=="string"?S:Tc(S);return p=p.replace(/ $/,"%20"),rt(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let j={get action(){return l},get location(){return t(a,o)},listen(S){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Ng,m),d=S,()=>{a.removeEventListener(Ng,m),d=null}},createHref(S){return s(a,S)},createURL:w,encodeLocation(S){let y=w(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:h,go(S){return o.go(S)}};return j}var wg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wg||(wg={}));function RI(t,s,n){return n===void 0&&(n="/"),II(t,s,n)}function II(t,s,n,r){let a=typeof s=="string"?fi(s):s,i=si(a.pathname||"/",n);if(i==null)return null;let o=JN(t);TI(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=zI(i);l=UI(o[d],u)}return l}function JN(t,s,n,r){s===void 0&&(s=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(rt(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let u=pr([r,d.relativePath]),f=n.concat(d);i.children&&i.children.length>0&&(rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JN(i.children,s,f,u)),!(i.path==null&&!i.index)&&s.push({path:u,score:LI(u,i.index),routesMeta:f})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let d of QN(i.path))a(i,o,d)}),s}function QN(t){let s=t.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=QN(r.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&l.push(...o),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function TI(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:$I(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _I=/^:[\w-]+$/,kI=3,MI=2,OI=1,FI=10,DI=-2,bg=t=>t==="*";function LI(t,s){let n=t.split("/"),r=n.length;return n.some(bg)&&(r+=DI),s&&(r+=MI),n.filter(a=>!bg(a)).reduce((a,i)=>a+(_I.test(i)?kI:i===""?OI:FI),r)}function $I(t,s){return t.length===s.length&&t.slice(0,-1).every((r,a)=>r===s[a])?t[t.length-1]-s[s.length-1]:0}function UI(t,s,n){let{routesMeta:r}=t,a={},i="/",o=[];for(let l=0;l<r.length;++l){let d=r[l],u=l===r.length-1,f=i==="/"?s:s.slice(i.length)||"/",m=lh({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},f),x=d.route;if(!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:pr([i,m.pathname]),pathnameBase:YI(pr([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=pr([i,m.pathnameBase]))}return o}function lh(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BI(t.path,t.caseSensitive,t.end),a=s.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,f,m)=>{let{paramName:x,isOptional:h}=f;if(x==="*"){let j=l[m]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const w=l[m];return h&&!w?u[x]=void 0:u[x]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function BI(t,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),KN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(r.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function zI(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return KN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function si(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VI(t,s){s===void 0&&(s="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?fi(t):t;return{pathname:n?n.startsWith("/")?n:qI(n,s):s,search:HI(r),hash:WI(a)}}function qI(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Uu(t,s,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GI(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Yp(t,s){let n=GI(t);return s?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hp(t,s,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=fi(t):(a=No({},t),rt(!a.pathname||!a.pathname.includes("?"),Uu("?","pathname","search",a)),rt(!a.pathname||!a.pathname.includes("#"),Uu("#","pathname","hash",a)),rt(!a.search||!a.search.includes("#"),Uu("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let m=s.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;a.pathname=x.join("/")}l=m>=0?s[m]:"/"}let d=VI(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||f)&&(d.pathname+="/"),d}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),YI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XN=["post","put","patch","delete"];new Set(XN);const JI=["get",...XN];new Set(JI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function So(){return So=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},So.apply(this,arguments)}const jd=c.createContext(null),ZN=c.createContext(null),Fn=c.createContext(null),Nd=c.createContext(null),xn=c.createContext({outlet:null,matches:[],isDataRoute:!1}),e0=c.createContext(null);function QI(t,s){let{relative:n}=s===void 0?{}:s;xi()||rt(!1);let{basename:r,navigator:a}=c.useContext(Fn),{hash:i,pathname:o,search:l}=Sd(t,{relative:n}),d=o;return r!=="/"&&(d=o==="/"?r:pr([r,o])),a.createHref({pathname:d,search:l,hash:i})}function xi(){return c.useContext(Nd)!=null}function Hs(){return xi()||rt(!1),c.useContext(Nd).location}function t0(t){c.useContext(Fn).static||c.useLayoutEffect(t)}function Dt(){let{isDataRoute:t}=c.useContext(xn);return t?mT():XI()}function XI(){xi()||rt(!1);let t=c.useContext(jd),{basename:s,future:n,navigator:r}=c.useContext(Fn),{matches:a}=c.useContext(xn),{pathname:i}=Hs(),o=JSON.stringify(Yp(a,n.v7_relativeSplatPath)),l=c.useRef(!1);return t0(()=>{l.current=!0}),c.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let m=Hp(u,JSON.parse(o),i,f.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:pr([s,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[s,r,o,i,t])}const ZI=c.createContext(null);function eT(t){let s=c.useContext(xn).outlet;return s&&c.createElement(ZI.Provider,{value:t},s)}function Wp(){let{matches:t}=c.useContext(xn),s=t[t.length-1];return s?s.params:{}}function Sd(t,s){let{relative:n}=s===void 0?{}:s,{future:r}=c.useContext(Fn),{matches:a}=c.useContext(xn),{pathname:i}=Hs(),o=JSON.stringify(Yp(a,r.v7_relativeSplatPath));return c.useMemo(()=>Hp(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function tT(t,s){return sT(t,s)}function sT(t,s,n,r){xi()||rt(!1);let{navigator:a}=c.useContext(Fn),{matches:i}=c.useContext(xn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=Hs(),f;if(s){var m;let S=typeof s=="string"?fi(s):s;d==="/"||(m=S.pathname)!=null&&m.startsWith(d)||rt(!1),f=S}else f=u;let x=f.pathname||"/",h=x;if(d!=="/"){let S=d.replace(/^\//,"").split("/");h="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=RI(t,{pathname:h}),j=oT(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:pr([d,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:pr([d,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return s&&j?c.createElement(Nd.Provider,{value:{location:So({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ar.Pop}},j):j}function nT(){let t=uT(),s=KI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},s),n?c.createElement("pre",{style:a},n):null,null)}const rT=c.createElement(nT,null);class aT extends c.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?c.createElement(xn.Provider,{value:this.props.routeContext},c.createElement(e0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iT(t){let{routeContext:s,match:n,children:r}=t,a=c.useContext(jd);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(xn.Provider,{value:s},r)}function oT(t,s,n,r){var a;if(s===void 0&&(s=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(a=n)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||rt(!1),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:x,errors:h}=n,w=m.route.loader&&x[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||w){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,x)=>{let h,w=!1,j=null,S=null;n&&(h=l&&m.route.id?l[m.route.id]:void 0,j=m.route.errorElement||rT,d&&(u<0&&x===0?(hT("route-fallback"),w=!0,S=null):u===x&&(w=!0,S=m.route.hydrateFallbackElement||null)));let y=s.concat(o.slice(0,x+1)),p=()=>{let v;return h?v=j:w?v=S:m.route.Component?v=c.createElement(m.route.Component,null):m.route.element?v=m.route.element:v=f,c.createElement(iT,{match:m,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:v})};return n&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?c.createElement(aT,{location:n.location,revalidation:n.revalidation,component:j,error:h,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var s0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s0||{}),n0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(n0||{});function lT(t){let s=c.useContext(jd);return s||rt(!1),s}function cT(t){let s=c.useContext(ZN);return s||rt(!1),s}function dT(t){let s=c.useContext(xn);return s||rt(!1),s}function r0(t){let s=dT(),n=s.matches[s.matches.length-1];return n.route.id||rt(!1),n.route.id}function uT(){var t;let s=c.useContext(e0),n=cT(),r=r0();return s!==void 0?s:(t=n.errors)==null?void 0:t[r]}function mT(){let{router:t}=lT(s0.UseNavigateStable),s=r0(n0.UseNavigateStable),n=c.useRef(!1);return t0(()=>{n.current=!0}),c.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,So({fromRouteId:s},i)))},[t,s])}const Cg={};function hT(t,s,n){Cg[t]||(Cg[t]=!0)}function pT(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function an(t){let{to:s,replace:n,state:r,relative:a}=t;xi()||rt(!1);let{future:i,static:o}=c.useContext(Fn),{matches:l}=c.useContext(xn),{pathname:d}=Hs(),u=Dt(),f=Hp(s,Yp(l,i.v7_relativeSplatPath),d,a==="path"),m=JSON.stringify(f);return c.useEffect(()=>u(JSON.parse(m),{replace:n,state:r,relative:a}),[u,m,a,n,r]),null}function Kp(t){return eT(t.context)}function Re(t){rt(!1)}function fT(t){let{basename:s="/",children:n=null,location:r,navigationType:a=ar.Pop,navigator:i,static:o=!1,future:l}=t;xi()&&rt(!1);let d=s.replace(/^\/*/,"/"),u=c.useMemo(()=>({basename:d,navigator:i,static:o,future:So({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof r=="string"&&(r=fi(r));let{pathname:f="/",search:m="",hash:x="",state:h=null,key:w="default"}=r,j=c.useMemo(()=>{let S=si(f,d);return S==null?null:{location:{pathname:S,search:m,hash:x,state:h,key:w},navigationType:a}},[d,f,m,x,h,w,a]);return j==null?null:c.createElement(Fn.Provider,{value:u},c.createElement(Nd.Provider,{children:n,value:j}))}function xT(t){let{children:s,location:n}=t;return tT(ch(s),n)}new Promise(()=>{});function ch(t,s){s===void 0&&(s=[]);let n=[];return c.Children.forEach(t,(r,a)=>{if(!c.isValidElement(r))return;let i=[...s,a];if(r.type===c.Fragment){n.push.apply(n,ch(r.props.children,i));return}r.type!==Re&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ch(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}function a0(t,s){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&(n[a]=t[a]);return n}function gT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vT(t,s){return t.button===0&&(!s||s==="_self")&&!gT(t)}const yT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],NT="6";try{window.__reactRouterVersion=NT}catch{}const ST=c.createContext({isTransitioning:!1}),wT="startTransition",Pg=Eh[wT];function bT(t){let{basename:s,children:n,future:r,window:a}=t,i=c.useRef();i.current==null&&(i.current=PI({window:a,v5Compat:!0}));let o=i.current,[l,d]=c.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=c.useCallback(m=>{u&&Pg?Pg(()=>d(m)):d(m)},[d,u]);return c.useLayoutEffect(()=>o.listen(f),[o,f]),c.useEffect(()=>pT(r),[r]),c.createElement(fT,{basename:s,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const CT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ts=c.forwardRef(function(s,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:f,viewTransition:m}=s,x=a0(s,yT),{basename:h}=c.useContext(Fn),w,j=!1;if(typeof u=="string"&&PT.test(u)&&(w=u,CT))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),P=si(N.pathname,h);N.origin===v.origin&&P!=null?u=P+N.search+N.hash:j=!0}catch{}let S=QI(u,{relative:a}),y=AT(u,{replace:o,state:l,target:d,preventScrollReset:f,relative:a,viewTransition:m});function p(v){r&&r(v),v.defaultPrevented||y(v)}return c.createElement("a",_c({},x,{href:w||S,onClick:j||i?r:p,ref:n,target:d}))}),Jp=c.forwardRef(function(s,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:u,children:f}=s,m=a0(s,jT),x=Sd(d,{relative:m.relative}),h=Hs(),w=c.useContext(ZN),{navigator:j,basename:S}=c.useContext(Fn),y=w!=null&&RT(x)&&u===!0,p=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,v=h.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(v=v.toLowerCase(),N=N?N.toLowerCase():null,p=p.toLowerCase()),N&&S&&(N=si(N,S)||N);const P=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let I=v===p||!o&&v.startsWith(p)&&v.charAt(P)==="/",g=N!=null&&(N===p||!o&&N.startsWith(p)&&N.charAt(p.length)==="/"),C={isActive:I,isPending:g,isTransitioning:y},E=I?r:void 0,A;typeof i=="function"?A=i(C):A=[i,I?"active":null,g?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(C):l;return c.createElement(ts,_c({},m,{"aria-current":E,className:A,ref:n,style:_,to:d,viewTransition:u}),typeof f=="function"?f(C):f)});var dh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dh||(dh={}));var Eg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Eg||(Eg={}));function ET(t){let s=c.useContext(jd);return s||rt(!1),s}function AT(t,s){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=s===void 0?{}:s,d=Dt(),u=Hs(),f=Sd(t,{relative:o});return c.useCallback(m=>{if(vT(m,n)){m.preventDefault();let x=r!==void 0?r:Tc(u)===Tc(f);d(t,{replace:x,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,d,f,r,a,n,t,i,o,l])}function RT(t,s){s===void 0&&(s={});let n=c.useContext(ST);n==null&&rt(!1);let{basename:r}=ET(dh.useViewTransitionState),a=Sd(t,{relative:s.relative});if(!n.isTransitioning)return!1;let i=si(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lh(a.pathname,o)!=null||lh(a.pathname,i)!=null}const IT="http://localhost:8000/api/v1";class TT{constructor(s=IT){al(this,"baseURL");this.baseURL=s}async request(s,n={}){const r=`${this.baseURL}${s}`,a={};n.body instanceof FormData||(a["Content-Type"]="application/json");const i=localStorage.getItem("authToken");i?(a.Authorization=`Bearer ${i}`,console.log("Adding auth token to request:",i.substring(0,50)+"...")):console.log("No auth token found in localStorage");const o={...n,headers:{...a,...n.headers}};try{const l=await fetch(r,o),d=await l.json();if(!l.ok){const u=d&&(d.detail||d.message||d.error);throw new Error(u||`HTTP error! status: ${l.status}`)}return{data:d,status:l.status}}catch(l){throw console.error("API request failed:",l),l}}async adminLogin(s,n){return this.request("/auth/admin/login",{method:"POST",body:JSON.stringify({email:s,password:n})})}async studentLogin(s,n){return this.request("/auth/students/login",{method:"POST",body:JSON.stringify({email:s,password:n})})}async instituteLogin(s,n){return this.request("/auth/institutes/login",{method:"POST",body:JSON.stringify({email:s,password:n})})}async sendOTP(s,n,r="login"){return this.request("/otp/send",{method:"POST",body:JSON.stringify({email:s,type:n,purpose:r})})}async sendStudentOTP(s,n="Student",r="registration"){return this.request("/otp/send/student",{method:"POST",body:JSON.stringify({email:s,name:n,purpose:r})})}async sendInstitutionOTP(s,n="Institution",r="registration"){return this.request("/otp/send/institution",{method:"POST",body:JSON.stringify({email:s,name:n,purpose:r})})}async verifyOTP(s,n){return this.request("/otp/verify",{method:"POST",body:JSON.stringify({otp_id:s,code:n})})}async verifyOTPWithEmail(s,n){return this.request("/otp/verify",{method:"POST",body:JSON.stringify({email:s,code:n})})}async sendEmailVerification(s,n){return this.request("/email-verification/send",{method:"POST",body:JSON.stringify({email:s,email_type:n})})}async verifyEmailVerification(s,n,r){return this.request("/email-verification/verify",{method:"POST",body:JSON.stringify({email:s,otp_code:n,email_type:r})})}async logout(){return this.request("/auth/logout",{method:"POST"})}async getStudents(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/students${n}`)}async getStudent(s){return this.request(`/students/${s}`)}async createStudent(s){return this.request("/students",{method:"POST",body:JSON.stringify(s)})}async createInstitutionStudent(s){return this.request("/students/institution/students",{method:"POST",body:JSON.stringify(s)})}async updateStudent(s,n){return this.request(`/students/${s}`,{method:"PUT",body:JSON.stringify(n)})}async updateInstitutionStudent(s,n){return this.request(`/students/institution/students/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteStudent(s){return this.request(`/students/${s}`,{method:"DELETE"})}async getStudentMedicalInfo(s){return this.request(`/students/${s}/medical-info`)}async updateStudentMedicalInfo(s,n){return this.request(`/students/${s}/medical-info`,{method:"PUT",body:JSON.stringify(n)})}async getStudentHealthInfo(s){return this.request(`/students/${s}/health-info`)}async updateStudentHealthInfo(s,n){return this.request(`/students/${s}/health-info`,{method:"PUT",body:JSON.stringify(n)})}async getParentInfo(s){return this.request(`/students/${s}/parents`)}async updateParentInfo(s,n){return this.request(`/students/${s}/parents`,{method:"PUT",body:JSON.stringify(n)})}async getInstitutes(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/institutes${n}`)}async getInstitute(s){return this.request(`/institutes/${s}`)}async createInstitute(s){return this.request("/institutes",{method:"POST",body:JSON.stringify(s)})}async updateInstitute(s,n){return this.request(`/institutes/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteInstitute(s){return this.request(`/institutes/${s}`,{method:"DELETE"})}async getContactPersons(s){return this.request(`/institutes/${s}/contact-persons`)}async updateContactPerson(s,n){return this.request(`/institutes/${s}/contact-persons`,{method:"PUT",body:JSON.stringify(n)})}async getInstituteInformation(s){return this.request(`/institutes/${s}/information`)}async updateInstituteInformation(s,n){return this.request(`/institutes/${s}/information`,{method:"PUT",body:JSON.stringify(n)})}async getSports(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/sports${n}`)}async getSport(s){return this.request(`/sports/${s}`)}async createSport(s){return this.request("/sports",{method:"POST",body:JSON.stringify(s)})}async updateSport(s,n){return this.request(`/sports/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSport(s){return this.request(`/sports/${s}`,{method:"DELETE"})}async getSportCategories(s){return this.request(`/sports/${s}/categories`)}async getCategories(){return this.request("/categories")}async createCategory(s){return this.request("/categories",{method:"POST",body:JSON.stringify(s)})}async updateCategory(s,n){return this.request(`/categories/${s}`,{method:"PUT",body:JSON.stringify(n)})}async getSubCategories(s){return this.request(`/categories/${s}/subcategories`)}async createSubCategory(s){return this.request("/subcategories",{method:"POST",body:JSON.stringify(s)})}async updateSubCategory(s,n){return this.request(`/subcategories/${s}`,{method:"PUT",body:JSON.stringify(n)})}async createSportAssignment(s){return this.request("/sport-assignments",{method:"POST",body:JSON.stringify(s)})}async getSportAssignments(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/sport-assignments${n}`)}async updateSportAssignment(s,n){return this.request(`/sport-assignments/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSportAssignment(s){return this.request(`/sport-assignments/${s}`,{method:"DELETE"})}async getStudentSportAssignments(s){return this.request(`/students/${s}/sport-assignments`)}async getInstituteSportAssignments(s){return this.request(`/institutes/${s}/sport-assignments`)}async createPayment(s){return this.request("/payments",{method:"POST",body:JSON.stringify(s)})}async getPayments(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/payments${n}`)}async createSponsorship(s){return this.request("/sponsorships",{method:"POST",body:JSON.stringify(s)})}async getSponsorships(s){const n=s?`?${new URLSearchParams(s)}`:"";return this.request(`/sponsorships${n}`)}async getDashboardStats(){return this.request("/dashboard/stats")}async healthCheck(){return this.request("/healthz")}async getAdminDashboardStats(){return this.request("/admin/dashboard/stats")}async getAdminInstitutions(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.institution_type&&n.append("institution_type",s.institution_type),s!=null&&s.payment_status&&n.append("payment_status",s.payment_status),(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString();return this.request(`/admin/institutions${r?`?${r}`:""}`)}async getAdminInstitutionTypes(){return this.request("/admin/institution-types")}async getInstitutionDetails(s){return this.request(`/admin/institutions/${s}`)}async getAdminStudents(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.institution_type&&n.append("institution_type",s.institution_type),s!=null&&s.payment_status&&n.append("payment_status",s.payment_status),(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString();return this.request(`/admin/students${r?`?${r}`:""}`)}async getAdminPayments(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.status&&n.append("status",s.status),s!=null&&s.dateFrom&&n.append("date_from",s.dateFrom),s!=null&&s.dateTo&&n.append("date_to",s.dateTo);const r=n.toString();return this.request(`/admin/payments${r?`?${r}`:""}`)}async getAdminInvoices(s){const n=new URLSearchParams;s!=null&&s.search&&n.append("search",s.search),s!=null&&s.status&&n.append("status",s.status),s!=null&&s.institution&&n.append("institution",s.institution);const r=n.toString();return this.request(`/admin/invoices${r?`?${r}`:""}`)}async getAdminSports(s){console.log(" getAdminSports called with params:",s);const n=new URLSearchParams;(s==null?void 0:s.skip)!==void 0&&n.append("skip",s.skip.toString()),(s==null?void 0:s.limit)!==void 0&&n.append("limit",s.limit.toString());const r=n.toString(),a=await this.request(`/admin/sports${r?`?${r}`:""}`);return console.log(" getAdminSports result:",a),a}async addSubCategory(s,n){return this.request(`/sports/${s}/subcategories`,{method:"POST",body:JSON.stringify(n)})}async deleteSubCategory(s){return this.request(`/subcategories/${s}`,{method:"DELETE"})}async getAdminSponsorships(){return this.request("/admin/sponsorships")}async registerStudent(s){return this.request("/students/register",{method:"POST",body:JSON.stringify(s)})}async getStudentByUserId(s){return this.request(`/students/user/${s}`)}async addStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"POST",body:JSON.stringify({selectedSports:n})})}async updateStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"PUT",body:JSON.stringify({selectedSports:n})})}async removeStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"DELETE",body:JSON.stringify({sportIds:n})})}async getStudentSports(s){return this.request(`/students/${s}/sports`)}async removeStudentFromSport(s,n){return this.request(`/students/${s}/sports/${n}`,{method:"DELETE"})}async removeStudentFromCategory(s,n){return this.request(`/students/${s}/categories/${n}`,{method:"DELETE"})}async getStudentsBySport(s){return this.request(`/sports/${s}/students`)}async getInstitutionSports(){return this.request("/sports/institution/sports")}async getInstitutionStudents(){return this.request("/students/institution/students")}async addSportCategory(s,n){return this.request(`/sports/${s}/categories`,{method:"POST",body:JSON.stringify(n)})}async addSportSubCategory(s,n){return this.request(`/categories/${s}/subcategories`,{method:"POST",body:JSON.stringify(n)})}async deleteSportCategory(s){return this.request(`/categories/${s}`,{method:"DELETE"})}async deleteSportSubCategory(s){return this.request(`/subcategories/${s}`,{method:"DELETE"})}async assignStudentsToSport(s,n){return this.request(`/sports/${s}/assign-students`,{method:"POST",body:JSON.stringify(n)})}async getSponsors(){return this.request("/sponsors")}async createSponsor(s){return this.request("/sponsors",{method:"POST",body:JSON.stringify(s)})}async updateSponsor(s,n){return this.request(`/sponsors/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteSponsor(s){return this.request(`/sponsors/${s}`,{method:"DELETE"})}async getInstituteSponsorships(s){const n=s?`?institute_id=${s}`:"";return this.request(`/sponsorships${n}`)}async createInstituteSponsorship(s){return this.request("/sponsorships",{method:"POST",body:JSON.stringify(s)})}async updateInstituteSponsorship(s,n){return this.request(`/sponsorships/${s}`,{method:"PUT",body:JSON.stringify(n)})}async getSponsorAlignments(){return this.request("/sponsor-alignments")}async createSponsorAlignment(s){return this.request("/sponsor-alignments",{method:"POST",body:JSON.stringify(s)})}async getFees(s){const n=s?`?sport_id=${s}`:"";return this.request(`/fees${n}`)}async createFee(s){return this.request("/fees",{method:"POST",body:JSON.stringify(s)})}async updateFee(s,n){return this.request(`/fees/${s}`,{method:"PUT",body:JSON.stringify(n)})}async getSportInfo(s){const n=s?`?sport_id=${s}`:"";return this.request(`/sport-info${n}`)}async createSportInfo(s){return this.request("/sport-info",{method:"POST",body:JSON.stringify(s)})}async updateSportInfo(s,n){return this.request(`/sport-info/${s}`,{method:"PUT",body:JSON.stringify(n)})}async assignStudentSports(s,n){return this.request(`/students/${s}/sports`,{method:"POST",body:JSON.stringify(n)})}async saveStudentRegistrationProgress(s){return this.request("/registration/student/progress",{method:"POST",body:JSON.stringify(s)})}async getStudentRegistrationProgress(s){return this.request(`/registration/student/progress/${s}`,{method:"GET"})}async deleteStudentRegistrationProgress(s){return this.request(`/registration/student/progress/${s}`,{method:"DELETE"})}async saveInstitutionRegistrationProgress(s){return this.request("/registration/institution/progress",{method:"POST",body:JSON.stringify(s)})}async getInstitutionRegistrationProgress(s){return this.request(`/registration/institution/progress/${s}`,{method:"GET"})}async deleteInstitutionRegistrationProgress(s){return this.request(`/registration/institution/progress/${s}`,{method:"DELETE"})}async savePersonalDetails(s){return this.request("/students/personal-details",{method:"POST",body:JSON.stringify(s)})}async saveDocuments(s){return this.request("/students/documents",{method:"POST",body:JSON.stringify(s)})}async saveParentMedical(s){return this.request("/students/parent-medical",{method:"POST",body:JSON.stringify(s)})}async saveSportsSelection(s){return this.request("/students/sports-selection",{method:"POST",body:JSON.stringify(s)})}async saveSportAssignments(s){return this.request("/sports/sport-assignments",{method:"POST",body:JSON.stringify(s)})}async completeRegistration(s){return this.request("/students/complete-registration",{method:"POST",body:JSON.stringify(s)})}async createPaymentRequest(s){return this.request("/students/payment-request",{method:"POST",body:JSON.stringify(s)})}async getInstituteTypes(){return this.request("/public/institute-types")}async getInstitutesPublic(s){const n=s?`?institute_type=${s}`:"";return this.request(`/public/institutes${n}`)}async getSportsPublic(s){const n=s?`?sport_type=${s}`:"";return this.request(`/public/sports${n}`)}async getSportCategoriesPublic(s){return this.request(`/public/sports/${s}/categories`)}async getSubCategoriesPublic(s,n){return this.request(`/public/sports/${s}/categories/${n}/sub-categories`)}async uploadDocuments(s,n,r){const a=new FormData;return a.append("email",s),n&&a.append("student_id_image",n),r&&a.append("age_proof_document",r),this.request("/documents/upload-documents",{method:"POST",body:a})}async calculateTotalFees(s){return this.request("/fee-calculation/calculate-total-fees",{method:"POST",body:JSON.stringify(s)})}async getStudentDocuments(s){return this.request(`/documents/${s}`)}async downloadDocument(s,n){return this.request(`/documents/${s}/download/${n}`,{method:"GET"})}async getFeeRules(s,n){const r=new URLSearchParams;return s&&r.append("sport_id",s.toString()),n!==void 0&&r.append("discipline_count",n.toString()),this.request(`/fees/fee-rules?${r.toString()}`)}async getFeeRulesBySport(s){return this.request(`/fees/fee-rules/sport/${s}`)}async createFeeRule(s,n,r){return this.request("/fees/fee-rules",{method:"POST",body:JSON.stringify({sportId:s,disciplineCount:n,fee:r})})}async updateFeeRule(s,n){return this.request(`/fees/fee-rules/${s}`,{method:"PUT",body:JSON.stringify({fee:n})})}async deleteFeeRule(s){return this.request(`/fees/fee-rules/${s}`,{method:"DELETE"})}async calculateFee(s,n){return this.request(`/fees/calculate-fee?sport_id=${s}&discipline_count=${n}`)}async getParentPasses(s,n){const r=new URLSearchParams;return s!==void 0&&r.append("category",s.toString()),n&&r.append("pass_type",n),this.request(`/parent-passes?${r.toString()}`)}async getParentPassesByCategory(s){return this.request(`/parent-passes/category/${s}`)}async getCurrentPricing(s){return this.request(`/parent-passes/current-pricing?category=${s}`)}async createParentPass(s,n,r,a){return this.request("/parent-passes",{method:"POST",body:JSON.stringify({category:s,amount:n,passType:r,passDate:a})})}async updateParentPass(s,n){return this.request(`/parent-passes/${s}`,{method:"PUT",body:JSON.stringify(n)})}async deleteParentPass(s){return this.request(`/parent-passes/${s}`,{method:"DELETE"})}async getPricingSummary(){return this.request("/parent-passes/pricing-summary")}async getGenderOptions(){return this.request("/public/gender-options")}async clearOTPForEmail(s){return this.request("/otp/clear",{method:"POST",body:JSON.stringify({email:s})})}async clearAllOTPs(){return this.request("/otp/clear-all",{method:"POST"})}async validateRegistrationEmail(s){return this.request("/checkpoint/validate-email",{method:"POST",body:JSON.stringify({email:s})})}async saveRegistrationCheckpoint(s,n,r){return this.request("/checkpoint/save",{method:"POST",body:JSON.stringify({email:s,step:n,data:r})})}async loadRegistrationCheckpoint(s){return this.request(`/checkpoint/load/${s}`)}async clearRegistrationCheckpoint(s){return this.request(`/checkpoint/clear/${s}`,{method:"DELETE"})}async getStudentDashboard(){return this.request("/students/dashboard")}async getStudentRegistrations(){return this.request("/students/dashboard")}async getStudentPaymentInfo(s){return this.request(`/students/public/${s}/payment-info`)}async getStudentProfile(){return this.request("/auth/me/student")}async processStudentPayment(s,n){return this.request(`/payments/institution/students/${s}/payment`,{method:"POST",body:JSON.stringify(n)})}async sendPaymentLinkToStudent(s,n){return this.request(`/payments/institution/students/${s}/send-payment-link`,{method:"POST",body:JSON.stringify(n)})}async getStudentPaymentStatus(s){return this.request(`/payments/institution/students/${s}/payment-status`)}async sendStudentLoginOTP(s){return this.request("/otp/send/student",{method:"POST",body:JSON.stringify(s)})}async getInstitutionProfile(){return this.request("/auth/me/institute")}async getStudentPrefillData(s){return this.request(`/students/prefill/${s}`)}async updateInstitutionProfile(s){return this.request("/institutes/profile",{method:"PUT",body:JSON.stringify(s)})}}const se=new TT,i0=c.createContext(void 0),Lt=()=>{const t=c.useContext(i0);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},_T=({children:t})=>{const[s,n]=c.useState(()=>{const x=localStorage.getItem("student");if(x)try{return JSON.parse(x)}catch(h){return console.error("Error parsing stored student on init:",h),localStorage.removeItem("student"),localStorage.removeItem("authToken"),localStorage.removeItem("adminSession"),localStorage.removeItem("institutionSession"),null}return null}),[r,a]=c.useState(()=>!!localStorage.getItem("student"));c.useEffect(()=>{const x=localStorage.getItem("student");if(x&&!s)try{const h=JSON.parse(x);n(h),a(!0)}catch(h){console.error("Error parsing stored student in useEffect:",h),localStorage.removeItem("student"),localStorage.removeItem("authToken"),localStorage.removeItem("adminSession"),localStorage.removeItem("institutionSession"),a(!1)}else!x&&s&&(n(null),a(!1))},[s]);const m={student:s,isAuthenticated:r,login:async(x,h)=>{var w,j;try{const S=await se.adminLogin(x,h);if(console.log("Admin login response:",S),console.log("Response data:",S.data),S.data&&typeof S.data=="object"){const p=S.data;if(console.log("Response data.data:",p.data),console.log("Access token:",(w=p.data)==null?void 0:w.access_token),p.success){if((j=p.data)!=null&&j.access_token)localStorage.setItem("authToken",p.data.access_token),console.log("Auth token stored successfully:",p.data.access_token.substring(0,50)+"...");else return console.error("No access token in admin response:",S),!1;const v={id:0,fname:"Admin",lname:"User",email:x,dob:"",gender:"Other",fullName:"Admin User",instituteName:"System Administration",student_id:"ADMIN",isEmailVerified:!0};return n(v),a(!0),localStorage.setItem("student",JSON.stringify(v)),localStorage.setItem("adminSession",JSON.stringify({email:x,role:"admin"})),!0}else return console.log("Admin login failed:",p.message),!1}const y=await se.studentLogin(x,h);if(y.data&&typeof y.data=="object"){const p=y.data,v={id:p.id||0,fname:p.fname||"",mname:p.mname||"",lname:p.lname||"",email:p.email||"",dob:p.dob||"",gender:p.gender||"Other",phone:p.phone||"",address:p.address||"",institute_id:p.institute_id||0,student_id:p.student_id||"",fullName:`${p.fname||""} ${p.mname||""} ${p.lname||""}`.trim(),dateOfBirth:p.dob||"",isEmailVerified:!0};return n(v),a(!0),localStorage.setItem("student",JSON.stringify(v)),!0}return!1}catch(S){return console.error("Login failed:",S),!1}},loginWithOTP:async x=>{var h,w;try{console.log("OTP login with user data:",x),x.access_token&&(localStorage.setItem("authToken",x.access_token),console.log("Auth token stored successfully:",x.access_token.substring(0,50)+"..."));const j={id:x.user_id||0,fname:((h=x.full_name)==null?void 0:h.split(" ")[0])||"User",lname:((w=x.full_name)==null?void 0:w.split(" ").slice(1).join(" "))||"",email:x.email||"",dob:"",gender:"Other",phone:"",address:"",institute_id:0,student_id:x.student_id||"",fullName:x.full_name||"User",instituteName:x.role==="institution"?"Institution":"Student",isEmailVerified:x.is_verified||!0};return n(j),a(!0),localStorage.setItem("student",JSON.stringify(j)),x.role==="institution"&&localStorage.setItem("institutionSession",JSON.stringify({email:x.email,role:"institution"})),console.log("OTP login successful for:",x.role),!0}catch(j){return console.error("OTP login failed:",j),!1}},register:async x=>{var h,w;try{const j={fname:x.fname||((h=x.fullName)==null?void 0:h.split(" ")[0])||"",mname:x.mname||"",lname:x.lname||((w=x.fullName)==null?void 0:w.split(" ").slice(1).join(" "))||"",email:x.email,dob:x.dob||x.dateOfBirth||"",gender:x.gender||"Other",phone:x.phone||"",address:x.address||"",student_id:x.student_id||"",institute_id:x.institute_id,password:x.password},S=await se.createStudent(j);return S.data&&typeof S.data=="object"&&S.data.success||!1}catch(j){return console.error("Registration failed:",j),!1}},logout:async()=>{try{await se.logout()}catch(x){console.error("Logout error:",x)}finally{n(null),a(!1),localStorage.removeItem("student"),localStorage.removeItem("authToken"),localStorage.removeItem("adminSession"),localStorage.removeItem("institutionSession")}},updateProfile:x=>{if(s){const h={...s,...x};n(h),localStorage.setItem("student",JSON.stringify(h))}},checkAuthStatus:()=>{const x=localStorage.getItem("student"),h=localStorage.getItem("authToken");if(!x||!h)return n(null),a(!1),!1;try{const w=JSON.parse(x);return!w||!w.email?(n(null),a(!1),!1):(n(w),a(!0),!0)}catch(w){return console.error("Error parsing stored student in checkAuthStatus:",w),n(null),a(!1),!1}}};return e.jsx(i0.Provider,{value:m,children:t})},Qp=ia("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=c.forwardRef(({className:t,variant:s,size:n,asChild:r=!1,...a},i)=>{const o=r?ci:"button";return e.jsx(o,{className:ae(Qp({variant:s,size:n,className:t})),ref:i,...a})});O.displayName="Button";const J=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));J.displayName="Card";const ie=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",t),...s}));ie.displayName="CardHeader";const oe=c.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...s}));oe.displayName="CardTitle";const _e=c.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",t),...s}));_e.displayName="CardDescription";const Q=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:ae("p-6 pt-0",t),...s}));Q.displayName="CardContent";const kT=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",t),...s}));kT.displayName="CardFooter";const D=c.forwardRef(({className:t,type:s,...n},r)=>e.jsx("input",{type:s,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));D.displayName="Input";var MT="Label",o0=c.forwardRef((t,s)=>e.jsx(Se.label,{...t,ref:s,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));o0.displayName=MT;var l0=o0;const OT=ia("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),R=c.forwardRef(({className:t,...s},n)=>e.jsx(l0,{ref:n,className:ae(OT(),t),...s}));R.displayName=l0.displayName;function uh(t,[s,n]){return Math.min(n,Math.max(s,t))}var FT=c.createContext(void 0);function gi(t){const s=c.useContext(FT);return t||s||"ltr"}var Bu=0;function Xp(){c.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ag()),document.body.insertAdjacentElement("beforeend",t[1]??Ag()),Bu++,()=>{Bu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Bu--}},[])}function Ag(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var zu="focusScope.autoFocusOnMount",Vu="focusScope.autoFocusOnUnmount",Rg={bubbles:!1,cancelable:!0},DT="FocusScope",wd=c.forwardRef((t,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,d]=c.useState(null),u=lt(a),f=lt(i),m=c.useRef(null),x=Ce(s,j=>d(j)),h=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let j=function(v){if(h.paused||!l)return;const N=v.target;l.contains(N)?m.current=N:Yn(m.current,{select:!0})},S=function(v){if(h.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||Yn(m.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const P of v)P.removedNodes.length>0&&Yn(l)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const p=new MutationObserver(y);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),p.disconnect()}}},[r,l,h.paused]),c.useEffect(()=>{if(l){Tg.add(h);const j=document.activeElement;if(!l.contains(j)){const y=new CustomEvent(zu,Rg);l.addEventListener(zu,u),l.dispatchEvent(y),y.defaultPrevented||(LT(VT(c0(l)),{select:!0}),document.activeElement===j&&Yn(l))}return()=>{l.removeEventListener(zu,u),setTimeout(()=>{const y=new CustomEvent(Vu,Rg);l.addEventListener(Vu,f),l.dispatchEvent(y),y.defaultPrevented||Yn(j??document.body,{select:!0}),l.removeEventListener(Vu,f),Tg.remove(h)},0)}}},[l,u,f,h]);const w=c.useCallback(j=>{if(!n&&!r||h.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,y=document.activeElement;if(S&&y){const p=j.currentTarget,[v,N]=$T(p);v&&N?!j.shiftKey&&y===N?(j.preventDefault(),n&&Yn(v,{select:!0})):j.shiftKey&&y===v&&(j.preventDefault(),n&&Yn(N,{select:!0})):y===p&&j.preventDefault()}},[n,r,h.paused]);return e.jsx(Se.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});wd.displayName=DT;function LT(t,{select:s=!1}={}){const n=document.activeElement;for(const r of t)if(Yn(r,{select:s}),document.activeElement!==n)return}function $T(t){const s=c0(t),n=Ig(s,t),r=Ig(s.reverse(),t);return[n,r]}function c0(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function Ig(t,s){for(const n of t)if(!UT(n,{upTo:s}))return n}function UT(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BT(t){return t instanceof HTMLInputElement&&"select"in t}function Yn(t,{select:s=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&BT(t)&&s&&t.select()}}var Tg=zT();function zT(){let t=[];return{add(s){const n=t[0];s!==n&&(n==null||n.pause()),t=_g(t,s),t.unshift(s)},remove(s){var n;t=_g(t,s),(n=t[0])==null||n.resume()}}}function _g(t,s){const n=[...t],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function VT(t){return t.filter(s=>s.tagName!=="A")}function Zp(t){const s=c.useRef({value:t,previous:t});return c.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var qT=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},ha=new WeakMap,Rl=new WeakMap,Il={},qu=0,d0=function(t){return t&&(t.host||d0(t.parentNode))},GT=function(t,s){return s.map(function(n){if(t.contains(n))return n;var r=d0(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},YT=function(t,s,n,r){var a=GT(s,Array.isArray(t)?t:[t]);Il[n]||(Il[n]=new WeakMap);var i=Il[n],o=[],l=new Set,d=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(x){if(l.has(x))f(x);else try{var h=x.getAttribute(r),w=h!==null&&h!=="false",j=(ha.get(x)||0)+1,S=(i.get(x)||0)+1;ha.set(x,j),i.set(x,S),o.push(x),j===1&&w&&Rl.set(x,!0),S===1&&x.setAttribute(n,"true"),w||x.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",x,y)}})};return f(s),l.clear(),qu++,function(){o.forEach(function(m){var x=ha.get(m)-1,h=i.get(m)-1;ha.set(m,x),i.set(m,h),x||(Rl.has(m)||m.removeAttribute(r),Rl.delete(m)),h||m.removeAttribute(n)}),qu--,qu||(ha=new WeakMap,ha=new WeakMap,Rl=new WeakMap,Il={})}},ef=function(t,s,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=qT(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),YT(r,a,n,"aria-hidden")):function(){return null}},nn=function(){return nn=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},nn.apply(this,arguments)};function u0(t,s){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function HT(t,s,n){if(n||arguments.length===2)for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return t.concat(i||Array.prototype.slice.call(s))}var Kl="right-scroll-bar-position",Jl="width-before-scroll-bar",WT="with-scroll-bars-hidden",KT="--removed-body-scroll-bar-size";function Gu(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function JT(t,s){var n=c.useState(function(){return{value:t,callback:s,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=s,n.facade}var QT=typeof window<"u"?c.useLayoutEffect:c.useEffect,kg=new WeakMap;function XT(t,s){var n=JT(null,function(r){return t.forEach(function(a){return Gu(a,r)})});return QT(function(){var r=kg.get(n);if(r){var a=new Set(r),i=new Set(t),o=n.current;a.forEach(function(l){i.has(l)||Gu(l,null)}),i.forEach(function(l){a.has(l)||Gu(l,o)})}kg.set(n,t)},[t]),n}function ZT(t){return t}function e4(t,s){s===void 0&&(s=ZT);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=s(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var d=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return a}function t4(t){t===void 0&&(t={});var s=e4(null);return s.options=nn({async:!0,ssr:!1},t),s}var m0=function(t){var s=t.sideCar,n=u0(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,nn({},n))};m0.isSideCarExport=!0;function s4(t,s){return t.useMedium(s),m0}var h0=t4(),Yu=function(){},bd=c.forwardRef(function(t,s){var n=c.useRef(null),r=c.useState({onScrollCapture:Yu,onWheelCapture:Yu,onTouchMoveCapture:Yu}),a=r[0],i=r[1],o=t.forwardProps,l=t.children,d=t.className,u=t.removeScrollBar,f=t.enabled,m=t.shards,x=t.sideCar,h=t.noRelative,w=t.noIsolation,j=t.inert,S=t.allowPinchZoom,y=t.as,p=y===void 0?"div":y,v=t.gapMode,N=u0(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,I=XT([n,s]),g=nn(nn({},N),a);return c.createElement(c.Fragment,null,f&&c.createElement(P,{sideCar:h0,removeScrollBar:u,shards:m,noRelative:h,noIsolation:w,inert:j,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:v}),o?c.cloneElement(c.Children.only(l),nn(nn({},g),{ref:I})):c.createElement(p,nn({},g,{className:d,ref:I}),l))});bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bd.classNames={fullWidth:Jl,zeroRight:Kl};var n4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function r4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=n4();return s&&t.setAttribute("nonce",s),t}function a4(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function i4(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var o4=function(){var t=0,s=null;return{add:function(n){t==0&&(s=r4())&&(a4(s,n),i4(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},l4=function(){var t=o4();return function(s,n){c.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&n])}},p0=function(){var t=l4(),s=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return s},c4={left:0,top:0,right:0,gap:0},Hu=function(t){return parseInt(t||"",10)||0},d4=function(t){var s=window.getComputedStyle(document.body),n=s[t==="padding"?"paddingLeft":"marginLeft"],r=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[Hu(n),Hu(r),Hu(a)]},u4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return c4;var s=d4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-n+s[2]-s[0])}},m4=p0(),Fa="data-scroll-locked",h4=function(t,s,n,r){var a=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(WT,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Fa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kl,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Jl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Kl," .").concat(Kl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jl," .").concat(Jl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Fa,`] {
    `).concat(KT,": ").concat(l,`px;
  }
`)},Mg=function(){var t=parseInt(document.body.getAttribute(Fa)||"0",10);return isFinite(t)?t:0},p4=function(){c.useEffect(function(){return document.body.setAttribute(Fa,(Mg()+1).toString()),function(){var t=Mg()-1;t<=0?document.body.removeAttribute(Fa):document.body.setAttribute(Fa,t.toString())}},[])},f4=function(t){var s=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;p4();var i=c.useMemo(function(){return u4(a)},[a]);return c.createElement(m4,{styles:h4(i,!s,a,n?"":"!important")})},mh=!1;if(typeof window<"u")try{var Tl=Object.defineProperty({},"passive",{get:function(){return mh=!0,!0}});window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{mh=!1}var pa=mh?{passive:!1}:!1,x4=function(t){return t.tagName==="TEXTAREA"},f0=function(t,s){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!x4(t)&&n[s]==="visible")},g4=function(t){return f0(t,"overflowY")},v4=function(t){return f0(t,"overflowX")},Og=function(t,s){var n=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=x0(t,r);if(a){var i=g0(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},y4=function(t){var s=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[s,n,r]},j4=function(t){var s=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[s,n,r]},x0=function(t,s){return t==="v"?g4(s):v4(s)},g0=function(t,s){return t==="v"?y4(s):j4(s)},N4=function(t,s){return t==="h"&&s==="rtl"?-1:1},S4=function(t,s,n,r,a){var i=N4(t,window.getComputedStyle(s).direction),o=i*r,l=n.target,d=s.contains(l),u=!1,f=o>0,m=0,x=0;do{if(!l)break;var h=g0(t,l),w=h[0],j=h[1],S=h[2],y=j-S-i*w;(w||y)&&x0(t,l)&&(m+=y,x+=w);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!d&&l!==document.body||d&&(s.contains(l)||s===l));return(f&&Math.abs(m)<1||!f&&Math.abs(x)<1)&&(u=!0),u},_l=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Fg=function(t){return[t.deltaX,t.deltaY]},Dg=function(t){return t&&"current"in t?t.current:t},w4=function(t,s){return t[0]===s[0]&&t[1]===s[1]},b4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},C4=0,fa=[];function P4(t){var s=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),a=c.useState(C4++)[0],i=c.useState(p0)[0],o=c.useRef(t);c.useEffect(function(){o.current=t},[t]),c.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var j=HT([t.lockRef.current],(t.shards||[]).map(Dg),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=c.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var y=_l(j),p=n.current,v="deltaX"in j?j.deltaX:p[0]-y[0],N="deltaY"in j?j.deltaY:p[1]-y[1],P,I=j.target,g=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in j&&g==="h"&&I.type==="range")return!1;var C=Og(g,I);if(!C)return!0;if(C?P=g:(P=g==="v"?"h":"v",C=Og(g,I)),!C)return!1;if(!r.current&&"changedTouches"in j&&(v||N)&&(r.current=P),!P)return!0;var E=r.current||P;return S4(E,S,j,E==="h"?v:N)},[]),d=c.useCallback(function(j){var S=j;if(!(!fa.length||fa[fa.length-1]!==i)){var y="deltaY"in S?Fg(S):_l(S),p=s.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&w4(P.delta,y)})[0];if(p&&p.should){S.cancelable&&S.preventDefault();return}if(!p){var v=(o.current.shards||[]).map(Dg).filter(Boolean).filter(function(P){return P.contains(S.target)}),N=v.length>0?l(S,v[0]):!o.current.noIsolation;N&&S.cancelable&&S.preventDefault()}}},[]),u=c.useCallback(function(j,S,y,p){var v={name:j,delta:S,target:y,should:p,shadowParent:E4(y)};s.current.push(v),setTimeout(function(){s.current=s.current.filter(function(N){return N!==v})},1)},[]),f=c.useCallback(function(j){n.current=_l(j),r.current=void 0},[]),m=c.useCallback(function(j){u(j.type,Fg(j),j.target,l(j,t.lockRef.current))},[]),x=c.useCallback(function(j){u(j.type,_l(j),j.target,l(j,t.lockRef.current))},[]);c.useEffect(function(){return fa.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",d,pa),document.addEventListener("touchmove",d,pa),document.addEventListener("touchstart",f,pa),function(){fa=fa.filter(function(j){return j!==i}),document.removeEventListener("wheel",d,pa),document.removeEventListener("touchmove",d,pa),document.removeEventListener("touchstart",f,pa)}},[]);var h=t.removeScrollBar,w=t.inert;return c.createElement(c.Fragment,null,w?c.createElement(i,{styles:b4(a)}):null,h?c.createElement(f4,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function E4(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const A4=s4(h0,P4);var Cd=c.forwardRef(function(t,s){return c.createElement(bd,nn({},t,{ref:s,sideCar:A4}))});Cd.classNames=bd.classNames;var R4=[" ","Enter","ArrowUp","ArrowDown"],I4=[" ","Enter"],Zr="Select",[Pd,Ed,T4]=ad(Zr),[vi]=Ft(Zr,[T4,pi]),Ad=pi(),[_4,Er]=vi(Zr),[k4,M4]=vi(Zr),v0=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:f,autoComplete:m,disabled:x,required:h,form:w}=t,j=Ad(s),[S,y]=c.useState(null),[p,v]=c.useState(null),[N,P]=c.useState(!1),I=gi(u),[g,C]=un({prop:r,defaultProp:a??!1,onChange:i,caller:Zr}),[E,A]=un({prop:o,defaultProp:l,onChange:d,caller:Zr}),_=c.useRef(null),M=S?w||!!S.closest("form"):!0,[$,L]=c.useState(new Set),U=Array.from($).map(W=>W.props.value).join(";");return e.jsx($p,{...j,children:e.jsxs(_4,{required:h,scope:s,trigger:S,onTriggerChange:y,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:P,contentId:zs(),value:E,onValueChange:A,open:g,onOpenChange:C,dir:I,triggerPointerDownPosRef:_,disabled:x,children:[e.jsx(Pd.Provider,{scope:s,children:e.jsx(k4,{scope:t.__scopeSelect,onNativeOptionAdd:c.useCallback(W=>{L(ne=>new Set(ne).add(W))},[]),onNativeOptionRemove:c.useCallback(W=>{L(ne=>{const H=new Set(ne);return H.delete(W),H})},[]),children:n})}),M?e.jsxs(z0,{"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:m,value:E,onChange:W=>A(W.target.value),disabled:x,form:w,children:[E===void 0?e.jsx("option",{value:""}):null,Array.from($)]},U):null]})})};v0.displayName=Zr;var y0="SelectTrigger",j0=c.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,i=Ad(n),o=Er(y0,n),l=o.disabled||r,d=Ce(s,o.onTriggerChange),u=Ed(n),f=c.useRef("touch"),[m,x,h]=q0(j=>{const S=u().filter(v=>!v.disabled),y=S.find(v=>v.value===o.value),p=G0(S,j,y);p!==void 0&&o.onValueChange(p.value)}),w=j=>{l||(o.onOpenChange(!0),h()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return e.jsx(Up,{asChild:!0,...i,children:e.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":V0(o.value)?"":void 0,...a,ref:d,onClick:ue(a.onClick,j=>{j.currentTarget.focus(),f.current!=="mouse"&&w(j)}),onPointerDown:ue(a.onPointerDown,j=>{f.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(w(j),j.preventDefault())}),onKeyDown:ue(a.onKeyDown,j=>{const S=m.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&x(j.key),!(S&&j.key===" ")&&R4.includes(j.key)&&(w(),j.preventDefault())})})})});j0.displayName=y0;var N0="SelectValue",S0=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=t,d=Er(N0,n),{onValueNodeHasChildrenChange:u}=d,f=i!==void 0,m=Ce(s,d.onValueNodeChange);return mt(()=>{u(f)},[u,f]),e.jsx(Se.span,{...l,ref:m,style:{pointerEvents:"none"},children:V0(d.value)?e.jsx(e.Fragment,{children:o}):i})});S0.displayName=N0;var O4="SelectIcon",w0=c.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...a}=t;return e.jsx(Se.span,{"aria-hidden":!0,...a,ref:s,children:r||""})});w0.displayName=O4;var F4="SelectPortal",b0=t=>e.jsx(Bo,{asChild:!0,...t});b0.displayName=F4;var ea="SelectContent",C0=c.forwardRef((t,s)=>{const n=Er(ea,t.__scopeSelect),[r,a]=c.useState();if(mt(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?aa.createPortal(e.jsx(P0,{scope:t.__scopeSelect,children:e.jsx(Pd.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(E0,{...t,ref:s})});C0.displayName=ea;var Ts=10,[P0,Ar]=vi(ea),D4="SelectContentImpl",L4=Qr("SelectContent.RemoveScroll"),E0=c.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:x,collisionPadding:h,sticky:w,hideWhenDetached:j,avoidCollisions:S,...y}=t,p=Er(ea,n),[v,N]=c.useState(null),[P,I]=c.useState(null),g=Ce(s,b=>N(b)),[C,E]=c.useState(null),[A,_]=c.useState(null),M=Ed(n),[$,L]=c.useState(!1),U=c.useRef(!1);c.useEffect(()=>{if(v)return ef(v)},[v]),Xp();const W=c.useCallback(b=>{const[k,...B]=M().map(X=>X.ref.current),[V]=B.slice(-1),Y=document.activeElement;for(const X of b)if(X===Y||(X==null||X.scrollIntoView({block:"nearest"}),X===k&&P&&(P.scrollTop=0),X===V&&P&&(P.scrollTop=P.scrollHeight),X==null||X.focus(),document.activeElement!==Y))return},[M,P]),ne=c.useCallback(()=>W([C,v]),[W,C,v]);c.useEffect(()=>{$&&ne()},[$,ne]);const{onOpenChange:H,triggerPointerDownPosRef:z}=p;c.useEffect(()=>{if(v){let b={x:0,y:0};const k=V=>{var Y,X;b={x:Math.abs(Math.round(V.pageX)-(((Y=z.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(V.pageY)-(((X=z.current)==null?void 0:X.y)??0))}},B=V=>{b.x<=10&&b.y<=10?V.preventDefault():v.contains(V.target)||H(!1),document.removeEventListener("pointermove",k),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",k),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",B,{capture:!0})}}},[v,H,z]),c.useEffect(()=>{const b=()=>H(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[H]);const[ee,K]=q0(b=>{const k=M().filter(Y=>!Y.disabled),B=k.find(Y=>Y.ref.current===document.activeElement),V=G0(k,b,B);V&&setTimeout(()=>V.ref.current.focus())}),te=c.useCallback((b,k,B)=>{const V=!U.current&&!B;(p.value!==void 0&&p.value===k||V)&&(E(b),V&&(U.current=!0))},[p.value]),de=c.useCallback(()=>v==null?void 0:v.focus(),[v]),F=c.useCallback((b,k,B)=>{const V=!U.current&&!B;(p.value!==void 0&&p.value===k||V)&&_(b)},[p.value]),re=r==="popper"?hh:A0,T=re===hh?{side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:m,collisionBoundary:x,collisionPadding:h,sticky:w,hideWhenDetached:j,avoidCollisions:S}:{};return e.jsx(P0,{scope:n,content:v,viewport:P,onViewportChange:I,itemRefCallback:te,selectedItem:C,onItemLeave:de,itemTextRefCallback:F,focusSelectedItem:ne,selectedItemText:A,position:r,isPositioned:$,searchRef:ee,children:e.jsx(Cd,{as:L4,allowPinchZoom:!0,children:e.jsx(wd,{asChild:!0,trapped:p.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:ue(a,b=>{var k;(k=p.trigger)==null||k.focus({preventScroll:!0}),b.preventDefault()}),children:e.jsx(di,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(re,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:b=>b.preventDefault(),...y,...T,onPlaced:()=>L(!0),ref:g,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ue(y.onKeyDown,b=>{const k=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!k&&b.key.length===1&&K(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let V=M().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(b.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const Y=b.target,X=V.indexOf(Y);V=V.slice(X+1)}setTimeout(()=>W(V)),b.preventDefault()}})})})})})})});E0.displayName=D4;var $4="SelectItemAlignedPosition",A0=c.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,i=Er(ea,n),o=Ar(ea,n),[l,d]=c.useState(null),[u,f]=c.useState(null),m=Ce(s,g=>f(g)),x=Ed(n),h=c.useRef(!1),w=c.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:y,focusSelectedItem:p}=o,v=c.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&j&&S&&y){const g=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(i.dir!=="rtl"){const Y=A.left-C.left,X=E.left-Y,ve=g.left-X,G=g.width+ve,le=Math.max(G,C.width),je=window.innerWidth-Ts,we=uh(X,[Ts,Math.max(Ts,je-le)]);l.style.minWidth=G+"px",l.style.left=we+"px"}else{const Y=C.right-A.right,X=window.innerWidth-E.right-Y,ve=window.innerWidth-g.right-X,G=g.width+ve,le=Math.max(G,C.width),je=window.innerWidth-Ts,we=uh(X,[Ts,Math.max(Ts,je-le)]);l.style.minWidth=G+"px",l.style.right=we+"px"}const _=x(),M=window.innerHeight-Ts*2,$=j.scrollHeight,L=window.getComputedStyle(u),U=parseInt(L.borderTopWidth,10),W=parseInt(L.paddingTop,10),ne=parseInt(L.borderBottomWidth,10),H=parseInt(L.paddingBottom,10),z=U+W+$+H+ne,ee=Math.min(S.offsetHeight*5,z),K=window.getComputedStyle(j),te=parseInt(K.paddingTop,10),de=parseInt(K.paddingBottom,10),F=g.top+g.height/2-Ts,re=M-F,T=S.offsetHeight/2,b=S.offsetTop+T,k=U+W+b,B=z-k;if(k<=F){const Y=_.length>0&&S===_[_.length-1].ref.current;l.style.bottom="0px";const X=u.clientHeight-j.offsetTop-j.offsetHeight,ve=Math.max(re,T+(Y?de:0)+X+ne),G=k+ve;l.style.height=G+"px"}else{const Y=_.length>0&&S===_[0].ref.current;l.style.top="0px";const ve=Math.max(F,U+j.offsetTop+(Y?te:0)+T)+B;l.style.height=ve+"px",j.scrollTop=k-F+j.offsetTop}l.style.margin=`${Ts}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[x,i.trigger,i.valueNode,l,u,j,S,y,i.dir,r]);mt(()=>v(),[v]);const[N,P]=c.useState();mt(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const I=c.useCallback(g=>{g&&w.current===!0&&(v(),p==null||p(),w.current=!1)},[v,p]);return e.jsx(B4,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:I,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:e.jsx(Se.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});A0.displayName=$4;var U4="SelectPopperPosition",hh=c.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ts,...i}=t,o=Ad(n);return e.jsx(Bp,{...o,...i,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hh.displayName=U4;var[B4,tf]=vi(ea,{}),ph="SelectViewport",R0=c.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...a}=t,i=Ar(ph,n),o=tf(ph,n),l=Ce(s,i.onViewportChange),d=c.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(Pd.Slot,{scope:n,children:e.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ue(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:x}=o;if(x!=null&&x.current&&m){const h=Math.abs(d.current-f.scrollTop);if(h>0){const w=window.innerHeight-Ts*2,j=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),y=Math.max(j,S);if(y<w){const p=y+h,v=Math.min(w,p),N=p-v;m.style.height=v+"px",m.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});R0.displayName=ph;var I0="SelectGroup",[z4,V4]=vi(I0),q4=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=zs();return e.jsx(z4,{scope:n,id:a,children:e.jsx(Se.div,{role:"group","aria-labelledby":a,...r,ref:s})})});q4.displayName=I0;var T0="SelectLabel",_0=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=V4(T0,n);return e.jsx(Se.div,{id:a.id,...r,ref:s})});_0.displayName=T0;var kc="SelectItem",[G4,k0]=vi(kc),M0=c.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=t,l=Er(kc,n),d=Ar(kc,n),u=l.value===r,[f,m]=c.useState(i??""),[x,h]=c.useState(!1),w=Ce(s,p=>{var v;return(v=d.itemRefCallback)==null?void 0:v.call(d,p,r,a)}),j=zs(),S=c.useRef("touch"),y=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(G4,{scope:n,value:r,disabled:a,textId:j,isSelected:u,onItemTextChange:c.useCallback(p=>{m(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(Pd.ItemSlot,{scope:n,value:r,disabled:a,textValue:f,children:e.jsx(Se.div,{role:"option","aria-labelledby":j,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:ue(o.onFocus,()=>h(!0)),onBlur:ue(o.onBlur,()=>h(!1)),onClick:ue(o.onClick,()=>{S.current!=="mouse"&&y()}),onPointerUp:ue(o.onPointerUp,()=>{S.current==="mouse"&&y()}),onPointerDown:ue(o.onPointerDown,p=>{S.current=p.pointerType}),onPointerMove:ue(o.onPointerMove,p=>{var v;S.current=p.pointerType,a?(v=d.onItemLeave)==null||v.call(d):S.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=d.onItemLeave)==null||v.call(d))}),onKeyDown:ue(o.onKeyDown,p=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&p.key===" "||(I4.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});M0.displayName=kc;var Di="SelectItemText",O0=c.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=t,o=Er(Di,n),l=Ar(Di,n),d=k0(Di,n),u=M4(Di,n),[f,m]=c.useState(null),x=Ce(s,y=>m(y),d.onItemTextChange,y=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,y,d.value,d.disabled)}),h=f==null?void 0:f.textContent,w=c.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:h},d.value),[d.disabled,d.value,h]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=u;return mt(()=>(j(w),()=>S(w)),[j,S,w]),e.jsxs(e.Fragment,{children:[e.jsx(Se.span,{id:d.textId,...i,ref:x}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?aa.createPortal(i.children,o.valueNode):null]})});O0.displayName=Di;var F0="SelectItemIndicator",D0=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return k0(F0,n).isSelected?e.jsx(Se.span,{"aria-hidden":!0,...r,ref:s}):null});D0.displayName=F0;var fh="SelectScrollUpButton",L0=c.forwardRef((t,s)=>{const n=Ar(fh,t.__scopeSelect),r=tf(fh,t.__scopeSelect),[a,i]=c.useState(!1),o=Ce(s,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(U0,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});L0.displayName=fh;var xh="SelectScrollDownButton",$0=c.forwardRef((t,s)=>{const n=Ar(xh,t.__scopeSelect),r=tf(xh,t.__scopeSelect),[a,i]=c.useState(!1),o=Ce(s,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;i(f)};const d=n.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(U0,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=n;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});$0.displayName=xh;var U0=c.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,i=Ar("SelectScrollButton",n),o=c.useRef(null),l=Ed(n),d=c.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return c.useEffect(()=>()=>d(),[d]),mt(()=>{var f;const u=l().find(m=>m.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),e.jsx(Se.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:ue(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(a.onPointerLeave,()=>{d()})})}),Y4="SelectSeparator",B0=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx(Se.div,{"aria-hidden":!0,...r,ref:s})});B0.displayName=Y4;var gh="SelectArrow",H4=c.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,a=Ad(n),i=Er(gh,n),o=Ar(gh,n);return i.open&&o.position==="popper"?e.jsx(zp,{...a,...r,ref:s}):null});H4.displayName=gh;var W4="SelectBubbleInput",z0=c.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const a=c.useRef(null),i=Ce(r,a),o=Zp(s);return c.useEffect(()=>{const l=a.current;if(!l)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==s&&f){const m=new Event("change",{bubbles:!0});f.call(l,s),l.dispatchEvent(m)}},[o,s]),e.jsx(Se.select,{...n,style:{...Cj,...n.style},ref:i,defaultValue:s})});z0.displayName=W4;function V0(t){return t===""||t===void 0}function q0(t){const s=lt(t),n=c.useRef(""),r=c.useRef(0),a=c.useCallback(o=>{const l=n.current+o;s(l),function d(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(l)},[s]),i=c.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function G0(t,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let o=K4(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function K4(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var J4=v0,Y0=j0,Q4=S0,X4=w0,Z4=b0,H0=C0,e_=R0,W0=_0,K0=M0,t_=O0,s_=D0,J0=L0,Q0=$0,X0=B0;const xe=J4,ge=Q4,pe=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(Y0,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(X4,{asChild:!0,children:e.jsx(wc,{className:"h-4 w-4 opacity-50"})})]}));pe.displayName=Y0.displayName;const Z0=c.forwardRef(({className:t,...s},n)=>e.jsx(J0,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(DP,{className:"h-4 w-4"})}));Z0.displayName=J0.displayName;const eS=c.forwardRef(({className:t,...s},n)=>e.jsx(Q0,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(wc,{className:"h-4 w-4"})}));eS.displayName=Q0.displayName;const fe=c.forwardRef(({className:t,children:s,position:n="popper",...r},a)=>e.jsx(Z4,{children:e.jsxs(H0,{ref:a,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(Z0,{}),e.jsx(e_,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(eS,{})]})}));fe.displayName=H0.displayName;const n_=c.forwardRef(({className:t,...s},n)=>e.jsx(W0,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));n_.displayName=W0.displayName;const q=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(K0,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(s_,{children:e.jsx(ld,{className:"h-4 w-4"})})}),e.jsx(t_,{children:s})]}));q.displayName=K0.displayName;const r_=c.forwardRef(({className:t,...s},n)=>e.jsx(X0,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...s}));r_.displayName=X0.displayName;var Rd="Checkbox",[a_]=Ft(Rd),[i_,sf]=a_(Rd);function o_(t){const{__scopeCheckbox:s,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:d,required:u,value:f="on",internal_do_not_use_render:m}=t,[x,h]=un({prop:n,defaultProp:a??!1,onChange:d,caller:Rd}),[w,j]=c.useState(null),[S,y]=c.useState(null),p=c.useRef(!1),v=w?!!o||!!w.closest("form"):!0,N={checked:x,disabled:i,setChecked:h,control:w,setControl:j,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:p,required:u,defaultChecked:fr(a)?!1:a,isFormControl:v,bubbleInput:S,setBubbleInput:y};return e.jsx(i_,{scope:s,...N,children:l_(m)?m(N):r})}var tS="CheckboxTrigger",sS=c.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:d,required:u,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:x,isFormControl:h,bubbleInput:w}=sf(tS,t),j=Ce(a,f),S=c.useRef(d);return c.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const p=()=>m(S.current);return y.addEventListener("reset",p),()=>y.removeEventListener("reset",p)}},[i,m]),e.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":fr(d)?"mixed":d,"aria-required":u,"data-state":oS(d),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:j,onKeyDown:ue(s,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ue(n,y=>{m(p=>fr(p)?!0:!p),w&&h&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})})});sS.displayName=tS;var nf=c.forwardRef((t,s)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:u,form:f,...m}=t;return e.jsx(o_,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:f,value:d,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(sS,{...m,ref:s,__scopeCheckbox:n}),x&&e.jsx(iS,{__scopeCheckbox:n})]})})});nf.displayName=Rd;var nS="CheckboxIndicator",rS=c.forwardRef((t,s)=>{const{__scopeCheckbox:n,forceMount:r,...a}=t,i=sf(nS,n);return e.jsx(Pt,{present:r||fr(i.checked)||i.checked===!0,children:e.jsx(Se.span,{"data-state":oS(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});rS.displayName=nS;var aS="CheckboxBubbleInput",iS=c.forwardRef(({__scopeCheckbox:t,...s},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:d,name:u,value:f,form:m,bubbleInput:x,setBubbleInput:h}=sf(aS,t),w=Ce(n,h),j=Zp(i),S=Fp(r);c.useEffect(()=>{const p=x;if(!p)return;const v=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(v,"checked").set,I=!a.current;if(j!==i&&P){const g=new Event("click",{bubbles:I});p.indeterminate=fr(i),P.call(p,fr(i)?!1:i),p.dispatchEvent(g)}},[x,j,i,a]);const y=c.useRef(fr(i)?!1:i);return e.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:d,name:u,value:f,form:m,...s,tabIndex:-1,ref:w,style:{...s.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iS.displayName=aS;function l_(t){return typeof t=="function"}function fr(t){return t==="indeterminate"}function oS(t){return fr(t)?"indeterminate":t?"checked":"unchecked"}const Ls=c.forwardRef(({className:t,...s},n)=>e.jsx(nf,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(rS,{className:ae("flex items-center justify-center text-current"),children:e.jsx(ld,{className:"h-4 w-4"})})}));Ls.displayName=nf.displayName;const st=c.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));st.displayName="Textarea";const c_=ia("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function me({className:t,variant:s,...n}){return e.jsx("div",{className:ae(c_({variant:s}),t),...n})}const d_=ia("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ct=c.forwardRef(({className:t,variant:s,...n},r)=>e.jsx("div",{ref:r,role:"alert",className:ae(d_({variant:s}),t),...n}));ct.displayName="Alert";const u_=c.forwardRef(({className:t,...s},n)=>e.jsx("h5",{ref:n,className:ae("mb-1 font-medium leading-none tracking-tight",t),...s}));u_.displayName="AlertTitle";const dt=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:ae("text-sm [&_p]:leading-relaxed",t),...s}));dt.displayName="AlertDescription";const Id="/assets/sports-hero-OvSH1ljx.jpg",m_=["University of Technology","State College of Engineering","National Institute of Sports","City University","Technical Institute","Other"],h_=["Badminton","Chess","Athletics","Swimming","Tennis","Table Tennis","Cycling","Boxing","Wrestling","Archery","Golf"],p_=["Football","Basketball","Volleyball","Cricket","Hockey","Rugby","Handball","Baseball","Water Polo","Kabaddi"],f_=()=>{const t=Dt(),{register:s}=Lt(),{toast:n}=Ee(),[r,a]=c.useState(!1),[i,o]=c.useState(1),[l,d]=c.useState(!1),[u,f]=c.useState(!1),[m,x]=c.useState(""),[h,w]=c.useState(""),[j,S]=c.useState([]),[y,p]=c.useState([]),[v,N]=c.useState(!1),P=5,I=["Personal Details","Document Upload","Parent & Medical Info","Sports Selection","Review & Payment"],[g,C]=c.useState({email:"",fname:"",mname:"",lname:"",dob:"",gender:"",instituteName:"",otherInstitute:"",student_id:"",phone:"",documents:{photo:null,idProof:null,medicalCertificate:null,otherDocuments:[]},parentInfo:{parentName:"",parentPhone:"",parentEmail:"",relationship:"",occupation:"",address:""},medicalInfo:{bloodGroup:"",allergies:"",medicalConditions:"",emergencyContact:"",emergencyPhone:""},sportsSelection:{selectedSports:[],experience:"",achievements:"",preferences:""},paymentInfo:{paymentMethod:"",amount:0,transactionId:"",paymentStatus:"pending"}}),[E,A]=c.useState({studentIdImage:null,ageProofImage:null,profilePicture:null,academicCertificate:null,sportsCertificate:null,medicalCertificate:null,parentIdProof:null,addressProof:null}),[_,M]=c.useState({waiver:!1,privacy:!1,declaration:!1}),$=async T=>{if(g.email)try{const b={email:g.email,current_phase:T,completed_phases:[...y,T],personal_details:T>=1?{fname:g.fname,mname:g.mname,lname:g.lname,email:g.email,dob:g.dob,gender:g.gender,instituteName:g.instituteName,otherInstitute:g.otherInstitute,student_id:g.student_id,phone:g.phone}:null,documents:T>=2?g.documents:null,parent_info:T>=3?g.parentInfo:null,medical_info:T>=3?g.medicalInfo:null,sports_selection:T>=4?g.sportsSelection:null,payment_info:T>=5?g.paymentInfo:null};await se.saveStudentRegistrationProgress(b),p(k=>[...k,T]),n({title:"Progress Saved ",description:`Your progress for phase ${T} has been saved successfully.`})}catch(b){console.error("Error saving progress:",b),n({title:"Save Failed",description:"Failed to save your progress. Please try again.",variant:"destructive"})}},L=async T=>{if(T){N(!0);try{const k=(await se.getStudentRegistrationProgress(T)).data;k&&(k.personal_details&&C(B=>({...B,...k.personal_details})),k.documents&&C(B=>({...B,documents:k.documents})),k.parent_info&&C(B=>({...B,parentInfo:k.parent_info})),k.medical_info&&C(B=>({...B,medicalInfo:k.medical_info})),k.sports_selection&&C(B=>({...B,sportsSelection:k.sports_selection})),k.payment_info&&C(B=>({...B,paymentInfo:k.payment_info})),o(k.current_phase||1),p(k.completed_phases||[]),n({title:"Progress Loaded ",description:"Your previous registration progress has been loaded."}))}catch(b){console.error("Error loading progress:",b)}finally{N(!1)}}};c.useEffect(()=>{g.email&&L(g.email)},[g.email]);const U=(T,b)=>{C(k=>({...k,[T]:b})),S([])},W=T=>{C(b=>({...b,selectedSports:b.selectedSports.includes(T)?b.selectedSports.filter(k=>k!==T):[...b.selectedSports,T]}))},ne=T=>{const b=[];switch(T){case 1:g.firstName||b.push("First Name is required"),g.lastName||b.push("Last Name is required"),g.email||b.push("Email Address is required"),g.dateOfBirth||b.push("Date of Birth is required"),g.gender||b.push("Gender is required"),g.instituteName||b.push("Institute is required"),g.studentId||b.push("Student ID is required"),g.phone||b.push("Phone Number is required"),l||b.push("Phone number must be verified");break;case 2:E.studentIdImage||b.push("Student ID Image is required"),E.ageProofImage||b.push("Age Proof Image is required");break;case 3:g.parentGuardianName||b.push("Parent/Guardian Name is required"),g.parentPhone||b.push("Parent/Guardian Phone is required"),g.parentEmail||b.push("Parent/Guardian Email is required");break;case 4:g.streetAddress||b.push("Street Address is required"),g.city||b.push("City is required"),g.state||b.push("State is required"),g.country||b.push("Country is required"),g.postalCode||b.push("Postal Code is required");break;case 5:g.emergencyContactName||b.push("Emergency Contact Name is required"),g.emergencyContactRelation||b.push("Relationship is required"),g.emergencyContactPhone||b.push("Emergency Contact Phone is required");break;case 6:g.medicalQuestion1||b.push("Medical Question 1 is required"),g.medicalQuestion2||b.push("Medical Question 2 is required");break;case 7:g.participationType||b.push("Participation Type is required"),g.selectedSports.length===0&&b.push("At least one sport must be selected");break;case 8:_.waiver||b.push("Waiver agreement is required");break;case 9:_.privacy||b.push("Privacy policy agreement is required");break;case 10:_.declaration||b.push("Declaration agreement is required");break}return b},H=async()=>{const T=ne(i);if(T.length>0){S(T);return}S([]),await $(i),i<P&&o(i+1)},z=()=>{S([]),i>1&&o(i-1)},ee=T=>{T>=1&&T<=P&&(o(T),S([]))},K=async()=>{var T;if(!g.email){n({title:"Email Required",description:"Please enter your email address first.",variant:"destructive"});return}try{const k=(await se.sendStudentOTP(g.email,"Student","registration")).data;w(((T=k.data)==null?void 0:T.otp_id)||k.otp_id),f(!0),n({title:"OTP Sent! ",description:`Verification code sent to ${g.email}. Please check your email inbox.`})}catch{n({title:"Failed to Send OTP",description:"Please try again later.",variant:"destructive"})}},te=async()=>{if(!m){n({title:"OTP Required",description:"Please enter the OTP code.",variant:"destructive"});return}try{const b=(await se.verifyOTP(h,m)).data;d(!0),f(!1),n({title:"Phone Verified ",description:"Your phone number has been successfully verified."})}catch{n({title:"Invalid OTP",description:"Please check the OTP code and try again.",variant:"destructive"})}},de=()=>g.selectedSports.length*25,F=async()=>{const T=ne(i);if(T.length>0){S(T);return}a(!0);try{const b=g.instituteName==="Other"?g.otherInstitute:g.instituteName,k={fname:g.fname||g.firstName,mname:g.mname||g.middleName||null,lname:g.lname||g.lastName,email:g.email,dob:g.dob||g.dateOfBirth,gender:g.gender,phone:g.phone,address:`${g.streetAddress}, ${g.city}, ${g.state} ${g.zipCode}`,student_id:g.student_id||g.studentId,password:"defaultPassword123",parent_guardian_name:g.parentGuardianName,parent_phone:g.parentPhone,parent_email:g.parentEmail,emergency_contact_name:g.emergencyContactName,emergency_contact_relation:g.emergencyContactRelation,emergency_contact_phone:g.emergencyContactPhone,emergency_contact_email:g.emergencyContactEmail,medical_question_1:g.medicalQuestion1,medical_question_2:g.medicalQuestion2,has_allergies:g.hasAllergies,allergies_details:g.allergiesDetails||null,participation_type:g.participationType,selected_sports:g.selectedSports,institution_name:b},B=await se.createStudent(k);if(B.status===200||B.status===201)n({title:" Registration Complete!",description:"Your account has been created successfully. Please log in to access your dashboard."}),t("/login");else throw new Error(B.message||"Registration failed")}catch{n({title:"Registration Failed",description:"An error occurred during registration. Please try again.",variant:"destructive"})}finally{a(!1)}},re=()=>{switch(i){case 1:return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your first name",value:g.firstName,onChange:T=>U("firstName",T.target.value),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{className:"text-base font-semibold",children:"Middle Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your middle name (optional)",value:g.middleName,onChange:T=>U("middleName",T.target.value),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your last name",value:g.lastName,onChange:T=>U("lastName",T.target.value),className:"pl-12 h-12 text-base"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{type:"email",placeholder:"Enter your email address",value:g.email,onChange:T=>U("email",T.target.value),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(hn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{type:"date",placeholder:"Select your date of birth",value:g.dateOfBirth,onChange:T=>U("dateOfBirth",T.target.value),className:"pl-12 h-12 text-base"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:g.gender,onValueChange:T=>U("gender",T),children:[e.jsx(pe,{className:"h-12 text-base",children:e.jsx(ge,{placeholder:"Select your gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dd,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your student ID",value:g.studentId,onChange:T=>U("studentId",T.target.value),className:"pl-12 h-12 text-base"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Institution ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ep,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsxs(xe,{value:g.instituteName,onValueChange:T=>U("instituteName",T),children:[e.jsx(pe,{className:"pl-12 h-12 text-base",children:e.jsx(ge,{placeholder:"Select your institution"})}),e.jsx(fe,{children:m_.map(T=>e.jsx(q,{value:T,children:T},T))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(jr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(D,{placeholder:"Enter your phone number",value:g.phone,onChange:T=>U("phone",T.target.value),className:"pl-12 h-12 text-base"})]}),e.jsx(O,{type:"button",variant:l?"default":"outline",onClick:u?te:K,disabled:l||!g.phone,className:"min-w-[120px] h-12 text-base",children:l?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"h-4 w-4 mr-1"}),"Verified"]}):u?"Verify":"Send OTP"})]})]})]}),g.instituteName==="Other"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Institution Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"Enter your institution name",value:g.otherInstitute,onChange:T=>U("otherInstitute",T.target.value),className:"h-12 text-base"})]}),u&&!l&&e.jsxs("div",{className:"space-y-4 p-6 border rounded-lg bg-muted/30",children:[e.jsx(R,{className:"text-base font-semibold",children:"Enter OTP Code"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(D,{placeholder:"Enter the OTP code",value:m,onChange:T=>x(T.target.value),className:"flex-1 h-12 text-base"}),e.jsx(O,{type:"button",variant:"outline",onClick:te,disabled:!m,className:"h-12 text-base",children:"Verify"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["OTP sent to ",g.email]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Current Class/Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"e.g., 12th Grade, 2nd Year",value:g.currentClass,onChange:T=>U("currentClass",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Academic Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"e.g., 2024-25",value:g.academicYear,onChange:T=>U("academicYear",T.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Stream/Field of Study"}),e.jsx(D,{placeholder:"e.g., Science, Commerce, Arts, Engineering",value:g.stream,onChange:T=>U("stream",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Subjects"}),e.jsx(D,{placeholder:"e.g., Physics, Chemistry, Mathematics",value:g.subjects,onChange:T=>U("subjects",T.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Previous Institution"}),e.jsx(D,{placeholder:"Name of previous school/college",value:g.previousInstitution,onChange:T=>U("previousInstitution",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Previous Class"}),e.jsx(D,{placeholder:"e.g., 11th Grade, 1st Year",value:g.previousClass,onChange:T=>U("previousClass",T.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Academic Achievements"}),e.jsx(st,{placeholder:"List your academic achievements, awards, scholarships, etc.",value:g.academicAchievements,onChange:T=>U("academicAchievements",T.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Extracurricular Activities"}),e.jsx(st,{placeholder:"List your extracurricular activities, clubs, societies, etc.",value:g.extracurricularActivities,onChange:T=>U("extracurricularActivities",T.target.value),rows:3})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Parent/Guardian Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"Full Name",value:g.parentGuardianName,onChange:T=>U("parentGuardianName",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Occupation"}),e.jsx(D,{placeholder:"e.g., Engineer, Teacher, Doctor",value:g.parentOccupation,onChange:T=>U("parentOccupation",T.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Designation"}),e.jsx(D,{placeholder:"e.g., Senior Manager, Principal",value:g.parentDesignation,onChange:T=>U("parentDesignation",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Workplace"}),e.jsx(D,{placeholder:"Company/Organization Name",value:g.parentWorkplace,onChange:T=>U("parentWorkplace",T.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"+91 9876543210",value:g.parentPhone,onChange:T=>U("parentPhone",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{type:"email",placeholder:"parent@email.com",value:g.parentEmail,onChange:T=>U("parentEmail",T.target.value)})]})]})]});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{placeholder:"Complete street address",value:g.streetAddress,onChange:T=>U("streetAddress",T.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"New Delhi",value:g.city,onChange:T=>U("city",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"Delhi",value:g.state,onChange:T=>U("state",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Postal Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"110001",value:g.postalCode,onChange:T=>U("postalCode",T.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Country ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"India",value:g.country,onChange:T=>U("country",T.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Landmark"}),e.jsx(D,{placeholder:"Near Metro Station",value:g.landmark,onChange:T=>U("landmark",T.target.value)})]})]})]});case 5:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Emergency Contact Full Name *",value:g.emergencyContactName,onChange:T=>U("emergencyContactName",T.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:g.emergencyContactRelation,onValueChange:T=>U("emergencyContactRelation",T),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Relationship with Student *"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Parent",children:"Parent"}),e.jsx(q,{value:"Guardian",children:"Guardian"}),e.jsx(q,{value:"Sibling",children:"Sibling"}),e.jsx(q,{value:"Relative",children:"Relative"}),e.jsx(q,{value:"Friend",children:"Friend"}),e.jsx(q,{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Emergency Contact Phone Number *",value:g.emergencyContactPhone,onChange:T=>U("emergencyContactPhone",T.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{type:"email",placeholder:"Emergency Contact Email (Optional)",value:g.emergencyContactEmail,onChange:T=>U("emergencyContactEmail",T.target.value),className:"pl-10"})]})]});case 6:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Medical Question 1 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{placeholder:"Do you have any existing medical conditions?",value:g.medicalQuestion1,onChange:T=>U("medicalQuestion1",T.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Medical Question 2 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{placeholder:"Are you currently taking any medications?",value:g.medicalQuestion2,onChange:T=>U("medicalQuestion2",T.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ls,{id:"allergies",checked:g.hasAllergies,onCheckedChange:T=>U("hasAllergies",!!T)}),e.jsx(R,{htmlFor:"allergies",className:"cursor-pointer",children:"Any Allergies/Health Conditions?"})]}),g.hasAllergies&&e.jsx(st,{placeholder:"Please provide details about allergies or health conditions",value:g.allergiesDetails,onChange:T=>U("allergiesDetails",T.target.value),rows:3})]})]});case 7:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Participation Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${g.participationType==="Individual"?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onClick:()=>U("participationType","Individual"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Go,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Individual"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compete individually"})]})]})}),e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${g.participationType==="Team"?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onClick:()=>U("participationType","Team"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ye,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Team"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Compete in team events"})]})]})})]})]}),g.participationType&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{className:"text-base font-semibold",children:["Select ",g.participationType," Sports *"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:(g.participationType==="Individual"?h_:p_).map(T=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${g.selectedSports.includes(T)?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,onClick:()=>W(T),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(MP,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:T})]})},T))})]}),g.selectedSports.length>0&&e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Selected Sports:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.selectedSports.map(T=>e.jsx(me,{variant:"secondary",children:T},T))}),e.jsxs("div",{className:"text-lg font-bold text-primary",children:["Final Fees: ",de()]})]})]});case 8:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"max-h-60 overflow-y-auto p-4 border rounded-lg bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Waiver & Release of Liability"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I understand that participation in sports activities involves inherent risks, including but not limited to the risk of injury, disability, or death. I voluntarily assume all risks associated with participation and hereby release and hold harmless the event organizers, sponsors, and all associated parties from any and all claims, demands, or causes of action arising out of or related to any loss, damage, or injury that may be sustained by the participant."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"I acknowledge that I have read and understand this waiver, and I voluntarily agree to its terms and conditions."})]}),e.jsxs("div",{className:"flex items-start space-x-2 p-4 border rounded-lg",children:[e.jsx(Ls,{id:"waiver",checked:_.waiver,onCheckedChange:T=>M(b=>({...b,waiver:!!T}))}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"waiver",className:"cursor-pointer font-medium",children:"I agree to the Waiver & Release of Liability *"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"By checking this box, I acknowledge that I have read, understood, and agree to the terms."})]})]})]});case 9:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"max-h-60 overflow-y-auto p-4 border rounded-lg bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Data Protection & Privacy Notice"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We collect and process your personal data to facilitate your participation in sports events. This includes your contact information, medical details, and performance data. Your information will be used for event management, emergency contact purposes, and improving our services."}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"We implement appropriate security measures to protect your data and will not share your information with third parties without your consent, except as required by law or for event safety purposes."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You have the right to access, correct, or delete your personal data at any time by contacting our support team."})]}),e.jsxs("div",{className:"flex items-start space-x-2 p-4 border rounded-lg",children:[e.jsx(Ls,{id:"privacy",checked:_.privacy,onCheckedChange:T=>M(b=>({...b,privacy:!!T}))}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"privacy",className:"cursor-pointer font-medium",children:"I agree to the Data Protection & Privacy Policy *"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"I consent to the collection and processing of my personal data as described."})]})]})]});case 10:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Final Declaration"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I hereby declare that all information provided in this registration form is true, accurate, and complete to the best of my knowledge. I understand that any false or misleading information may result in disqualification from the event."}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"I acknowledge that I have read and understood all the terms, conditions, and policies associated with this event registration. I agree to abide by all rules and regulations set forth by the event organizers."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"By submitting this registration, I confirm my commitment to participate in the selected events and understand the associated responsibilities."})]}),e.jsxs("div",{className:"flex items-start space-x-2 p-4 border rounded-lg",children:[e.jsx(Ls,{id:"declaration",checked:_.declaration,onCheckedChange:T=>M(b=>({...b,declaration:!!T}))}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"declaration",className:"cursor-pointer font-medium",children:"I hereby declare that the information provided is true *"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"I confirm the accuracy of all information and my commitment to participate."})]})]})]});default:return null}};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-6",children:e.jsx("div",{className:"w-full max-w-7xl",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12 items-start",children:[e.jsx("div",{className:"text-center md:text-left space-y-6 md:sticky md:top-8",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Id,alt:"Sports Event Management",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx(Ie,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Join Sports Events"}),e.jsx("p",{className:"text-xl opacity-90",children:"Complete registration to participate"})]})})]})}),e.jsxs(J,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(ie,{className:"text-center pb-8 px-8",children:[e.jsx(oe,{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Student Registration"}),e.jsxs(_e,{className:"text-lg text-muted-foreground mt-2",children:["Step ",i," of ",P,": ",I[i-1]]})]}),e.jsxs(Q,{className:"space-y-8 px-8 pb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:Array.from({length:P},(T,b)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold cursor-pointer transition-all duration-200 ${b+1===i?"bg-primary text-primary-foreground":y.includes(b+1)?"bg-green-500 text-white hover:bg-green-600":"bg-muted text-muted-foreground hover:bg-muted/80"}`,onClick:()=>ee(b+1),title:`Step ${b+1}: ${I[b]}`,children:y.includes(b+1)?"":b+1}),b<P-1&&e.jsx("div",{className:`w-6 h-1 ml-2 ${b+1<i?"bg-primary":"bg-muted"}`})]},b))}),j.length>0&&e.jsxs(ct,{variant:"destructive",className:"p-6",children:[e.jsx(sn,{className:"h-5 w-5"}),e.jsx(dt,{className:"text-base",children:e.jsx("ul",{className:"list-disc list-inside space-y-2",children:j.map((T,b)=>e.jsx("li",{children:T},b))})})]}),e.jsx("div",{className:"space-y-8",children:re()}),e.jsxs("div",{className:"flex justify-between pt-8",children:[e.jsx(O,{variant:"outline",onClick:z,disabled:i===1,className:"h-12 px-8 text-base",children:"Back"}),i===P?e.jsx(O,{onClick:F,className:"bg-gradient-primary hover:shadow-glow transition-all duration-300 h-12 px-8 text-base",disabled:r,children:r?"Submitting...":"Submit Registration"}):e.jsx(O,{onClick:H,className:"bg-gradient-primary h-12 px-8 text-base",children:"Save & Continue"})]}),e.jsxs("div",{className:"text-center text-sm pt-4 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),e.jsx(ts,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign In"})]})]})]})]})})})};var Wu="rovingFocusGroup.onEntryFocus",x_={bubbles:!1,cancelable:!0},Ho="RovingFocusGroup",[vh,lS,g_]=ad(Ho),[v_,yi]=Ft(Ho,[g_]),[y_,j_]=v_(Ho),cS=c.forwardRef((t,s)=>e.jsx(vh.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(vh.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(N_,{...t,ref:s})})}));cS.displayName=Ho;var N_=c.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...m}=t,x=c.useRef(null),h=Ce(s,x),w=gi(i),[j,S]=un({prop:o,defaultProp:l??null,onChange:d,caller:Ho}),[y,p]=c.useState(!1),v=lt(u),N=lS(n),P=c.useRef(!1),[I,g]=c.useState(0);return c.useEffect(()=>{const C=x.current;if(C)return C.addEventListener(Wu,v),()=>C.removeEventListener(Wu,v)},[v]),e.jsx(y_,{scope:n,orientation:r,dir:w,loop:a,currentTabStopId:j,onItemFocus:c.useCallback(C=>S(C),[S]),onItemShiftTab:c.useCallback(()=>p(!0),[]),onFocusableItemAdd:c.useCallback(()=>g(C=>C+1),[]),onFocusableItemRemove:c.useCallback(()=>g(C=>C-1),[]),children:e.jsx(Se.div,{tabIndex:y||I===0?-1:0,"data-orientation":r,...m,ref:h,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{P.current=!0}),onFocus:ue(t.onFocus,C=>{const E=!P.current;if(C.target===C.currentTarget&&E&&!y){const A=new CustomEvent(Wu,x_);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const _=N().filter(W=>W.focusable),M=_.find(W=>W.active),$=_.find(W=>W.id===j),U=[M,$,..._].filter(Boolean).map(W=>W.ref.current);mS(U,f)}}P.current=!1}),onBlur:ue(t.onBlur,()=>p(!1))})})}),dS="RovingFocusGroupItem",uS=c.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=t,d=zs(),u=i||d,f=j_(dS,n),m=f.currentTabStopId===u,x=lS(n),{onFocusableItemAdd:h,onFocusableItemRemove:w,currentTabStopId:j}=f;return c.useEffect(()=>{if(r)return h(),()=>w()},[r,h,w]),e.jsx(vh.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:e.jsx(Se.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:s,onMouseDown:ue(t.onMouseDown,S=>{r?f.onItemFocus(u):S.preventDefault()}),onFocus:ue(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:ue(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const y=b_(S,f.orientation,f.dir);if(y!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let v=x().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const N=v.indexOf(S.currentTarget);v=f.loop?C_(v,N+1):v.slice(N+1)}setTimeout(()=>mS(v))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:j!=null}):o})})});uS.displayName=dS;var S_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function w_(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function b_(t,s,n){const r=w_(t.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return S_[r]}function mS(t,s=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function C_(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var rf=cS,af=uS,of="Radio",[P_,hS]=Ft(of),[E_,A_]=P_(of),pS=c.forwardRef((t,s)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...f}=t,[m,x]=c.useState(null),h=Ce(s,S=>x(S)),w=c.useRef(!1),j=m?u||!!m.closest("form"):!0;return e.jsxs(E_,{scope:n,checked:a,disabled:o,children:[e.jsx(Se.button,{type:"button",role:"radio","aria-checked":a,"data-state":vS(a),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:h,onClick:ue(t.onClick,S=>{a||d==null||d(),j&&(w.current=S.isPropagationStopped(),w.current||S.stopPropagation())})}),j&&e.jsx(gS,{control:m,bubbles:!w.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});pS.displayName=of;var fS="RadioIndicator",xS=c.forwardRef((t,s)=>{const{__scopeRadio:n,forceMount:r,...a}=t,i=A_(fS,n);return e.jsx(Pt,{present:r||i.checked,children:e.jsx(Se.span,{"data-state":vS(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})})});xS.displayName=fS;var R_="RadioBubbleInput",gS=c.forwardRef(({__scopeRadio:t,control:s,checked:n,bubbles:r=!0,...a},i)=>{const o=c.useRef(null),l=Ce(o,i),d=Zp(n),u=Fp(s);return c.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&h){const w=new Event("click",{bubbles:r});h.call(f,n),f.dispatchEvent(w)}},[d,n,r]),e.jsx(Se.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gS.displayName=R_;function vS(t){return t?"checked":"unchecked"}var I_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Td="RadioGroup",[T_]=Ft(Td,[yi,hS]),yS=yi(),jS=hS(),[__,k_]=T_(Td),NS=c.forwardRef((t,s)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:f=!0,onValueChange:m,...x}=t,h=yS(n),w=gi(u),[j,S]=un({prop:i,defaultProp:a??null,onChange:m,caller:Td});return e.jsx(__,{scope:n,name:r,required:o,disabled:l,value:j,onValueChange:S,children:e.jsx(rf,{asChild:!0,...h,orientation:d,dir:w,loop:f,children:e.jsx(Se.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:w,...x,ref:s})})})});NS.displayName=Td;var SS="RadioGroupItem",wS=c.forwardRef((t,s)=>{const{__scopeRadioGroup:n,disabled:r,...a}=t,i=k_(SS,n),o=i.disabled||r,l=yS(n),d=jS(n),u=c.useRef(null),f=Ce(s,u),m=i.value===a.value,x=c.useRef(!1);return c.useEffect(()=>{const h=j=>{I_.includes(j.key)&&(x.current=!0)},w=()=>x.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",w)}},[]),e.jsx(af,{asChild:!0,...l,focusable:!o,active:m,children:e.jsx(pS,{disabled:o,required:i.required,checked:m,...d,...a,name:i.name,ref:f,onCheck:()=>i.onValueChange(a.value),onKeyDown:ue(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:ue(a.onFocus,()=>{var h;x.current&&((h=u.current)==null||h.click())})})})});wS.displayName=SS;var M_="RadioGroupIndicator",bS=c.forwardRef((t,s)=>{const{__scopeRadioGroup:n,...r}=t,a=jS(n);return e.jsx(xS,{...a,...r,ref:s})});bS.displayName=M_;var CS=NS,PS=wS,O_=bS;const dn=c.forwardRef(({className:t,...s},n)=>e.jsx(CS,{className:ae("grid gap-2",t),...s,ref:n}));dn.displayName=CS.displayName;const ht=c.forwardRef(({className:t,...s},n)=>e.jsx(PS,{ref:n,className:ae("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:e.jsx(O_,{className:"flex items-center justify-center",children:e.jsx(Wj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ht.displayName=PS.displayName;const ES=({onTypeSelect:t})=>{const[s,n]=c.useState(""),r=()=>{s&&t(s)};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-5xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsx("div",{className:"text-center md:text-left space-y-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Id,alt:"Registration Portal",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Join Our Platform"}),e.jsx("p",{className:"text-xl opacity-90",children:"Choose your registration type to get started"})]})})]})}),e.jsxs(J,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(ie,{className:"text-center pb-4",children:[e.jsx(oe,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Select Registration Type"}),e.jsx(_e,{className:"text-muted-foreground",children:"Choose how you want to register"})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsx(dn,{value:s,onValueChange:a=>n(a),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsx(ht,{value:"student",id:"student"}),e.jsx(R,{htmlFor:"student",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Vo,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Student Registration"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Register as a student to participate in sports events"})]})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer",children:[e.jsx(ht,{value:"institution",id:"institution"}),e.jsx(R,{htmlFor:"institution",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Ys,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Institution Registration"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Register your institution to manage students and events"})]})]})})]})]})}),e.jsx(O,{onClick:r,className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:!s,children:"Continue Registration"})]})]})]})})})},AS=({onComplete:t,onBack:s,userType:n="student",purpose:r="registration"})=>{const[a,i]=c.useState(""),[o,l]=c.useState(""),[d,u]=c.useState("email"),[f,m]=c.useState(!1),[x,h]=c.useState(""),[w,j]=c.useState(""),[S,y]=c.useState(!1),{toast:p}=Ee(),{loginWithOTP:v}=Lt(),N=async()=>{y(!1),h(""),await P()},P=async()=>{var g,C;if(!a){h("Email is required");return}m(!0),h("");try{let E;n==="institution"?E=await se.sendInstitutionOTP(a,"Institution",r):E=await se.sendStudentOTP(a,"Student",r);const A=E.data;console.log("OTP Send Response:",E),console.log("OTP Send Data:",A),console.log("OTP ID from data:",A.otp_id),console.log("OTP ID from data.data:",(g=A.data)==null?void 0:g.otp_id);const _=((C=A.data)==null?void 0:C.otp_id)||A.otp_id||A.id;console.log("Final OTP ID:",_),j(_),u("otp"),p({title:"OTP Sent! ",description:`Verification code sent to ${a}. Please check your email inbox.`})}catch(E){console.log("Error details:",E),console.log("Error message:",E==null?void 0:E.message);const A=(E==null?void 0:E.message)||"";if(A.includes("already exists and has completed registration"))p({title:"Registration Already Complete! ",description:"Congratulations! Your registration has already been completed successfully. You can now proceed to login and access your account.",variant:"default"}),setTimeout(()=>{p({title:"Redirecting to Login... ",description:"Taking you to the login page to access your account."})},1500),setTimeout(()=>{window.location.href="/login"},3e3);else if(A.includes("already exists")){const _=n==="institution"?"institution":"student";p({title:"Email Already Registered",description:`This email is already registered as a ${_==="institution"?"student":"institution"}. Please use a different email or try logging in instead.`,variant:"destructive"}),h(`Email already registered as ${_==="institution"?"student":"institution"}`)}else A.includes("OTP already sent")?(y(!0),p({title:"OTP Already Sent! ",description:"An OTP has already been sent to this email. You can resend it using the button below, or check your email inbox.",variant:"destructive"}),h("OTP already sent. You can resend it or check your email inbox.")):(h("Failed to send OTP. Please try again."),p({title:"Error",description:A||"Failed to send OTP. Please try again.",variant:"destructive"}))}finally{m(!1)}},I=async()=>{var g,C,E;if(!o){h("OTP is required");return}m(!0),h("");try{console.log("Verifying OTP with:",{otpId:w,otp:o,email:a});let A,_;if(w?(A=await se.verifyOTP(w,o),_=A.data):(A=await se.verifyOTPWithEmail(a,o),_=A.data),console.log("OTP Verification Response:",_),console.log("Purpose:",r),console.log("UserType:",n),console.log("Data role:",_.role),console.log("Data email:",_.email),_.success)if(r==="login")if(_.role==="institution")if(await v(_)){p({title:"Login Successful! ",description:"Welcome back to your institution dashboard."}),setTimeout(()=>{window.location.href=n==="institution"?"/institution":"/dashboard"},1500);return}else throw new Error("Failed to complete login process");else{p({title:"Not Registered",description:`This email is not registered as a ${n}. Please register first.`,variant:"destructive"}),setTimeout(()=>{window.location.href=n==="institution"?"/institution/register/phase1":"/register"},2e3);return}else console.log("Registration flow - proceeding with onComplete"),console.log("Email role from backend:",_.role),console.log("Email from backend:",_.email),console.log("Continuing with registration regardless of existing registration"),p({title:"Email Verified ",description:"Your email has been successfully verified. Please continue with registration."}),t(a);else throw new Error(_.message||"OTP verification failed")}catch(A){console.log("OTP Verification Error:",A),console.log("Error response:",A==null?void 0:A.response),console.log("Error data:",(g=A==null?void 0:A.response)==null?void 0:g.data);const _=((E=(C=A==null?void 0:A.response)==null?void 0:C.data)==null?void 0:E.detail)||(A==null?void 0:A.message)||"Failed to verify OTP";h(_),p({title:"Verification Failed",description:_,variant:"destructive"})}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:e.jsxs(J,{className:"w-full max-w-md shadow-large",children:[e.jsxs(ie,{className:"text-center",children:[e.jsx(oe,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Registration"}),e.jsxs(_e,{children:[d==="email"&&"Enter your email to get started",d==="otp"&&"Enter the OTP sent to your email"]})]}),e.jsxs(Q,{className:"space-y-4",children:[x&&e.jsxs(ct,{variant:"destructive",children:[e.jsx(dt,{children:x}),S&&e.jsx("div",{className:"mt-2",children:e.jsx(O,{variant:"outline",size:"sm",onClick:N,disabled:f,className:"w-full",children:f?"Sending...":"Resend OTP"})})]}),d==="email"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"Enter your email",value:a,onChange:g=>i(g.target.value),className:"pl-10",disabled:f})]})]}),e.jsxs("div",{className:"flex gap-3",children:[s&&e.jsx(O,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:"Back"}),e.jsx(O,{onClick:P,className:"flex-1 bg-gradient-primary",disabled:f,children:f?"Sending...":"Send OTP"})]})]}),d==="otp"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"otp",children:"Enter OTP"}),e.jsx(D,{id:"otp",placeholder:"Enter 6-digit OTP",value:o,onChange:g=>l(g.target.value),maxLength:6,disabled:f}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["OTP sent to ",a,". Check your email for the verification code."]})]}),e.jsx(O,{onClick:I,className:"w-full bg-gradient-primary",disabled:f,children:f?"Verifying...":"Verify OTP"}),e.jsx(O,{variant:"outline",onClick:()=>u("email"),className:"w-full",children:"Back to Email"})]})]})]})})},Ku=[{id:1,title:"Personal Details",icon:Be,description:"Basic information"},{id:2,title:"Document Upload",icon:fo,description:"Required documents"},{id:3,title:"Parent & Medical Info",icon:Ye,description:"Guardian & health details"},{id:4,title:"Sports Selection",icon:Ie,description:"Choose your sports"},{id:5,title:"Review & Payment",icon:Xt,description:"Final review"}],Lg=({currentStep:t,completedSteps:s,showOnMobile:n=!1})=>e.jsxs("div",{className:(n?"block":"hidden md:block")+" w-64 bg-card border-r border-border p-6 min-h-screen md:sticky md:top-0 md:self-start md:max-h-screen overflow-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Registration Progress"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Complete all steps to register"})]}),e.jsx("nav",{className:"space-y-2",children:Ku.map(r=>{const a=t===r.id,i=s.includes(r.id),o=r.id<=t||i;return e.jsxs("div",{className:ae("flex items-center space-x-3 p-3 rounded-lg transition-smooth",a&&"bg-primary/10 border border-primary/20",i&&!a&&"bg-accent/10",!o&&"opacity-50"),children:[e.jsx("div",{className:ae("flex items-center justify-center w-8 h-8 rounded-full transition-smooth",i?"bg-accent text-accent-foreground":a?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:i?e.jsx(vt,{className:"h-4 w-4"}):e.jsx(r.icon,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:ae("text-sm font-medium transition-smooth",a?"text-primary":i?"text-accent":"text-foreground"),children:r.title}),e.jsx("div",{className:"text-xs text-muted-foreground",children:r.description})]}),a&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"})]},r.id)})}),e.jsxs("div",{className:"mt-8 p-4 bg-gradient-card rounded-lg border",children:[e.jsxs("div",{className:"text-sm font-medium text-foreground mb-2",children:["Progress: ",s.length," of ",Ku.length," steps"]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-primary h-2 rounded-full transition-smooth",style:{width:`${s.length/Ku.length*100}%`}})})]})]}),F_=/^(?:07\d{8}|01\d{8}|\+254(?:7\d{8}|1\d{8})|\+\d{10,15})$/,D_=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\.?$/;function Ql(t){if(!t)return"";const s=t.replace(/[\s\-\(\)]/g,"");return s.startsWith("07")||s.startsWith("01")?"+254"+s.substring(1):s}const RS=["0712345678","0112345678","+254712345678","+254112345678"];function L_(t){if(!t||t.trim()==="")return{isValid:!1,errorMessage:"Phone number is required"};const s=t.replace(/[\s\-\(\)]/g,"");return F_.test(s)?{isValid:!0,errorMessage:""}:{isValid:!1,errorMessage:`Invalid phone number format. Please use Kenyan format (${RS.join(", ")}) or international format (+1234567890)`}}function yh(t){return!t||t.trim()===""?{isValid:!1,errorMessage:"Email is required"}:D_.test(t.trim())?{isValid:!0,errorMessage:""}:{isValid:!1,errorMessage:"Please enter a valid email address (e.g., user@example.com)"}}const $_=["School","College","University","Academy","Institute"],U_=({initialData:t,onComplete:s,onBack:n})=>{const{toast:r}=Ee();console.log("PersonalDetailsStep received initialData:",t);const[a,i]=c.useState({firstName:(t==null?void 0:t.firstName)||"",middleName:(t==null?void 0:t.middleName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",dateOfBirth:(t==null?void 0:t.dateOfBirth)||"",gender:(t==null?void 0:t.gender)||"",instituteName:(t==null?void 0:t.instituteName)||"",otherInstitute:(t==null?void 0:t.otherInstitute)||"",instituteType:(t==null?void 0:t.instituteType)||"",studentId:(t==null?void 0:t.studentId)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",address:(t==null?void 0:t.address)||""}),[o,l]=c.useState([]),[d,u]=c.useState(!1),[f,m]=c.useState($_),[x,h]=c.useState([]),[w,j]=c.useState(!0),[S,y]=c.useState(!1),[p,v]=c.useState(null);c.useEffect(()=>{t!=null&&t.email&&t.email!==p&&(i({firstName:t.firstName||"",middleName:t.middleName||"",lastName:t.lastName||"",email:t.email,dateOfBirth:t.dateOfBirth||"",gender:t.gender||"",instituteName:t.instituteName||"",otherInstitute:t.otherInstitute||"",instituteType:t.instituteType||"",studentId:t.studentId||"",phoneNumber:t.phoneNumber||"",address:t.address||""}),v(t.email))},[t==null?void 0:t.email,p]),c.useEffect(()=>{(async()=>{if(a.email&&a.email!==p)try{const C=await se.getStudentRegistrationProgress(a.email);if(C.data.success&&C.data.data){const E=C.data.data;E.personal_details&&i(A=>({...A,firstName:E.personal_details.firstName||"",middleName:E.personal_details.middleName||"",lastName:E.personal_details.lastName||"",email:E.personal_details.email||A.email,dateOfBirth:E.personal_details.dateOfBirth||"",gender:E.personal_details.gender||"",instituteName:E.personal_details.instituteName||"",otherInstitute:E.personal_details.otherInstitute||"",instituteType:E.personal_details.instituteType||"",studentId:E.personal_details.studentId||"",phoneNumber:E.personal_details.phoneNumber||"",address:E.personal_details.address||""}))}v(a.email)}catch(C){console.error("Failed to load existing progress:",C),v(a.email)}})()},[a.email,p]),c.useEffect(()=>{(async()=>{try{const C=await se.getInstituteTypes();C.data.success&&m(C.data.data)}catch(C){console.error("Failed to load institute types:",C)}finally{j(!1)}})()},[]),c.useEffect(()=>{(async()=>{if(!a.instituteType){h([]);return}y(!0);try{const C=await se.getInstitutesPublic(a.instituteType);if(C.data.success){const E=C.data.data.map(A=>A.name);h([...E,"Other"])}}catch(C){console.error("Failed to load institutes:",C),h(["Other"])}finally{y(!1)}})()},[a.instituteType]);const N=(g,C)=>{i(E=>({...E,[g]:C})),l([]),g==="instituteType"&&i(E=>({...E,instituteName:"",otherInstitute:""}))},P=()=>{const g=[];a.firstName||g.push("First Name is required"),a.lastName||g.push("Last Name is required");const C=yh(a.email);C.isValid||g.push(C.errorMessage),a.dateOfBirth||g.push("Date of Birth is required"),a.gender||g.push("Gender is required"),a.instituteType||g.push("Institute Type is required"),a.instituteName||g.push("Institution is required"),a.instituteName==="Other"&&!a.otherInstitute&&g.push("Please specify institution name"),a.studentId||g.push("Student ID is required");const E=L_(a.phoneNumber);return E.isValid||g.push(E.errorMessage),a.address||g.push("Address is required"),g},I=async()=>{const g=P();if(g.length>0){l(g);return}u(!0);try{const C=await se.savePersonalDetails(a);if(C.data.success){const E={email:a.email,personal_details:a,current_phase:1,completed_phases:[1],is_completed:!1};await se.saveStudentRegistrationProgress(E),r({title:"Personal Details Saved! ",description:"Your personal information has been saved successfully."}),s({...a,student_id:C.data.data.student_id,registration_step:C.data.data.registration_step})}else throw new Error(C.data.message||"Failed to save personal details")}catch(C){console.error("Error saving personal details:",C),r({title:"Error Saving Details",description:C instanceof Error?C.message:"Failed to save personal details. Please try again.",variant:"destructive"}),l(["Failed to save personal details. Please try again."])}finally{u(!1)}};return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-2xl font-bold text-primary",children:"Personal Details"}),e.jsx(_e,{children:"Please fill in your basic information accurately"})]}),e.jsxs(Q,{className:"space-y-6",children:[o.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:o.map((g,C)=>e.jsx("li",{children:g},C))})})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"firstName",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"firstName",placeholder:"First Name",value:a.firstName,onChange:g=>N("firstName",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"middleName",children:"Middle Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"middleName",placeholder:"Middle Name (Optional)",value:a.middleName,onChange:g=>N("middleName",g.target.value),className:"pl-10"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"lastName",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"lastName",placeholder:"Last Name",value:a.lastName,onChange:g=>N("lastName",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"Email (pre-filled)",value:a.email,readOnly:!0,className:"pl-10 bg-muted"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"dateOfBirth",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:g=>N("dateOfBirth",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:a.gender,onValueChange:g=>N("gender",g),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select Gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Institute Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsxs(xe,{value:a.instituteType,onValueChange:g=>N("instituteType",g),disabled:w,children:[e.jsx(pe,{className:"pl-10",children:e.jsx(ge,{placeholder:w?"Loading types...":"Select Institute Type"})}),e.jsx(fe,{children:f.map(g=>e.jsx(q,{value:g,children:g},g))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Institution ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsxs(xe,{value:a.instituteName,onValueChange:g=>N("instituteName",g),disabled:S||!a.instituteType,children:[e.jsx(pe,{className:"pl-10",children:e.jsx(ge,{placeholder:a.instituteType?S?"Loading institutes...":"Select Institution":"Select Institute Type first"})}),e.jsx(fe,{children:x.map(g=>e.jsx(q,{value:g,children:g},g))})]})]})]})]}),a.instituteName==="Other"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"otherInstitute",children:["Institution Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"otherInstitute",placeholder:"Enter Institution Name",value:a.otherInstitute,onChange:g=>N("otherInstitute",g.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"studentId",children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"studentId",placeholder:"Student ID / Roll Number",value:a.studentId,onChange:g=>N("studentId",g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"phoneNumber",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"phoneNumber",placeholder:"e.g., 0712345678, 0112345678, +254712345678",value:a.phoneNumber,onChange:g=>{const C=Ql(g.target.value);N("phoneNumber",C)},className:"pl-10"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Enter a valid Kenyan phone number. Examples: ",RS.join(", ")]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"address",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Kj,{className:"absolute left-3 top-3 text-muted-foreground h-4 w-4"}),e.jsx(st,{id:"address",placeholder:"Enter your complete address",value:a.address,onChange:g=>N("address",g.target.value),className:"pl-10 min-h-[100px]",rows:4})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[n&&e.jsx(O,{variant:"outline",onClick:n,children:"Back"}),e.jsx(O,{onClick:I,className:"bg-gradient-primary ml-auto",disabled:d,children:d?"Saving...":"Save and Continue"})]})]})]})})},B_=({initialData:t,email:s,onComplete:n,onBack:r})=>{const{toast:a}=Ee(),[i,o]=c.useState({studentIdImage:(t==null?void 0:t.studentIdImage)||null,ageProofDocument:(t==null?void 0:t.ageProofDocument)||null}),[l,d]=c.useState([]),[u,f]=c.useState(!1),m=(j,S)=>{o(y=>({...y,[j]:S})),d([])},x=()=>{const j=[];return i.studentIdImage||j.push("Student ID Image is required"),i.ageProofDocument||j.push("Age Proof Document is required"),j},h=async()=>{const j=x();if(j.length>0){d(j);return}f(!0);try{const S=await se.uploadDocuments(s||(t==null?void 0:t.email),i.studentIdImage||void 0,i.ageProofDocument||void 0);if(S.data&&S.data.success){const y={email:s||(t==null?void 0:t.email),documents:i,current_phase:2,completed_phases:[1,2],is_completed:!1};await se.saveStudentRegistrationProgress(y),a({title:"Documents Uploaded! ",description:"Your documents have been uploaded successfully."}),n(i)}else throw new Error(S.data&&S.data.message||"Failed to upload documents")}catch(S){console.error("Error uploading documents:",S),a({title:"Error Uploading Documents",description:S instanceof Error?S.message:"Failed to upload documents. Please try again.",variant:"destructive"}),d(["Failed to upload documents. Please try again."])}finally{f(!1)}},w=j=>{if(j===0)return"0 Bytes";const S=1024,y=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(j)/Math.log(S));return parseFloat((j/Math.pow(S,p)).toFixed(2))+" "+y[p]};return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-2xl font-bold text-primary",children:"Document Upload"}),e.jsx(_e,{children:"Please upload the required documents. Files should be clear and readable."})]}),e.jsxs(Q,{className:"space-y-6",children:[l.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:l.map((j,S)=>e.jsx("li",{children:j},S))})})}),e.jsxs("div",{className:"space-y-12 mt-8",children:[e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6 hover:border-primary/50 transition-smooth",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:i.studentIdImage?e.jsx(vt,{className:"h-6 w-6 text-accent"}):e.jsx(fo,{className:"h-6 w-6 text-primary"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(R,{htmlFor:"studentId",className:"text-base font-medium cursor-pointer",children:["Student ID Image ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a clear photo of your student ID card"}),e.jsx(D,{id:"studentId",type:"file",accept:"image/*,.pdf",onChange:j=>{var S;return m("studentIdImage",((S=j.target.files)==null?void 0:S[0])||null)},className:"mt-3"}),i.studentIdImage&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-sm",children:[e.jsx(Fu,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-accent font-medium",children:i.studentIdImage.name}),e.jsxs("span",{className:"text-muted-foreground",children:["(",w(i.studentIdImage.size),")"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Accepted formats: JPG, PNG, PDF  Max size: 10MB"})]})]})}),e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6 hover:border-primary/50 transition-smooth",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:i.ageProofDocument?e.jsx(vt,{className:"h-6 w-6 text-accent"}):e.jsx(fo,{className:"h-6 w-6 text-primary"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(R,{htmlFor:"ageProof",className:"text-base font-medium cursor-pointer",children:["Age Proof Document ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Birth certificate, passport, or similar official document"}),e.jsx(D,{id:"ageProof",type:"file",accept:"image/*,.pdf",onChange:j=>{var S;return m("ageProofDocument",((S=j.target.files)==null?void 0:S[0])||null)},className:"mt-3"}),i.ageProofDocument&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-sm",children:[e.jsx(Fu,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-accent font-medium",children:i.ageProofDocument.name}),e.jsxs("span",{className:"text-muted-foreground",children:["(",w(i.ageProofDocument.size),")"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Accepted formats: JPG, PNG, PDF  Max size: 10MB"})]})]})})]}),e.jsxs(ct,{children:[e.jsx(Fu,{className:"h-4 w-4"}),e.jsxs(dt,{children:[e.jsx("strong",{children:"Document Guidelines:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:" Ensure documents are clear and all text is readable"}),e.jsx("li",{children:" Photos should be well-lit with no shadows or glare"}),e.jsx("li",{children:" Full document should be visible in the image"}),e.jsx("li",{children:" Files will be securely stored and only used for verification"})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(O,{variant:"outline",onClick:r,children:"Back"}),e.jsx(O,{onClick:h,className:"bg-gradient-primary",disabled:u,children:u?"Saving...":"Save and Continue"})]})]})]})})},z_=({initialData:t,email:s,onComplete:n,onBack:r})=>{const{toast:a}=Ee(),[i,o]=c.useState({parentsAttending:(t==null?void 0:t.parentsAttending)||"",parents:(t==null?void 0:t.parents)||[],medicalFacilities:(t==null?void 0:t.medicalFacilities)||"",medicalFacilitiesDetails:(t==null?void 0:t.medicalFacilitiesDetails)||"",allergiesConditions:(t==null?void 0:t.allergiesConditions)||"",allergiesDetails:(t==null?void 0:t.allergiesDetails)||""}),[l,d]=c.useState({feePerParent:0,pricingTier:"",loading:!0}),[u,f]=c.useState([]),[m,x]=c.useState(!1);c.useEffect(()=>{d({feePerParent:500,pricingTier:"Standard",loading:!1})},[]);const h=(v,N)=>{o(P=>({...P,[v]:N})),f([])},w=(v,N,P)=>{const I=[...i.parents],g=N==="age"?parseInt(P)||0:P;I[v]={...I[v],[N]:g},o(C=>({...C,parents:I})),f([])},j=()=>{o(v=>({...v,parents:[...v.parents,{name:"",relation:"",phone:"",email:"",age:0}]}))},S=v=>{o(N=>({...N,parents:N.parents.filter((P,I)=>I!==v)}))},y=()=>{const v=[];return i.parentsAttending||v.push("Please specify if parents are attending"),i.parentsAttending==="yes"&&(i.parents.length===0?v.push("At least one parent is required"):i.parents.forEach((N,P)=>{N.name||v.push(`Parent ${P+1}: Name is required`),N.relation||v.push(`Parent ${P+1}: Relation is required`),N.phone||v.push(`Parent ${P+1}: Phone is required`),(!N.age||N.age===0)&&v.push(`Parent ${P+1}: Age is required`),N.age&&(N.age<18||N.age>100)&&v.push(`Parent ${P+1}: Age must be between 18 and 100`),N.email||v.push(`Parent ${P+1}: Email is required`)})),i.medicalFacilities||v.push("Please specify medical facility requirements"),i.medicalFacilities==="yes"&&!i.medicalFacilitiesDetails&&v.push("Please specify medical facilities needed"),i.allergiesConditions||v.push("Please specify if you have allergies or health conditions"),i.allergiesConditions==="yes"&&!i.allergiesDetails&&v.push("Please specify your allergies or health conditions"),v},p=async()=>{const v=y();if(v.length>0){f(v);return}x(!0);try{const N=i.parentsAttending==="yes"?i.parents.length*l.feePerParent:0,P={email:s||(t==null?void 0:t.email),...i,parentFees:N,parentCount:i.parentsAttending==="yes"?i.parents.length:0},I=await se.saveParentMedical(P);if(I.data&&I.data.success){const g={email:s||(t==null?void 0:t.email),parent_medical:i,current_phase:3,completed_phases:[1,2,3],is_completed:!1};await se.saveStudentRegistrationProgress(g),a({title:"Parent & Medical Info Saved! ",description:"Your parent and medical information has been saved successfully."}),n({...i,parentFees:N,parentCount:i.parentsAttending==="yes"?i.parents.length:0})}else throw new Error(I.data&&I.data.message||"Failed to save parent and medical information")}catch(N){console.error("Error saving parent and medical information:",N),a({title:"Error Saving Information",description:N instanceof Error?N.message:"Failed to save parent and medical information. Please try again.",variant:"destructive"}),f(["Failed to save parent and medical information. Please try again."])}finally{x(!1)}};return e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-2xl font-bold text-primary",children:"Parent & Medical Information"}),e.jsx(_e,{children:"Provide guardian details and medical information for your safety"})]}),e.jsxs(Q,{className:"space-y-8",children:[u.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:u.map((v,N)=>e.jsx("li",{children:v},N))})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Parents Attending?"})]}),e.jsxs(dn,{value:i.parentsAttending,onValueChange:v=>{h("parentsAttending",v),v==="yes"&&i.parents.length===0?j():v==="no"&&o(N=>({...N,parents:[]}))},className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"yes",id:"parents-yes"}),e.jsx(R,{htmlFor:"parents-yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"no",id:"parents-no"}),e.jsx(R,{htmlFor:"parents-no",children:"No"})]})]}),i.parentsAttending==="yes"&&e.jsxs("div",{className:"space-y-4",children:[i.parents.map((v,N)=>e.jsxs(J,{className:"p-4 bg-muted/50 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-medium text-sm",children:["Parent ",N+1]}),i.parents.length>1&&e.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(N),className:"text-destructive hover:text-destructive",children:e.jsx(_t,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:`parent-name-${N}`,children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:`parent-name-${N}`,placeholder:"Full Name",value:v.name,onChange:P=>w(N,"name",P.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:`parent-relation-${N}`,children:["Relation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:`parent-relation-${N}`,placeholder:"e.g., Father, Mother, Guardian",value:v.relation,onChange:P=>w(N,"relation",P.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:`parent-phone-${N}`,children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:`parent-phone-${N}`,placeholder:"Phone Number",value:v.phone,onChange:P=>w(N,"phone",P.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:`parent-age-${N}`,children:["Age ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:`parent-age-${N}`,type:"number",placeholder:"Age",value:v.age||"",onChange:P=>w(N,"age",P.target.value),min:"18",max:"100"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:`parent-email-${N}`,children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:`parent-email-${N}`,type:"email",placeholder:"Email Address",value:v.email,onChange:P=>w(N,"email",P.target.value),className:"pl-10"})]})]})]})]},N)),e.jsxs(O,{type:"button",variant:"outline",onClick:j,className:"w-full border-dashed border-primary/50 text-primary hover:bg-primary/10",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Another Parent"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(po,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Do You Want Any Medical Facilities?"})]}),e.jsxs(dn,{value:i.medicalFacilities,onValueChange:v=>h("medicalFacilities",v),className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"yes",id:"medical-yes"}),e.jsx(R,{htmlFor:"medical-yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"no",id:"medical-no"}),e.jsx(R,{htmlFor:"medical-no",children:"No"})]})]}),i.medicalFacilities==="yes"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"medicalDetails",children:["Please specify medical facilities needed ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{id:"medicalDetails",placeholder:"Describe the medical facilities or assistance you require...",value:i.medicalFacilitiesDetails,onChange:v=>h("medicalFacilitiesDetails",v.target.value),rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(sn,{className:"h-5 w-5 text-warning"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Any Allergies or Health Conditions?"})]}),e.jsxs(dn,{value:i.allergiesConditions,onValueChange:v=>h("allergiesConditions",v),className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"yes",id:"allergies-yes"}),e.jsx(R,{htmlFor:"allergies-yes",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"no",id:"allergies-no"}),e.jsx(R,{htmlFor:"allergies-no",children:"No"})]})]}),i.allergiesConditions==="yes"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"allergiesDetails",children:["Please specify details ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{id:"allergiesDetails",placeholder:"Describe your allergies, health conditions, medications, or any other medical information...",value:i.allergiesDetails,onChange:v=>h("allergiesDetails",v.target.value),rows:4})]})]}),i.parentsAttending==="yes"&&i.parents.length>0&&e.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[e.jsx("h4",{className:"font-medium text-primary mb-2",children:"Parent Fee Information"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Number of Parents:"}),e.jsx("span",{className:"font-medium",children:i.parents.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Fee per Parent:"}),e.jsx("span",{className:"font-medium",children:l.loading?"Loading...":`KES ${l.feePerParent}`})]}),l.pricingTier&&e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Pricing Tier:"}),e.jsx("span",{children:l.pricingTier})]}),e.jsxs("div",{className:"flex justify-between text-primary font-semibold border-t pt-1",children:[e.jsx("span",{children:"Total Parent Fees:"}),e.jsx("span",{children:l.loading?"Loading...":`KES ${i.parents.length*l.feePerParent}`})]})]})]}),e.jsxs(ct,{children:[e.jsx(po,{className:"h-4 w-4"}),e.jsxs(dt,{children:[e.jsx("strong",{children:"Privacy Notice:"})," All medical information is kept strictly confidential and will only be used for emergency situations and to provide appropriate medical assistance if needed."]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(O,{variant:"outline",onClick:r,children:"Back"}),e.jsx(O,{onClick:p,className:"bg-gradient-primary",disabled:m,children:m?"Saving...":"Save and Continue"})]})]})]})})},V_=({initialData:t,email:s,onComplete:n,onBack:r})=>{const{toast:a}=Ee(),[i,o]=c.useState({participationType:(t==null?void 0:t.participationType)||"",selectedSports:(t==null?void 0:t.selectedSports)||[]}),d=(()=>{var k;try{const B=localStorage.getItem("student_registration_data");if(B)return((k=JSON.parse(B).personalDetails)==null?void 0:k.gender)||"Male"}catch(B){console.error("Error parsing saved registration data:",B)}return"Male"})(),[u,f]=c.useState(""),[m,x]=c.useState(""),[h,w]=c.useState(""),[j,S]=c.useState(""),[y,p]=c.useState(""),[v,N]=c.useState([]),[P,I]=c.useState(!1),[g,C]=c.useState([]),[E,A]=c.useState([]),[_,M]=c.useState([]),[$,L]=c.useState(!0),[U,W]=c.useState(!1),ne=c.useMemo(()=>(console.log("Memoizing sports list with",g.length,"items"),g),[g]);c.useEffect(()=>{H()},[]),c.useEffect(()=>{i.participationType&&d&&(console.log("useEffect triggered - loading sports for:",i.participationType,d),z())},[i.participationType,d]),c.useEffect(()=>{u&&i.participationType==="individual"?ee():(A([]),M([]))},[u,i.participationType]),c.useEffect(()=>{m&&u&&i.participationType==="individual"?K():M([])},[m,u,i.participationType]);const H=async()=>{try{L(!0)}catch(k){console.error("Error loading initial data:",k),a({title:"Error Loading Data",description:"Failed to load initial data. Please refresh the page.",variant:"destructive"})}finally{L(!1)}},z=async()=>{if(U){console.log("Sports loading already in progress, skipping...");return}try{W(!0),C([]);const k=i.participationType==="team"?"Team":"Individual",B=await se.getSportsPublic(k);if(B.data&&B.data.success){const V=B.data.data;console.log("Sports data received:",V);let Y=[];if(Array.isArray(V))Y=V,console.log("Set sports array with",V.length,"items");else if(V&&Array.isArray(V.sports))Y=V.sports,console.log("Set sports from nested array with",V.sports.length,"items");else{console.error("Unexpected sports data structure:",V),C([]);return}const X=new Map;Y.forEach(le=>{X.has(le.id)?console.log("Duplicate sport found and removed:",le.name,"ID:",le.id):X.set(le.id,le)});const ve=Array.from(X.values());console.log("Original sports count:",Y.length),console.log("Unique sports count:",ve.length);const G=ve.filter(le=>{var je;return d==="Male"&&((je=le.name)==null?void 0:je.toLowerCase())==="netball"?(console.log("Filtering out Netball for male student"),!1):!0});C(le=>le.length!==G.length||le.some((we,Xe)=>{var ft;return we.id!==((ft=G[Xe])==null?void 0:ft.id)})?(console.log("Updating sports array with",G.length,"items"),console.log("Sports names:",G.map(we=>we.name)),G):(console.log("Sports array unchanged, skipping update"),le))}else console.error("Sports API response not successful:",B.data),C([])}catch(k){console.error("Error loading sports:",k),a({title:"Error Loading Sports",description:"Failed to load sports data. Please try again.",variant:"destructive"}),C([])}finally{W(!1)}},ee=async()=>{try{const k=g.find(B=>B.id.toString()===u);if(k){const B=await se.getSportCategories(k.id);B.data&&B.data.success&&A(B.data.data)}}catch(k){console.error("Error loading categories:",k),a({title:"Error Loading Categories",description:"Failed to load categories. Please try again.",variant:"destructive"})}},K=async()=>{try{const k=g.find(V=>V.id.toString()===u),B=E.find(V=>V.id.toString()===m);if(k&&B){const V=await se.getSubCategoriesBySport(k.id,B.id);V.data&&V.data.success&&M(V.data.data)}}catch(k){console.error("Error loading sub-categories:",k),a({title:"Error Loading Sub-Categories",description:"Failed to load sub-categories. Please try again.",variant:"destructive"})}},te=k=>{o(B=>({...B,participationType:k})),f(""),x(""),w(""),S(""),p(""),N([])},de=()=>{if(!u){N(["Please select a sport"]);return}if(i.participationType==="individual"&&!m){N(["Please select a category for individual sports"]);return}if(!j||!y){N(["Please select age range"]);return}if(parseInt(j)>parseInt(y)){N(["Age 'From' must be less than or equal to age 'To'"]);return}const k=g.find(ve=>ve.id.toString()===u),B=E.find(ve=>ve.id.toString()===m),V=_.find(ve=>ve.id.toString()===h);if(!k){N(["Invalid sport selection"]);return}if(i.selectedSports.some(ve=>ve.sport_id===k.id&&ve.category_id===(B==null?void 0:B.id)&&ve.sub_category_id===(V==null?void 0:V.id)&&ve.ageFrom===j&&ve.ageTo===y)){N(["This sport combination already exists"]);return}const X={sport_id:k.id,sport_name:k.name,category_id:B==null?void 0:B.id,category_name:B==null?void 0:B.name,sub_category_id:V==null?void 0:V.id,sub_category_name:V==null?void 0:V.name,ageFrom:j,ageTo:y,gender:d,gender_label:d,type:i.participationType};o(ve=>({...ve,selectedSports:[...ve.selectedSports,X]})),f(""),x(""),w(""),S(""),p(""),N([])},F=k=>{o(B=>({...B,selectedSports:B.selectedSports.filter((V,Y)=>Y!==k)}))},re=()=>{const k=[];return i.participationType||k.push("Please select participation type"),i.selectedSports.length===0&&k.push("Please add at least one sport"),k},T=async()=>{const k=re();if(k.length>0){N(k);return}I(!0);try{const B={email:s||(t==null?void 0:t.email),selectedSports:i.selectedSports},V=await se.saveSportAssignments(B);if(V.data&&V.data.success){const Y={email:s||(t==null?void 0:t.email),sports_selection:i,current_phase:4,completed_phases:[1,2,3,4],is_completed:!0};await se.saveStudentRegistrationProgress(Y),a({title:"Sports Selection Saved! ",description:"Your sports selection has been saved successfully. Registration complete!"}),n(i)}else throw new Error(V.data&&V.data.message||"Failed to save sports selection")}catch(B){console.error("Error saving sports selection:",B),a({title:"Error Saving Sports Selection",description:B instanceof Error?B.message:"Failed to save sports selection. Please try again.",variant:"destructive"}),N(["Failed to save sports selection. Please try again."])}finally{I(!1)}},b=()=>{const k=[];for(let B=9;B<=19;B++)k.push(B.toString());return k};return $?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(J,{className:"shadow-medium",children:e.jsx(Q,{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Loading sports data..."})]})})})}):e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-2xl font-bold text-primary",children:"Sports Selection"}),e.jsx(_e,{children:"Choose your participation type and select the sports you want to participate in"})]}),e.jsxs(Q,{className:"space-y-6",children:[v.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:v.map((k,B)=>e.jsx("li",{children:k},B))})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Select Type"})]}),e.jsxs(dn,{value:i.participationType,onValueChange:te,className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg hover:bg-muted/50 transition-smooth",children:[e.jsx(ht,{value:"team",id:"team"}),e.jsxs(R,{htmlFor:"team",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Team Sports"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-4 border rounded-lg hover:bg-muted/50 transition-smooth",children:[e.jsx(ht,{value:"individual",id:"individual"}),e.jsxs(R,{htmlFor:"individual",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Go,{className:"h-4 w-4"}),e.jsx("span",{children:"Individual Sports"})]})]})]})]}),i.participationType&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add Sports"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Currently adding: ",e.jsx("span",{className:"font-medium text-primary",children:i.participationType==="team"?"Team Sports":"Individual Sports"})]})]}),e.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Select Sport ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:u,onValueChange:k=>{f(k),x(""),w("")},children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Choose sport"})}),e.jsx(fe,{children:Array.isArray(ne)&&ne.map((k,B)=>e.jsx(q,{value:k.id.toString(),children:k.name},`sport-${k.id}-${B}`))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Gender"}),e.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[e.jsx("span",{className:"text-sm font-medium",children:d}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Gender is taken from your personal details"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Age From ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:j,onValueChange:k=>{S(k),y&&parseInt(k)>parseInt(y)&&p("")},children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Choose age from"})}),e.jsx(fe,{children:b().map(k=>e.jsxs(q,{value:k,children:[k," years"]},k))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Age To ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:y,onValueChange:p,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Choose age to"})}),e.jsx(fe,{children:b().filter(k=>!j||parseInt(k)>=parseInt(j)).map(k=>e.jsxs(q,{value:k,children:[k," years"]},k))})]})]})]}),i.participationType==="individual"&&u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Category"}),e.jsxs(xe,{value:m,onValueChange:k=>{x(k),w("")},children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Choose category"})}),e.jsx(fe,{children:E.map(k=>e.jsx(q,{value:k.id.toString(),children:k.name},k.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Sub-Category"}),e.jsxs(xe,{value:h,onValueChange:w,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Choose sub-category"})}),e.jsx(fe,{children:_.map(k=>e.jsx(q,{value:k.id.toString(),children:k.name},k.id))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(O,{onClick:de,disabled:!u||!j||!y,className:"bg-gradient-primary",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Sport"]})})]})]}),i.selectedSports.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Selected Sports"}),e.jsx("div",{className:"space-y-3",children:i.selectedSports.map((k,B)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/10 rounded-lg border border-accent/20",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(Ie,{className:"h-4 w-4 text-accent"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"font-medium text-foreground",children:k.sport_name}),e.jsx(me,{variant:"secondary",className:"text-xs",children:k.type==="team"?"Team":"Individual"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[k.category_name&&e.jsxs("div",{children:["Category: ",k.category_name]}),k.sub_category_name&&e.jsxs("div",{children:["Sub-Category: ",k.sub_category_name]}),e.jsxs("div",{children:["Age: ",k.ageFrom," - ",k.ageTo]}),e.jsxs("div",{children:["Gender: ",k.gender_label]})]})]})]}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>F(B),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(On,{className:"h-4 w-4"})})]},B))})]}),e.jsxs(ct,{children:[e.jsx(Ie,{className:"h-4 w-4"}),e.jsxs(dt,{children:[e.jsx("strong",{children:"Note:"}),' You can participate in both team and individual sports. Switch between "Team Sports" and "Individual Sports" to add different types - your previously selected sports will be preserved.']})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(O,{variant:"outline",onClick:r,children:"Back"}),e.jsx(O,{onClick:T,className:"bg-gradient-primary",disabled:P,children:P?"Saving...":"Save and Continue"})]})]})]})})};var q_="Separator",$g="horizontal",G_=["horizontal","vertical"],IS=c.forwardRef((t,s)=>{const{decorative:n,orientation:r=$g,...a}=t,i=Y_(r)?r:$g,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(Se.div,{"data-orientation":i,...l,...a,ref:s})});IS.displayName=q_;function Y_(t){return G_.includes(t)}var TS=IS;const Dr=c.forwardRef(({className:t,orientation:s="horizontal",decorative:n=!0,...r},a)=>e.jsx(TS,{ref:a,decorative:n,orientation:s,className:ae("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Dr.displayName=TS.displayName;const H_=({registrationData:t,email:s,onComplete:n,onBack:r})=>{var _,M,$,L,U,W,ne,H,z,ee,K,te,de,F,re,T,b,k,B;const[a,i]=c.useState(!1),[o,l]=c.useState(!1),[d,u]=c.useState(!1),[f,m]=c.useState(!1),[x,h]=c.useState([]),[w,j]=c.useState({requestedAmount:"",sponsorshipType:"",reason:""}),{toast:S}=Ee(),[y,p]=c.useState(null),v=()=>{var ve,G,le,je;if(y)return y.breakdown.total;const V=(((G=(ve=t.sports)==null?void 0:ve.selectedSports)==null?void 0:G.length)||0)*1e3,Y=((je=(le=t.parentMedical)==null?void 0:le.parents)==null?void 0:je.length)||0;let X=0;return Y===1?X=1e3:Y===2?X=1500:Y>=3&&(X=2e3),V+X},N=()=>{if(!a){h(["Please confirm that all details are correct"]);return}h([]),l(!0)},P=async V=>{if(V==="sponsorship"){u(!0);return}m(!0);try{if(await se.completeRegistration({email:s}),V==="pay_now"){const Y=v(),X=await se.createPaymentRequest({email:s,amount:Y,currency:"KES",fee_breakdown:(y==null?void 0:y.breakdown)||null});if(X.data&&X.data.success)S({title:"Payment Request Created! ",description:`Payment request for KES ${Y.toLocaleString()} has been created. Redirecting to payment gateway...`}),setTimeout(()=>{S({title:"Payment Successful! ",description:"Your registration and payment have been completed successfully."}),n()},2e3);else throw new Error("Failed to create payment request")}else S({title:"Registration Complete! ",description:"Your registration has been completed successfully. Payment will be handled by your institution."}),n()}catch(Y){console.error("Error completing registration:",Y),S({title:"Error",description:"Failed to complete registration. Please try again.",variant:"destructive"})}finally{m(!1)}},I=async()=>{const V=[];if(w.requestedAmount||V.push("Requested amount is required"),w.sponsorshipType||V.push("Sponsorship type is required"),w.reason||V.push("Reason for sponsorship is required"),V.length>0){h(V);return}m(!0),h([]);try{await new Promise(Y=>setTimeout(Y,2e3)),S({title:"Sponsorship Request Submitted",description:"Your sponsorship request has been submitted for review."}),n()}catch{S({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"})}finally{m(!1)}},{personalDetails:g,documents:C,parentMedical:E,sports:A}=t;return d?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-2xl font-bold text-primary",children:"Request Sponsorship"}),e.jsx(_e,{children:"Please provide details for your sponsorship request"})]}),e.jsxs(Q,{className:"space-y-6",children:[x.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:x.map((V,Y)=>e.jsx("li",{children:V},Y))})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"requestedAmount",children:["Requested Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"requestedAmount",type:"number",placeholder:"Enter amount (e.g., 50)",value:w.requestedAmount,onChange:V=>j(Y=>({...Y,requestedAmount:V.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Sponsorship Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(dn,{value:w.sponsorshipType,onValueChange:V=>j(Y=>({...Y,sponsorshipType:V})),className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"partial",id:"partial"}),e.jsx(R,{htmlFor:"partial",children:"Partial"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"full",id:"full"}),e.jsx(R,{htmlFor:"full",children:"Full"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"reason",children:["Reason for Sponsorship ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{id:"reason",placeholder:"Please explain why you need sponsorship and your current financial situation...",value:w.reason,onChange:V=>j(Y=>({...Y,reason:V.target.value})),rows:4})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>u(!1),children:"Back to Payment Options"}),e.jsx(O,{onClick:I,disabled:f,className:"bg-gradient-primary",children:f?"Submitting...":"Submit Request"})]})]})]})}):o?e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-2xl font-bold text-primary",children:"Choose Payment Option"}),e.jsx(_e,{children:"Select your preferred payment method to complete registration"})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs(J,{className:"border border-primary/30 bg-gradient-card",children:[e.jsx(ie,{children:e.jsx(oe,{className:"text-lg",children:"Payment Summary"})}),e.jsx(Q,{className:"space-y-2",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",((_=A==null?void 0:A.selectedSports)==null?void 0:_.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",y.breakdown.sports_fees.reduce((V,Y)=>V+Y.fee,0).toLocaleString()]})]}),y.breakdown.parent_fee>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",((M=E==null?void 0:E.parents)==null?void 0:M.length)||0," parents)"]}),e.jsxs("span",{children:["KES ",y.breakdown.parent_fee.toLocaleString()]})]}),e.jsx(Dr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",y.breakdown.total.toLocaleString()]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",(($=A==null?void 0:A.selectedSports)==null?void 0:$.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",((((L=A==null?void 0:A.selectedSports)==null?void 0:L.length)||0)*1e3).toLocaleString()]})]}),((U=E==null?void 0:E.parents)==null?void 0:U.length)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",(W=E==null?void 0:E.parents)==null?void 0:W.length," parents)"]}),e.jsxs("span",{children:["KES ",((ne=E==null?void 0:E.parents)==null?void 0:ne.length)===1?"1,000":((H=E==null?void 0:E.parents)==null?void 0:H.length)===2?"1,500":"2,000"]})]}),e.jsx(Dr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",v().toLocaleString()]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(J,{className:"border-2 border-primary/20 hover:border-primary/40 transition-colors cursor-pointer group",children:e.jsxs(Q,{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-3 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-colors",children:e.jsx(Xj,{className:"h-8 w-8 text-primary"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Pay Now"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pay immediately using card or online payment"})]}),e.jsx(O,{className:"w-full bg-gradient-primary",onClick:()=>P("pay_now"),disabled:f,children:f?"Processing...":"Pay KES "+v().toLocaleString()})]})}),e.jsx(J,{className:"border-2 border-accent/20 hover:border-accent/40 transition-colors cursor-pointer group",children:e.jsxs(Q,{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-3 rounded-full bg-accent/10 group-hover:bg-accent/20 transition-colors",children:e.jsx(wp,{className:"h-8 w-8 text-accent"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Get Sponsorship"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Request partial or full sponsorship for registration"})]}),e.jsx(O,{variant:"outline",className:"w-full border-accent text-accent hover:bg-accent hover:text-accent-foreground",onClick:()=>P("sponsorship"),disabled:f,children:f?"Processing...":"Request Sponsorship"})]})}),e.jsx(J,{className:"border-2 border-secondary/20 hover:border-secondary/40 transition-colors cursor-pointer group",children:e.jsxs(Q,{className:"p-6 text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-3 rounded-full bg-secondary/10 group-hover:bg-secondary/20 transition-colors",children:e.jsx(vr,{className:"h-8 w-8 text-secondary-foreground"})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Paid by Institution"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your institution will handle the payment"})]}),e.jsx(O,{variant:"secondary",className:"w-full",onClick:()=>P("institution"),disabled:f,children:f?"Processing...":"Continue"})]})})]}),e.jsx("div",{className:"flex justify-between pt-4",children:e.jsx(O,{variant:"outline",onClick:()=>l(!1),children:"Back to Review"})})]})]})}):e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-2xl font-bold text-primary",children:"Review Your Information"}),e.jsx(_e,{children:"Please review all your information before proceeding to payment"})]}),e.jsxs(Q,{className:"space-y-8",children:[x.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:x.map((V,Y)=>e.jsx("li",{children:V},Y))})})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Be,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Student Information"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsxs("span",{className:"font-medium",children:[g==null?void 0:g.firstName," ",g==null?void 0:g.middleName," ",g==null?void 0:g.lastName]})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("span",{className:"font-medium",children:g==null?void 0:g.email})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"}),e.jsx("span",{className:"font-medium",children:g==null?void 0:g.dateOfBirth})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Gender:"}),e.jsx("span",{className:"font-medium",children:g==null?void 0:g.gender})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{className:"font-medium",children:g==null?void 0:g.phoneNumber})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Student ID:"}),e.jsx("span",{className:"font-medium",children:g==null?void 0:g.studentId})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1 col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Institution:"}),e.jsx("span",{className:"font-medium",children:(g==null?void 0:g.instituteName)==="Other"?g==null?void 0:g.otherInstitute:g==null?void 0:g.instituteName})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(po,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Parent & Medical Information"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Parents Attending:"}),e.jsx("span",{className:"font-medium capitalize",children:E==null?void 0:E.parentsAttending})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Medical Facilities:"}),e.jsx("span",{className:"font-medium capitalize",children:E==null?void 0:E.medicalFacilities})]}),(E==null?void 0:E.parentsAttending)==="yes"&&((z=E==null?void 0:E.parents)==null?void 0:z.length)>0&&e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Parent Details:"}),E.parents.map((V,Y)=>e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 ml-4 p-2 bg-muted/30 rounded",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("span",{children:V.name})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Relation:"}),e.jsx("span",{children:V.relation})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{children:V.phone})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("span",{children:V.email})]})]},Y))]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Allergies/Conditions:"}),e.jsx("span",{className:"font-medium capitalize",children:E==null?void 0:E.allergiesConditions})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ie,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Sports Selection"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsxs("span",{className:"font-medium capitalize",children:[A==null?void 0:A.participationType," Sports"]})]}),e.jsxs("div",{className:"flex justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Sports:"}),e.jsx("span",{className:"font-medium",children:((ee=A==null?void 0:A.selectedSports)==null?void 0:ee.length)||0})]}),((K=A==null?void 0:A.selectedSports)==null?void 0:K.length)>0&&e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx("span",{className:"text-muted-foreground font-medium",children:"Selected Sports:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 ml-4",children:A.selectedSports.map((V,Y)=>e.jsxs("div",{className:"flex justify-between text-xs bg-muted/30 rounded p-2",children:[e.jsx("span",{children:V.sport}),e.jsx(me,{variant:"secondary",className:"text-xs",children:V.category})]},Y))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(vt,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Documents"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Student ID Image:"}),e.jsxs(me,{variant:"secondary",className:"text-xs",children:[e.jsx(vt,{className:"h-3 w-3 mr-1"}),"Uploaded"]})]}),e.jsxs("div",{className:"flex items-center justify-between border-b border-border/50 pb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Age Proof Document:"}),e.jsxs(me,{variant:"secondary",className:"text-xs",children:[e.jsx(vt,{className:"h-3 w-3 mr-1"}),"Uploaded"]})]})]})]})]}),e.jsxs(J,{className:"border border-primary/30 bg-gradient-card",children:[e.jsx(ie,{children:e.jsxs(oe,{className:"text-lg flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"Payment Summary"})]})}),e.jsx(Q,{className:"space-y-4",children:e.jsx("div",{className:"space-y-2",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",((te=A==null?void 0:A.selectedSports)==null?void 0:te.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",y.breakdown.sports_fees.reduce((V,Y)=>V+Y.fee,0).toLocaleString()]})]}),y.breakdown.parent_fee>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",((de=E==null?void 0:E.parents)==null?void 0:de.length)||0," parents)"]}),e.jsxs("span",{children:["KES ",y.breakdown.parent_fee.toLocaleString()]})]}),e.jsx(Dr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",y.breakdown.total.toLocaleString()]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Sports Fee (",((F=A==null?void 0:A.selectedSports)==null?void 0:F.length)||0," sports)"]}),e.jsxs("span",{children:["KES ",((((re=A==null?void 0:A.selectedSports)==null?void 0:re.length)||0)*1e3).toLocaleString()]})]}),((T=E==null?void 0:E.parents)==null?void 0:T.length)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Parent Fee (",(b=E==null?void 0:E.parents)==null?void 0:b.length," parents)"]}),e.jsxs("span",{children:["KES ",((k=E==null?void 0:E.parents)==null?void 0:k.length)===1?"1,000":((B=E==null?void 0:E.parents)==null?void 0:B.length)===2?"1,500":"2,000"]})]}),e.jsx(Dr,{}),e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{className:"text-primary",children:["KES ",v().toLocaleString()]})]})]})})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start space-x-3 p-4 border rounded-lg",children:[e.jsx(Ls,{id:"confirm",checked:a,onCheckedChange:V=>i(!!V)}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"confirm",className:"text-sm font-medium cursor-pointer",children:"I confirm that all the information provided above is correct and accurate"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Please review all information carefully. Changes after payment may require additional processing."})]})]})}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(O,{variant:"outline",onClick:r,children:"Back"}),e.jsxs(O,{onClick:N,disabled:!a,className:"bg-gradient-primary min-w-[200px]",children:[e.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Proceed to Payment"]})]})]})]})})};var _d="Dialog",[_S,kS]=Ft(_d),[W_,Ws]=_S(_d),MS=t=>{const{__scopeDialog:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=c.useRef(null),d=c.useRef(null),[u,f]=un({prop:r,defaultProp:a??!1,onChange:i,caller:_d});return e.jsx(W_,{scope:s,triggerRef:l,contentRef:d,contentId:zs(),titleId:zs(),descriptionId:zs(),open:u,onOpenChange:f,onOpenToggle:c.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};MS.displayName=_d;var OS="DialogTrigger",FS=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=Ws(OS,n),i=Ce(s,a.triggerRef);return e.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":df(a.open),...r,ref:i,onClick:ue(t.onClick,a.onOpenToggle)})});FS.displayName=OS;var lf="DialogPortal",[K_,DS]=_S(lf,{forceMount:void 0}),LS=t=>{const{__scopeDialog:s,forceMount:n,children:r,container:a}=t,i=Ws(lf,s);return e.jsx(K_,{scope:s,forceMount:n,children:c.Children.map(r,o=>e.jsx(Pt,{present:n||i.open,children:e.jsx(Bo,{asChild:!0,container:a,children:o})}))})};LS.displayName=lf;var Mc="DialogOverlay",$S=c.forwardRef((t,s)=>{const n=DS(Mc,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=Ws(Mc,t.__scopeDialog);return i.modal?e.jsx(Pt,{present:r||i.open,children:e.jsx(Q_,{...a,ref:s})}):null});$S.displayName=Mc;var J_=Qr("DialogOverlay.RemoveScroll"),Q_=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=Ws(Mc,n);return e.jsx(Cd,{as:J_,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(Se.div,{"data-state":df(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),ta="DialogContent",US=c.forwardRef((t,s)=>{const n=DS(ta,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=Ws(ta,t.__scopeDialog);return e.jsx(Pt,{present:r||i.open,children:i.modal?e.jsx(X_,{...a,ref:s}):e.jsx(Z_,{...a,ref:s})})});US.displayName=ta;var X_=c.forwardRef((t,s)=>{const n=Ws(ta,t.__scopeDialog),r=c.useRef(null),a=Ce(s,n.contentRef,r);return c.useEffect(()=>{const i=r.current;if(i)return ef(i)},[]),e.jsx(BS,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault())})}),Z_=c.forwardRef((t,s)=>{const n=Ws(ta,t.__scopeDialog),r=c.useRef(!1),a=c.useRef(!1);return e.jsx(BS,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var d,u;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),BS=c.forwardRef((t,s)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Ws(ta,n),d=c.useRef(null),u=Ce(s,d);return Xp(),e.jsxs(e.Fragment,{children:[e.jsx(wd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(di,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":df(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(tk,{titleId:l.titleId}),e.jsx(nk,{contentRef:d,descriptionId:l.descriptionId})]})]})}),cf="DialogTitle",zS=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=Ws(cf,n);return e.jsx(Se.h2,{id:a.titleId,...r,ref:s})});zS.displayName=cf;var VS="DialogDescription",qS=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=Ws(VS,n);return e.jsx(Se.p,{id:a.descriptionId,...r,ref:s})});qS.displayName=VS;var GS="DialogClose",YS=c.forwardRef((t,s)=>{const{__scopeDialog:n,...r}=t,a=Ws(GS,n);return e.jsx(Se.button,{type:"button",...r,ref:s,onClick:ue(t.onClick,()=>a.onOpenChange(!1))})});YS.displayName=GS;function df(t){return t?"open":"closed"}var HS="DialogTitleWarning",[ek,WS]=zC(HS,{contentName:ta,titleName:cf,docsSlug:"dialog"}),tk=({titleId:t})=>{const s=WS(HS),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return c.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},sk="DialogDescriptionWarning",nk=({contentRef:t,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${WS(sk).contentName}}.`;return c.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,t,s]),null},uf=MS,mf=FS,hf=LS,Wo=$S,Ko=US,Jo=zS,Qo=qS,kd=YS;const pf=uf,KS=mf,rk=hf,JS=c.forwardRef(({className:t,...s},n)=>e.jsx(Wo,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));JS.displayName=Wo.displayName;const ak=ia("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Md=c.forwardRef(({side:t="right",className:s,children:n,...r},a)=>e.jsxs(rk,{children:[e.jsx(JS,{}),e.jsxs(Ko,{ref:a,className:ae(ak({side:t}),s),...r,children:[n,e.jsxs(kd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(On,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Md.displayName=Ko.displayName;const ik=c.forwardRef(({className:t,...s},n)=>e.jsx(Jo,{ref:n,className:ae("text-lg font-semibold text-foreground",t),...s}));ik.displayName=Jo.displayName;const ok=c.forwardRef(({className:t,...s},n)=>e.jsx(Qo,{ref:n,className:ae("text-sm text-muted-foreground",t),...s}));ok.displayName=Qo.displayName;const lk=()=>{const t=Dt(),{toast:s}=Ee(),[n,r]=c.useState(()=>{const w=localStorage.getItem("student_registration_step"),j=localStorage.getItem("student_registration_email"),S=localStorage.getItem("student_registration_data");if(console.log(" State restoration:",{savedStep:w,savedEmail:j,savedData:S}),S)try{if(JSON.parse(S).email){if(w==="userType")return"email";if(w==="email")return"email";if(w){const p=parseInt(w);if(p>=1&&p<=5)return p}return 1}}catch(y){console.error("Error parsing saved data:",y)}return j?"email":"userType"}),[a,i]=c.useState(()=>{const w=localStorage.getItem("student_registration_completed_steps");return w?JSON.parse(w):[]}),[o,l]=c.useState(()=>{const w=localStorage.getItem("student_registration_data");return w?JSON.parse(w):{userType:"",email:"",password:"",personalDetails:null,documents:null,parentMedical:null,sports:null}});c.useEffect(()=>{localStorage.setItem("student_registration_step",n.toString())},[n]),c.useEffect(()=>{localStorage.setItem("student_registration_completed_steps",JSON.stringify(a))},[a]),c.useEffect(()=>{localStorage.setItem("student_registration_data",JSON.stringify(o))},[o]),c.useEffect(()=>{const w=localStorage.getItem("student_registration_email");w&&o.email===w&&!o.personalDetails&&(console.log(" Auto-loading existing data for:",w),u(w))},[o.email,o.personalDetails]);const d=w=>{if(w==="institution"){t("/institution/register");return}l(j=>({...j,userType:w})),r("email")},u=async w=>{l(j=>({...j,email:w})),localStorage.setItem("student_registration_email",w);try{const j=await se.getStudentPrefillData(w);if(j.data&&j.data.success&&j.data.data){const S=j.data.data;l(y=>({...y,personalDetails:{firstName:S.fname||"",middleName:S.mname||"",lastName:S.lname||"",email:S.email||w,phoneNumber:S.phone||"",address:S.address||"",dateOfBirth:S.dob||"",gender:S.gender||"",studentId:S.student_id||"",instituteName:S.institute_name||"",instituteType:S.institute_type||""},sports:{selectedSports:S.sports||[],experience:"",achievements:"",preferences:""}})),s({title:"Existing Data Found!",description:`Welcome back! We found your existing data from ${S.institute_name}. Please review and complete any missing information.`})}else s({title:"Email Verified Successfully",description:"Please complete your personal details."})}catch(j){console.error("Error checking for existing data:",j),s({title:"Email Verified Successfully",description:"Please complete your personal details."})}r(1)},f=(w,j)=>{const S=w===1?"personalDetails":w===2?"documents":w===3?"parentMedical":w===4?"sports":null;S&&l(y=>({...y,[S]:j,...w===1&&{personalDetails:{...j,email:y.email}}})),a.includes(w)||i(y=>[...y,w]),w<5&&r(w+1)},m=w=>{w===1?window.confirm("Are you sure you want to go back? You will lose your current progress and be redirected to the login page.")&&(localStorage.removeItem("student_registration_step"),localStorage.removeItem("student_registration_email"),localStorage.removeItem("student_registration_data"),localStorage.removeItem("student_registration_completed_steps"),t("/login")):r(w-1)},x=()=>{r("userType")},h=()=>{localStorage.setItem("registrationData",JSON.stringify(o)),localStorage.removeItem("student_registration_step"),localStorage.removeItem("student_registration_email"),localStorage.removeItem("student_registration_data"),localStorage.removeItem("student_registration_completed_steps"),s({title:"Registration Complete! ",description:"Welcome! Your account has been created successfully."}),t("/login")};return n==="userType"?e.jsx(ES,{onTypeSelect:d}):n==="email"?e.jsx(AS,{onComplete:u,onBack:x}):e.jsxs("div",{className:"min-h-screen bg-background flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:hidden sticky top-0 z-30 bg-background/80 backdrop-blur border-b",children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Registration"}),e.jsxs(pf,{children:[e.jsx(KS,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Pp,{className:"h-4 w-4"})," Steps"]})}),e.jsx(Md,{side:"left",className:"p-0 w-80 max-w-[85vw]",children:e.jsx(Lg,{showOnMobile:!0,currentStep:n,completedSteps:a})})]})]})}),e.jsx(Lg,{currentStep:n,completedSteps:a}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[n===1&&e.jsx(U_,{initialData:{email:o.email,...o.personalDetails||{}},onComplete:w=>f(1,w),onBack:()=>m(1)}),n===2&&e.jsx(B_,{initialData:o.documents,email:o.email,onComplete:w=>f(2,w),onBack:()=>m(2)}),n===3&&e.jsx(z_,{initialData:o.parentMedical,email:o.email,onComplete:w=>f(3,w),onBack:()=>m(3)}),n===4&&e.jsx(V_,{initialData:o.sports,email:o.email,onComplete:w=>f(4,w),onBack:()=>m(4)}),n===5&&e.jsx(H_,{registrationData:o,email:o.email,onComplete:h,onBack:()=>m(5)})]})})]})},ck=()=>{const t=Dt(),{toast:s}=Ee(),{loginWithOTP:n}=Lt(),[r,a]=c.useState(""),[i,o]=c.useState(""),[l,d]=c.useState("email"),[u,f]=c.useState(!1),[m,x]=c.useState(""),[h,w]=c.useState(""),j=async()=>{var p;if(!r){x("Email is required");return}f(!0),x("");try{const N=(await se.sendInstitutionOTP(r,"Institution","login")).data,P=((p=N.data)==null?void 0:p.otp_id)||N.otp_id||N.id;w(P),d("otp"),s({title:"OTP Sent! ",description:`Verification code sent to ${r}. Please check your email inbox.`})}catch(v){console.log("Error details:",v);const N=(v==null?void 0:v.message)||"Failed to send OTP. Please try again.";x(N),s({title:"OTP Send Failed",description:N,variant:"destructive"})}finally{f(!1)}},S=async()=>{if(!i){x("OTP is required");return}f(!0),x("");try{console.log("Verifying OTP for login with:",{otpId:h,otp:i});const v=(await se.verifyOTP(h,i)).data;if(console.log("OTP Verification Response:",v),v.success)if(v.role==="institution"){try{const I=(await se.loadRegistrationCheckpoint(r)).data;if(I.success&&I.data.step>0){s({title:"Registration Incomplete",description:"Please complete your registration process first.",variant:"destructive"}),setTimeout(()=>{t("/institution/register")},2e3);return}}catch{console.log("Checkpoint check failed, proceeding with login")}if(await n(v))s({title:"Login Successful! ",description:"Welcome back to your institution dashboard."}),t("/institution");else throw new Error("Failed to complete login process")}else s({title:"Not Registered",description:"This email is not registered as an institution. Please register first.",variant:"destructive"}),setTimeout(()=>{t("/institution/register")},2e3);else throw new Error(v.message||"OTP verification failed")}catch(p){console.log("OTP Verification Error:",p);const v=(p==null?void 0:p.message)||"Failed to verify OTP";x(v),s({title:"Verification Failed",description:v,variant:"destructive"})}finally{f(!1)}},y=()=>{l==="otp"?(d("email"),o("")):t("/login")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:e.jsxs(J,{className:"w-full max-w-md shadow-large",children:[e.jsxs(ie,{className:"text-center",children:[e.jsxs(oe,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent flex items-center justify-center gap-2",children:[e.jsx(Ys,{className:"h-6 w-6"}),"Institution Login"]}),e.jsxs(_e,{children:[l==="email"&&"Enter your email to receive a login code",l==="otp"&&"Enter the OTP sent to your email"]})]}),e.jsxs(Q,{className:"space-y-4",children:[m&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:m})}),l==="email"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"email",children:"Institution Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"institution@example.com",value:r,onChange:p=>a(p.target.value),className:"pl-10"})]})]}),e.jsx(O,{onClick:j,className:"w-full",disabled:u,children:u?"Sending OTP...":"Send Login Code"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"otp",children:"Enter OTP"}),e.jsxs("div",{className:"relative",children:[e.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"otp",value:i,onChange:p=>o(p.target.value),placeholder:"Enter 6-digit OTP",className:"pl-10 text-center text-lg tracking-widest",maxLength:6})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["OTP sent to: ",e.jsx("span",{className:"font-medium",children:r})]})]}),e.jsx(O,{onClick:S,className:"w-full",disabled:u,children:u?"Verifying...":"Login"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(O,{variant:"outline",onClick:y,className:"flex items-center gap-2",children:[e.jsx(Tn,{className:"h-4 w-4"}),"Back"]}),l==="email"&&e.jsx(ts,{to:"/institution/register/phase1",className:"text-sm text-primary hover:underline font-medium",children:"Need to register?"})]})]})]})})},dk=()=>{const t=Dt(),s=Hs(),{login:n,loginWithOTP:r}=Lt(),{toast:a}=Ee(),[i,o]=c.useState(!1),[l,d]=c.useState(!1),[u,f]=c.useState(!1),[m,x]=c.useState("student"),[h,w]=c.useState("email");c.useEffect(()=>{s.pathname==="/login"&&x("student")},[s.pathname]);const[j,S]=c.useState({email:"",password:"",otp:""}),[y,p]=c.useState(""),v=(A,_)=>{S(M=>({...M,[A]:_}))},N=A=>{x(A),w("email"),S({email:"",password:"",otp:""})},P=async A=>{var _;A.preventDefault(),o(!0);try{if(m==="admin")if(await n(j.email,j.password))localStorage.setItem("adminSession",JSON.stringify({email:j.email,role:"admin"})),a({title:"Welcome Back!",description:"Successfully logged into admin portal."}),t("/admin");else{a({title:"Login Failed",description:"Invalid admin credentials. Please try again.",variant:"destructive"});return}else try{let M;if(m==="student"?M=await se.sendStudentOTP(j.email,"Student","login"):M=await se.sendInstitutionOTP(j.email,"Institution","login"),M.data){const $=M.data;p(((_=$.data)==null?void 0:_.otp_id)||$.otp_id),a({title:"OTP Sent! ",description:`Verification code sent to ${j.email}. Please check your email inbox.`}),w("otp")}else throw new Error("Failed to send OTP")}catch(M){console.error("OTP send failed:",M);const $=M instanceof Error?M.message:"Failed to send OTP. Please try again.";a({title:"OTP Send Failed",description:$,variant:"destructive"})}}catch(M){const $=M instanceof Error?M.message:"An error occurred. Please try again.";a({title:m==="admin"?"Login Error":"Error",description:$,variant:"destructive"})}finally{o(!1)}},I=async A=>{A.preventDefault(),o(!0);try{const _=await se.verifyOTP(y,j.otp);if(_.data){const M=_.data;if(await r(M)){const L={student:"Welcome to your student dashboard!",institution:"Welcome to your institution dashboard."},U={student:"/dashboard",institution:"/institution"};a({title:"Login Successful!",description:L[m]}),t(U[m])}else a({title:"Login Failed",description:"Failed to complete login process. Please try again.",variant:"destructive"})}else throw new Error("Invalid OTP")}catch(_){console.error("OTP verification failed:",_);const M=_ instanceof Error?_.message:"Please check your code and try again.";a({title:"OTP Verification Failed",description:M,variant:"destructive"})}finally{o(!1)}},g=A=>{switch(A){case"admin":return e.jsx(Cc,{className:"h-5 w-5"});case"institution":return e.jsx(Ys,{className:"h-5 w-5"});case"student":return e.jsx(Be,{className:"h-5 w-5"})}},C=()=>{switch(m){case"admin":return"Admin Portal";case"institution":return"Institution Portal";case"student":return"Student Portal"}},E=()=>{if(h==="otp")return"Enter the verification code sent to your email";switch(m){case"admin":return"Enter your credentials to access admin panel";case"institution":return"Enter your email to receive an OTP";case"student":return"Enter your email to receive an OTP"}};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-4xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"text-center md:text-left space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 mb-6",children:[e.jsx(Ie,{className:"h-8 w-8 text-primary-glow"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:"Sports Portal"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Id,alt:"Sports Event Management",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center px-6",children:[e.jsx("div",{className:"mb-4",children:g(m)}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:C()}),e.jsxs("p",{className:"text-xl opacity-90 mb-4",children:[m==="admin"&&"System Administration",m==="institution"&&"Manage your sports events effortlessly",m==="student"&&"Access your sports event dashboard"]}),e.jsxs("div",{className:"flex justify-center space-x-4 text-sm opacity-80",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-accent-glow rounded-full"}),e.jsxs("span",{children:[m==="admin"&&"Full Control",m==="institution"&&"Event Management",m==="student"&&"Event Registration"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-accent-glow rounded-full"}),e.jsxs("span",{children:[m==="admin"&&"Analytics",m==="institution"&&"Student Management",m==="student"&&"Live Updates"]})]})]})]})})]})]}),e.jsxs(J,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(ie,{className:"text-center pb-6",children:[e.jsx(oe,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:h==="otp"?"Verify OTP":"Sign In"}),e.jsx(_e,{className:"text-muted-foreground",children:E()})]}),e.jsxs(Q,{className:"space-y-6",children:[h==="email"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(R,{className:"text-sm font-medium",children:"Select Your Role"}),e.jsxs(dn,{value:m,onValueChange:A=>N(A),className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-muted/50 p-3 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(ht,{value:"student",id:"student"}),e.jsxs(R,{htmlFor:"student",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Student"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-muted/50 p-3 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(ht,{value:"admin",id:"admin"}),e.jsxs(R,{htmlFor:"admin",className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(Cc,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Admin"})]})]})]})]}),h==="email"?e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:`Enter your ${m} email`,value:j.email,onChange:A=>v("email",A.target.value),className:"pl-10",required:!0})]})]}),m==="admin"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"password",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"password",type:l?"text":"password",placeholder:"Enter your password",value:j.password,onChange:A=>v("password",A.target.value),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l?e.jsx($P,{className:"h-4 w-4"}):e.jsx(us,{className:"h-4 w-4"})})]})]}),m==="admin"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ls,{id:"remember",checked:u,onCheckedChange:A=>f(!!A)}),e.jsx(R,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"Remember me"})]}),e.jsx(ts,{to:"#",className:"text-sm text-primary hover:underline font-medium",children:"Forgot password?"})]}),e.jsx(O,{type:"submit",className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:i,children:i?m==="admin"?"Signing In...":"Sending OTP...":m==="admin"?"Sign In":"Send OTP"})]}):e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["OTP sent to: ",e.jsx("span",{className:"font-medium",children:j.email})]}),e.jsxs("div",{className:"relative",children:[e.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Enter 6-digit OTP from email",value:j.otp,onChange:A=>v("otp",A.target.value),className:"pl-10 text-center text-lg tracking-widest",maxLength:6,required:!0})]})]}),e.jsx(O,{type:"submit",className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:i,children:i?"Verifying...":"Verify OTP"}),e.jsx(O,{type:"button",variant:"outline",onClick:()=>w("email"),className:"w-full",children:"Back to Email"})]}),m==="admin"&&h==="email"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t border-border"})})})}),h==="email"&&e.jsxs("div",{className:"text-center text-sm space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Don't have an account? "}),m==="student"&&e.jsx(ts,{to:"/register",className:"text-primary hover:underline font-medium",children:"Register Now"}),m==="admin"&&e.jsx("span",{className:"text-muted-foreground",children:"Contact system administrator"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Institution?",e.jsx(ts,{to:"/institution/login",className:"text-primary hover:underline font-medium ml-1",children:"Login"})," or ",e.jsx(ts,{to:"/institution/register/phase1",className:"text-primary hover:underline font-medium",children:"Register"})]})]})]})]})]})})})},Ju=768;function Od(){const[t,s]=c.useState(void 0);return c.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ju-1}px)`),r=()=>{s(window.innerWidth<Ju)};return n.addEventListener("change",r),s(window.innerWidth<Ju),()=>n.removeEventListener("change",r)},[]),!!t}function Ug({className:t,...s}){return e.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",t),...s})}const uk="sidebar:state",mk=60*60*24*7,hk="16rem",pk="18rem",fk="3rem",xk="b",QS=c.createContext(null);function Fd(){const t=c.useContext(QS);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Dd=c.forwardRef(({defaultOpen:t=!0,open:s,onOpenChange:n,className:r,style:a,children:i,...o},l)=>{const d=Od(),[u,f]=c.useState(!1),[m,x]=c.useState(t),h=s??m,w=c.useCallback(p=>{const v=typeof p=="function"?p(h):p;n?n(v):x(v),document.cookie=`${uk}=${v}; path=/; max-age=${mk}`},[n,h]),j=c.useCallback(()=>d?f(p=>!p):w(p=>!p),[d,w,f]);c.useEffect(()=>{const p=v=>{v.key===xk&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),j())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[j]);const S=h?"expanded":"collapsed",y=c.useMemo(()=>({state:S,open:h,setOpen:w,isMobile:d,openMobile:u,setOpenMobile:f,toggleSidebar:j}),[S,h,w,d,u,f,j]);return e.jsx(QS.Provider,{value:y,children:e.jsx(BN,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":hk,"--sidebar-width-icon":fk,...a},className:ae("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...o,children:i})})})});Dd.displayName="SidebarProvider";const Ld=c.forwardRef(({side:t="left",variant:s="sidebar",collapsible:n="offcanvas",className:r,children:a,...i},o)=>{const{isMobile:l,state:d,openMobile:u,setOpenMobile:f}=Fd();return n==="none"?e.jsx("div",{className:ae("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:a}):l?e.jsx(pf,{open:u,onOpenChange:f,...i,children:e.jsx(Md,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":pk},side:t,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):e.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?n:"","data-variant":s,"data-side":t,children:[e.jsx("div",{className:ae("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",s==="floating"||s==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:ae("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",s==="floating"||s==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Ld.displayName="Sidebar";const $d=c.forwardRef(({className:t,onClick:s,...n},r)=>{const{toggleSidebar:a}=Fd();return e.jsxs(O,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ae("h-7 w-7",t),onClick:i=>{s==null||s(i),a()},...n,children:[e.jsx(Pp,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});$d.displayName="SidebarTrigger";const gk=c.forwardRef(({className:t,...s},n)=>{const{toggleSidebar:r}=Fd();return e.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ae("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...s})});gk.displayName="SidebarRail";const Ud=c.forwardRef(({className:t,...s},n)=>e.jsx("main",{ref:n,className:ae("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...s}));Ud.displayName="SidebarInset";const vk=c.forwardRef(({className:t,...s},n)=>e.jsx(D,{ref:n,"data-sidebar":"input",className:ae("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...s}));vk.displayName="SidebarInput";const Bd=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"header",className:ae("flex flex-col gap-2 p-2",t),...s}));Bd.displayName="SidebarHeader";const yk=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"footer",className:ae("flex flex-col gap-2 p-2",t),...s}));yk.displayName="SidebarFooter";const jk=c.forwardRef(({className:t,...s},n)=>e.jsx(Dr,{ref:n,"data-sidebar":"separator",className:ae("mx-2 w-auto bg-sidebar-border",t),...s}));jk.displayName="SidebarSeparator";const zd=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"content",className:ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...s}));zd.displayName="SidebarContent";const Vd=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group",className:ae("relative flex w-full min-w-0 flex-col p-2",t),...s}));Vd.displayName="SidebarGroup";const qd=c.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?ci:"div";return e.jsx(a,{ref:r,"data-sidebar":"group-label",className:ae("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});qd.displayName="SidebarGroupLabel";const Nk=c.forwardRef(({className:t,asChild:s=!1,...n},r)=>{const a=s?ci:"button";return e.jsx(a,{ref:r,"data-sidebar":"group-action",className:ae("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});Nk.displayName="SidebarGroupAction";const Gd=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"group-content",className:ae("w-full text-sm",t),...s}));Gd.displayName="SidebarGroupContent";const Yd=c.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu",className:ae("flex w-full min-w-0 flex-col gap-1",t),...s}));Yd.displayName="SidebarMenu";const Hd=c.forwardRef(({className:t,...s},n)=>e.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ae("group/menu-item relative",t),...s}));Hd.displayName="SidebarMenuItem";const Sk=ia("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Wd=c.forwardRef(({asChild:t=!1,isActive:s=!1,variant:n="default",size:r="default",tooltip:a,className:i,...o},l)=>{const d=t?ci:"button",{isMobile:u,state:f}=Fd(),m=e.jsx(d,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":s,className:ae(Sk({variant:n,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),e.jsxs(JR,{children:[e.jsx(QR,{asChild:!0,children:m}),e.jsx(zN,{side:"right",align:"center",hidden:f!=="collapsed"||u,...a})]})):m});Wd.displayName="SidebarMenuButton";const wk=c.forwardRef(({className:t,asChild:s=!1,showOnHover:n=!1,...r},a)=>{const i=s?ci:"button";return e.jsx(i,{ref:a,"data-sidebar":"menu-action",className:ae("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});wk.displayName="SidebarMenuAction";const bk=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ae("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...s}));bk.displayName="SidebarMenuBadge";const Ck=c.forwardRef(({className:t,showIcon:s=!1,...n},r)=>{const a=c.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ae("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[s&&e.jsx(Ug,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(Ug,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});Ck.displayName="SidebarMenuSkeleton";const Pk=c.forwardRef(({className:t,...s},n)=>e.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ae("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...s}));Pk.displayName="SidebarMenuSub";const Ek=c.forwardRef(({...t},s)=>e.jsx("li",{ref:s,...t}));Ek.displayName="SidebarMenuSubItem";const Ak=c.forwardRef(({asChild:t=!1,size:s="md",isActive:n,className:r,...a},i)=>{const o=t?ci:"a";return e.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":s,"data-active":n,className:ae("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",s==="sm"&&"text-xs",s==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});Ak.displayName="SidebarMenuSubButton";const Rk=[{title:"Dashboard",url:"/dashboard",icon:bp},{title:"Profile Management",url:"/dashboard/profile",icon:Be},{title:"Sports Registration",url:"/dashboard/sports-registration",icon:Ie},{title:"Payments & Sponsorship",url:"/dashboard/student-payments",icon:Xt},{title:"Notifications",url:"/dashboard/notifications",icon:Sc}];function Ik(){const t=Hs(),s=r=>t.pathname===r,n=r=>s(r)?"bg-primary text-primary-foreground font-medium shadow-soft":"hover:bg-muted/50";return e.jsxs(Ld,{collapsible:"offcanvas",children:[e.jsx(Bd,{className:"border-b border-border p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:e.jsx(qP,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-foreground",children:"Sports Portal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Student Dashboard"})]})]})}),e.jsx(zd,{children:e.jsxs(Vd,{children:[e.jsx(qd,{children:"Main Menu"}),e.jsx(Gd,{children:e.jsx(Yd,{children:Rk.map(r=>e.jsx(Hd,{children:e.jsx(Wd,{asChild:!0,children:e.jsxs(Jp,{to:r.url,className:n(r.url),children:[e.jsx(r.icon,{className:"h-4 w-4"}),e.jsx("span",{children:r.title})]})})},r.title))})})]})})]})}var XS={exports:{}},ZS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=c;function Tk(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var _k=typeof Object.is=="function"?Object.is:Tk,kk=ni.useState,Mk=ni.useEffect,Ok=ni.useLayoutEffect,Fk=ni.useDebugValue;function Dk(t,s){var n=s(),r=kk({inst:{value:n,getSnapshot:s}}),a=r[0].inst,i=r[1];return Ok(function(){a.value=n,a.getSnapshot=s,Qu(a)&&i({inst:a})},[t,n,s]),Mk(function(){return Qu(a)&&i({inst:a}),t(function(){Qu(a)&&i({inst:a})})},[t]),Fk(n),n}function Qu(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!_k(t,n)}catch{return!0}}function Lk(t,s){return s()}var $k=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lk:Dk;ZS.useSyncExternalStore=ni.useSyncExternalStore!==void 0?ni.useSyncExternalStore:$k;XS.exports=ZS;var Uk=XS.exports;function Bk(){return Uk.useSyncExternalStore(zk,()=>!0,()=>!1)}function zk(){return()=>{}}var ff="Avatar",[Vk]=Ft(ff),[qk,ew]=Vk(ff),tw=c.forwardRef((t,s)=>{const{__scopeAvatar:n,...r}=t,[a,i]=c.useState("idle");return e.jsx(qk,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(Se.span,{...r,ref:s})})});tw.displayName=ff;var sw="AvatarImage",nw=c.forwardRef((t,s)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=t,o=ew(sw,n),l=Gk(r,i),d=lt(u=>{a(u),o.onImageLoadingStatusChange(u)});return mt(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(Se.img,{...i,ref:s,src:r}):null});nw.displayName=sw;var rw="AvatarFallback",aw=c.forwardRef((t,s)=>{const{__scopeAvatar:n,delayMs:r,...a}=t,i=ew(rw,n),[o,l]=c.useState(r===void 0);return c.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(Se.span,{...a,ref:s}):null});aw.displayName=rw;function Bg(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Gk(t,{referrerPolicy:s,crossOrigin:n}){const r=Bk(),a=c.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=c.useState(()=>Bg(i,t));return mt(()=>{l(Bg(i,t))},[i,t]),mt(()=>{const d=m=>()=>{l(m)};if(!i)return;const u=d("loaded"),f=d("error");return i.addEventListener("load",u),i.addEventListener("error",f),s&&(i.referrerPolicy=s),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,n,s]),o}var iw=tw,ow=nw,lw=aw;const Xo=c.forwardRef(({className:t,...s},n)=>e.jsx(iw,{ref:n,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Xo.displayName=iw.displayName;const Zo=c.forwardRef(({className:t,...s},n)=>e.jsx(ow,{ref:n,className:ae("aspect-square h-full w-full",t),...s}));Zo.displayName=ow.displayName;const el=c.forwardRef(({className:t,...s},n)=>e.jsx(lw,{ref:n,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));el.displayName=lw.displayName;var jh=["Enter"," "],Yk=["ArrowDown","PageUp","Home"],cw=["ArrowUp","PageDown","End"],Hk=[...Yk,...cw],Wk={ltr:[...jh,"ArrowRight"],rtl:[...jh,"ArrowLeft"]},Kk={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tl="Menu",[wo,Jk,Qk]=ad(tl),[oa,dw]=Ft(tl,[Qk,pi,yi]),Kd=pi(),uw=yi(),[Xk,la]=oa(tl),[Zk,sl]=oa(tl),mw=t=>{const{__scopeMenu:s,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=t,l=Kd(s),[d,u]=c.useState(null),f=c.useRef(!1),m=lt(i),x=gi(a);return c.useEffect(()=>{const h=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),e.jsx($p,{...l,children:e.jsx(Xk,{scope:s,open:n,onOpenChange:m,content:d,onContentChange:u,children:e.jsx(Zk,{scope:s,onClose:c.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:x,modal:o,children:r})})})};mw.displayName=tl;var eM="MenuAnchor",xf=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=Kd(n);return e.jsx(Up,{...a,...r,ref:s})});xf.displayName=eM;var gf="MenuPortal",[tM,hw]=oa(gf,{forceMount:void 0}),pw=t=>{const{__scopeMenu:s,forceMount:n,children:r,container:a}=t,i=la(gf,s);return e.jsx(tM,{scope:s,forceMount:n,children:e.jsx(Pt,{present:n||i.open,children:e.jsx(Bo,{asChild:!0,container:a,children:r})})})};pw.displayName=gf;var js="MenuContent",[sM,vf]=oa(js),fw=c.forwardRef((t,s)=>{const n=hw(js,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=la(js,t.__scopeMenu),o=sl(js,t.__scopeMenu);return e.jsx(wo.Provider,{scope:t.__scopeMenu,children:e.jsx(Pt,{present:r||i.open,children:e.jsx(wo.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(nM,{...a,ref:s}):e.jsx(rM,{...a,ref:s})})})})}),nM=c.forwardRef((t,s)=>{const n=la(js,t.__scopeMenu),r=c.useRef(null),a=Ce(s,r);return c.useEffect(()=>{const i=r.current;if(i)return ef(i)},[]),e.jsx(yf,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),rM=c.forwardRef((t,s)=>{const n=la(js,t.__scopeMenu);return e.jsx(yf,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),aM=Qr("MenuContent.ScrollLock"),yf=c.forwardRef((t,s)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:x,onDismiss:h,disableOutsideScroll:w,...j}=t,S=la(js,n),y=sl(js,n),p=Kd(n),v=uw(n),N=Jk(n),[P,I]=c.useState(null),g=c.useRef(null),C=Ce(s,g,S.onContentChange),E=c.useRef(0),A=c.useRef(""),_=c.useRef(0),M=c.useRef(null),$=c.useRef("right"),L=c.useRef(0),U=w?Cd:c.Fragment,W=w?{as:aM,allowPinchZoom:!0}:void 0,ne=z=>{var b,k;const ee=A.current+z,K=N().filter(B=>!B.disabled),te=document.activeElement,de=(b=K.find(B=>B.ref.current===te))==null?void 0:b.textValue,F=K.map(B=>B.textValue),re=gM(F,ee,de),T=(k=K.find(B=>B.textValue===re))==null?void 0:k.ref.current;(function B(V){A.current=V,window.clearTimeout(E.current),V!==""&&(E.current=window.setTimeout(()=>B(""),1e3))})(ee),T&&setTimeout(()=>T.focus())};c.useEffect(()=>()=>window.clearTimeout(E.current),[]),Xp();const H=c.useCallback(z=>{var K,te;return $.current===((K=M.current)==null?void 0:K.side)&&yM(z,(te=M.current)==null?void 0:te.area)},[]);return e.jsx(sM,{scope:n,searchRef:A,onItemEnter:c.useCallback(z=>{H(z)&&z.preventDefault()},[H]),onItemLeave:c.useCallback(z=>{var ee;H(z)||((ee=g.current)==null||ee.focus(),I(null))},[H]),onTriggerLeave:c.useCallback(z=>{H(z)&&z.preventDefault()},[H]),pointerGraceTimerRef:_,onPointerGraceIntentChange:c.useCallback(z=>{M.current=z},[]),children:e.jsx(U,{...W,children:e.jsx(wd,{asChild:!0,trapped:a,onMountAutoFocus:ue(i,z=>{var ee;z.preventDefault(),(ee=g.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(di,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:x,onDismiss:h,children:e.jsx(rf,{asChild:!0,...v,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:I,onEntryFocus:ue(d,z=>{y.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Bp,{role:"menu","aria-orientation":"vertical","data-state":Tw(S.open),"data-radix-menu-content":"",dir:y.dir,...p,...j,ref:C,style:{outline:"none",...j.style},onKeyDown:ue(j.onKeyDown,z=>{const K=z.target.closest("[data-radix-menu-content]")===z.currentTarget,te=z.ctrlKey||z.altKey||z.metaKey,de=z.key.length===1;K&&(z.key==="Tab"&&z.preventDefault(),!te&&de&&ne(z.key));const F=g.current;if(z.target!==F||!Hk.includes(z.key))return;z.preventDefault();const T=N().filter(b=>!b.disabled).map(b=>b.ref.current);cw.includes(z.key)&&T.reverse(),fM(T)}),onBlur:ue(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(E.current),A.current="")}),onPointerMove:ue(t.onPointerMove,bo(z=>{const ee=z.target,K=L.current!==z.clientX;if(z.currentTarget.contains(ee)&&K){const te=z.clientX>L.current?"right":"left";$.current=te,L.current=z.clientX}}))})})})})})})});fw.displayName=js;var iM="MenuGroup",jf=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(Se.div,{role:"group",...r,ref:s})});jf.displayName=iM;var oM="MenuLabel",xw=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(Se.div,{...r,ref:s})});xw.displayName=oM;var Oc="MenuItem",zg="menu.itemSelect",Jd=c.forwardRef((t,s)=>{const{disabled:n=!1,onSelect:r,...a}=t,i=c.useRef(null),o=sl(Oc,t.__scopeMenu),l=vf(Oc,t.__scopeMenu),d=Ce(s,i),u=c.useRef(!1),f=()=>{const m=i.current;if(!n&&m){const x=new CustomEvent(zg,{bubbles:!0,cancelable:!0});m.addEventListener(zg,h=>r==null?void 0:r(h),{once:!0}),vp(m,x),x.defaultPrevented?u.current=!1:o.onClose()}};return e.jsx(gw,{...a,ref:d,disabled:n,onClick:ue(t.onClick,f),onPointerDown:m=>{var x;(x=t.onPointerDown)==null||x.call(t,m),u.current=!0},onPointerUp:ue(t.onPointerUp,m=>{var x;u.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:ue(t.onKeyDown,m=>{const x=l.searchRef.current!=="";n||x&&m.key===" "||jh.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Jd.displayName=Oc;var gw=c.forwardRef((t,s)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=t,o=vf(Oc,n),l=uw(n),d=c.useRef(null),u=Ce(s,d),[f,m]=c.useState(!1),[x,h]=c.useState("");return c.useEffect(()=>{const w=d.current;w&&h((w.textContent??"").trim())},[i.children]),e.jsx(wo.ItemSlot,{scope:n,disabled:r,textValue:a??x,children:e.jsx(af,{asChild:!0,...l,focusable:!r,children:e.jsx(Se.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ue(t.onPointerMove,bo(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(t.onPointerLeave,bo(w=>o.onItemLeave(w))),onFocus:ue(t.onFocus,()=>m(!0)),onBlur:ue(t.onBlur,()=>m(!1))})})})}),lM="MenuCheckboxItem",vw=c.forwardRef((t,s)=>{const{checked:n=!1,onCheckedChange:r,...a}=t;return e.jsx(ww,{scope:t.__scopeMenu,checked:n,children:e.jsx(Jd,{role:"menuitemcheckbox","aria-checked":Fc(n)?"mixed":n,...a,ref:s,"data-state":Sf(n),onSelect:ue(a.onSelect,()=>r==null?void 0:r(Fc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vw.displayName=lM;var yw="MenuRadioGroup",[cM,dM]=oa(yw,{value:void 0,onValueChange:()=>{}}),jw=c.forwardRef((t,s)=>{const{value:n,onValueChange:r,...a}=t,i=lt(r);return e.jsx(cM,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(jf,{...a,ref:s})})});jw.displayName=yw;var Nw="MenuRadioItem",Sw=c.forwardRef((t,s)=>{const{value:n,...r}=t,a=dM(Nw,t.__scopeMenu),i=n===a.value;return e.jsx(ww,{scope:t.__scopeMenu,checked:i,children:e.jsx(Jd,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":Sf(i),onSelect:ue(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});Sw.displayName=Nw;var Nf="MenuItemIndicator",[ww,uM]=oa(Nf,{checked:!1}),bw=c.forwardRef((t,s)=>{const{__scopeMenu:n,forceMount:r,...a}=t,i=uM(Nf,n);return e.jsx(Pt,{present:r||Fc(i.checked)||i.checked===!0,children:e.jsx(Se.span,{...a,ref:s,"data-state":Sf(i.checked)})})});bw.displayName=Nf;var mM="MenuSeparator",Cw=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t;return e.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});Cw.displayName=mM;var hM="MenuArrow",Pw=c.forwardRef((t,s)=>{const{__scopeMenu:n,...r}=t,a=Kd(n);return e.jsx(zp,{...a,...r,ref:s})});Pw.displayName=hM;var pM="MenuSub",[BF,Ew]=oa(pM),Li="MenuSubTrigger",Aw=c.forwardRef((t,s)=>{const n=la(Li,t.__scopeMenu),r=sl(Li,t.__scopeMenu),a=Ew(Li,t.__scopeMenu),i=vf(Li,t.__scopeMenu),o=c.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:t.__scopeMenu},f=c.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return c.useEffect(()=>f,[f]),c.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),d(null)}},[l,d]),e.jsx(xf,{asChild:!0,...u,children:e.jsx(gw,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Tw(n.open),...t,ref:rd(s,a.onTriggerChange),onClick:m=>{var x;(x=t.onClick)==null||x.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ue(t.onPointerMove,bo(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ue(t.onPointerLeave,bo(m=>{var h,w;f();const x=(h=n.content)==null?void 0:h.getBoundingClientRect();if(x){const j=(w=n.content)==null?void 0:w.dataset.side,S=j==="right",y=S?-5:5,p=x[S?"left":"right"],v=x[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+y,y:m.clientY},{x:p,y:x.top},{x:v,y:x.top},{x:v,y:x.bottom},{x:p,y:x.bottom}],side:j}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ue(t.onKeyDown,m=>{var h;const x=i.searchRef.current!=="";t.disabled||x&&m.key===" "||Wk[r.dir].includes(m.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),m.preventDefault())})})})});Aw.displayName=Li;var Rw="MenuSubContent",Iw=c.forwardRef((t,s)=>{const n=hw(js,t.__scopeMenu),{forceMount:r=n.forceMount,...a}=t,i=la(js,t.__scopeMenu),o=sl(js,t.__scopeMenu),l=Ew(Rw,t.__scopeMenu),d=c.useRef(null),u=Ce(s,d);return e.jsx(wo.Provider,{scope:t.__scopeMenu,children:e.jsx(Pt,{present:r||i.open,children:e.jsx(wo.Slot,{scope:t.__scopeMenu,children:e.jsx(yf,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ue(t.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ue(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:ue(t.onKeyDown,f=>{var h;const m=f.currentTarget.contains(f.target),x=Kk[o.dir].includes(f.key);m&&x&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),f.preventDefault())})})})})})});Iw.displayName=Rw;function Tw(t){return t?"open":"closed"}function Fc(t){return t==="indeterminate"}function Sf(t){return Fc(t)?"indeterminate":t?"checked":"unchecked"}function fM(t){const s=document.activeElement;for(const n of t)if(n===s||(n.focus(),document.activeElement!==s))return}function xM(t,s){return t.map((n,r)=>t[(s+r)%t.length])}function gM(t,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?t.indexOf(n):-1;let o=xM(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const d=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function vM(t,s){const{x:n,y:r}=t;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i],d=s[o],u=l.x,f=l.y,m=d.x,x=d.y;f>r!=x>r&&n<(m-u)*(r-f)/(x-f)+u&&(a=!a)}return a}function yM(t,s){if(!s)return!1;const n={x:t.clientX,y:t.clientY};return vM(n,s)}function bo(t){return s=>s.pointerType==="mouse"?t(s):void 0}var jM=mw,NM=xf,SM=pw,wM=fw,bM=jf,CM=xw,PM=Jd,EM=vw,AM=jw,RM=Sw,IM=bw,TM=Cw,_M=Pw,kM=Aw,MM=Iw,Qd="DropdownMenu",[OM]=Ft(Qd,[dw]),Gt=dw(),[FM,_w]=OM(Qd),kw=t=>{const{__scopeDropdownMenu:s,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,d=Gt(s),u=c.useRef(null),[f,m]=un({prop:a,defaultProp:i??!1,onChange:o,caller:Qd});return e.jsx(FM,{scope:s,triggerId:zs(),triggerRef:u,contentId:zs(),open:f,onOpenChange:m,onOpenToggle:c.useCallback(()=>m(x=>!x),[m]),modal:l,children:e.jsx(jM,{...d,open:f,onOpenChange:m,dir:r,modal:l,children:n})})};kw.displayName=Qd;var Mw="DropdownMenuTrigger",Ow=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=t,i=_w(Mw,n),o=Gt(n);return e.jsx(NM,{asChild:!0,...o,children:e.jsx(Se.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:rd(s,i.triggerRef),onPointerDown:ue(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ue(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ow.displayName=Mw;var DM="DropdownMenuPortal",Fw=t=>{const{__scopeDropdownMenu:s,...n}=t,r=Gt(s);return e.jsx(SM,{...r,...n})};Fw.displayName=DM;var Dw="DropdownMenuContent",Lw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=_w(Dw,n),i=Gt(n),o=c.useRef(!1);return e.jsx(wM,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:s,onCloseAutoFocus:ue(t.onCloseAutoFocus,l=>{var d;o.current||(d=a.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ue(t.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;(!a.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Lw.displayName=Dw;var LM="DropdownMenuGroup",$M=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(bM,{...a,...r,ref:s})});$M.displayName=LM;var UM="DropdownMenuLabel",$w=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(CM,{...a,...r,ref:s})});$w.displayName=UM;var BM="DropdownMenuItem",Uw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(PM,{...a,...r,ref:s})});Uw.displayName=BM;var zM="DropdownMenuCheckboxItem",Bw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(EM,{...a,...r,ref:s})});Bw.displayName=zM;var VM="DropdownMenuRadioGroup",qM=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(AM,{...a,...r,ref:s})});qM.displayName=VM;var GM="DropdownMenuRadioItem",zw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(RM,{...a,...r,ref:s})});zw.displayName=GM;var YM="DropdownMenuItemIndicator",Vw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(IM,{...a,...r,ref:s})});Vw.displayName=YM;var HM="DropdownMenuSeparator",qw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(TM,{...a,...r,ref:s})});qw.displayName=HM;var WM="DropdownMenuArrow",KM=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(_M,{...a,...r,ref:s})});KM.displayName=WM;var JM="DropdownMenuSubTrigger",Gw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(kM,{...a,...r,ref:s})});Gw.displayName=JM;var QM="DropdownMenuSubContent",Yw=c.forwardRef((t,s)=>{const{__scopeDropdownMenu:n,...r}=t,a=Gt(n);return e.jsx(MM,{...a,...r,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yw.displayName=QM;var XM=kw,ZM=Ow,eO=Fw,Hw=Lw,Ww=$w,Kw=Uw,Jw=Bw,Qw=zw,Xw=Vw,Zw=qw,eb=Gw,tb=Yw;const Xd=XM,Zd=ZM,tO=c.forwardRef(({className:t,inset:s,children:n,...r},a)=>e.jsxs(eb,{ref:a,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",s&&"pl-8",t),...r,children:[n,e.jsx(cd,{className:"ml-auto h-4 w-4"})]}));tO.displayName=eb.displayName;const sO=c.forwardRef(({className:t,...s},n)=>e.jsx(tb,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));sO.displayName=tb.displayName;const nl=c.forwardRef(({className:t,sideOffset:s=4,...n},r)=>e.jsx(eO,{children:e.jsx(Hw,{ref:r,sideOffset:s,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));nl.displayName=Hw.displayName;const ls=c.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(Kw,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s&&"pl-8",t),...n}));ls.displayName=Kw.displayName;const nO=c.forwardRef(({className:t,children:s,checked:n,...r},a)=>e.jsxs(Jw,{ref:a,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Xw,{children:e.jsx(ld,{className:"h-4 w-4"})})}),s]}));nO.displayName=Jw.displayName;const rO=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(Qw,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Xw,{children:e.jsx(Wj,{className:"h-2 w-2 fill-current"})})}),s]}));rO.displayName=Qw.displayName;const eu=c.forwardRef(({className:t,inset:s,...n},r)=>e.jsx(Ww,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));eu.displayName=Ww.displayName;const sa=c.forwardRef(({className:t,...s},n)=>e.jsx(Zw,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",t),...s}));sa.displayName=Zw.displayName;function aO(){var n;const{student:t,logout:s}=Lt();return e.jsx("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-card/50",children:e.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx($d,{}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-semibold text-foreground",children:["Welcome, ",t==null?void 0:t.fullName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.instituteName})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(Xd,{children:[e.jsx(Zd,{asChild:!0,children:e.jsx(O,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Xo,{className:"h-10 w-10",children:[e.jsx(Zo,{src:t==null?void 0:t.profilePicture}),e.jsx(el,{className:"bg-gradient-primary text-primary-foreground",children:(n=t==null?void 0:t.fullName)==null?void 0:n.split(" ").map(r=>r[0]).join("")})]})})}),e.jsxs(nl,{className:"w-56",align:"end",children:[e.jsx(eu,{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium",children:t==null?void 0:t.fullName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t==null?void 0:t.email})]})}),e.jsx(sa,{}),e.jsxs(ls,{children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),"Profile Settings"]}),e.jsxs(ls,{children:[e.jsx(Ap,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),e.jsx(sa,{}),e.jsxs(ls,{onClick:s,className:"text-destructive",children:[e.jsx(Cp,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})})]})})}const iO=()=>{const t=Od();return e.jsx(Dd,{defaultOpen:!t,children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(Ik,{}),e.jsxs(Ud,{children:[e.jsx(aO,{}),e.jsx("main",{className:"flex-1 p-4 sm:p-6",children:e.jsx(Kp,{})})]})]})})},oO=()=>{const{student:t}=Lt(),{notifications:s,unreadCount:n}=uN(),{toast:r}=Ee(),[a,i]=c.useState([]),[o,l]=c.useState(!0),[d,u]=c.useState({totalSports:0,paidSports:0,pendingSports:0,totalAmount:0,paidAmount:0,pendingAmount:0}),f=async()=>{var x;try{const w=(x=(await se.getStudentDashboard()).data)==null?void 0:x.data;if(w){const j=w.registrations||[];i(j);const S=w.stats||{};u({totalSports:S.total_sports||0,paidSports:S.paid_sports||0,pendingSports:S.pending_sports||0,totalAmount:S.total_amount||0,paidAmount:S.paid_amount||0,pendingAmount:S.pending_amount||0})}else i([]),u({totalSports:0,paidSports:0,pendingSports:0,totalAmount:0,paidAmount:0,pendingAmount:0})}catch(h){console.error("Error fetching student data:",h),r({title:"Error",description:"Failed to fetch your sports registrations",variant:"destructive"}),i([]),u({totalSports:0,paidSports:0,pendingSports:0,totalAmount:0,paidAmount:0,pendingAmount:0})}finally{l(!1)}};c.useEffect(()=>{f()},[]);const m=x=>{switch(x){case"Paid":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Unpaid":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:["Welcome back, ",t==null?void 0:t.fname," ",t==null?void 0:t.mname," ",t==null?void 0:t.lname,"!"]}),e.jsxs("p",{className:"text-muted-foreground",children:["Student  Student ID: ",t==null?void 0:t.student_id]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(O,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(ts,{to:"/notifications",children:[e.jsx(Sc,{className:"h-4 w-4 mr-2"}),"Notifications",n>0&&e.jsx(me,{variant:"destructive",className:"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:n})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Sports"}),e.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.totalSports}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Paid Sports"}),e.jsx(ws,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.paidSports}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed payments"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Pending Payments"}),e.jsx(us,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.pendingSports}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(wp,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",d.totalAmount]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All registrations"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-lg",children:"Register for Sports"}),e.jsx(_e,{children:"Browse and register for available sports categories"})]}),e.jsx(Q,{children:e.jsx(O,{asChild:!0,className:"w-full",children:e.jsxs(ts,{to:"/sports-registration",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"View Sports"]})})})]}),e.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-lg",children:"Payment Status"}),e.jsx(_e,{children:"View and manage your payment status"})]}),e.jsx(Q,{children:e.jsx(O,{asChild:!0,variant:"outline",className:"w-full",children:e.jsxs(ts,{to:"/dashboard/student-payments",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"View Payments"]})})})]}),e.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-lg",children:"Profile Settings"}),e.jsx(_e,{children:"Update your personal information"})]}),e.jsx(Q,{children:e.jsx(O,{asChild:!0,variant:"outline",className:"w-full",children:e.jsxs(ts,{to:"/profile",children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsx(oe,{children:"Your Sports Registrations"}),e.jsx(_e,{children:"Track your registered sports and payment status"})]}),e.jsx(Q,{children:a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No registrations yet"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"You haven't registered for any sports yet. Browse available sports to get started!"}),e.jsx(O,{asChild:!0,children:e.jsxs(ts,{to:"/sports-registration",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Browse Sports"]})})]}):e.jsx("div",{className:"space-y-4",children:a.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium",children:x.sport_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.category_name,"  ",x.sub_category_name,"  ",x.fee]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Institute: ",x.institute_name]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(me,{className:m(x.payment_status),children:x.payment_status})})]},x.id))})})]})]})},lO=()=>{var S,y;const{student:t,updateProfile:s}=Lt(),{toast:n}=Ee(),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(null),[u,f]=c.useState(!0),[m,x]=c.useState({fname:"",mname:"",lname:"",email:"",dob:"",gender:"",phone:"",address:"",student_id:""}),h=async()=>{var p;try{f(!0),console.log(" Fetching profile data...");const v=await se.getStudentProfile();console.log(" Profile API Response:",v);const N=(p=v.data)==null?void 0:p.data;console.log(" Profile Data:",N),N?(d(N),x({fname:N.fname||"",mname:N.mname||"",lname:N.lname||"",email:N.email||"",dob:N.dob||"",gender:N.gender||"",phone:N.phone||"",address:N.address||"",student_id:N.student_id||""}),console.log(" Profile data set successfully")):(console.log(" No profile data received"),n({title:"Warning",description:"No profile data received from server",variant:"destructive"}))}catch(v){console.error(" Error fetching profile data:",v),n({title:"Error",description:`Failed to fetch profile data: ${v.message||"Unknown error"}`,variant:"destructive"})}finally{f(!1)}};c.useEffect(()=>{h()},[]);const w=(p,v)=>{x(N=>({...N,[p]:v}))};if(u)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Profile Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your personal information and account settings"})]})}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading profile data..."})]})})]});const j=async p=>{p.preventDefault(),a(!0);try{s(m),n({title:"Profile Updated",description:"Your profile information has been successfully updated."}),o(!1)}catch{n({title:"Update Failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Profile Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your personal information and account settings"})]}),!i&&e.jsx(O,{onClick:()=>o(!0),variant:"outline",children:"Edit Profile"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{children:"Profile Picture"}),e.jsx(_e,{children:"Upload and manage your profile photo"})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs(Xo,{className:"h-32 w-32 border-4 border-primary/20",children:[e.jsx(Zo,{src:l==null?void 0:l.profilePicture}),e.jsx(el,{className:"bg-gradient-primary text-primary-foreground text-2xl",children:l?`${((S=l.fname)==null?void 0:S[0])||""}${((y=l.lname)==null?void 0:y[0])||""}`:"S"})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:l?`${l.fname} ${l.mname} ${l.lname}`:"Loading..."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(l==null?void 0:l.email)||"Loading..."}),e.jsx(me,{variant:l!=null&&l.is_verified?"default":"destructive",children:l!=null&&l.is_verified?"Email Verified":"Email Pending"})]}),e.jsxs(O,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(FP,{className:"h-4 w-4 mr-2"}),"Change Photo"]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium",children:"Account Status"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Profile Completion"}),e.jsx("span",{className:"font-medium",children:l?l.registration_complete?"100%":"In Progress":"Loading..."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Email Status"}),e.jsx("span",{className:"font-medium",children:l?l.is_verified?"Verified":"Pending":"Loading..."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Student ID"}),e.jsx("span",{className:"font-medium",children:(l==null?void 0:l.student_id)||"Loading..."})]})]})]})]})]}),e.jsxs(J,{className:"lg:col-span-2 shadow-medium",children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(oe,{children:"Personal Information"}),e.jsx(_e,{children:i?"Update your personal details":"Your personal details"})]}),i?e.jsxs("div",{className:"space-x-2",children:[e.jsx(O,{variant:"outline",onClick:()=>{o(!1),l&&x({fname:l.fname||"",mname:l.mname||"",lname:l.lname||"",email:l.email||"",dob:l.dob||"",gender:l.gender||"",phone:l.phone||"",address:l.address||"",student_id:l.student_id||""})},children:"Cancel"}),e.jsx(O,{onClick:j,disabled:r,className:"bg-gradient-primary",children:r?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]}):e.jsxs(O,{onClick:()=>o(!0),className:"bg-gradient-primary",disabled:u,children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})}),e.jsx(Q,{children:e.jsx("form",{onSubmit:j,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"fname",value:m.fname,onChange:p=>w("fname",p.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"mname",children:"Middle Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"mname",value:m.mname,onChange:p=>w("mname",p.target.value),className:"pl-10",disabled:!i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"lname",value:m.lname,onChange:p=>w("lname",p.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",value:m.email,onChange:p=>w("email",p.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"dob",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"dob",type:"date",value:m.dob,onChange:p=>w("dob",p.target.value),className:"pl-10",disabled:!i,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"gender",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:m.gender,onValueChange:p=>w("gender",p),disabled:!i,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select Gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"phone",value:m.phone,onChange:p=>w("phone",p.target.value),className:"pl-10",disabled:!i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ep,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"address",value:m.address,onChange:p=>w("address",p.target.value),className:"pl-10",disabled:!i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"student_id",children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"student_id",value:m.student_id,onChange:p=>w("student_id",p.target.value),className:"pl-10",disabled:!i,required:!0})]})]})]})})})]})]}),e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center space-x-2",children:[e.jsx(Cn,{className:"h-5 w-5"}),e.jsx("span",{children:"Uploaded Documents"})]}),e.jsx(_e,{children:"View and manage your uploaded documents"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Student ID Document"}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[e.jsx(fo,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Student ID uploaded successfully"}),e.jsx(O,{variant:"outline",size:"sm",children:"View Document"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"Age Proof Document"}),e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[e.jsx(fo,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Age proof uploaded successfully"}),e.jsx(O,{variant:"outline",size:"sm",children:"View Document"})]})]})]})})]})]})},ze=uf,$s=mf,cO=hf,sb=c.forwardRef(({className:t,...s},n)=>e.jsx(Wo,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));sb.displayName=Wo.displayName;const De=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(cO,{children:[e.jsx(sb,{}),e.jsxs(Ko,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,e.jsxs(kd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(On,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));De.displayName=Ko.displayName;const Le=({className:t,...s})=>e.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Le.displayName="DialogHeader";const $e=c.forwardRef(({className:t,...s},n)=>e.jsx(Jo,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",t),...s}));$e.displayName=Jo.displayName;const Qe=c.forwardRef(({className:t,...s},n)=>e.jsx(Qo,{ref:n,className:ae("text-sm text-muted-foreground",t),...s}));Qe.displayName=Qo.displayName;function dO(t,s){return c.useReducer((n,r)=>s[n][r]??n,t)}var wf="ScrollArea",[nb]=Ft(wf),[uO,Cs]=nb(wf),rb=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,d]=c.useState(null),[u,f]=c.useState(null),[m,x]=c.useState(null),[h,w]=c.useState(null),[j,S]=c.useState(null),[y,p]=c.useState(0),[v,N]=c.useState(0),[P,I]=c.useState(!1),[g,C]=c.useState(!1),E=Ce(s,_=>d(_)),A=gi(a);return e.jsx(uO,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:m,onContentChange:x,scrollbarX:h,onScrollbarXChange:w,scrollbarXEnabled:P,onScrollbarXEnabledChange:I,scrollbarY:j,onScrollbarYChange:S,scrollbarYEnabled:g,onScrollbarYEnabledChange:C,onCornerWidthChange:p,onCornerHeightChange:N,children:e.jsx(Se.div,{dir:A,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":v+"px",...t.style}})})});rb.displayName=wf;var ab="ScrollAreaViewport",ib=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=t,o=Cs(ab,n),l=c.useRef(null),d=Ce(s,l,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Se.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});ib.displayName=ab;var gn="ScrollAreaScrollbar",bf=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=Cs(gn,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return c.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?e.jsx(mO,{...r,ref:s,forceMount:n}):a.type==="scroll"?e.jsx(hO,{...r,ref:s,forceMount:n}):a.type==="auto"?e.jsx(ob,{...r,ref:s,forceMount:n}):a.type==="always"?e.jsx(Cf,{...r,ref:s}):null});bf.displayName=gn;var mO=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=Cs(gn,t.__scopeScrollArea),[i,o]=c.useState(!1);return c.useEffect(()=>{const l=a.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(Pt,{present:n||i,children:e.jsx(ob,{"data-state":i?"visible":"hidden",...r,ref:s})})}),hO=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=Cs(gn,t.__scopeScrollArea),i=t.orientation==="horizontal",o=su(()=>d("SCROLL_END"),100),[l,d]=dO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,d]),c.useEffect(()=>{const u=a.viewport,f=i?"scrollLeft":"scrollTop";if(u){let m=u[f];const x=()=>{const h=u[f];m!==h&&(d("SCROLL"),o()),m=h};return u.addEventListener("scroll",x),()=>u.removeEventListener("scroll",x)}},[a.viewport,i,d,o]),e.jsx(Pt,{present:n||l!=="hidden",children:e.jsx(Cf,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:ue(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ue(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),ob=c.forwardRef((t,s)=>{const n=Cs(gn,t.__scopeScrollArea),{forceMount:r,...a}=t,[i,o]=c.useState(!1),l=t.orientation==="horizontal",d=su(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:f)}},10);return ri(n.viewport,d),ri(n.content,d),e.jsx(Pt,{present:r||i,children:e.jsx(Cf,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Cf=c.forwardRef((t,s)=>{const{orientation:n="vertical",...r}=t,a=Cs(gn,t.__scopeScrollArea),i=c.useRef(null),o=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=mb(l.viewport,l.content),f={...r,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:x=>o.current=x};function m(x,h){return yO(x,o.current,l,h)}return n==="horizontal"?e.jsx(pO,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollLeft,h=Vg(x,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=m(x,a.dir))}}):n==="vertical"?e.jsx(fO,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollTop,h=Vg(x,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=m(x))}}):null}),pO=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,i=Cs(gn,t.__scopeScrollArea),[o,l]=c.useState(),d=c.useRef(null),u=Ce(s,d,i.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(cb,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":tu(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(i.viewport){const x=i.viewport.scrollLeft+f.deltaX;t.onWheelScroll(x),pb(x,m)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Lc(o.paddingLeft),paddingEnd:Lc(o.paddingRight)}})}})}),fO=c.forwardRef((t,s)=>{const{sizes:n,onSizesChange:r,...a}=t,i=Cs(gn,t.__scopeScrollArea),[o,l]=c.useState(),d=c.useRef(null),u=Ce(s,d,i.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),e.jsx(cb,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":tu(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(i.viewport){const x=i.viewport.scrollTop+f.deltaY;t.onWheelScroll(x),pb(x,m)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Lc(o.paddingTop),paddingEnd:Lc(o.paddingBottom)}})}})}),[xO,lb]=nb(gn),cb=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:m,...x}=t,h=Cs(gn,n),[w,j]=c.useState(null),S=Ce(s,E=>j(E)),y=c.useRef(null),p=c.useRef(""),v=h.viewport,N=r.content-r.viewport,P=lt(f),I=lt(d),g=su(m,10);function C(E){if(y.current){const A=E.clientX-y.current.left,_=E.clientY-y.current.top;u({x:A,y:_})}}return c.useEffect(()=>{const E=A=>{const _=A.target;(w==null?void 0:w.contains(_))&&P(A,N)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[v,w,N,P]),c.useEffect(I,[r,I]),ri(w,g),ri(h.content,g),e.jsx(xO,{scope:n,scrollbar:w,hasThumb:a,onThumbChange:lt(i),onThumbPointerUp:lt(o),onThumbPositionChange:I,onThumbPointerDown:lt(l),children:e.jsx(Se.div,{...x,ref:S,style:{position:"absolute",...x.style},onPointerDown:ue(t.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=w.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:ue(t.onPointerMove,C),onPointerUp:ue(t.onPointerUp,E=>{const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=p.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),Dc="ScrollAreaThumb",db=c.forwardRef((t,s)=>{const{forceMount:n,...r}=t,a=lb(Dc,t.__scopeScrollArea);return e.jsx(Pt,{present:n||a.hasThumb,children:e.jsx(gO,{ref:s,...r})})}),gO=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,style:r,...a}=t,i=Cs(Dc,n),o=lb(Dc,n),{onThumbPositionChange:l}=o,d=Ce(s,m=>o.onThumbChange(m)),u=c.useRef(void 0),f=su(()=>{u.current&&(u.current(),u.current=void 0)},100);return c.useEffect(()=>{const m=i.viewport;if(m){const x=()=>{if(f(),!u.current){const h=jO(m,l);u.current=h,l()}};return l(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[i.viewport,f,l]),e.jsx(Se.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ue(t.onPointerDownCapture,m=>{const h=m.target.getBoundingClientRect(),w=m.clientX-h.left,j=m.clientY-h.top;o.onThumbPointerDown({x:w,y:j})}),onPointerUp:ue(t.onPointerUp,o.onThumbPointerUp)})});db.displayName=Dc;var Pf="ScrollAreaCorner",ub=c.forwardRef((t,s)=>{const n=Cs(Pf,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?e.jsx(vO,{...t,ref:s}):null});ub.displayName=Pf;var vO=c.forwardRef((t,s)=>{const{__scopeScrollArea:n,...r}=t,a=Cs(Pf,n),[i,o]=c.useState(0),[l,d]=c.useState(0),u=!!(i&&l);return ri(a.scrollbarX,()=>{var m;const f=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(f),d(f)}),ri(a.scrollbarY,()=>{var m;const f=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),u?e.jsx(Se.div,{...r,ref:s,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Lc(t){return t?parseInt(t,10):0}function mb(t,s){const n=t/s;return isNaN(n)?0:n}function tu(t){const s=mb(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*s;return Math.max(r,18)}function yO(t,s,n,r="ltr"){const a=tu(n),i=a/2,o=s||i,l=a-o,d=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return hb([d,u],m)(t)}function Vg(t,s,n="ltr"){const r=tu(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,o=s.content-s.viewport,l=i-r,d=n==="ltr"?[0,o]:[o*-1,0],u=uh(t,d);return hb([0,o],[0,l])(u)}function hb(t,s){return n=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(n-t[0])}}function pb(t,s){return t>0&&t<s}var jO=(t,s=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&s(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function su(t,s){const n=lt(t),r=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(r.current),[]),c.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,s)},[n,s])}function ri(t,s){const n=lt(s);mt(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,n])}var fb=rb,NO=ib,SO=ub;const xb=c.forwardRef(({className:t,children:s,...n},r)=>e.jsxs(fb,{ref:r,className:ae("relative overflow-hidden",t),...n,children:[e.jsx(NO,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(gb,{}),e.jsx(SO,{})]}));xb.displayName=fb.displayName;const gb=c.forwardRef(({className:t,orientation:s="vertical",...n},r)=>e.jsx(bf,{ref:r,orientation:s,className:ae("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:e.jsx(db,{className:"relative flex-1 rounded-full bg-border"})}));gb.displayName=bf.displayName;const vb=[{min:0,max:9,label:"U9"},{min:10,max:11,label:"U11"},{min:12,max:13,label:"U13"},{min:14,max:15,label:"U15"},{min:16,max:17,label:"U17"},{min:18,max:19,label:"U19"},{min:20,max:23,label:"20-23"},{min:24,max:26,label:"24-26"},{min:27,max:29,label:"27-29"},{min:30,max:35,label:"30-35"},{min:36,max:40,label:"36-40"},{min:41,max:45,label:"41-45"},{min:46,max:50,label:"46-50"},{min:51,max:100,label:"51+"}],yb=[{min:0,max:12,label:"Under 12"},{min:12,max:14,label:"12-14"},{min:15,max:17,label:"15-17"},{min:18,max:20,label:"18-20"},{min:21,max:23,label:"21-23"},{min:24,max:26,label:"24-26"},{min:27,max:29,label:"27-29"},{min:30,max:35,label:"30-35"},{min:36,max:40,label:"36-40"},{min:41,max:45,label:"41-45"},{min:46,max:50,label:"46-50"},{min:51,max:100,label:"51+"}];function Ki(t){const s=new Date(t),n=new Date;let r=n.getFullYear()-s.getFullYear();const a=n.getMonth()-s.getMonth();return(a<0||a===0&&n.getDate()<s.getDate())&&r--,r}function Ef(t,s,n=!1){const a=(n?yb:vb).find(i=>i.label===s);return a?t>=a.min&&t<=a.max?{isValid:!0}:{isValid:!1,message:`Student age ${t} does not match age group ${s} (${a.min}-${a.max} years)`}:{isValid:!1,message:`Invalid age group: ${s}`}}function wO(t,s=!1){return(s?yb:vb).filter(r=>t>=r.min&&t<=r.max)}class bO{constructor(){al(this,"sportsCache",null);al(this,"categoriesCache",{})}async getSports(){if(this.sportsCache)return this.sportsCache;try{const n=(await se.getSports()).data;this.sportsCache=n.map(r=>({id:r.id,sport_name:r.sport_name,type:r.type,age_from:r.age_from,age_to:r.age_to,gender:r.gender,fee:r.fee,min_limit:r.min_limit,max_limit:r.max_limit,is_active:r.is_active,created_at:r.created_at,updated_at:r.updated_at,name:r.sport_name,slug:r.sport_name.toLowerCase().replace(/\s+/g,"-"),description:r.description||"",maxTeamSize:r.max_limit||this.getMaxTeamSize(r.sport_name),subcategories:[],registrationDeadline:"2024-02-20",eventDate:"2024-03-15",minParticipants:r.min_limit||2,maxParticipants:r.max_limit||20}));for(const r of this.sportsCache)r.subcategories=await this.getSportCategories(r.id),r.subcategories&&r.subcategories.length>0&&(r.fee=Math.min(...r.subcategories.map(a=>a.fee)));return this.sportsCache}catch(s){return console.error("Failed to fetch sports:",s),this.getMockSports()}}async getSportCategories(s){if(this.categoriesCache[s])return this.categoriesCache[s];try{const r=(await se.getSportCategories(s)).data;return this.categoriesCache[s]=r.map(a=>({id:a.id,sport_id:a.sport_id,name:a.name,fee:a.fee,is_active:a.is_active,created_at:a.created_at,updated_at:a.updated_at,category:a.name,participants:0,age_from:0,age_to:0,gender_allowed:"mixed",max_participants:100})),this.categoriesCache[s]}catch(n){return console.error("Failed to fetch sport categories:",n),[]}}async registerForSport(s){try{const n={institute_id:s.instituteId,std_id:s.studentId,sport_id:s.sportId,category_id:s.categoryId,sub_category_id:s.subCategoryId,fee:s.fee};return(await se.createSportAssignment(n)).data}catch(n){throw console.error("Failed to register for sport:",n),n}}async getStudentSportAssignments(s){try{return(await se.getStudentSportAssignments(s)).data}catch(n){return console.error("Failed to fetch student sport assignments:",n),[]}}async getInstituteSportAssignments(s){try{return(await se.getInstituteSportAssignments(s)).data}catch(n){return console.error("Failed to fetch institute sport assignments:",n),[]}}determineSportType(s){return["Football","Basketball","Cricket","Volleyball","Hockey","Rugby"].includes(s)?"Team Sport":"Individual"}getMaxTeamSize(s){return{Football:11,Basketball:5,Cricket:11,Volleyball:6,Hockey:11,Rugby:15,Tennis:1,Badminton:1,Swimming:1,Athletics:1}[s]||1}getCategoryType(s,n){return s.includes("Under")?s.replace("Under","").trim():n==="mixed"?"Mixed":n.charAt(0).toUpperCase()+n.slice(1)}getMockSports(){return[{id:"1",name:"Football",slug:"football",type:"Team Sport",fee:150,maxTeamSize:11,subcategories:[{id:"11",name:"Under 16 Boys",category:"16",fee:500,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"12",name:"Under 16 Girls",category:"16",fee:500,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"13",name:"Under 19 Boys",category:"19",fee:750,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"14",name:"Under 19 Girls",category:"19",fee:750,participants:0,age_from:16,age_to:19,gender_allowed:"female"},{id:"15",name:"Senior Men",category:"Senior",fee:1e3,participants:0,age_from:19,age_to:25,gender_allowed:"male"},{id:"16",name:"Senior Women",category:"Senior",fee:1e3,participants:0,age_from:19,age_to:25,gender_allowed:"female"}],description:"Association football/soccer",registrationDeadline:"2024-02-20",eventDate:"2024-03-15",minParticipants:2,maxParticipants:20},{id:"2",name:"Basketball",slug:"basketball",type:"Team Sport",fee:120,maxTeamSize:5,subcategories:[{id:"21",name:"Under 16 Boys",category:"16",fee:400,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"22",name:"Under 16 Girls",category:"16",fee:400,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"23",name:"Under 19 Boys",category:"19",fee:600,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"24",name:"Under 19 Girls",category:"19",fee:600,participants:0,age_from:16,age_to:19,gender_allowed:"female"}],description:"Basketball sport",registrationDeadline:"2024-02-25",eventDate:"2024-03-20",minParticipants:2,maxParticipants:15},{id:"3",name:"Tennis",slug:"tennis",type:"Individual",fee:80,maxTeamSize:1,subcategories:[{id:"31",name:"Under 16 Boys",category:"16",fee:300,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"32",name:"Under 16 Girls",category:"16",fee:300,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"33",name:"Under 19 Boys",category:"19",fee:400,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"34",name:"Under 19 Girls",category:"19",fee:400,participants:0,age_from:16,age_to:19,gender_allowed:"female"}],description:"Tennis sport",registrationDeadline:"2024-02-28",eventDate:"2024-03-25",minParticipants:4,maxParticipants:8},{id:"4",name:"Cricket",slug:"cricket",type:"Team Sport",fee:200,maxTeamSize:11,subcategories:[{id:"41",name:"Under 16 Boys",category:"16",fee:600,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"42",name:"Under 19 Boys",category:"19",fee:800,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"43",name:"Senior Men",category:"Senior",fee:1200,participants:0,age_from:19,age_to:25,gender_allowed:"male"}],description:"Cricket sport",registrationDeadline:"2024-02-22",eventDate:"2024-03-18",minParticipants:4,maxParticipants:16},{id:"5",name:"Badminton",slug:"badminton",type:"Individual",fee:60,maxTeamSize:1,subcategories:[{id:"51",name:"Under 16 Boys",category:"16",fee:250,participants:0,age_from:12,age_to:16,gender_allowed:"male"},{id:"52",name:"Under 16 Girls",category:"16",fee:250,participants:0,age_from:12,age_to:16,gender_allowed:"female"},{id:"53",name:"Under 19 Boys",category:"19",fee:350,participants:0,age_from:16,age_to:19,gender_allowed:"male"},{id:"54",name:"Under 19 Girls",category:"19",fee:350,participants:0,age_from:16,age_to:19,gender_allowed:"female"}],description:"Badminton sport",registrationDeadline:"2024-03-01",eventDate:"2024-03-30",minParticipants:8,maxParticipants:16}]}}const qg=new bO,CO=()=>{const{toast:t}=Ee(),{addNotification:s}=uN(),{student:n}=Lt(),[r,a]=c.useState([]),[i,o]=c.useState(!0),[l,d]=c.useState(null),[u,f]=c.useState(null),[m,x]=c.useState(!1),[h,w]=c.useState({teamName:"",captainName:"",captainPhone:"",members:[""]}),[j,S]=c.useState(!1);c.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0);const I=await qg.getSports();a(I)}catch(I){console.error("Failed to load sports:",I),t({title:"Error",description:"Failed to load sports data. Please try again.",variant:"destructive"})}finally{o(!1)}},p=(I,g)=>{const C=[...h.members];C[I]=g,w(E=>({...E,members:C}))},v=()=>{l&&h.members.length<l.maxTeamSize&&w(I=>({...I,members:[...I.members,""]}))},N=I=>{if(h.members.length>1){const g=h.members.filter((C,E)=>E!==I);w(C=>({...C,members:g}))}},P=async()=>{if(!l||!u||!n){t({title:"Incomplete Information",description:"Please select a sport and subcategory to continue.",variant:"destructive"});return}if(n.dob&&u.age_from&&u.age_to){const I=Ki(n.dob),g=`${u.age_from}-${u.age_to}`,C=Ef(I,g,!0);if(!C.isValid){t({title:"Age Validation Error",description:C.message,variant:"destructive"});return}}if(l.type==="Team Sport"&&(!h.teamName||!h.captainName)){t({title:"Team Details Required",description:"Please provide team name and captain details.",variant:"destructive"});return}S(!0);try{const I={studentId:n.id,sportCategoryId:u.id,teamDetails:l.type==="Team Sport"?h:void 0};await qg.registerForSport(I),t({title:"Registration Successful!",description:`Successfully registered for ${l.name} - ${u.name}`}),s({title:`Enrolled in ${l.name} (${u.name})`,message:`Successfully enrolled in ${l.name} tournament`,type:"sport_enrollment",status:"Successfully Enrolled",metadata:{sport:l.name,subCategory:u.name}}),d(null),f(null),x(!1),w({teamName:"",captainName:"",captainPhone:"",members:[""]})}catch(I){console.error("Registration failed:",I),t({title:"Registration Failed",description:"Failed to register for sport. Please try again.",variant:"destructive"})}finally{S(!1)}};return i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sports Registration"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sports data..."})]}),e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sports Registration"}),e.jsx("p",{className:"text-muted-foreground",children:"Register for upcoming sports events and tournaments"})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ie,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Available Sports"})]}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Choose from the available sports events"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Sport"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Fee Range"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Participants"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Registration Deadline"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Event Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(I=>e.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:I.name}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(me,{variant:"secondary",children:I.type})}),e.jsxs("td",{className:"py-3 px-4",children:["",Math.min(...I.subcategories.map(g=>g.fee))," - ",Math.max(...I.subcategories.map(g=>g.fee))]}),e.jsxs("td",{className:"py-3 px-4 text-muted-foreground",children:[I.minParticipants," - ",I.maxParticipants]}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:I.registrationDeadline}),e.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:I.eventDate}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>{d(I),x(!0)},children:[e.jsx(Ie,{className:"h-4 w-4 mr-1"}),"Register"]})})]},I.id))})]})})]}),e.jsx(ze,{open:m,onOpenChange:x,children:e.jsxs(De,{className:"max-w-2xl max-h-[90vh]",children:[e.jsxs(Le,{children:[e.jsxs($e,{className:"flex items-center space-x-2",children:[e.jsx(WP,{className:"h-5 w-5 text-accent"}),e.jsxs("span",{children:["Register for ",l==null?void 0:l.name]})]}),e.jsx(Qe,{children:"Complete your registration details"})]}),e.jsx(xb,{className:"max-h-[70vh] pr-6",children:e.jsx("div",{className:"space-y-6",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Select Sub-category"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:l.subcategories.map((I,g)=>e.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${(u==null?void 0:u.name)===I.name?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>f(I),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:I.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:I.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-primary",children:["",I.fee]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Fee"})]})]})},g))})]}),l.type==="Team Sport"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Ye,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"font-semibold",children:"Team Details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Team Name"}),e.jsx(D,{placeholder:"Enter team name",value:h.teamName,onChange:I=>w(g=>({...g,teamName:I.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Captain Name"}),e.jsx(D,{placeholder:"Captain's name",value:h.captainName,onChange:I=>w(g=>({...g,captainName:I.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Captain Phone"}),e.jsx(D,{placeholder:"Phone number",value:h.captainPhone,onChange:I=>w(g=>({...g,captainPhone:I.target.value}))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{children:["Team Members (",h.members.length,"/",l.maxTeamSize,")"]}),h.members.length<l.maxTeamSize&&e.jsx(O,{onClick:v,size:"sm",variant:"outline",children:"Add Member"})]}),h.members.map((I,g)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(D,{placeholder:`Member ${g+1} name`,value:I,onChange:C=>p(g,C.target.value)}),h.members.length>1&&e.jsx(O,{onClick:()=>N(g),size:"sm",variant:"outline",className:"px-3",children:""})]},g))]})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Registration Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sport:"}),e.jsx("span",{className:"font-medium",children:l.name})]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sub-category:"}),e.jsx("span",{className:"font-medium",children:u.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Category:"}),e.jsx("span",{className:"font-medium",children:u.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Registration Fee:"}),e.jsxs("span",{className:"font-medium text-primary",children:["",u.fee]})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ls,{id:"terms"}),e.jsx(R,{htmlFor:"terms",className:"text-sm",children:"I agree to the tournament rules and regulations"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ls,{id:"liability"}),e.jsx(R,{htmlFor:"liability",className:"text-sm",children:"I understand the risks and accept liability waiver"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Cancel"}),e.jsx(O,{onClick:P,disabled:j,className:"flex-1 bg-gradient-primary hover:shadow-glow",children:j?"Registering...":`Register for ${(u==null?void 0:u.fee)||l.fee}`})]})]})})})]})})]})},PO=()=>{const{student:t,updateProfile:s}=Lt(),{toast:n}=Ee(),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState({parentGuardianName:(t==null?void 0:t.parentGuardianName)||"",parentPhone:(t==null?void 0:t.parentPhone)||"",parentEmail:(t==null?void 0:t.parentEmail)||"",emergencyContactName:(t==null?void 0:t.emergencyContactName)||"",emergencyContactRelation:(t==null?void 0:t.emergencyContactRelation)||"",emergencyContactPhone:(t==null?void 0:t.emergencyContactPhone)||"",emergencyContactEmail:(t==null?void 0:t.emergencyContactEmail)||""}),u=(m,x)=>{d(h=>({...h,[m]:x}))},f=async m=>{m.preventDefault(),a(!0);try{s(l),n({title:"Contact Information Updated",description:"Guardian and emergency contact information has been successfully updated."}),o(!1)}catch{n({title:"Update Failed",description:"Failed to update contact information. Please try again.",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Guardian & Contact Information"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage parent/guardian and emergency contact details"})]}),!i&&e.jsxs(O,{onClick:()=>o(!0),variant:"outline",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Edit Contact Info"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{children:"Contact Status"})]}),e.jsx(_e,{children:"Overview of your contact information"})]}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Parent/Guardian"}),e.jsx(me,{variant:l.parentGuardianName?"default":"destructive",children:l.parentGuardianName?"Complete":"Missing"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Parent Phone"}),e.jsx(me,{variant:l.parentPhone?"default":"destructive",children:l.parentPhone?"Added":"Missing"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Emergency Contact"}),e.jsx(me,{variant:l.emergencyContactName?"default":"destructive",children:l.emergencyContactName?"Complete":"Missing"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Emergency Phone"}),e.jsx(me,{variant:l.emergencyContactPhone?"default":"destructive",children:l.emergencyContactPhone?"Added":"Missing"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(sn,{className:"h-4 w-4"}),e.jsx("span",{children:"Required for event participation"})]})})]})]}),e.jsxs(J,{className:"lg:col-span-2 shadow-medium",children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(oe,{children:"Contact Details"}),e.jsx(_e,{children:i?"Update contact information":"Your current contact information"})]}),i&&e.jsxs("div",{className:"space-x-2",children:[e.jsx(O,{variant:"outline",onClick:()=>{o(!1),d({parentGuardianName:(t==null?void 0:t.parentGuardianName)||"",parentPhone:(t==null?void 0:t.parentPhone)||"",parentEmail:(t==null?void 0:t.parentEmail)||"",emergencyContactName:(t==null?void 0:t.emergencyContactName)||"",emergencyContactRelation:(t==null?void 0:t.emergencyContactRelation)||"",emergencyContactPhone:(t==null?void 0:t.emergencyContactPhone)||"",emergencyContactEmail:(t==null?void 0:t.emergencyContactEmail)||""})},children:"Cancel"}),e.jsxs(O,{onClick:f,disabled:r,className:"bg-gradient-primary",children:[e.jsx(qo,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})]})]})}),e.jsx(Q,{children:e.jsxs("form",{onSubmit:f,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Parent/Guardian Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"parentName",className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Parent/Guardian Name"})]}),e.jsx(D,{id:"parentName",value:l.parentGuardianName,onChange:m=>u("parentGuardianName",m.target.value),disabled:!i,placeholder:"Full name of parent or guardian",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"parentPhone",className:"flex items-center space-x-2",children:[e.jsx(jr,{className:"h-4 w-4"}),e.jsx("span",{children:"Phone Number"})]}),e.jsx(D,{id:"parentPhone",value:l.parentPhone,onChange:m=>u("parentPhone",m.target.value),disabled:!i,placeholder:"+1 (555) 123-4567",required:!0})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(R,{htmlFor:"parentEmail",className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:"Email Address"})]}),e.jsx(D,{id:"parentEmail",type:"email",value:l.parentEmail,onChange:m=>u("parentEmail",m.target.value),disabled:!i,placeholder:"parent@example.com"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2",children:"Emergency Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"emergencyName",className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:"Emergency Contact Name"})]}),e.jsx(D,{id:"emergencyName",value:l.emergencyContactName,onChange:m=>u("emergencyContactName",m.target.value),disabled:!i,placeholder:"Full name of emergency contact",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"emergencyRelation",children:"Relationship to Participant"}),e.jsx(D,{id:"emergencyRelation",value:l.emergencyContactRelation,onChange:m=>u("emergencyContactRelation",m.target.value),disabled:!i,placeholder:"e.g., Mother, Father, Guardian, Sibling",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"emergencyPhone",className:"flex items-center space-x-2",children:[e.jsx(jr,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:"Emergency Phone Number"})]}),e.jsx(D,{id:"emergencyPhone",value:l.emergencyContactPhone,onChange:m=>u("emergencyContactPhone",m.target.value),disabled:!i,placeholder:"+1 (555) 987-6543",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"emergencyEmail",className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),e.jsx("span",{children:"Emergency Email"})]}),e.jsx(D,{id:"emergencyEmail",type:"email",value:l.emergencyContactEmail,onChange:m=>u("emergencyContactEmail",m.target.value),disabled:!i,placeholder:"emergency@example.com"})]})]})]})]})})]})]}),e.jsx(J,{className:"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950/20",children:e.jsx(Q,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(sn,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Important Notice"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Accurate contact information is essential for participant safety. Emergency contacts will be notified immediately in case of any incidents during events. Please ensure all phone numbers are current and accessible."})]})]})})})]})},EO=()=>{const{student:t,updateProfile:s}=Lt(),{toast:n}=Ee(),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState({medicalConditions:(t==null?void 0:t.medicalConditions)||"",specialAssistance:(t==null?void 0:t.specialAssistance)||"",allergies:(t==null?void 0:t.allergies)||"",medications:(t==null?void 0:t.medications)||"",emergencyMedicalInfo:(t==null?void 0:t.emergencyMedicalInfo)||""}),u=(m,x)=>{d(h=>({...h,[m]:x}))},f=async m=>{m.preventDefault(),a(!0);try{s(l),n({title:"Medical Information Updated",description:"Your medical information has been successfully updated."}),o(!1)}catch{n({title:"Update Failed",description:"Failed to update medical information. Please try again.",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Medical Information"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your health and medical details for safe participation"})]}),!i&&e.jsxs(O,{onClick:()=>o(!0),variant:"outline",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Edit Medical Info"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center space-x-2",children:[e.jsx(po,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{children:"Medical Status"})]}),e.jsx(_e,{children:"Quick overview of your medical information"})]}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Medical Conditions"}),e.jsx(me,{variant:l.medicalConditions?"secondary":"outline",children:l.medicalConditions?"Specified":"None"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Special Assistance"}),e.jsx(me,{variant:l.specialAssistance?"secondary":"outline",children:l.specialAssistance?"Required":"None"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Allergies"}),e.jsx(me,{variant:l.allergies?"destructive":"outline",children:l.allergies?"Yes":"None"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Medications"}),e.jsx(me,{variant:l.medications?"secondary":"outline",children:l.medications?"Taking":"None"})]})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(sn,{className:"h-4 w-4"}),e.jsx("span",{children:"Keep information updated for safety"})]})})]})]}),e.jsxs(J,{className:"lg:col-span-2 shadow-medium",children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(oe,{children:"Medical Details"}),e.jsx(_e,{children:i?"Update your medical information":"Your current medical information"})]}),i&&e.jsxs("div",{className:"space-x-2",children:[e.jsx(O,{variant:"outline",onClick:()=>{o(!1),d({medicalConditions:(t==null?void 0:t.medicalConditions)||"",specialAssistance:(t==null?void 0:t.specialAssistance)||"",allergies:(t==null?void 0:t.allergies)||"",medications:(t==null?void 0:t.medications)||"",emergencyMedicalInfo:(t==null?void 0:t.emergencyMedicalInfo)||""})},children:"Cancel"}),e.jsxs(O,{onClick:f,disabled:r,className:"bg-gradient-primary",children:[e.jsx(qo,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})]})]})}),e.jsx(Q,{children:e.jsx("form",{onSubmit:f,className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"medicalConditions",className:"flex items-center space-x-2",children:[e.jsx(po,{className:"h-4 w-4"}),e.jsx("span",{children:"Medical Conditions"})]}),e.jsx(st,{id:"medicalConditions",placeholder:"List any allergies, chronic illnesses, or medical conditions (leave empty if none)",value:l.medicalConditions,onChange:m=>u("medicalConditions",m.target.value),disabled:!i,rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"specialAssistance",className:"flex items-center space-x-2",children:[e.jsx(sn,{className:"h-4 w-4"}),e.jsx("span",{children:"Special Assistance Requirements"})]}),e.jsx(st,{id:"specialAssistance",placeholder:"Describe any special assistance needed during events (leave empty if none)",value:l.specialAssistance,onChange:m=>u("specialAssistance",m.target.value),disabled:!i,rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"allergies",className:"flex items-center space-x-2",children:[e.jsx(sn,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:"Allergies"})]}),e.jsx(st,{id:"allergies",placeholder:"List all known allergies (food, medication, environmental)",value:l.allergies,onChange:m=>u("allergies",m.target.value),disabled:!i,rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"medications",className:"flex items-center space-x-2",children:[e.jsx(GP,{className:"h-4 w-4"}),e.jsx("span",{children:"Current Medications"})]}),e.jsx(st,{id:"medications",placeholder:"List current medications and dosages",value:l.medications,onChange:m=>u("medications",m.target.value),disabled:!i,rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"emergencyMedicalInfo",className:"flex items-center space-x-2",children:[e.jsx(sn,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{children:"Emergency Medical Information"})]}),e.jsx(st,{id:"emergencyMedicalInfo",placeholder:"Additional medical information for emergency situations",value:l.emergencyMedicalInfo,onChange:m=>u("emergencyMedicalInfo",m.target.value),disabled:!i,rows:3})]})]})})})]})]}),e.jsx(J,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950/20",children:e.jsx(Q,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(sn,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-orange-800 dark:text-orange-200",children:"Important Notice"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:"This information is crucial for your safety during sports events. Please ensure all details are accurate and up-to-date. In case of medical emergencies, this information will be shared with medical personnel and event organizers."})]})]})})})]})},AO=()=>{const{toast:t}=Ee(),[s,n]=c.useState(!0),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(!1),[u,f]=c.useState(null),[m,x]=c.useState(null),[h,w]=c.useState(""),[j,S]=c.useState({sponsorName:"",sponsorshipAmount:"",sponsorshipType:"partial"}),[y,p]=c.useState([]),v=async()=>{var $;try{n(!0);const U=($=(await se.getStudentDashboard()).data)==null?void 0:$.data;if(U&&U.registrations){const W=U.registrations.map(ne=>({id:ne.id,sport:ne.sport_name,category:ne.category_name,amount:ne.fee,status:ne.payment_status==="Paid"?"paid":"pending",dueDate:ne.created_at?new Date(ne.created_at).toISOString().split("T")[0]:"",transactionId:ne.payment_status==="Paid"?`TXN${ne.id.toString().padStart(6,"0")}`:void 0}));p(W)}else p([])}catch(L){console.error("Error fetching payment data:",L),t({title:"Error",description:"Failed to fetch payment data. Please try again.",variant:"destructive"}),p([])}finally{n(!1)}};c.useEffect(()=>{v()},[]);const N=[{id:1,amount:100,status:"pending",requestDate:"2024-02-10",sport:"Basketball",sponsorName:"Local Business Corp",type:"partial"},{id:2,amount:50,status:"approved",requestDate:"2024-02-08",sport:"Tennis",sponsorName:"Sports Foundation",type:"full"},{id:3,amount:75,status:"rejected",requestDate:"2024-02-05",sport:"Football",reason:"Insufficient documentation provided",sponsorName:"Community Fund",type:"partial"}],P=y.reduce(($,L)=>$+L.amount,0),I=y.filter($=>$.status==="paid").reduce(($,L)=>$+L.amount,0),g=200,C=async()=>{if(!h){t({title:"Selection Required",description:"Please select a payment method.",variant:"destructive"});return}n(!0);try{await new Promise($=>setTimeout($,3e3)),t({title:"Payment Successful!",description:`Successfully paid ${P+g}`}),a(!1),w("")}catch{t({title:"Payment Failed",description:"Payment could not be processed. Please try again.",variant:"destructive"})}finally{n(!1)}},E=async()=>{if(!j.sponsorName||!j.sponsorshipAmount){t({title:"Incomplete Form",description:"Please fill all required fields for sponsorship request.",variant:"destructive"});return}n(!0);try{await new Promise($=>setTimeout($,2e3)),t({title:"Sponsorship Request Submitted",description:"Your sponsorship request has been submitted for review."}),S({sponsorName:"",sponsorshipAmount:"",sponsorshipType:"partial"}),o(!1)}catch{t({title:"Submission Failed",description:"Failed to submit sponsorship request. Please try again.",variant:"destructive"})}finally{n(!1)}},A=()=>{t({title:"Request Submitted",description:"Institution payment request has been submitted for approval."})},_=$=>{switch($){case"paid":case"approved":return e.jsx(vt,{className:"h-4 w-4 text-accent"});case"pending":return e.jsx(Za,{className:"h-4 w-4 text-warning"});case"overdue":case"rejected":return e.jsx(LP,{className:"h-4 w-4 text-destructive"});default:return null}},M=$=>{switch($){case"paid":case"approved":return e.jsx(me,{className:"bg-accent text-accent-foreground",children:$});case"pending":return e.jsx(me,{className:"bg-warning text-warning-foreground",children:$});case"overdue":case"rejected":return e.jsx(me,{variant:"destructive",children:$});default:return e.jsx(me,{variant:"secondary",children:$})}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Payments & Sponsorship"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your event payments and sponsorship requests"})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(YP,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Fee Breakdown"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Student Registration"}),e.jsxs("span",{className:"text-2xl font-bold",children:["",P]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Parent Fees (2 parents)"}),e.jsxs("span",{className:"text-2xl font-bold",children:["",g]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Amount"}),e.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",P+g]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Status"}),e.jsx(me,{variant:I>=P?"default":"secondary",className:"w-fit",children:I>=P?"Completed":"Pending"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Payment Options"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-l-4 border-l-primary",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(Xt,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Pay Now"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["",P+g]})]})]}),e.jsxs(ze,{open:r,onOpenChange:a,children:[e.jsx($s,{asChild:!0,children:e.jsx(O,{className:"bg-gradient-primary",children:"Pay Now"})}),e.jsxs(De,{className:"max-w-md",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Complete Payment"}),e.jsxs(Qe,{children:["Total amount: ",P+g]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Student Fees:"}),e.jsxs("span",{children:["",P]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Parent Fees:"}),e.jsxs("span",{children:["",g]})]}),e.jsxs("div",{className:"flex justify-between font-medium border-t pt-1",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["",P+g]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(R,{children:"Select Payment Method"}),e.jsxs(dn,{value:h,onValueChange:w,children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[e.jsx(ht,{value:"mpaisa",id:"mpaisa"}),e.jsx(Jj,{className:"h-4 w-4 text-primary"}),e.jsx(R,{htmlFor:"mpaisa",className:"flex-1 cursor-pointer",children:"Mpaisa / Mobile Wallet"})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[e.jsx(ht,{value:"razorpay",id:"razorpay"}),e.jsx(Xt,{className:"h-4 w-4 text-primary"}),e.jsx(R,{htmlFor:"razorpay",className:"flex-1 cursor-pointer",children:"Razorpay (Card/UPI/NetBanking)"})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[e.jsx(ht,{value:"stripe",id:"stripe"}),e.jsx(Qx,{className:"h-4 w-4 text-primary"}),e.jsx(R,{htmlFor:"stripe",className:"flex-1 cursor-pointer",children:"Stripe (International Cards)"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(O,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"}),e.jsx(O,{onClick:C,disabled:s||!h,className:"flex-1 bg-gradient-primary",children:s?"Processing...":`Pay ${P+g}`})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-l-4 border-l-accent",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-accent/10 rounded-full",children:e.jsx(wp,{className:"h-6 w-6 text-accent"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Get Sponsorship"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Partial/Full"})]})]}),e.jsxs(ze,{open:i,onOpenChange:o,children:[e.jsx($s,{asChild:!0,children:e.jsx(O,{variant:"outline",children:"Apply for Sponsorship"})}),e.jsxs(De,{className:"max-w-md",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Apply for Sponsorship"}),e.jsx(Qe,{children:"Fill in the details for your sponsorship request"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"sponsorName",children:"Sponsor Name"}),e.jsx(D,{id:"sponsorName",value:j.sponsorName,onChange:$=>S({...j,sponsorName:$.target.value}),placeholder:"Enter sponsor name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"sponsorshipAmount",children:"Sponsorship Amount ()"}),e.jsx(D,{id:"sponsorshipAmount",type:"number",value:j.sponsorshipAmount,onChange:$=>S({...j,sponsorshipAmount:$.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"sponsorshipType",children:"Sponsorship Type"}),e.jsxs(xe,{value:j.sponsorshipType,onValueChange:$=>S({...j,sponsorshipType:$}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select type"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"partial",children:"Partial"}),e.jsx(q,{value:"full",children:"Full"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(O,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),e.jsx(O,{onClick:E,disabled:s,className:"flex-1",children:s?"Submitting...":"Submit Request"})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg border-l-4 border-l-warning",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-warning/10 rounded-full",children:e.jsx(Qx,{className:"h-6 w-6 text-warning"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Paid by Institution"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"})]})]}),e.jsx(O,{variant:"outline",onClick:A,children:"Mark as Institution Payment"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Status"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Sport"}),e.jsx("th",{className:"text-left py-2",children:"Category"}),e.jsx("th",{className:"text-left py-2",children:"Amount"}),e.jsx("th",{className:"text-left py-2",children:"Status"}),e.jsx("th",{className:"text-left py-2",children:"Due Date"}),e.jsx("th",{className:"text-left py-2",children:"Actions"})]})}),e.jsx("tbody",{children:s?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Loading payment data..."})}):y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No payment records found."})}):y.map($=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-3",children:$.sport}),e.jsx("td",{className:"py-3",children:$.category}),e.jsxs("td",{className:"py-3",children:["",$.amount]}),e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[_($.status),M($.status)]})}),e.jsx("td",{className:"py-3",children:$.dueDate}),e.jsx("td",{className:"py-3",children:e.jsxs(ze,{open:l&&(u==null?void 0:u.id)===$.id,onOpenChange:L=>{d(L),L||f(null)},children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>f($),children:[e.jsx(us,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsxs(De,{children:[e.jsx(Le,{children:e.jsx($e,{children:"Payment Details"})}),u&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sport:"}),e.jsx("p",{className:"font-medium",children:u.sport})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),e.jsx("p",{className:"font-medium",children:u.category})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),e.jsxs("p",{className:"font-medium",children:["",u.amount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),M(u.status)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Due Date:"}),e.jsx("p",{className:"font-medium",children:u.dueDate})]}),u.transactionId&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID:"}),e.jsx("p",{className:"font-medium",children:u.transactionId})]})]})})]})]})})]},$.id))})]})})]}),e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Xj,{className:"h-5 w-5 text-warning"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Sponsorship Status"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Sport"}),e.jsx("th",{className:"text-left py-2",children:"Sponsor"}),e.jsx("th",{className:"text-left py-2",children:"Amount"}),e.jsx("th",{className:"text-left py-2",children:"Type"}),e.jsx("th",{className:"text-left py-2",children:"Status"}),e.jsx("th",{className:"text-left py-2",children:"Date"}),e.jsx("th",{className:"text-left py-2",children:"Actions"})]})}),e.jsx("tbody",{children:N.map($=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-3",children:$.sport}),e.jsx("td",{className:"py-3",children:$.sponsorName||"N/A"}),e.jsxs("td",{className:"py-3",children:["",$.amount]}),e.jsx("td",{className:"py-3 capitalize",children:$.type}),e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[_($.status),M($.status)]})}),e.jsx("td",{className:"py-3",children:$.requestDate}),e.jsx("td",{className:"py-3",children:e.jsxs(ze,{open:l&&(m==null?void 0:m.id)===$.id,onOpenChange:L=>{d(L),L||x(null)},children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>x($),children:[e.jsx(us,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsxs(De,{children:[e.jsx(Le,{children:e.jsx($e,{children:"Sponsorship Details"})}),m&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sport:"}),e.jsx("p",{className:"font-medium",children:m.sport})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Sponsor:"}),e.jsx("p",{className:"font-medium",children:m.sponsorName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),e.jsxs("p",{className:"font-medium",children:["",m.amount]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),e.jsx("p",{className:"font-medium capitalize",children:m.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),M(m.status)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Request Date:"}),e.jsx("p",{className:"font-medium",children:m.requestDate})]})]}),m.reason&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Reason:"}),e.jsx("p",{className:"font-medium mt-1",children:m.reason})]})]})]})]})})]},$.id))})]})})]})]})},RO=()=>{const{toast:t}=Ee(),[s,n]=c.useState(!0),[r,a]=c.useState(""),[i,o]=c.useState(null),[l,d]=c.useState([]),u=async()=>{try{n(!0),d([])}catch(v){console.error("Error fetching consents:",v),d([])}finally{n(!1)}};c.useEffect(()=>{u()},[]);const[f,m]=c.useState({}),x=(v,N)=>{m(P=>({...P,[v]:N}))},h=async v=>{if(!f[v]){t({title:"Agreement Required",description:"Please check the agreement box before signing.",variant:"destructive"});return}if(!r.trim()){t({title:"Signature Required",description:"Please provide your digital signature.",variant:"destructive"});return}n(!0);try{await new Promise(P=>setTimeout(P,2e3));const N=new Date().toLocaleDateString();d(P=>P.map(I=>I.id===v?{...I,status:"signed",signedDate:N}:I)),t({title:"Success!",description:"Consent form signed successfully."})}catch{t({title:"Error",description:"Failed to sign consent form. Please try again.",variant:"destructive"})}finally{n(!1)}},w=async()=>{const v=l.filter(P=>P.status==="required");if(v.length===0){t({title:"No Pending Consents",description:"All consent forms are already signed."});return}if(!r.trim()){t({title:"Signature Required",description:"Please provide your digital signature.",variant:"destructive"});return}if(!v.every(P=>f[P.id])){t({title:"Agreement Required",description:"Please agree to all consent forms before signing.",variant:"destructive"});return}n(!0);try{await new Promise(I=>setTimeout(I,3e3));const P=new Date().toLocaleDateString();d(I=>I.map(g=>g.status==="required"?{...g,status:"signed",signedDate:P}:g)),t({title:"Success!",description:"All consent forms signed successfully."})}catch{t({title:"Error",description:"Failed to sign consent forms. Please try again.",variant:"destructive"})}finally{n(!1)}},j=v=>{switch(v){case"signed":return e.jsx(vt,{className:"h-5 w-5 text-accent"});case"pending":return e.jsx(Za,{className:"h-5 w-5 text-warning"});case"required":return e.jsx(sn,{className:"h-5 w-5 text-destructive"});default:return null}},S=v=>{switch(v){case"signed":return e.jsx(me,{className:"bg-accent text-accent-foreground",children:"Signed"});case"pending":return e.jsx(me,{className:"bg-warning text-warning-foreground",children:"Pending"});case"required":return e.jsx(me,{variant:"destructive",children:"Required"});default:return e.jsx(me,{variant:"secondary",children:v})}},y=l.every(v=>v.status==="signed"),p=l.filter(v=>v.status==="required");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Consent & Declarations"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and sign required consent forms and declarations"})]}),e.jsx(J,{className:`shadow-medium ${y?"border-accent":"border-warning"}`,children:e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[y?e.jsx(vt,{className:"h-6 w-6 text-accent"}):e.jsx(Za,{className:"h-6 w-6 text-warning"}),e.jsx(oe,{children:y?"All Consents Signed":"Pending Consents"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[l.filter(v=>v.status==="signed").length," / ",l.length]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})}),e.jsx("div",{className:"space-y-4",children:s?e.jsx(J,{className:"shadow-soft",children:e.jsxs(Q,{className:"py-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Loading consent forms..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we fetch your consent documents"})]})}):l.length===0?e.jsx(J,{className:"shadow-soft",children:e.jsxs(Q,{className:"py-12 text-center",children:[e.jsx(UP,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No consent forms found"}),e.jsx("p",{className:"text-muted-foreground",children:"You have no consent forms to review at this time"})]})}):l.map(v=>e.jsxs(J,{className:"shadow-medium",children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[j(v.status),e.jsxs("div",{children:[e.jsx(oe,{className:"text-lg",children:v.title}),e.jsx(_e,{children:v.description})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:S(v.status)})]})}),e.jsxs(Q,{className:"space-y-4",children:[v.status!=="signed"&&e.jsx("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/20",children:e.jsx("div",{className:"max-h-64 overflow-y-auto p-4 bg-background border rounded text-sm whitespace-pre-wrap",children:v.content})}),v.status==="signed"&&v.signedDate&&e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-accent",children:[e.jsx(vt,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["Signed on ",v.signedDate]})]})})}),v.status!=="signed"&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-accent/5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Digital Signature"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{placeholder:"Type your full name to sign",value:r,onChange:N=>a(N.target.value),className:"pr-10"}),e.jsx(Jx,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ls,{id:`agree-${v.id}`,checked:f[v.id]||!1,onCheckedChange:N=>x(v.id,N)}),e.jsx(R,{htmlFor:`agree-${v.id}`,className:"text-sm",children:"I agree to the terms and conditions"})]})}),e.jsx(O,{onClick:()=>h(v.id),disabled:!f[v.id]||!r.trim()||s,className:"w-full bg-gradient-primary hover:shadow-glow",size:"lg",children:s?"Signing...":"Sign Document"})]})]})]},v.id))}),!y&&e.jsxs(J,{className:"shadow-medium border-primary",children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center space-x-2",children:[e.jsx(Cc,{className:"h-5 w-5"}),"Sign All Documents"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-primary/5 rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"You can sign all pending consent forms at once. Make sure you have read and agreed to all terms."})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Digital Signature"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{placeholder:"Type your full name to sign all documents",value:r,onChange:v=>a(v.target.value),className:"pr-10"}),e.jsx(Jx,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Agree to All"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ls,{id:"agree-all",checked:p.every(v=>f[v.id]),onCheckedChange:v=>{p.forEach(N=>{x(N.id,v)})}}),e.jsx(R,{htmlFor:"agree-all",className:"text-sm",children:"I agree to all terms and conditions"})]})]}),e.jsx(O,{onClick:w,disabled:!p.every(v=>f[v.id])||!r.trim()||s,className:"w-full bg-gradient-primary hover:shadow-glow",size:"lg",children:s?"Signing All Documents...":`Sign All ${p.length} Documents`})]})]})]})]})},IO=()=>{const[t,s]=c.useState(""),[n,r]=c.useState("all"),[a,i]=c.useState("all"),[o,l]=c.useState([]),[d,u]=c.useState(!0),f=async()=>{try{u(!0),l([])}catch(N){console.error("Error fetching notifications:",N),l([])}finally{u(!1)}};useEffect(()=>{f()},[]);const m=N=>{l(P=>P.map(I=>I.id===N?{...I,isRead:!0}:I))},x=()=>{l(N=>N.map(P=>({...P,isRead:!0})))},h=N=>{switch(N){case"success":return e.jsx(vt,{className:"h-5 w-5 text-accent"});case"warning":return e.jsx(ds,{className:"h-5 w-5 text-warning"});case"event":return e.jsx(hn,{className:"h-5 w-5 text-primary"});case"announcement":return e.jsx(Ie,{className:"h-5 w-5 text-accent"});default:return e.jsx(VP,{className:"h-5 w-5 text-primary"})}},w=N=>{switch(N){case"success":return"default";case"warning":return"destructive";case"event":return"secondary";case"announcement":return"outline";default:return"secondary"}},j=N=>{switch(N){case"high":return"border-l-destructive";case"medium":return"border-l-warning";default:return"border-l-muted"}},S=o.filter(N=>{const P=N.title.toLowerCase().includes(t.toLowerCase())||N.message.toLowerCase().includes(t.toLowerCase()),I=n==="all"||N.type===n,g=a==="all"||N.category===a;return P&&I&&g}),y=o.filter(N=>!N.isRead).length,p=o.filter(N=>N.priority==="high"&&!N.isRead).length,v=o.filter(N=>N.actionRequired&&!N.isRead).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Notifications & Announcements"}),e.jsx("p",{className:"text-muted-foreground",children:"Stay updated with important announcements and event notifications"})]}),y>0&&e.jsxs(O,{onClick:x,variant:"outline",children:[e.jsx(ld,{className:"h-4 w-4 mr-2"}),"Mark All as Read"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(J,{className:"border-l-4 border-l-primary shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Unread Notifications"}),e.jsx(Sc,{className:"h-4 w-4 text-primary"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"New messages"})]})]}),e.jsxs(J,{className:"border-l-4 border-l-destructive shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"High Priority"}),e.jsx(ds,{className:"h-4 w-4 text-destructive"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent items"})]})]}),e.jsxs(J,{className:"border-l-4 border-l-warning shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Action Required"}),e.jsx(Ie,{className:"h-4 w-4 text-warning"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need response"})]})]})]}),e.jsxs(J,{className:"shadow-medium",children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center space-x-2",children:[e.jsx(pn,{className:"h-5 w-5"}),e.jsx("span",{children:"Filter Notifications"})]})}),e.jsx(Q,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search notifications...",value:t,onChange:N=>s(N.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Type"}),e.jsxs(xe,{value:n,onValueChange:r,children:[e.jsx(pe,{children:e.jsx(ge,{})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Types"}),e.jsx(q,{value:"info",children:"Information"}),e.jsx(q,{value:"success",children:"Success"}),e.jsx(q,{value:"warning",children:"Warning"}),e.jsx(q,{value:"announcement",children:"Announcement"}),e.jsx(q,{value:"event",children:"Event"}),e.jsx(q,{value:"payment",children:"Payment"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsxs(xe,{value:a,onValueChange:i,children:[e.jsx(pe,{children:e.jsx(ge,{})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Categories"}),e.jsx(q,{value:"registration",children:"Registration"}),e.jsx(q,{value:"event",children:"Events"}),e.jsx(q,{value:"payment",children:"Payments"}),e.jsx(q,{value:"general",children:"General"}),e.jsx(q,{value:"emergency",children:"Emergency"})]})]})]})]})})]}),e.jsx("div",{className:"space-y-4",children:d?e.jsx(J,{className:"shadow-soft",children:e.jsxs(Q,{className:"py-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Loading notifications..."}),e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we fetch your notifications"})]})}):S.length===0?e.jsx(J,{className:"shadow-soft",children:e.jsxs(Q,{className:"py-12 text-center",children:[e.jsx(Sc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No notifications found"}),e.jsx("p",{className:"text-muted-foreground",children:t||n!=="all"||a!=="all"?"Try adjusting your search or filter criteria":"You have no notifications at this time"})]})}):S.map(N=>e.jsxs(J,{className:`shadow-medium border-l-4 ${j(N.priority)} ${N.isRead?"":"bg-muted/20"} cursor-pointer hover:shadow-large transition-all`,onClick:()=>m(N.id),children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[h(N.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(oe,{className:`text-lg ${N.isRead?"font-medium":"font-bold"}`,children:N.title}),!N.isRead&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),e.jsx(_e,{className:"text-base",children:N.message})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(me,{variant:w(N.type),children:N.type}),N.actionRequired&&e.jsx(me,{variant:"outline",className:"text-xs border-warning text-warning",children:"Action Required"}),N.priority==="high"&&e.jsx(me,{variant:"destructive",className:"text-xs",children:"High Priority"})]})]})}),e.jsx(Q,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:N.timestamp}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"capitalize",children:N.category}),e.jsx("span",{children:""}),e.jsxs("span",{className:"capitalize",children:[N.priority," priority"]})]})]})})]},N.id))}),S.length>0&&e.jsx("div",{className:"text-center",children:e.jsx(O,{variant:"outline",children:"Load More Notifications"})})]})},TO=()=>{const t=Hs();return c.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),e.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},_O=[{title:"Dashboard",url:"/institution",icon:bp},{title:"Student Management",url:"/institution/institution-students",icon:Ye},{title:"Sports Management",url:"/institution/institution-sports",icon:Ie},{title:"Payment Options",url:"/institution/institution-payments",icon:Xt}];function kO(){const t=Hs(),s=r=>t.pathname===r,n=r=>s(r)?"bg-primary text-primary-foreground font-medium shadow-soft":"hover:bg-muted/50";return e.jsxs(Ld,{collapsible:"offcanvas",children:[e.jsx(Bd,{className:"border-b border-border p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:e.jsx(Ys,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-foreground",children:"Sports Portal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Institution Panel"})]})]})}),e.jsx(zd,{children:e.jsxs(Vd,{children:[e.jsx(qd,{children:"Main Menu"}),e.jsx(Gd,{children:e.jsx(Yd,{children:_O.map(r=>e.jsx(Hd,{children:e.jsx(Wd,{asChild:!0,children:e.jsxs(Jp,{to:r.url,className:n(r.url),children:[e.jsx(r.icon,{className:"h-4 w-4"}),e.jsx("span",{children:r.title})]})})},r.title))})})]})})]})}function MO(){var i,o;const{student:t,logout:s}=Lt(),n=Dt(),r=()=>{n("/institution/profile")},a=async()=>{try{await s(),localStorage.removeItem("institutionSession"),n("/login")}catch(l){console.error("Logout error:",l),localStorage.removeItem("institutionSession"),localStorage.removeItem("student"),localStorage.removeItem("authToken"),n("/login")}};return e.jsx("header",{className:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-14 items-center px-4",children:[e.jsx($d,{className:"-ml-1"}),e.jsx("div",{className:"ml-auto flex items-center space-x-4",children:e.jsxs(Xd,{children:[e.jsx(Zd,{asChild:!0,children:e.jsx(O,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(Xo,{className:"h-8 w-8",children:[e.jsx(Zo,{src:"/placeholder-avatar.jpg",alt:"Institution"}),e.jsx(el,{children:((i=t==null?void 0:t.fullName)==null?void 0:i.charAt(0))||((o=t==null?void 0:t.email)==null?void 0:o.charAt(0))||"I"})]})})}),e.jsxs(nl,{className:"w-56 z-50 bg-background border shadow-medium",align:"end",forceMount:!0,children:[e.jsx(eu,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:(t==null?void 0:t.fullName)||(t==null?void 0:t.instituteName)||"Institution"}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:(t==null?void 0:t.email)||"institution@example.com"})]})}),e.jsx(sa,{}),e.jsxs(ls,{onClick:r,children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(ls,{children:[e.jsx(Ap,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(sa,{}),e.jsxs(ls,{onClick:a,children:[e.jsx(Cp,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})})]})})}const OO=()=>{const t=Od();return e.jsx(Dd,{defaultOpen:!t,children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(kO,{}),e.jsxs(Ud,{children:[e.jsx(MO,{}),e.jsx("main",{className:"flex-1 p-4 sm:p-6",children:e.jsx(Kp,{})})]})]})})},FO=()=>{const t=Dt(),{toast:s}=Ee(),[n,r]=c.useState(!1),[a,i]=c.useState(!1),[o,l]=c.useState(!1),[d,u]=c.useState(""),[f,m]=c.useState(""),[x,h]=c.useState({institutionName:"",customInstitutionName:"",institutionType:"",registrationNumber:"",accreditationBody:"",accreditationNumber:"",establishedYear:"",phone:"",email:"",website:"",alternateEmail:"",alternatePhone:"",streetAddress:"",city:"",state:"",country:"",postalCode:"",landmark:"",description:"",vision:"",mission:"",specializations:"",languagesOffered:"",totalStudents:"",totalStaff:"",teachingStaff:"",nonTeachingStaff:"",sportsCoaches:"",hasSportsFacilities:!1,sportsFacilities:"",hasLibrary:!1,libraryCapacity:"",hasLaboratory:!1,laboratoryTypes:"",hasHostel:!1,hostelCapacity:"",hasCafeteria:!1,hasTransport:!1,transportDetails:"",annualFee:"",feeStructure:"",paymentMethods:"",scholarshipAvailable:!1,scholarshipDetails:"",contactPersonName:"",contactPersonDesignation:"",contactPersonPhone:"",contactPersonEmail:"",contactPersonAlternatePhone:"",principalName:"",principalPhone:"",principalEmail:"",sportsDirectorName:"",sportsDirectorPhone:"",sportsDirectorEmail:"",facebookUrl:"",twitterUrl:"",instagramUrl:"",linkedinUrl:"",youtubeUrl:"",hasRegistrationCertificate:!1,hasAccreditationCertificate:!1,hasTaxExemption:!1,taxExemptionNumber:"",sportsParticipation:"",previousAchievements:"",coachingStaff:"",equipmentAvailable:"",trainingSchedule:""}),w=(p,v)=>{h(N=>({...N,[p]:v}))},j=async()=>{var p;if(!x.contactPersonEmail){s({title:"Email Required",description:"Please enter contact person email first.",variant:"destructive"});return}try{const N=(await se.sendInstitutionOTP(x.contactPersonEmail,x.contactPersonName||"Institution","registration")).data;m(((p=N.data)==null?void 0:p.otp_id)||N.otp_id),l(!0),s({title:"OTP Sent! ",description:`Verification code sent to ${x.contactPersonEmail}. Please check your email inbox.`})}catch(v){const N=v instanceof Error?v.message:"Please try again later.";s({title:"OTP Send Failed",description:N,variant:"destructive"})}},S=async()=>{if(!d){s({title:"OTP Required",description:"Please enter the OTP code.",variant:"destructive"});return}try{const v=(await se.verifyOTP(f,d)).data;i(!0),l(!1),s({title:"Email Verified ",description:"Your email has been successfully verified."})}catch(p){const v=p instanceof Error?p.message:"Please check the OTP code and try again.";s({title:"OTP Verification Failed",description:v,variant:"destructive"})}},y=async p=>{var v;p.preventDefault(),r(!0);try{if(!a){s({title:"Email Verification Required",description:"Please verify your email before submitting the registration.",variant:"destructive"});return}const N={name:x.institutionName||x.customInstitutionName,email:x.contactPersonEmail,type:x.institutionType,contactPersonName:x.contactPersonName,contactPersonEmail:x.contactPersonEmail,contactPersonPhone:x.contactPersonPhone,contactPersonDesignation:x.contactPersonDesignation,phone:x.phone,website:x.website,principalName:x.principalName,principalPhone:x.principalPhone,streetAddress:x.streetAddress,city:x.city,state:x.state,country:x.country,postalCode:x.postalCode,description:x.description,vision:x.vision,mission:x.mission},P=await se.createInstitute(N);if(P.data&&P.data.success)s({title:"Registration Successful!",description:"Your institution has been registered successfully."}),t("/institution/login");else throw new Error(((v=P.data)==null?void 0:v.message)||"Registration failed")}catch(N){console.error("Registration error:",N),s({title:"Registration Failed",description:N instanceof Error?N.message:"An error occurred during registration. Please try again.",variant:"destructive"})}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-hero flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-5xl",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[e.jsx("div",{className:"text-center md:text-left space-y-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Id,alt:"Institution Registration",className:"rounded-2xl shadow-large w-full h-64 md:h-80 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Register Your Institution"}),e.jsx("p",{className:"text-xl opacity-90",children:"Join our sports management platform"})]})})]})}),e.jsxs(J,{className:"shadow-large border-0 bg-card/95 backdrop-blur",children:[e.jsxs(ie,{className:"text-center pb-4",children:[e.jsx(oe,{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Institution Registration"}),e.jsx(_e,{className:"text-muted-foreground",children:"Create your comprehensive institution profile"})]}),e.jsx(Q,{className:"space-y-6 max-h-[80vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Ys,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Institution Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:x.institutionName,onValueChange:p=>w("institutionName",p),required:!0,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select Institution"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Delhi Public School",children:"Delhi Public School"}),e.jsx(q,{value:"Ryan International School",children:"Ryan International School"}),e.jsx(q,{value:"DAV Public School",children:"DAV Public School"}),e.jsx(q,{value:"Kendriya Vidyalaya",children:"Kendriya Vidyalaya"}),e.jsx(q,{value:"Amity University",children:"Amity University"}),e.jsx(q,{value:"Jamia Millia Islamia",children:"Jamia Millia Islamia"}),e.jsx(q,{value:"Other",children:"Other (Enter Manually)"})]})]}),x.institutionName==="Other"&&e.jsx(D,{placeholder:"Enter Institution Name",value:x.customInstitutionName||"",onChange:p=>w("customInstitutionName",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Institution Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:x.institutionType,onValueChange:p=>w("institutionType",p),required:!0,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select Type"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"School",children:"School"}),e.jsx(q,{value:"College",children:"College"}),e.jsx(q,{value:"University",children:"University"}),e.jsx(q,{value:"Academy",children:"Academy"}),e.jsx(q,{value:"Training Center",children:"Training Center"}),e.jsx(q,{value:"Sports Club",children:"Sports Club"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Registration Number"}),e.jsx(D,{placeholder:"e.g., UGC123456",value:x.registrationNumber,onChange:p=>w("registrationNumber",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Established Year"}),e.jsx(D,{type:"number",placeholder:"e.g., 1995",value:x.establishedYear,onChange:p=>w("establishedYear",p.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(jr,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Primary Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"+91 9876543210",value:x.phone,onChange:p=>w("phone",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Primary Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{type:"email",placeholder:"info@institution.com",value:x.email,onChange:p=>w("email",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Website"}),e.jsx(D,{placeholder:"https://www.institution.com",value:x.website,onChange:p=>w("website",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Alternate Phone"}),e.jsx(D,{placeholder:"+91 9876543211",value:x.alternatePhone,onChange:p=>w("alternatePhone",p.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Kj,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Address Information"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{placeholder:"Complete street address",value:x.streetAddress,onChange:p=>w("streetAddress",p.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"New Delhi",value:x.city,onChange:p=>w("city",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"Delhi",value:x.state,onChange:p=>w("state",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Postal Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"110001",value:x.postalCode,onChange:p=>w("postalCode",p.target.value),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Country ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"India",value:x.country,onChange:p=>w("country",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Landmark"}),e.jsx(D,{placeholder:"Near Metro Station",value:x.landmark,onChange:p=>w("landmark",p.target.value)})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Vo,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Institution Details"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(st,{placeholder:"Brief description of your institution...",value:x.description,onChange:p=>w("description",p.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Vision"}),e.jsx(st,{placeholder:"Institution's vision statement",value:x.vision,onChange:p=>w("vision",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Mission"}),e.jsx(st,{placeholder:"Institution's mission statement",value:x.mission,onChange:p=>w("mission",p.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Specializations"}),e.jsx(D,{placeholder:"e.g., Engineering, Medicine, Sports",value:x.specializations,onChange:p=>w("specializations",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Languages Offered"}),e.jsx(D,{placeholder:"e.g., English, Hindi, French",value:x.languagesOffered,onChange:p=>w("languagesOffered",p.target.value)})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Be,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Capacity & Staff"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Total Students"}),e.jsx(D,{type:"number",placeholder:"1000",value:x.totalStudents,onChange:p=>w("totalStudents",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Total Staff"}),e.jsx(D,{type:"number",placeholder:"100",value:x.totalStaff,onChange:p=>w("totalStaff",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Sports Coaches"}),e.jsx(D,{type:"number",placeholder:"10",value:x.sportsCoaches,onChange:p=>w("sportsCoaches",p.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Teaching Staff"}),e.jsx(D,{type:"number",placeholder:"80",value:x.teachingStaff,onChange:p=>w("teachingStaff",p.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Non-Teaching Staff"}),e.jsx(D,{type:"number",placeholder:"20",value:x.nonTeachingStaff,onChange:p=>w("nonTeachingStaff",p.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx(Be,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Contact Person Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Contact Person Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"John Doe",value:x.contactPersonName,onChange:p=>w("contactPersonName",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Designation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"Principal",value:x.contactPersonDesignation,onChange:p=>w("contactPersonDesignation",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{placeholder:"+91 9876543210",value:x.contactPersonPhone,onChange:p=>w("contactPersonPhone",p.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"email",placeholder:"contact@institution.com",value:x.contactPersonEmail,onChange:p=>w("contactPersonEmail",p.target.value),className:"flex-1",required:!0}),e.jsx(O,{type:"button",variant:a?"default":"outline",onClick:o?S:j,disabled:a||!x.contactPersonEmail,className:"min-w-[120px]",children:a?e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Verified"]}):o?"Verify OTP":"Send OTP"})]}),o&&!a&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{placeholder:"Enter OTP",value:d,onChange:p=>u(p.target.value),className:"flex-1"}),e.jsx(O,{type:"button",variant:"outline",onClick:S,disabled:!d,children:"Verify"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["OTP sent to ",x.contactPersonEmail]})]})]})]})]}),e.jsx(O,{type:"submit",className:"w-full bg-gradient-primary hover:shadow-glow transition-all duration-300",disabled:n||!a,children:n?"Registering Institution...":a?"Register Institution":"Verify Email First"}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Already have an account? "}),e.jsx(ts,{to:"/institution/login",className:"text-primary hover:underline font-medium",children:"Sign In"})]})]})})]})]})})})},DO={School:["Delhi Public School","Kendriya Vidyalaya","Army Public School","DPS International","The Doon School","Mayo College","St. Stephen's School","Modern School","Vasant Valley School","Springdales School","Apeejay School","Ryan International School","DAV Public School","Bharatiya Vidya Bhavan","Sanskriti School","The Shri Ram School","Amity International School","GD Goenka School","Heritage School","Lotus Valley School"],College:["St. Stephen's College","Hindu College","Lady Shri Ram College","Miranda House","Hansraj College","Ramjas College","Kirori Mal College","Gargi College","Jesus and Mary College","Kamala Nehru College","Sri Venkateswara College","Acharya Narendra Dev College","Deen Dayal Upadhyaya College","Keshav Mahavidyalaya","Maitreyi College","Motilal Nehru College","Rajdhani College","Shyam Lal College","Swami Shraddhanand College","Vivekananda College"],University:["University of Delhi","Jawaharlal Nehru University","Jamia Millia Islamia","Ambedkar University Delhi","Guru Gobind Singh Indraprastha University","Netaji Subhas University of Technology","Delhi Technological University","Indraprastha Institute of Information Technology","National Institute of Technology Delhi","Indian Institute of Technology Delhi","All India Institute of Medical Sciences","Jamia Hamdard University","Shiv Nadar University","Ashoka University","OP Jindal Global University","Amity University","Galgotias University","Bennett University","Manav Rachna University","SRM University"],"Sports Academy":["Sports Authority of India","National Institute of Sports","Patiala Sports Academy","Bangalore Sports Academy","Mumbai Sports Academy","Chennai Sports Academy","Kolkata Sports Academy","Delhi Sports Academy","Pune Sports Academy","Hyderabad Sports Academy","Ahmedabad Sports Academy","Chandigarh Sports Academy","Bhopal Sports Academy","Jaipur Sports Academy","Lucknow Sports Academy","Bhubaneswar Sports Academy","Guwahati Sports Academy","Kochi Sports Academy","Indore Sports Academy","Vadodara Sports Academy"],"Sports Club":["Delhi Sports Club","Mumbai Sports Club","Bangalore Sports Club","Chennai Sports Club","Kolkata Sports Club","Pune Sports Club","Hyderabad Sports Club","Ahmedabad Sports Club","Chandigarh Sports Club","Bhopal Sports Club","Jaipur Sports Club","Lucknow Sports Club","Bhubaneswar Sports Club","Guwahati Sports Club","Kochi Sports Club","Indore Sports Club","Vadodara Sports Club","Surat Sports Club","Nashik Sports Club","Vijayawada Sports Club"],Other:[]},LO=["Aga Khan Academy","Braeburn Garden Estate - BGE","Braeburn Gitanga Road - BGR","Braeside School, Thika","Braeside School, Lavington","Brookhouse School, Karen","Brookhouse School, Runda","Brookhurst International, Lavington","Brookhurst International, Kiserian","Crawford International School","The Banda School","French School","German School","Jawabu School","Light International School","Makini Cambridge School","Nairobi Academy","Nairobi Jaffery Academy","Oshwal Academy U15 & U17","Oshwal Academy U17 & U19","Peponi School (overall)","Peponi School (Girls Sport)","Peponi School (Boys Sport)","Rosslyn Academy (overall)","Kenton College","Rusinga School","SABIS International School","St Austin's Academy","St. Christopher's School","Swedish School","Woodcreek School","West Nairobi School - WNS","ISK","Durham International School - DIS"],$O=["MBAGATHI ROAD PRIMARY","NEMBU PRIMARY","KAWANGWARE PRIMARY","TOI PRIMARY","RIRUTA HGM PRIMARY","DAGORETTI MUSLIM PRIMARY","KINYANJUI ROAD PRIMARY","JOSEPH KANGETHE PRIMARY","JAMHURI PRIMARY","GATINA PRIMARY","MUTUINI PRIMARY","MUKARARA","DAGORETTI GIRLS REHABILITATION","WORLD HOPE ACADEMY","KAGIRA PRIMARY","KIRIGU PRIMARY","RUTHIMITU PRIMARY","WAITHAKA SPECIAL SCHOOL","DR. MUTHIORA PRIMARY","GITIBA PRIMARY","RIRUTA SATELLITE PRIMARY","KABIRIA PRIMARY SCHOOL","SHADRACK KIMALEL PRIMARY SCHOOL","NDURARUA PRIMARY","UPPER HILL DAY NURSERY","UMOJA PRIMARY","RONALD NGALA PRIMARY","USHIRIKA PRIMARY","KARIOBANGI SOUTH PRIMARY","TOM MBOYA PRIMARY","GITUAMBA PRIMARY","PETER KIBUKOSYA PRIMARY","ATHI PRIMARY","RUAI PRIMARY","JEHOVAH JIREH PRIMARY","NGUNDU PRIMARY","UNITY PRIMARY","UTAWALA ACADEMY","KAYOLE I PRIMARY","TUMAINI PRIMARY","OUR LADY OF NAZARETH PRIMARY","MAUA PRIMARY","VISIONS PRIMARY (MIHANG'O)","EMBAKASI GARRISON PRIMARY","MWANGAZA PRIMARY","EMBAKASI PRIMARY","THAWABU PRIMARY","BONDENI PRIMARY","KOMAROCK PRIMARY","KIFARU PRIMARY","EDELVALE PRIMARY","IMARA PRIMARY","DOONHOLM PRIMARY","BUSARA PRIMARY","A.E.F. REUBEN PRIMARY","KWA NJENGA PRIMARY","DANDORA PRIMARY SCHOOL","SIMBA DAY NURSERY","MUGUMO DAY NURSERY","MWANGAZA DAY NURSERY","UNITY DAY NURSERY","UMOJA I DAY NURSERY","ST. DOMINIC'S PRIMARY SCHOOL","KAYOLE NORTH PRIMARY","KANGUNDO ROAD PRY","JAMES GICHURU PRIMARY","WANGU PRIMARY","DRUMVALE PRIMARY","NJIRU PRIMARY","EASTLEIGH AIRPORT PRIMARY","MUTHURWA PRIMARY","UHURU ESTATE PRIMARY","HESHIMA ROAD PRIMARY","OUR LADY OF MERCY GIRLS - SHAURI MOYO","BAHATI UHURU PRIMARY","KIMATHI PRIMARY","MORRISON PRIMARY","DR. LIVINGSTONE PRIMARY","NAIROBI RIVER PRIMARY","NEW EASTLEIGH PRIMARY","ZAWADI PRIMARY","MOI AIR BASE PRIMARY","MOI FORCES ACADEMY","ST. TERESA'S BOYS PRIMARY SCHOOL","BAHATI DAY NURSERY","NEW PUMWANNI PRIMARY","BURUBURU I PRIMARY","ROYSAMBU PRIMARY","KAHAWA PRIMARY","KAMITI PRIMARY","KAWAHA GARRISON SECONDARY","GITHURAI PRIMARY","GARDEN ESTATE PRIMARY","KENYATTA UNIVERSITY PRIMARY","MAHIGA PRIMARY","KIWANJA PRIMARY","MARURUI PRIMARY","NJATHAINI PRIMARY","NGUNYUMU PRIMARY","MATHARE 4A PRIMARY","THIKA ROAD PRIMARY","G.S.U. PRIMARY","DANIEL COMBONI PRIMARY","MUTHAIGA PRIMARY","MARURA PRIMARY","M.M. CHANDARIA PRIMARY","KASARANI PRIMARY","KARIOBANGI NORTH GIRLS SECONDARY SCHOOL","MUREMA PRIMARY","MATHARE NORTH PRIMARY SCHOOL","BABA DOGO PRIMARY SCHOOL","DRIVE-IN PRIMARY SCHOOL","TREESIDE SPECIAL SCHOOL","KAREN 'C' PRIMARY","NGONG FOREST PRIMARY","ST. MARY'S KAREN PRIMARY","AYANY PRIMARY","LANGATA ROAD PRIMARY","RAILA EDUCATION CENTRE","NGEI PRIMARY","KONGONI PRIMARY","LANGATA WEST PRIMARY","UHURU GARDENS PRIMARY","MADARAKA PRIMARY SCHOOL","OLYMPIC PRIMARY","LANGATA BARRACKS PRIMARY","KIBERA PRIMARY","NAIROBI WEST DAY NUSERY","RABAI ROAD PRIMARY","BARAKA PRIMARY","HARAMBEE PRIMARY","OFAFA JERICHO PRIMARY","ST. MICHAEL'S PRIMARY","ST. ANNE'S PRIMARY","DR. KRAPF PRIMARY","JOGOO ROAD PRIMARY","ST. PAUL'S PRIMARY","MARTIN LUTHER PRIMARY","MARIAKANI PRIMARY","STAR OF HOPE LUNGA LUNGA","JOSEPH APUDO PRIMARY","MAKONGENI PRIMARY","OUR LADY OF MERCY SOUTH 'B'","PLAINSVIEW PRIMARY","ST. ELIZABETH LUNGA LUNGA","ST. BAKHITA PRIMARY","MUKURU PRIMARY","NAIROBI SOUTH PRIMARY","NILE ROAD SPECIAL SCHOOL","ST. JOHN'S PRIMARY","BIDII PRIMARY","KALOLENI PRIMARY","ST. PATRICK'S PRIMARY SCHOOL","TANA DAY NURSERY","NJORO CLOSE DAY NURSERY SCHOOL","OFAFA DAY NURSERY","KALOLENI DAY NURSERY","MBOTELA DAY NURSERY","ST. CATHERINE'S PRIMARY","CANON APOLO PRIMARY","RIVER BANK PRIMARY","PUMWANI PRIMARY","S.S.D. PRIMARY","MURANG'A ROAD PRIMARY","PARKLANDS PRIMARY","DR. AGGREY PRIMARY","MATHARI PRIMARY","NDURURUNO PRIMARY","AINSWOTH STREET PRIMARY","ARYA PRIMARY","KIBORO PRIMARY","NG'ETHU WATER WORKS","RACECOURSE PRIMARY","VALLEY BRIDGE PRIMARY","SALAMA PRIMARY","MUSLIM PRIMARY","ST. TERESA'S GIRLS PRIMARY","ISLAMIA PRIMARY","ST. BRIGIDS PRIMARY","PANGANI PRIMARY","HURUMA PRIMARY","MOI AVENUE PRIMARY","ST. PETER CLAVERS PRIMARY","CITY PRIMARY","PARKROAD PRIMARY","C.G.H.U. PRIMARY","JUJA ROAD PRIMARY","PUMWANI PRIMARY SCHOOL","CENTRAL DAY CURSERY","PARKLANDS DAY NURSERY","NGARA EAST DAY NURSERY","STAREHE DAY NURSERY","ZIWANI DAY NURSERY","DAIMA PRIMARY","MATHARE TECHNICAL SPECIAL","KABETE VET LAB PRIMARY","KIHUMBUINI PRIMARY","NAIROBI PRIMARY","MILIMANI PRIMARY","LAVINGTON PRIMARY SCHOOL","STATE HOUSE PRIMARY","KILELESHWA PRIMARY","NEW KIHUMBUINI PRIMARY","KILIMANI PRIMARY","AGA KHAN PRIMARY","FARASI LANE PRIMARY","VISA OSHWAL PRIMARY - NAIROBI","BOHRA PRIMARY SCHOOL","KABETE REHABILITATION SCHOOL","HOSPITAL HILL PRIMARY","HIGHRIDGE PRIMARY","JACARANDA SPECIAL SCHOOL","NORTH HIGHRIDGE PRIMARY","MUGUGA GREEN PRIMARY","WESTLANDS PRIMARY","KARURA FOREST PRIMARY","CHELETA PRIMARY","LOWER KABETE PRIMARY","KANGEMI PRIMARY","ST. GEORGE'S PRIMARY","LORESHO PRIMARY","STATE HOUSE DAY NURSERY","KILELESHWA DAY NURSERY","LADY NORTHEY DAY NURSERY","HIGHWAY SECONDARY SCHOOL","PARKLANDS BAPTIST SCHOOL"],UO=["Talanta","JB Academy","Muqs","Bumble Bee Sports","Discovery Tennis","TY SPORTS","Terriffic Tennis","Next Gen Multi Sport Academu"],jb=["Kaiso Schools","Govt Schools","Academies","Other"];function Nb(t){switch(t){case"Kaiso Schools":return LO;case"Govt Schools":return $O;case"Academies":return UO;case"Other":return[];default:return DO[t]||[]}}const BO=({initialData:t,verificationStatus:s,onComplete:n,onVerificationChange:r,onBack:a})=>{console.log("InstitutionDetailsStep received initialData:",t),console.log("InstitutionDetailsStep received verificationStatus:",s);const{toast:i}=Ee(),[o,l]=c.useState({institutionName:(t==null?void 0:t.institutionName)||"",institutionEmail:(t==null?void 0:t.institutionEmail)||"",institutionType:(t==null?void 0:t.institutionType)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",website:(t==null?void 0:t.website)||"",principalName:(t==null?void 0:t.principalName)||"",principalContact:(t==null?void 0:t.principalContact)||"",contactPersonName:(t==null?void 0:t.contactPersonName)||"",contactPersonDesignation:(t==null?void 0:t.contactPersonDesignation)||"",contactPersonPhone:(t==null?void 0:t.contactPersonPhone)||"",contactPersonEmail:(t==null?void 0:t.contactPersonEmail)||""}),[d,u]=c.useState({institutionEmail:{sent:!1,otp:"",verified:s.institutionEmailVerified,loading:!1},contactPersonEmail:{sent:!1,otp:"",verified:s.contactPersonEmailVerified,loading:!1}}),[f,m]=c.useState(!1),[x,h]=c.useState([]),[w,j]=c.useState(jb),[S,y]=c.useState(!0);c.useEffect(()=>{u(g=>({institutionEmail:{...g.institutionEmail,verified:s.institutionEmailVerified},contactPersonEmail:{...g.contactPersonEmail,verified:s.contactPersonEmailVerified}}))},[s]),c.useEffect(()=>{f&&l(g=>({...g,contactPersonEmail:g.institutionEmail}))},[f,o.institutionEmail]),c.useEffect(()=>{(async()=>{try{const C=await se.getInstituteTypes();C.data.success&&j(C.data.data)}catch(C){console.error("Failed to load institute types:",C),i({title:"Warning",description:"Failed to load institute types from server. Using default options.",variant:"destructive"})}finally{y(!1)}})()},[i]);const p=(g,C)=>{l(E=>({...E,[g]:C})),h([])},v=async g=>{var A;const C=g==="institutionEmail"?o.institutionEmail:o.contactPersonEmail;if(!C){i({title:"Email Required",description:"Please enter an email address first.",variant:"destructive"});return}if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(C)){i({title:"Invalid Email",description:"Please enter a valid email address.",variant:"destructive"});return}u(_=>({..._,[g]:{..._[g],loading:!0}}));try{const _=g==="institutionEmail"?"institution":"contact_person",M=await se.sendEmailVerification(C,_);if(M.data&&M.data.success)u($=>({...$,[g]:{...$[g],sent:!0,loading:!1}})),i({title:"Verification Code Sent! ",description:`A 6-digit verification code has been sent to ${C}`});else throw new Error(((A=M.data)==null?void 0:A.message)||"Failed to send verification code")}catch(_){console.error("Email verification send failed:",_),u(M=>({...M,[g]:{...M[g],loading:!1}})),i({title:"Failed to Send Code",description:_.message||"Please try again.",variant:"destructive"})}},N=async g=>{var A;const C=g==="institutionEmail"?o.institutionEmail:o.contactPersonEmail,E=d[g].otp;if(!E||E.length!==6){i({title:"Invalid Code",description:"Please enter a valid 6-digit verification code.",variant:"destructive"});return}u(_=>({..._,[g]:{..._[g],loading:!0}}));try{const _=g==="institutionEmail"?"institution":"contact_person",M=await se.verifyEmailVerification(C,E,_);if(M.data&&M.data.success){u(L=>({...L,[g]:{...L[g],verified:!0,loading:!1,otp:""}}));const $={institutionEmailVerified:g==="institutionEmail"?!0:s.institutionEmailVerified,contactPersonEmailVerified:g==="contactPersonEmail"?!0:s.contactPersonEmailVerified};g==="institutionEmail"&&f&&($.contactPersonEmailVerified=!0,u(L=>({...L,contactPersonEmail:{...L.contactPersonEmail,verified:!0}}))),r($),i({title:"Email Verified! ",description:`${C} has been successfully verified.`})}else throw new Error(((A=M.data)==null?void 0:A.message)||"Invalid verification code")}catch(_){console.error("Email verification failed:",_),u(M=>({...M,[g]:{...M[g],loading:!1}})),i({title:"Verification Failed",description:_.message||"Please check your code and try again.",variant:"destructive"})}},P=()=>{const g=[];(!o.institutionName||o.institutionName.trim().length<2)&&g.push("Institution name must be at least 2 characters");const C=yh(o.institutionEmail);if(C.isValid||g.push(`Institution Email: ${C.errorMessage}`),o.institutionType||g.push("Institution Type is required"),(!o.phoneNumber||o.phoneNumber.trim().length<10)&&g.push("Institution phone number must be at least 10 digits"),(!o.principalName||o.principalName.trim().length<2)&&g.push("Principal name must be at least 2 characters"),(!o.principalContact||o.principalContact.trim().length<10)&&g.push("Principal contact number must be at least 10 digits"),(!o.contactPersonName||o.contactPersonName.trim().length<2)&&g.push("Contact person name must be at least 2 characters"),(!o.contactPersonDesignation||o.contactPersonDesignation.trim().length<2)&&g.push("Contact person designation must be at least 2 characters"),(!o.contactPersonPhone||o.contactPersonPhone.trim().length<10)&&g.push("Contact person phone number must be at least 10 digits"),!o.contactPersonEmail)g.push("Contact person email is required");else{const E=yh(o.contactPersonEmail);E.isValid||g.push(`Contact Person Email: ${E.errorMessage}`)}return d.contactPersonEmail.verified||f&&d.institutionEmail.verified||g.push("Contact person email must be verified"),o.website&&o.website.trim()&&(/^https?:\/\/.+\..+/.test(o.website.trim())||g.push("Website must be a valid URL (e.g., https://www.example.com)")),s.institutionEmailVerified||g.push("Institution email must be verified"),s.contactPersonEmailVerified||g.push("Contact person email must be verified"),h(g),g.length===0},I=async()=>{var g,C,E,A;if(P())try{i({title:"Validating Email",description:"Checking if email is available for registration..."});const _=await se.validateRegistrationEmail(o.institutionEmail);if((g=_.data)!=null&&g.success)i({title:"Email Available",description:"Email validated successfully. Proceeding with registration."}),n(o);else throw new Error(((C=_.data)==null?void 0:C.message)||"Email validation failed")}catch(_){console.error("Email validation failed:",_);let M="Failed to validate email. Please try again.";(((E=_.response)==null?void 0:E.status)===409||(A=_.message)!=null&&A.includes("already registered"))&&(M=`Email '${o.institutionEmail}' is already registered. Please use a different email address or contact support if you believe this is an error.`),i({title:"Registration Error",description:M,variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[x.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:x.map((g,C)=>e.jsx("li",{children:g},C))})})}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(vr,{className:"h-5 w-5"}),"Institution Information"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"institutionType",children:["Institute Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:o.institutionType,onValueChange:g=>{p("institutionType",g),p("institutionName","")},disabled:S,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:S?"Loading types...":"Select institute type"})}),e.jsx(fe,{children:w.map(g=>e.jsx(q,{value:g,children:g},g))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"institutionName",children:["Institute Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),o.institutionType==="Other"?e.jsx(D,{id:"institutionName",value:o.institutionName,onChange:g=>p("institutionName",g.target.value),placeholder:"Enter institute name"}):e.jsxs(xe,{value:o.institutionName,onValueChange:g=>p("institutionName",g),disabled:!o.institutionType,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select institute name"})}),e.jsx(fe,{className:"max-h-72",children:Nb(o.institutionType).map(g=>e.jsx(q,{value:g,children:g},g))})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"institutionEmail",children:["Institution Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"institutionEmail",type:"email",value:o.institutionEmail,onChange:g=>p("institutionEmail",g.target.value),placeholder:"school@example.com",disabled:d.institutionEmail.verified}),!d.institutionEmail.verified&&e.jsx(O,{type:"button",variant:"outline",onClick:()=>v("institutionEmail"),disabled:d.institutionEmail.sent||d.institutionEmail.loading,children:d.institutionEmail.loading?"Sending...":d.institutionEmail.sent?"Sent":"Verify"}),d.institutionEmail.verified&&e.jsx(O,{variant:"outline",disabled:!0,className:"text-green-600",children:e.jsx(vt,{className:"h-4 w-4"})})]})]}),d.institutionEmail.sent&&!d.institutionEmail.verified&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"institutionEmailOtp",children:"Enter Verification Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"institutionEmailOtp",value:d.institutionEmail.otp,onChange:g=>u(C=>({...C,institutionEmail:{...C.institutionEmail,otp:g.target.value}})),placeholder:"Enter 6-digit code",maxLength:6,className:"text-center text-lg tracking-widest"}),e.jsx(O,{onClick:()=>N("institutionEmail"),disabled:d.institutionEmail.loading,children:d.institutionEmail.loading?"Verifying...":"Verify"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"phoneNumber",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"phoneNumber",type:"tel",value:o.phoneNumber,onChange:g=>{const C=Ql(g.target.value);p("phoneNumber",C)},onKeyDown:g=>{!/[0-9]/.test(g.key)&&!["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(g.key)&&g.preventDefault()},placeholder:"0712345678"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"website",children:"Website"}),e.jsx(D,{id:"website",type:"url",value:o.website,onChange:g=>p("website",g.target.value),placeholder:"www.schoolname.ac.ke"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"principalName",children:["Principal Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"principalName",value:o.principalName,onChange:g=>p("principalName",g.target.value),placeholder:"Dr. John Smith"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"principalContact",children:["Principal Contact Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"principalContact",type:"tel",value:o.principalContact,onChange:g=>{const C=Ql(g.target.value);p("principalContact",C)},onKeyDown:g=>{!/[0-9]/.test(g.key)&&!["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(g.key)&&g.preventDefault()},placeholder:"0712345678"})]})]})]})]}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(KP,{className:"h-5 w-5"}),"Contact Person Details"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contactPersonName",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contactPersonName",value:o.contactPersonName,onChange:g=>p("contactPersonName",g.target.value),placeholder:"Jane Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contactPersonDesignation",children:["Designation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contactPersonDesignation",value:o.contactPersonDesignation,onChange:g=>p("contactPersonDesignation",g.target.value),placeholder:"Sports Coordinator"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contactPersonPhone",children:["Contact Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contactPersonPhone",type:"tel",value:o.contactPersonPhone,onChange:g=>{const C=Ql(g.target.value);p("contactPersonPhone",C)},onKeyDown:g=>{!/[0-9]/.test(g.key)&&!["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(g.key)&&g.preventDefault()},placeholder:"0712345678"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contactPersonEmail",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"useSameEmail",checked:f,onChange:g=>m(g.target.checked),className:"rounded"}),e.jsx(R,{htmlFor:"useSameEmail",className:"text-sm text-muted-foreground",children:"Use same email as institution"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"contactPersonEmail",type:"email",value:o.contactPersonEmail,onChange:g=>p("contactPersonEmail",g.target.value),placeholder:"coordinator@school.com",disabled:d.contactPersonEmail.verified||f}),!d.contactPersonEmail.verified&&!f&&e.jsx(O,{type:"button",variant:"outline",onClick:()=>v("contactPersonEmail"),disabled:d.contactPersonEmail.sent||d.contactPersonEmail.loading,children:d.contactPersonEmail.loading?"Sending...":d.contactPersonEmail.sent?"Sent":"Verify"}),d.contactPersonEmail.verified&&e.jsx(O,{variant:"outline",disabled:!0,className:"text-green-600",children:e.jsx(vt,{className:"h-4 w-4"})})]}),f&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact person email will be verified automatically when institution email is verified."})]}),d.contactPersonEmail.sent&&!d.contactPersonEmail.verified&&!f&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"contactPersonEmailOtp",children:"Enter Verification Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{id:"contactPersonEmailOtp",value:d.contactPersonEmail.otp,onChange:g=>u(C=>({...C,contactPersonEmail:{...C.contactPersonEmail,otp:g.target.value}})),placeholder:"Enter 6-digit code",maxLength:6,className:"text-center text-lg tracking-widest"}),e.jsx(O,{onClick:()=>N("contactPersonEmail"),disabled:d.contactPersonEmail.loading,children:d.contactPersonEmail.loading?"Verifying...":"Verify"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[a&&e.jsx(O,{variant:"outline",onClick:a,children:"Back"}),e.jsx(O,{onClick:I,className:a?"":"w-full",children:"Save & Continue"})]})]})},ji=c.forwardRef(({className:t,...s},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",t),...s})}));ji.displayName="Table";const Ni=c.forwardRef(({className:t,...s},n)=>e.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",t),...s}));Ni.displayName="TableHeader";const Si=c.forwardRef(({className:t,...s},n)=>e.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",t),...s}));Si.displayName="TableBody";const zO=c.forwardRef(({className:t,...s},n)=>e.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));zO.displayName="TableFooter";const ns=c.forwardRef(({className:t,...s},n)=>e.jsx("tr",{ref:n,className:ae("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...s}));ns.displayName="TableRow";const Oe=c.forwardRef(({className:t,...s},n)=>e.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));Oe.displayName="TableHead";const Me=c.forwardRef(({className:t,...s},n)=>e.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));Me.displayName="TableCell";const VO=c.forwardRef(({className:t,...s},n)=>e.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",t),...s}));VO.displayName="TableCaption";const $c=["Male","Female"],Sb=["Male","Female"],Gg=["Individual","Team"],qO=["Individual","Team"],Xu=["U9","U11","U13","U15","U17","U19"],GO=({initialData:t,onComplete:s,onBack:n})=>{const{toast:r}=Ee(),[a,i]=c.useState((t==null?void 0:t.sportTeams)||[]),[o,l]=c.useState([]),[d,u]=c.useState([]),[f,m]=c.useState([]),[x,h]=c.useState(!1),[w,j]=c.useState(null),[S,y]=c.useState("Individual"),[p,v]=c.useState(""),[N,P]=c.useState(""),[I,g]=c.useState(""),[C,E]=c.useState(""),[A,_]=c.useState(""),[M,$]=c.useState("Male"),[L,U]=c.useState({fname:"",mname:"",lname:"",student_id:"",email:"",dob:"",gender:"",phone:"",firstName:"",middleName:"",lastName:"",studentId:"",dateOfBirth:"",phoneNumber:""}),[W,ne]=c.useState(""),[H,z]=c.useState([]);c.useEffect(()=>{(async()=>{console.log(" Loading sports data for student assignment..."),h(!0),j(null);try{const le=await se.getSportsPublic();if(console.log(" Sports API response:",le),le.data&&typeof le.data=="object"&&"success"in le.data){const je=le.data;if(je.success&&je.data){const we=je.data||[];console.log(" Sports loaded:",we),l(we)}else console.log(" Failed to fetch sports data"),j("Failed to fetch sports data")}else console.log(" Invalid response format"),j("Failed to fetch sports data")}catch(le){console.error(" Error fetching sports:",le),j("Failed to fetch sports data")}finally{h(!1)}})()},[]),c.useEffect(()=>{(async()=>{if(console.log(" Loading categories for sport:",p),!p){console.log(" No sport selected, clearing categories"),u([]),m([]);return}try{const le=o.find(je=>je.name===p);if(console.log(" Selected sport data:",le),le){console.log(" Calling API for sport ID:",le.id);const je=await se.getSportCategoriesPublic(le.id);if(console.log(" Categories API response:",je),je.data&&je.data.success){const we=je.data.data||[];console.log(" Categories loaded:",we),u(we)}else console.log(" Failed to load categories"),u([])}}catch(le){console.error(" Error fetching categories:",le),u([])}m([]),P(""),g("")})()},[p,o]),c.useEffect(()=>{(async()=>{if(console.log(" Loading sub-categories for category:",N,"sport:",p),!N||!p){console.log(" No category or sport selected, clearing sub-categories"),m([]);return}try{const le=o.find(we=>we.name===p),je=d.find(we=>we.name===N);if(console.log(" Selected sport:",le,"category:",je),le&&je){console.log(" Calling API for sport ID:",le.id,"category ID:",je.id);const we=await se.getSubCategoriesPublic(le.id,je.id);if(console.log(" Sub-categories API response:",we),we.data&&we.data.success){const Xe=we.data.data||[];console.log(" Sub-categories loaded:",Xe),m(Xe)}else console.log(" Failed to load sub-categories"),m([])}}catch(le){console.error(" Error fetching sub-categories:",le),m([])}g("")})()},[N,p,o,d]);const ee=o.filter(G=>G.type===S),K=d,te=f,de=Xu,F=(G,le,je)=>{const we=o.find(Xe=>Xe.name===G);return we?we.max_limit?we.max_limit:le==="Individual"?G==="Tennis"&&je==="Team"||G==="Badminton"&&je==="Team"||G==="Table Tennis"&&je==="Team"||G==="Padel"&&je==="Team"?4:1:le==="Team"?G==="Football"?7:G==="Basketball"?5:G==="Volleyball"?6:G==="Hockey"||G==="Netball"||G==="Rugby (7s)"||G==="Handball"?7:G==="Cricket"?11:7:1:1},re=()=>{const G=[];if(p||G.push("Please select a sport"),C||G.push("Please select age from"),A||G.push("Please select age to"),M||G.push("Please select gender"),C&&A){const Ge=Xu.indexOf(C),Rr=Xu.indexOf(A);Ge>Rr&&G.push("Age 'From' must be less than or equal to Age 'To'")}const le=o.find(Ge=>Ge.name===p),je=d.find(Ge=>Ge.name===N),we=f.find(Ge=>Ge.name===I);if(le||G.push("Selected sport not found"),a.find(Ge=>Ge.sportId===(le==null?void 0:le.id)&&Ge.categoryId===(je==null?void 0:je.id)&&Ge.subCategoryId===(we==null?void 0:we.id)&&Ge.ageFrom===C&&Ge.ageTo===A&&Ge.gender===M)&&G.push("This sport combination is already added"),G.length>0){z(G);return}const ft=F(p,S,I),Ln={id:`team_${Date.now()}`,sportType:S,sport:p,category:N||"",subCategory:I||"",ageFrom:C,ageTo:A,gender:M,students:[],maxStudents:ft,sportId:(le==null?void 0:le.id)||0,categoryId:je==null?void 0:je.id,subCategoryId:we==null?void 0:we.id};i(Ge=>[...Ge,Ln]),v(""),P(""),g(""),E(""),_(""),$("Male"),z([]),r({title:"Sport Team Added Successfully",description:`${p} team has been added. You can now add students to this team.`})},T=G=>{const le=a.find(je=>je.id===G);i(je=>je.filter(we=>we.id!==G)),le&&r({title:"Sport Team Removed",description:`${le.sport} team has been removed.`})},b=(G,le)=>{U(je=>({...je,[G]:le})),z([])},k=()=>{const G=[];return L.fname||G.push("First Name is required"),L.lname||G.push("Last Name is required"),L.student_id||G.push("Student ID is required"),L.email||G.push("Email is required"),L.dob||G.push("Date of Birth is required"),L.gender||G.push("Gender is required"),L.phone||G.push("Phone Number is required"),W||G.push("Please select a sport team"),a.some(we=>we.students.some(Xe=>Xe.student_id===L.student_id))&&G.push("Student ID already exists"),a.some(we=>we.students.some(Xe=>Xe.email===L.email))&&G.push("Email address already exists"),G},B=()=>{const G=k();if(G.length>0){z(G);return}const le=a.find(je=>je.id===W);if(!le){z(["Selected team not found"]);return}if(le.students.length>=le.maxStudents){z([`Maximum ${le.maxStudents} students allowed for ${le.sport}`]);return}i(je=>je.map(we=>we.id===W?{...we,students:[...we.students,L]}:we)),U({fname:"",mname:"",lname:"",student_id:"",email:"",dob:"",gender:"",phone:"",firstName:"",middleName:"",lastName:"",studentId:"",dateOfBirth:"",phoneNumber:""}),ne(""),z([]),r({title:"Student Added Successfully",description:`${L.fname} ${L.lname} has been added to ${le.sport} team.`})},V=(G,le)=>{const je=a.find(Xe=>Xe.id===G),we=je==null?void 0:je.students[le];i(Xe=>Xe.map(ft=>ft.id===G?{...ft,students:ft.students.filter((Ln,Ge)=>Ge!==le)}:ft)),we&&je&&r({title:"Student Removed",description:`${we.fname} ${we.lname} has been removed from ${je.sport} team.`})},Y=()=>{const G=[];a.length===0&&G.push("Please add at least one sport team");for(const le of a)le.students.length===0&&G.push(`${le.sport} team must have at least one student`);return z(G),G.length===0},X=()=>{Y()&&s({sportTeams:a})},ve=()=>a.reduce((G,le)=>G+le.students.length,0);return e.jsxs("div",{className:"space-y-6",children:[x&&e.jsxs(ct,{children:[e.jsx(Ue,{className:"h-4 w-4 animate-spin"}),e.jsx(dt,{children:"Loading sports data..."})]}),w&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:w})}),H.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:H.map((G,le)=>e.jsx("li",{children:G},le))})})}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Select Sport & Category"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"sportType",children:["Sport Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:S,onValueChange:G=>{y(G),v(""),P(""),g(""),E(""),_("")},children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sport type"})}),e.jsx(fe,{children:qO.map(G=>e.jsx(q,{value:G,children:G},G))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"sport",children:["Sport ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:p,onValueChange:G=>{v(G),P(""),g(""),E(""),_("")},disabled:!S,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select a sport"})}),e.jsx(fe,{children:ee.map(G=>e.jsx(q,{value:G.name,children:G.name},G.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"category",children:"Category"}),e.jsxs(xe,{value:N,onValueChange:G=>{P(G),g("")},disabled:!p,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select category"})}),e.jsx(fe,{children:K.map(G=>e.jsx(q,{value:G.name,children:G.name},G.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"subCategory",children:"Sub-Category"}),e.jsxs(xe,{value:I,onValueChange:g,disabled:!N,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sub-category"})}),e.jsx(fe,{children:te.map(G=>e.jsx(q,{value:G.name,children:G.name},G.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"ageFrom",children:["Age From ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:C,onValueChange:E,disabled:!p,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select age from"})}),e.jsx(fe,{children:de.map(G=>e.jsx(q,{value:G,children:G},G))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"ageTo",children:["Age To ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:A,onValueChange:_,disabled:!p,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select age to"})}),e.jsx(fe,{children:de.map(G=>e.jsx(q,{value:G,children:G},G))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"gender",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:M,onValueChange:$,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsx(fe,{children:Sb.map(G=>e.jsx(q,{value:G,children:G},G))})]})]})]}),p&&C&&A&&M&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"Sport Info:"})," ",p," (",S,") - Maximum ",F(p,S,I)," student(s) allowed",I&&` for ${I}`]})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(O,{onClick:re,disabled:!p||!C||!A||!M,children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Sport Team"]})})]})]}),a.length>0&&e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Qj,{className:"h-5 w-5"}),"Add Students to Teams"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"teamSelect",children:["Select Team ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:W,onValueChange:ne,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select a team to add students"})}),e.jsx(fe,{children:a.map(G=>e.jsxs(q,{value:G.id,children:[G.sport," - ",G.subCategory||G.category," (",G.students.length,"/",G.maxStudents,")"]},G.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"fname",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"fname",value:L.fname,onChange:G=>b("fname",G.target.value),placeholder:"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"mname",children:"Middle Name"}),e.jsx(D,{id:"mname",value:L.mname,onChange:G=>b("mname",G.target.value),placeholder:"Enter middle name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"lname",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"lname",value:L.lname,onChange:G=>b("lname",G.target.value),placeholder:"Enter last name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"student_id",children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"student_id",value:L.student_id,onChange:G=>b("student_id",G.target.value),placeholder:"Enter student ID"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"email",type:"email",value:L.email,onChange:G=>b("email",G.target.value),placeholder:"Enter email address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"dob",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"dob",type:"date",value:L.dob,onChange:G=>b("dob",G.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"gender",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:L.gender,onValueChange:G=>b("gender",G),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsx(fe,{children:$c.map(G=>e.jsx(q,{value:G,children:G},G))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"phone",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"phone",type:"tel",value:L.phone,onChange:G=>b("phone",G.target.value),placeholder:"Enter phone number"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(O,{onClick:B,disabled:!W||!L.fname||!L.lname||!L.student_id||!L.email||!L.dob||!L.gender||!L.phone,children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Student to Team"]})})]})]}),a.length>0&&e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Sport Teams (",a.length,") - Total Students: ",ve()]})}),e.jsx(Q,{className:"space-y-4",children:a.map(G=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Go,{className:"h-4 w-4"}),e.jsx("h3",{className:"font-semibold",children:G.sport}),e.jsx(me,{variant:"outline",children:G.sportType}),G.category&&e.jsx(me,{variant:"secondary",children:G.category}),G.subCategory&&e.jsx(me,{variant:"default",children:G.subCategory}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[G.ageFrom," - ",G.ageTo," | ",G.gender]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:[G.students.length,"/",G.maxStudents," students"]}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>T(G.id),children:e.jsx(_t,{className:"h-4 w-4"})})]})]}),G.students.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ji,{children:[e.jsx(Ni,{children:e.jsxs(ns,{children:[e.jsx(Oe,{children:"Name"}),e.jsx(Oe,{children:"Student ID"}),e.jsx(Oe,{children:"Email"}),e.jsx(Oe,{children:"Date of Birth"}),e.jsx(Oe,{children:"Gender"}),e.jsx(Oe,{children:"Phone"}),e.jsx(Oe,{className:"w-16",children:"Action"})]})}),e.jsx(Si,{children:G.students.map((le,je)=>e.jsxs(ns,{children:[e.jsx(Me,{className:"font-medium",children:`${le.fname} ${le.mname?le.mname+" ":""}${le.lname}`}),e.jsx(Me,{children:le.student_id}),e.jsx(Me,{children:le.email}),e.jsx(Me,{children:le.dob}),e.jsx(Me,{children:le.gender}),e.jsx(Me,{children:le.phone}),e.jsx(Me,{children:e.jsx(O,{variant:"outline",size:"sm",onClick:()=>V(G.id,je),children:e.jsx(_t,{className:"h-4 w-4"})})})]},je))})]})})]},G.id))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(O,{variant:"outline",onClick:n,children:"Back"}),e.jsx(O,{onClick:X,disabled:a.length===0||ve()===0,children:"Save & Continue"})]})]})},Yg=500,Hg=1e3,YO=({institutionData:t,onComplete:s,onBack:n,loading:r})=>{var y,p,v,N,P,I;const{toast:a}=Ee(),[i,o]=c.useState(null),[l,d]=c.useState({requestedAmount:"",sponsorshipType:"",reason:""}),[u,f]=c.useState({studentsFee:0,sportsFee:0,totalFee:0}),[m,x]=c.useState(!1);c.useEffect(()=>{var M,$;let g=0,C=0;t.sportTeams?(g=t.sportTeams.reduce((L,U)=>L+U.students.length,0),C=t.sportTeams.length):(g=((M=t.students)==null?void 0:M.length)||0,C=(($=t.selectedSports)==null?void 0:$.length)||0);const E=g*Yg,A=C*Hg,_=E+A;f({studentsFee:E,sportsFee:A,totalFee:_})},[t]);const h=()=>{x(!0),setTimeout(()=>{a({title:"Redirecting to Payment Gateway",description:"Please complete your payment to finish registration."}),s({paymentType:"payNow",totalFees:u.totalFee,studentsFee:u.studentsFee,sportsFee:u.sportsFee,status:"payment_pending"})},1e3)},w=()=>{if(!l.requestedAmount||!l.sponsorshipType||!l.reason){a({title:"Missing Information",description:"Please fill in all sponsor request fields.",variant:"destructive"});return}x(!0),setTimeout(()=>{a({title:"Sponsorship Request Submitted",description:"Your account has been created. We'll review your sponsorship request."}),s({paymentType:"sponsor",sponsorshipData:l,totalFees:u.totalFee,status:"sponsorship_requested",accountCreated:!0})},1e3)},j=async()=>{var g,C;x(!0);try{const E=[];t.sportTeams?t.sportTeams.forEach(M=>{M.students.forEach($=>{E.push({id:$.id||Math.random().toString(36).substr(2,9),name:`${$.fname} ${$.mname||""} ${$.lname}`.trim(),email:$.email,studentId:$.student_id,sport:M.sport,category:M.category,amount:500})})}):t.students&&t.students.forEach(M=>{E.push({id:M.id||Math.random().toString(36).substr(2,9),name:`${M.fname} ${M.mname||""} ${M.lname}`.trim(),email:M.email,studentId:M.student_id,sport:"General Registration",category:"Student",amount:500})}),console.log(" Processing payment emails for students:",E);let A=0;const _=[];for(const M of E){try{const $={studentName:M.name,studentEmail:M.email,studentId:M.studentId,sport:M.sport,category:M.category,amount:M.amount,institutionName:((g=t.institutionDetails)==null?void 0:g.institutionName)||t.institutionName||"Your Institution",institutionEmail:((C=t.institutionDetails)==null?void 0:C.institutionEmail)||t.email||"contact@institution.com"};console.log(` Sending email to ${M.email}:`,$);const L=await fetch("/api/v1/payments/send-payment-link-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(L.ok)A++,console.log(` Email sent successfully to ${M.email}`);else{const U=await L.text();console.error(` Failed to send email to ${M.email}:`,L.status,U),_.push(M.email)}}catch($){console.error(` Error sending email to ${M.email}:`,$),_.push(M.email)}await new Promise($=>setTimeout($,1e3))}A===E.length?a({title:"Payment Instructions Sent",description:`Payment emails have been successfully sent to all ${E.length} registered students.`}):a({title:"Partial Success",description:`Payment emails sent to ${A} out of ${E.length} students. ${_.length>0?`Failed: ${_.join(", ")}`:""}`,variant:"destructive"}),s({paymentType:"payByStudent",totalFees:u.totalFee,studentsFee:u.studentsFee,sportsFee:u.sportsFee,emailsSent:A,status:"payment_emails_sent",accountCreated:!0})}catch(E){console.error("Error sending payment emails:",E),a({title:"Error",description:"Failed to send payment emails. Please try again.",variant:"destructive"})}finally{x(!1)}},S=()=>e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-5 w-5"}),"Sponsorship Request Details"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"requestedAmount",children:"Requested Amount *"}),e.jsx(D,{id:"requestedAmount",type:"number",placeholder:"Enter amount in ",value:l.requestedAmount,onChange:g=>d(C=>({...C,requestedAmount:g.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:"Sponsorship Type *"}),e.jsxs(dn,{value:l.sponsorshipType,onValueChange:g=>d(C=>({...C,sponsorshipType:g})),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"Partial",id:"partial"}),e.jsx(R,{htmlFor:"partial",children:"Partial Sponsorship"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{value:"Full",id:"full"}),e.jsx(R,{htmlFor:"full",children:"Full Sponsorship"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"reason",children:"Reason for Sponsorship *"}),e.jsx(st,{id:"reason",placeholder:"Please explain why you need sponsorship...",value:l.reason,onChange:g=>d(C=>({...C,reason:g.target.value}))})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(O,{onClick:w,disabled:m,className:"flex-1",children:m?"Submitting...":"Save Request & Create Account"})})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(vr,{className:"h-5 w-5"}),"Registration Summary"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vr,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Institution:"})]}),e.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:t.institutionName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Total Students:"})]}),e.jsx("p",{className:"text-sm text-muted-foreground pl-6",children:t.sportTeams?t.sportTeams.reduce((g,C)=>g+C.students.length,0):((y=t.students)==null?void 0:y.length)||0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Selected Sports:"})]}),e.jsx("div",{className:"pl-6",children:t.sportTeams?t.sportTeams.map((g,C)=>e.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.sport," - ",g.subCategory||g.category," (",g.students.length," students)"]},C)):((p=t.selectedSports)==null?void 0:p.map((g,C)=>e.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.sport," - ",g.subCategory]},C)))||e.jsx("p",{className:"text-sm text-muted-foreground",children:"No sports selected"})})]})]})]}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(OP,{className:"h-5 w-5"}),"Fee Breakdown"]})}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:["Students Registration Fee (",t.sportTeams?t.sportTeams.reduce((g,C)=>g+C.students.length,0):((v=t.students)==null?void 0:v.length)||0,"  ",Yg,"):"]}),e.jsxs("span",{className:"font-medium",children:["",u.studentsFee.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{children:["Sports Registration Fee (",((N=t.sportTeams)==null?void 0:N.length)||((P=t.selectedSports)==null?void 0:P.length)||0,"  ",Hg,"):"]}),e.jsxs("span",{className:"font-medium",children:["",u.sportsFee.toLocaleString()]})]}),e.jsx(Dr,{}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"text-primary",children:["",u.totalFee.toLocaleString()]})]})]})})]}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-5 w-5"}),"Payment Options"]})}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(O,{variant:i==="payNow"?"default":"outline",onClick:()=>o("payNow"),className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(ws,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Pay Now"}),e.jsx("span",{className:"text-xs opacity-80",children:"Direct payment gateway"})]}),e.jsxs(O,{variant:i==="sponsor"?"default":"outline",onClick:()=>o("sponsor"),className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(yr,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Get Sponsor"}),e.jsx("span",{className:"text-xs opacity-80",children:"Request sponsorship"})]}),e.jsxs(O,{variant:i==="payByStudent"?"default":"outline",onClick:()=>o("payByStudent"),className:"h-auto p-4 flex flex-col gap-2",children:[e.jsx(Ot,{className:"h-6 w-6"}),e.jsx("span",{className:"font-semibold",children:"Pay by Student"}),e.jsx("span",{className:"text-xs opacity-80",children:"Email students payment links"})]})]})})]}),i==="sponsor"&&S(),i==="payByStudent"&&e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),"Email Payment Instructions"]})}),e.jsxs(Q,{children:[e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-2",children:[e.jsxs("p",{className:"font-medium",children:["Payment emails will be sent to all ",t.sportTeams?t.sportTeams.reduce((g,C)=>g+C.students.length,0):((I=t.students)==null?void 0:I.length)||0," registered students."]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Each email will include: Student details, fee breakdown, and secure payment link."})]}),e.jsx(O,{onClick:j,disabled:m,className:"w-full mt-4",children:m?"Sending Emails...":"Send Payment Instructions"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(O,{variant:"outline",onClick:n,disabled:r||m,children:"Back"}),i==="payNow"&&e.jsx(O,{onClick:h,disabled:m,className:"min-w-[140px]",children:m?"Processing...":"Proceed to Payment"})]})]})},Zu=[{id:1,title:"Institution Details",description:"Basic information and contact details",icon:vr},{id:3,title:"Add Students",description:"Manually add student details",icon:Ye},{id:4,title:"Payment",description:"Review and complete payment",icon:Xt}],Wg=({currentStep:t,completedSteps:s,showOnMobile:n=!1})=>e.jsx("div",{className:(n?"block":"hidden md:block")+" w-80 bg-muted/50 border-r p-6 overflow-y-auto md:sticky md:top-0 md:self-start md:max-h-screen",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Institution Registration"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Complete all steps to register your institution"})]}),e.jsx("div",{className:"space-y-4",children:Zu.map((r,a)=>{const i=s.includes(r.id),o=t===r.id,l=r.id<=t||i;return e.jsx(J,{className:ae("transition-all duration-200",o&&"ring-2 ring-primary border-primary",i&&"bg-primary/5 border-primary/20",!l&&"opacity-50"),children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:ae("flex items-center justify-center w-8 h-8 rounded-full border-2 transition-colors",o&&"bg-primary text-primary-foreground border-primary",i&&"bg-primary text-primary-foreground border-primary",!o&&!i&&"border-muted-foreground/30"),children:i?e.jsx(vt,{className:"w-4 h-4"}):e.jsx(r.icon,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-sm",children:r.title}),i&&e.jsx(me,{variant:"secondary",className:"text-xs",children:"Complete"}),o&&e.jsx(me,{className:"text-xs",children:"Current"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.description})]})]})})},r.id)})}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Progress:"}),e.jsxs("span",{children:[s.length,"/",Zu.length," steps"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${s.length/Zu.length*100}%`}})})]})})]})}),Kg=()=>{var I,g,C;const t=Dt(),{toast:s}=Ee(),[n,r]=c.useState(()=>{const E=localStorage.getItem("institution_registration_step"),A=localStorage.getItem("institution_registration_email");if(A&&E){if(E==="userType"||E==="email")return E;{const _=parseInt(E);if(_===1||_===2||_===3||_===4)return _}}else if(A)return"email";return"userType"}),[a,i]=c.useState(()=>{const E=localStorage.getItem("institution_registration_completed_steps");return E?JSON.parse(E):[]}),[o,l]=c.useState(()=>{const E=localStorage.getItem("institution_registration_data");return E?JSON.parse(E):{userType:"institution",email:"",password:"",institutionDetails:null,students:null,payment:null}}),[d,u]=c.useState(!1),[f,m]=c.useState(()=>{const E=localStorage.getItem("institution_registration_verification_status");return E?JSON.parse(E):{institutionEmailVerified:!1,contactPersonEmailVerified:!1}});c.useEffect(()=>{(async()=>{if(o.email&&!d){console.log(" Loading checkpoint from server for:",o.email),u(!0);try{const A=await se.loadRegistrationCheckpoint(o.email);if(A.data&&typeof A.data=="object"&&"success"in A.data){const _=A.data;if(_.success){const M=_.data;console.log(" Checkpoint loaded:",M),M.step>0&&(r(M.step),i(M.completed_steps||[]),l($=>({...$,...M.data})),s({title:"Progress Restored! ",description:`Welcome back! We've restored your progress from step ${M.step}.`}))}}}catch(A){console.error(" Failed to load checkpoint:",A)}finally{u(!1)}}})()},[o.email,s]);const x=async(E,A)=>{if(o.email&&E>0)try{console.log(" Saving checkpoint to server for step:",E);const _={...o,[E===1?"institutionDetails":E===3?"students":E===4?"payment":"data"]:A};await se.saveRegistrationCheckpoint(o.email,E,_),console.log(" Checkpoint saved successfully")}catch(_){console.error(" Failed to save checkpoint:",_)}},[h,w]=c.useState(!1);c.useEffect(()=>{localStorage.setItem("institution_registration_step",n.toString())},[n]),c.useEffect(()=>{const E=a.filter(A=>A!==2);localStorage.setItem("institution_registration_completed_steps",JSON.stringify(E))},[a]),c.useEffect(()=>{localStorage.setItem("institution_registration_data",JSON.stringify(o))},[o]),c.useEffect(()=>{o.email&&localStorage.setItem("institution_registration_email",o.email)},[o.email]),c.useEffect(()=>{localStorage.setItem("institution_registration_verification_status",JSON.stringify(f))},[f]),c.useEffect(()=>{(async()=>{if(console.log("loadProgress triggered with email:",o.email),o.email&&!h){w(!0);try{const A=await se.getInstitutionRegistrationProgress(o.email);if(A.data&&typeof A.data=="object"&&"success"in A.data&&"data"in A.data){const _=A.data;if(_.success&&_.data){const M=_.data;console.log("Loading progress data:",M),l(L=>({...L,institutionDetails:M.institution_details||null,selectedSports:M.sports_subcategories||null,students:M.students||null,payment:M.payment_info||null}));const $=[];if(M.institution_details&&$.push(1),M.students&&M.students.sportTeams&&M.students.sportTeams.length>0&&$.push(2),M.payment_info&&$.push(3),i($),M.step){let L;M.step===1?L=1:M.step===2||M.step===3?L=2:M.step===4?L=3:L=1,r(L)}else $.length===0?r(1):$.length===1?r(2):($.length,r(3));console.log("Completed steps set to:",$),console.log("Current step set to:",M.step||"calculated")}}}catch(A){console.error("Error loading registration progress:",A)}finally{w(!1)}}})()},[o.email]);const j=async(E,A)=>{if(o.email)try{const _={email:o.email,current_phase:A,completed_phases:a,institution_details:A===1?E:o.institutionDetails,sports_subcategories:null,students:A===3?E:o.students,payment_info:A===4?E:o.payment};await se.saveInstitutionRegistrationProgress(_)}catch(_){console.error("Error saving registration progress:",_)}},S=E=>{if(E==="student"){t("/register");return}l(A=>({...A,userType:E})),r("email")},y=E=>{console.log("handleEmailComplete called with email:",E),console.log("Current step before update:",n),l(A=>({...A,email:E})),r(1),console.log("Current step set to:",1),s({title:"Email Verified Successfully",description:"Please complete your institution details."})},p=async(E,A)=>{var M,$;const _=E===1?"institutionDetails":E===3?"students":E===4?"payment":null;if(_&&l(L=>({...L,[_]:A,...E===1&&{institutionDetails:{...A,institutionEmail:A.institutionEmail||L.email}}})),a.includes(E)||i(L=>[...L,E]),await j(A,E),await x(E,A),E===1)r(3);else if(E===3)r(4);else if(E===4)try{const L=o.institutionDetails||{},U={name:L.institutionName||L.customInstitutionName||"Institution",email:o.email,type_id:1,contactPersonName:L.contactPersonName,contactPersonEmail:L.contactPersonEmail,contactPersonPhone:L.contactPersonPhone,contactPersonDesignation:L.contactPersonDesignation,phone:L.phoneNumber||L.phone,website:L.website,principalName:L.principalName,principalPhone:L.principalContact||L.principalPhone},W=await se.createInstitute(U),ne=((M=W==null?void 0:W.data)==null?void 0:M.success)===!0;s(ne?{title:"Institution saved",description:"Registration details have been stored successfully."}:{title:"Save failed",description:(($=W==null?void 0:W.data)==null?void 0:$.message)||"Could not store institution in database.",variant:"destructive"})}catch(L){console.error("Finalize institution failed",L),s({title:"Save failed",description:"Unexpected error while saving institution.",variant:"destructive"})}},v=E=>{E===1?r("email"):E===3?r(1):E===4&&r(3)},N=()=>{r("userType")},P=async E=>{var A,_,M,$,L,U,W,ne,H,z,ee,K,te,de,F,re,T,b,k,B;try{const V={...o,payment:E},Y={name:((A=V.institutionDetails)==null?void 0:A.institutionName)||((_=V.institutionDetails)==null?void 0:_.customInstitutionName),email:V.email,type:(M=V.institutionDetails)==null?void 0:M.institutionType,contactPersonName:($=V.institutionDetails)==null?void 0:$.contactPersonName,contactPersonEmail:(L=V.institutionDetails)==null?void 0:L.contactPersonEmail,contactPersonPhone:(U=V.institutionDetails)==null?void 0:U.contactPersonPhone,contactPersonDesignation:(W=V.institutionDetails)==null?void 0:W.contactPersonDesignation,phone:(ne=V.institutionDetails)==null?void 0:ne.phone,website:(H=V.institutionDetails)==null?void 0:H.website,principalName:(z=V.institutionDetails)==null?void 0:z.principalName,principalPhone:(ee=V.institutionDetails)==null?void 0:ee.principalPhone,streetAddress:(K=V.institutionDetails)==null?void 0:K.streetAddress,city:(te=V.institutionDetails)==null?void 0:te.city,state:(de=V.institutionDetails)==null?void 0:de.state,country:(F=V.institutionDetails)==null?void 0:F.country,postalCode:(re=V.institutionDetails)==null?void 0:re.postalCode,description:(T=V.institutionDetails)==null?void 0:T.description,vision:(b=V.institutionDetails)==null?void 0:b.vision,mission:(k=V.institutionDetails)==null?void 0:k.mission,selectedSports:V.selectedSports,students:V.students,payment:V.payment},X=await se.createInstitute(Y);if(X.data&&typeof X.data=="object"&&"success"in X.data&&X.data.success){const G=(B=X.data.data)==null?void 0:B.id;s({title:"Institution Registration Complete! ",description:`Your Institution ID is: ${G}`})}else if(X.data&&typeof X.data=="object"&&"error_code"in X.data&&X.data.error_code==="EMAIL_EXISTS")s({title:"Institution Registration Complete! ",description:"Your institution is already registered and up to date."});else{const ve=X.data;throw new Error((ve==null?void 0:ve.message)||"Registration failed")}localStorage.removeItem("institution_registration_step"),localStorage.removeItem("institution_registration_completed_steps"),localStorage.removeItem("institution_registration_data"),localStorage.removeItem("institution_registration_email"),localStorage.removeItem("institution_registration_verification_status");try{await se.clearRegistrationCheckpoint(V.email),console.log(" Checkpoint cleared from server")}catch(ve){console.error(" Failed to clear checkpoint:",ve)}t("/institution")}catch(V){console.error("Registration error:",V),s({title:"Registration Failed",description:V instanceof Error?V.message:"An error occurred during registration. Please try again.",variant:"destructive"})}};return console.log("Current localStorage state:"),console.log("- institution_registration_step:",localStorage.getItem("institution_registration_step")),console.log("- institution_registration_email:",localStorage.getItem("institution_registration_email")),console.log("- institution_registration_data:",localStorage.getItem("institution_registration_data")),console.log("Current step:",n,"Type:",typeof n),console.log("Registration data:",o),n==="userType"?(console.log("Rendering UserTypeSelection"),e.jsx(ES,{onTypeSelect:S})):n==="email"?(console.log("Rendering EmailOtpStep"),e.jsx(AS,{onComplete:y,onBack:N,userType:"institution",purpose:"registration"})):(console.log("Rendering main registration flow with currentStep:",n),e.jsxs("div",{className:"min-h-screen bg-background flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:hidden sticky top-0 z-30 bg-background/80 backdrop-blur border-b",children:e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("div",{className:"text-sm font-medium",children:"Institution Registration"}),e.jsxs(pf,{children:[e.jsx(KS,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Pp,{className:"h-4 w-4"})," Steps"]})}),e.jsx(Md,{side:"left",className:"p-0 w-80 max-w-[85vw]",children:e.jsx(Wg,{showOnMobile:!0,currentStep:n,completedSteps:a})})]})]})}),e.jsx(Wg,{currentStep:n,completedSteps:a}),e.jsx("div",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[n===1&&e.jsxs(e.Fragment,{children:[console.log(" Rendering InstitutionDetailsStep - currentStep === 1 is true"),console.log("Passing to InstitutionDetailsStep:",{initialData:{institutionEmail:o.email,...o.institutionDetails||{}},verificationStatus:f}),e.jsx(BO,{initialData:{institutionEmail:o.email,...o.institutionDetails||{}},verificationStatus:f,onComplete:E=>p(1,E),onVerificationChange:m,onBack:()=>v(1)})]}),n!==1&&e.jsxs(e.Fragment,{children:[console.log(" Not rendering InstitutionDetailsStep - currentStep !== 1"),console.log("currentStep value:",n,"Type:",typeof n)]}),n===2&&e.jsx(GO,{initialData:o.students,onComplete:E=>p(2,E),onBack:()=>v(2)}),n===3&&e.jsx(YO,{institutionData:{...o.institutionDetails,selectedSports:((I=o.selectedSports)==null?void 0:I.selectedSports)||[],students:((g=o.students)==null?void 0:g.students)||[],sportTeams:((C=o.students)==null?void 0:C.sportTeams)||[]},onComplete:P,onBack:()=>v(3),loading:!1})]})})]}))},HO=({data:t,filename:s,variant:n="outline",size:r="default"})=>{const a=i=>{const o=JSON.stringify(t,null,2),l=new Blob([o],{type:"application/json"}),d=URL.createObjectURL(l),u=document.createElement("a");u.href=d,u.download=`${s}.${i}`,u.click(),URL.revokeObjectURL(d)};return e.jsxs(Xd,{children:[e.jsx(Zd,{asChild:!0,children:e.jsxs(O,{variant:n,size:r,children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export Data"]})}),e.jsxs(nl,{align:"end",className:"bg-background border border-border shadow-lg",children:[e.jsxs(ls,{onClick:()=>a("csv"),className:"hover:bg-muted cursor-pointer",children:[e.jsx(zP,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),e.jsxs(ls,{onClick:()=>a("excel"),className:"hover:bg-muted cursor-pointer",children:[e.jsx(BP,{className:"h-4 w-4 mr-2"}),"Export as Excel"]}),e.jsxs(ls,{onClick:()=>a("pdf"),className:"hover:bg-muted cursor-pointer",children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Export as PDF"]})]})]})},WO=()=>{const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState(null),[l,d]=c.useState(!1),[u,f]=c.useState([]),[m,x]=c.useState(!0),[h,w]=c.useState({totalStudents:0,paidStudents:0,unpaidStudents:0,totalAmount:0,paidAmount:0,pendingAmount:0}),j=async()=>{try{const v=await se.getInstitutionStudents();console.log("Dashboard API Response:",v);let N=[];v.data&&v.data.data&&v.data.data.students?N=v.data.data.students:Array.isArray(v.data)&&(N=v.data),console.log("Students Data:",N),f(N);const P=N.length,I=N.filter(_=>_.payment_status==="Paid").length,g=P-I,C=N.reduce((_,M)=>_+(M.total_amount||0),0),E=N.filter(_=>_.payment_status==="Paid").reduce((_,M)=>_+(M.paid_amount||0),0),A=C-E;w({totalStudents:P,paidStudents:I,unpaidStudents:g,totalAmount:C,paidAmount:E,pendingAmount:A})}catch(v){console.error("Error fetching students:",v),t({title:"Error",description:"Failed to fetch students data",variant:"destructive"})}finally{x(!1)}};c.useEffect(()=>{j()},[s,r]);const S=u.filter(v=>{var g,C;const N=`${v.fname||""} ${v.mname||""} ${v.lname||""}`.trim(),P=!s||N.toLowerCase().includes(s.toLowerCase())||((g=v.student_id)==null?void 0:g.toLowerCase().includes(s.toLowerCase())),I=r==="all"||((C=v.payment_status)==null?void 0:C.toLowerCase())===r.toLowerCase();return P&&I}),y=v=>{o(v),d(!0)},p=v=>{switch(v){case"Paid":return"bg-green-100 text-green-800";case"Unpaid":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading students data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Institution Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your students and track their registrations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Students"}),e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.totalStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Paid Students"}),e.jsx(vt,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.paidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed payments"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Unpaid Students"}),e.jsx(Za,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.unpaidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending payments"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(ws,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",h.totalAmount]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All registrations"})]})]})]}),e.jsx(J,{className:"shadow-soft",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search by student name or ID...",value:s,onChange:v=>n(v.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(xe,{value:r,onValueChange:a,children:[e.jsxs(pe,{className:"w-full sm:w-[180px]",children:[e.jsx(pn,{className:"h-4 w-4 mr-2"}),e.jsx(ge,{placeholder:"Filter by Status"})]}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Status"}),e.jsx(q,{value:"Paid",children:"Paid"}),e.jsx(q,{value:"Unpaid",children:"Unpaid"}),e.jsx(q,{value:"Pending",children:"Pending"})]})]}),e.jsx(HO,{data:S,filename:"students_list",variant:"outline",size:"default"})]})]})})}),e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsx(oe,{children:"Students List"}),e.jsx(_e,{children:"Manage and track your students' registrations"})]}),e.jsx(Q,{children:S.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"?"Try adjusting your search or filter criteria.":"No students have been registered yet."})]}):e.jsx("div",{className:"space-y-4",children:S.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ye,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium",children:`${v.fname||""} ${v.mname||""} ${v.lname||""}`.trim()}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",v.student_id,"  ",v.email]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:p(v.payment_status||"Unpaid"),children:v.payment_status||"Unpaid"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["",v.total_amount||0]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>y(v),children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"View"]})})]},v.id))})})]}),e.jsx(ze,{open:l,onOpenChange:d,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Student Details"}),e.jsxs(Qe,{children:["View detailed information about ",i==null?void 0:i.full_name]})]}),i&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",i.full_name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student ID:"})," ",i.student_id]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",i.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",i.gender||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Registration Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(me,{className:`ml-2 ${p(i.payment_status||"Unpaid")}`,children:i.payment_status||"Unpaid"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",i.total_amount||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",i.paid_amount||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Pending Amount:"})," ",(i.total_amount||0)-(i.paid_amount||0)]})]})]})]})})]})})]})},KO=()=>{const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState(""),[i,o]=c.useState(!1),[l,d]=c.useState(!1),[u,f]=c.useState(null),[m,x]=c.useState({firstName:"",middleName:"",lastName:"",email:"",dateOfBirth:"",gender:"",studentId:"",phoneNumber:"",address:""}),[h,w]=c.useState([]),[j,S]=c.useState(!0),[y,p]=c.useState({firstName:"",middleName:"",lastName:"",email:"",dateOfBirth:"",gender:"",studentId:"",phoneNumber:"",address:""}),v=async()=>{try{S(!0),console.log(" Fetching students..."),console.log("Auth token:",localStorage.getItem("authToken"));const C=await se.getInstitutionStudents();console.log(" API Response:",C),C.data&&C.data.data&&C.data.data.students?(console.log(" Students found:",C.data.data.students),w(C.data.data.students)):(console.log(" No students in response"),console.log("Response structure:",C),w([]))}catch(C){console.error(" Error fetching students:",C),t({title:"Error",description:"Failed to fetch students data. Please try logging in again.",variant:"destructive"}),w([])}finally{S(!1)}};c.useEffect(()=>{v()},[]);const N=async C=>{C.preventDefault();try{S(!0);const E={fname:y.firstName,mname:y.middleName,lname:y.lastName,email:y.email,dob:y.dateOfBirth,gender:y.gender,student_id:y.studentId,phone:y.phoneNumber,address:y.address,institute_id:null};console.log(" Creating student with data:",E);const A=await se.createInstitutionStudent(E);if(console.log(" Student creation response:",A),A.data)t({title:"Student Added Successfully",description:`${y.firstName} ${y.lastName} has been added to the system.`}),p({firstName:"",middleName:"",lastName:"",email:"",dateOfBirth:"",gender:"",studentId:"",phoneNumber:"",address:""}),o(!1),v();else throw new Error(A.message||"Failed to create student")}catch(E){console.error(" Error creating student:",E),t({title:"Error",description:E.message||"Failed to add student. Please try again.",variant:"destructive"})}finally{S(!1)}},P=C=>{f(C),x({firstName:C.fname||"",middleName:C.mname||"",lastName:C.lname||"",email:C.email||"",dateOfBirth:C.dob||"",gender:C.gender||"",studentId:C.student_id||"",phoneNumber:C.phone||"",address:C.address||""}),d(!0)},I=async()=>{var C;if(u)try{S(!0);const E={fname:m.firstName,mname:m.middleName,lname:m.lastName,email:m.email,dob:m.dateOfBirth,gender:m.gender,student_id:m.studentId,phone:m.phoneNumber,address:m.address};console.log(" Updating student with data:",E);const A=await se.updateInstitutionStudent(u.id,E);if(console.log(" Student update response:",A),A.data&&A.data.success)t({title:"Student Updated Successfully",description:`${m.firstName} ${m.lastName} has been updated.`}),d(!1),v();else throw new Error(((C=A.data)==null?void 0:C.message)||"Failed to update student")}catch(E){console.error(" Error updating student:",E),t({title:"Update Failed",description:E.message||"Failed to update student. Please try again.",variant:"destructive"})}finally{S(!1)}},g=h.filter(C=>{var M,$;return(`${C.fname||""} ${C.lname||""}`.toLowerCase().includes(s.toLowerCase())||((M=C.student_id)==null?void 0:M.toLowerCase().includes(s.toLowerCase()))||(($=C.email)==null?void 0:$.toLowerCase().includes(s.toLowerCase())))&&(r==="all"||r==="")});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Student Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Add and manage student registrations"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(O,{variant:"outline",onClick:v,children:"Refresh"}),e.jsxs(ze,{open:i,onOpenChange:o,children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{className:"bg-gradient-primary",children:[e.jsx(Qj,{className:"h-4 w-4 mr-2"}),"Add Student"]})}),e.jsxs(De,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Add New Student"}),e.jsx(Qe,{children:"Enter student details for sports registration"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"firstName",children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"firstName",placeholder:"Enter first name",value:y.firstName,onChange:C=>p(E=>({...E,firstName:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"middleName",children:["Middle Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"middleName",placeholder:"Enter middle name",value:y.middleName,onChange:C=>p(E=>({...E,middleName:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"lastName",children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"lastName",placeholder:"Enter last name",value:y.lastName,onChange:C=>p(E=>({...E,lastName:C.target.value})),className:"pl-10",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:y.gender,onValueChange:C=>p(E=>({...E,gender:C})),required:!0,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"dob",children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"dob",type:"date",value:y.dateOfBirth,onChange:C=>p(E=>({...E,dateOfBirth:C.target.value})),className:"pl-10",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"email",type:"email",placeholder:"Enter email address",value:y.email,onChange:C=>p(E=>({...E,email:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"studentId",children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"studentId",placeholder:"Enter student ID",value:y.studentId,onChange:C=>p(E=>({...E,studentId:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"phoneNumber",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"phoneNumber",type:"tel",placeholder:"Enter phone number",value:y.phoneNumber,onChange:C=>p(E=>({...E,phoneNumber:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"address",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Cn,{className:"absolute left-3 top-3 text-muted-foreground h-4 w-4"}),e.jsx(D,{id:"address",placeholder:"Enter address",value:y.address,onChange:C=>p(E=>({...E,address:C.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(O,{type:"submit",className:"bg-gradient-primary",children:"Add Student"})]})]})]})]})]})]}),e.jsx(J,{className:"shadow-soft",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search students...",value:s,onChange:C=>n(C.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(xe,{value:r,onValueChange:a,children:[e.jsxs(pe,{className:"w-full sm:w-[180px]",children:[e.jsx(pn,{className:"h-4 w-4 mr-2"}),e.jsx(ge,{placeholder:"Filter by Sport"})]}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Sports"}),e.jsx(q,{value:"football",children:"Football"}),e.jsx(q,{value:"basketball",children:"Basketball"}),e.jsx(q,{value:"tennis",children:"Tennis"}),e.jsx(q,{value:"swimming",children:"Swimming"})]})]}),e.jsxs(O,{variant:"outline",className:"w-full sm:w-auto",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})}),e.jsxs(J,{className:"shadow-medium",children:[e.jsxs(ie,{children:[e.jsx(oe,{children:"Student List"}),e.jsxs(_e,{children:[g.length," students found"]})]}),e.jsx(Q,{className:"overflow-x-auto",children:e.jsxs(ji,{children:[e.jsx(Ni,{children:e.jsxs(ns,{children:[e.jsx(Oe,{className:"min-w-[200px]",children:"Student"}),e.jsx(Oe,{className:"min-w-[200px] hidden sm:table-cell",children:"Contact"}),e.jsx(Oe,{className:"min-w-[150px]",children:"Sports"}),e.jsx(Oe,{className:"min-w-[100px]",children:"Status"}),e.jsx(Oe,{className:"min-w-[100px]",children:"Actions"})]})}),e.jsx(Si,{children:j?e.jsx(ns,{children:e.jsx(Me,{colSpan:5,className:"text-center py-8",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),e.jsx("span",{className:"ml-2",children:"Loading students..."})]})})}):g.length===0?e.jsx(ns,{children:e.jsx(Me,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No students found"})}):g.map(C=>{const E=`${C.fname||""} ${C.lname||""}`.trim(),A=C.dob?new Date().getFullYear()-new Date(C.dob).getFullYear():"N/A";return e.jsxs(ns,{children:[e.jsx(Me,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm sm:text-base",children:E||"N/A"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[A," years  ",C.gender||"N/A","  ",C.student_id||"N/A"]}),e.jsxs("div",{className:"sm:hidden mt-1",children:[e.jsx("p",{className:"text-xs",children:C.email||"N/A"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:C.phone||"N/A"})]})]})}),e.jsx(Me,{className:"hidden sm:table-cell",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm truncate max-w-[150px]",children:C.email||"N/A"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:C.phone||"N/A"})]})}),e.jsx(Me,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:e.jsx(me,{variant:"secondary",className:"text-xs",children:"Registered"})})}),e.jsx(Me,{children:e.jsx(me,{variant:C.is_verified?"default":"secondary",className:"text-xs",children:C.is_verified?"Active":"Pending"})}),e.jsx(Me,{children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(O,{variant:"ghost",size:"sm",title:"Edit Student",onClick:()=>P(C),children:e.jsx(Ct,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",title:"Delete Student",className:"text-destructive hover:text-destructive",children:e.jsx(_t,{className:"h-4 w-4"})})]})})]},C.id)})})]})})]}),e.jsx(ze,{open:l,onOpenChange:d,children:e.jsxs(De,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Edit Student"}),e.jsx(Qe,{children:"Update student profile and sports category."})]}),u&&e.jsxs("form",{onSubmit:C=>{C.preventDefault(),I()},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["First Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.firstName,onChange:C=>x(E=>({...E,firstName:C.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Middle Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.middleName,onChange:C=>x(E=>({...E,middleName:C.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Last Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.lastName,onChange:C=>x(E=>({...E,lastName:C.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{type:"email",value:m.email,onChange:C=>x(E=>({...E,email:C.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Student ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.studentId,onChange:C=>x(E=>({...E,studentId:C.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.phoneNumber,onChange:C=>x(E=>({...E,phoneNumber:C.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{value:m.address,onChange:C=>x(E=>({...E,address:C.target.value})),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Date of Birth ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{type:"date",value:m.dateOfBirth,onChange:C=>x(E=>({...E,dateOfBirth:C.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:m.gender,onValueChange:C=>x(E=>({...E,gender:C})),required:!0,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(O,{type:"submit",className:"bg-gradient-primary",disabled:j,children:j?"Saving...":"Save Changes"})]})]})]})})]})},JO=({selectedSport:t,onClose:s,onSave:n})=>{const{toast:r}=Ee(),[a,i]=c.useState(!1),[o,l]=c.useState([]),[d,u]=c.useState([]),[f,m]=c.useState([]),[x,h]=c.useState([]),[w,j]=c.useState(""),[S,y]=c.useState(null),[p,v]=c.useState(""),[N,P]=c.useState(""),[I,g]=c.useState(""),[C,E]=c.useState(""),[A,_]=c.useState("Male"),[M,$]=c.useState([]),[L,U]=c.useState([]),[W,ne]=c.useState([]),[H]=c.useState(["Under 12","12-14","15-17","18-20","21-23","24-26","27-29","30-35","36-40","41-45","46-50","51+"]),z=()=>{if(!S)return H;const b=Ki(S.dob);return wO(b,!0).map(B=>B.label)};c.useEffect(()=>{ee(),K()},[]),c.useEffect(()=>{t&&v(t.id)},[t]),c.useEffect(()=>{const b=d.filter(k=>k.fullName.toLowerCase().includes(w.toLowerCase())||k.studentId.toLowerCase().includes(w.toLowerCase()));h(b)},[d,w]),c.useEffect(()=>{if(p){const b=f.find(k=>k.id===p);b&&(U(b.categories),P(""),g(""))}},[p,f]),c.useEffect(()=>{if(N){const b=L.find(k=>k.id===N);b&&(ne(b.subCategories),g(""))}},[N,L]);const ee=async()=>{try{i(!0);const b=await se.getInstitutionStudents();if(b.data&&b.data.data&&b.data.data.students){const k=b.data.data.students.map(B=>{var V;return{id:B.id.toString(),studentId:B.student_id||"",firstName:B.fname||"",lastName:B.lname||"",fullName:`${B.fname||""} ${B.lname||""}`.trim(),age:B.dob?Ki(B.dob):18,gender:B.gender||"Other",institutionId:((V=B.institute_id)==null?void 0:V.toString())||"",dob:B.dob||""}});u(k)}else u([])}catch(b){console.error("Error fetching students:",b),r({title:"Error",description:"Failed to fetch students",variant:"destructive"}),u([])}finally{i(!1)}},K=async()=>{try{const b=await se.getInstitutionSports();if(b.data&&b.data.data&&b.data.data.sports){const k=b.data.data.sports.map(B=>({id:B.id,name:B.name,type:B.type,categories:B.categories||[]}));m(k)}else m([])}catch(b){console.error("Error fetching sports:",b),r({title:"Error",description:"Failed to fetch sports",variant:"destructive"}),m([])}},te=b=>{if(y(b),$([]),t&&t.categories&&t.categories.length>0){const k=t.categories[0],B=k.subCategories&&k.subCategories.length>0?k.subCategories[0]:null;if(B){const V={sportId:t.id,sportName:t.name,categoryId:k.id,categoryName:k.name,subCategoryId:B.id,subCategoryName:B.name,ageGroup:S&&S.dob&&z()[0]||"U10",gender:"Male"};$([V]),v(t.id),P(k.id),g(B.id),E("18-20"),_("Male")}}},de=()=>{if(!p||!N||!I||!C){r({title:"Error",description:"Please fill in all sport assignment details",variant:"destructive"});return}if(S){const X=Ki(S.dob),ve=Ef(X,C,!0);if(!ve.isValid){r({title:"Age Validation Error",description:ve.message,variant:"destructive"});return}}const b=f.find(X=>X.id===p),k=L.find(X=>X.id===N),B=W.find(X=>X.id===I);if(!b||!k||!B)return;const V={sportId:p,sportName:b.name,categoryId:N,categoryName:k.name,subCategoryId:I,subCategoryName:B.name,ageGroup:C,gender:A};if(M.some(X=>X.sportId===V.sportId&&X.categoryId===V.categoryId&&X.subCategoryId===V.subCategoryId)){r({title:"Error",description:"This sport assignment already exists",variant:"destructive"});return}$([...M,V]),t||v(""),P(""),g(""),E(""),_("Male")},F=b=>{$(M.filter((k,B)=>B!==b))},re=async()=>{try{if(i(!0),l([]),!S){l(["Please select a student"]);return}if(M.length===0){l(["Please add at least one sport assignment"]);return}const b=M.map(V=>({sportId:V.sportId,categoryId:V.categoryId,subCategoryId:V.subCategoryId,ageGroup:V.ageGroup,gender:V.gender}));await se.assignStudentSports(parseInt(S.id),{assignments:b});const k=M.length*500,B={status:"Unpaid",amount:0,method:"Pending",total_amount:k};await se.processStudentPayment(parseInt(S.id),B),r({title:"Success",description:`${M.length} sport(s) assigned to ${S.fullName} successfully. Total amount: ${k}`}),n(),s()}catch(b){console.error("Error assigning sports:",b),r({title:"Error",description:"Failed to assign sports to student",variant:"destructive"})}finally{i(!1)}},T=b=>{switch(b){case"Male":return"bg-blue-100 text-blue-800";case"Female":return"bg-pink-100 text-pink-800";case"Open":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(ze,{open:!0,onOpenChange:s,children:e.jsxs(De,{className:"max-w-6xl max-h-[90vh] overflow-y-auto w-[95vw] sm:w-full",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Assign Sports to Student"}),e.jsx(Qe,{children:"Select sports and categories for the student. You can assign multiple sports with different age groups and categories."})]}),o.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside",children:o.map((b,k)=>e.jsx("li",{children:b},k))})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Select Student"}),e.jsxs("div",{className:"relative",children:[e.jsx(bs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Search students by name or ID...",value:w,onChange:b=>j(b.target.value),className:"pl-10"})]}),e.jsx("div",{className:"border rounded-lg max-h-64 overflow-y-auto",children:a?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading students..."})]}):x.length===0?e.jsx("div",{className:"text-center p-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No students found"})}):e.jsx("div",{className:"space-y-1 p-2",children:x.map(b=>{const k=(S==null?void 0:S.id)===b.id;return e.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${k?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,onClick:()=>te(b),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 ${k?"bg-blue-600 border-blue-600":"border-gray-300"}`,children:k&&e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-xs",children:""})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:b.fullName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",b.studentId,"  Age: ",b.age," ",e.jsx("span",{className:`ml-1 px-2 py-0.5 rounded text-xs ${T(b.gender)}`,children:b.gender})]})]})]})},b.id)})})}),S&&e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.fullName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",S.studentId,"  Age: ",S.age]})]})]})})]}),S&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Assign Sports"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"sport",children:["Sport ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:p,onValueChange:v,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sport"})}),e.jsx(fe,{children:f.map(b=>e.jsxs(q,{value:b.id,children:[b.name," (",b.type,")"]},b.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"category",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:N,onValueChange:P,disabled:!p,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select category"})}),e.jsx(fe,{children:L.map(b=>e.jsx(q,{value:b.id,children:b.name},b.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"subCategory",children:["Sub-Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:I,onValueChange:g,disabled:!N||W.length===0,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sub-category"})}),e.jsx(fe,{children:W.map(b=>e.jsxs(q,{value:b.id,children:[b.name," (",b.gender,")"]},b.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"ageGroup",children:["Age Group ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:C,onValueChange:E,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select age group"})}),e.jsx(fe,{children:z().map(b=>e.jsx(q,{value:b,children:b},b))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"gender",children:["Gender ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(xe,{value:A,onValueChange:_,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsx(fe,{children:Sb.map(b=>e.jsx(q,{value:b,children:b},b))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{children:""}),e.jsxs(O,{onClick:de,disabled:!p||!N||!I||!C,className:"w-full",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Assignment"]})]})]}),M.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"text-md font-medium",children:["Current Assignments (",M.length,")"]}),e.jsx("div",{className:"space-y-2",children:M.map((b,k)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:b.sportName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[b.categoryName,"  ",b.subCategoryName,"  ",b.ageGroup]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:T(b.gender),children:b.gender}),e.jsx(O,{variant:"destructive",size:"sm",onClick:()=>F(k),children:e.jsx(On,{className:"h-4 w-4"})})]})]},k))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(O,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),e.jsxs(O,{onClick:re,disabled:a||!S||M.length===0,children:[a?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Assign ",M.length," Sport",M.length!==1?"s":""]})]})]})})};var nu="Tabs",[QO]=Ft(nu,[yi]),wb=yi(),[XO,Af]=QO(nu),bb=c.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=t,f=gi(l),[m,x]=un({prop:r,onChange:a,defaultProp:i??"",caller:nu});return e.jsx(XO,{scope:n,baseId:zs(),value:m,onValueChange:x,orientation:o,dir:f,activationMode:d,children:e.jsx(Se.div,{dir:f,"data-orientation":o,...u,ref:s})})});bb.displayName=nu;var Cb="TabsList",Pb=c.forwardRef((t,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=t,i=Af(Cb,n),o=wb(n);return e.jsx(rf,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:e.jsx(Se.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});Pb.displayName=Cb;var Eb="TabsTrigger",Ab=c.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=t,o=Af(Eb,n),l=wb(n),d=Tb(o.baseId,r),u=_b(o.baseId,r),f=r===o.value;return e.jsx(af,{asChild:!0,...l,focusable:!a,active:f,children:e.jsx(Se.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:s,onMouseDown:ue(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:ue(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(r)})})})});Ab.displayName=Eb;var Rb="TabsContent",Ib=c.forwardRef((t,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=t,l=Af(Rb,n),d=Tb(l.baseId,r),u=_b(l.baseId,r),f=r===l.value,m=c.useRef(f);return c.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Pt,{present:a||f,children:({present:x})=>e.jsx(Se.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:u,tabIndex:0,...o,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:x&&i})})});Ib.displayName=Rb;function Tb(t,s){return`${t}-trigger-${s}`}function _b(t,s){return`${t}-content-${s}`}var ZO=bb,kb=Pb,Mb=Ab,Ob=Ib;const Co=ZO,ai=c.forwardRef(({className:t,...s},n)=>e.jsx(kb,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));ai.displayName=kb.displayName;const rs=c.forwardRef(({className:t,...s},n)=>e.jsx(Mb,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...s}));rs.displayName=Mb.displayName;const as=c.forwardRef(({className:t,...s},n)=>e.jsx(Ob,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));as.displayName=Ob.displayName;const eF=({sport:t,onClose:s,onEdit:n})=>{const[r,a]=c.useState("overview"),i=l=>{switch(l){case"Individual":return"bg-blue-100 text-blue-800";case"Team":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},o=l=>{switch(l){case"Male":return"bg-blue-100 text-blue-800";case"Female":return"bg-pink-100 text-pink-800";case"Open":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(ze,{open:!0,onOpenChange:s,children:e.jsxs(De,{className:"max-w-4xl max-h-[90vh] overflow-y-auto w-[95vw] sm:w-full",children:[e.jsx(Le,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx($e,{className:"text-2xl",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(me,{className:i(t.type),children:t.type}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.totalEnrolled," students enrolled"]})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(O,{onClick:n,variant:"outline",size:"sm",children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),e.jsxs(Co,{value:r,onValueChange:a,className:"w-full",children:[e.jsxs(ai,{className:"grid w-full grid-cols-3",children:[e.jsx(rs,{value:"overview",children:"Overview"}),e.jsxs(rs,{value:"students",children:["Students (",t.totalEnrolled,")"]}),e.jsx(rs,{value:"categories",children:"Categories"})]}),e.jsx(as,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sport Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("span",{className:"font-medium",children:t.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx(me,{className:i(t.type),children:t.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Enrolled:"}),e.jsx("span",{className:"font-medium",children:t.totalEnrolled})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"}),e.jsx("span",{className:"font-medium",children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Updated:"}),e.jsx("span",{className:"font-medium",children:new Date(t.updatedAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Quick Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(Ye,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.totalEnrolled}),e.jsx("div",{className:"text-sm text-blue-600",children:"Total Students"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(Ie,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.categories.length}),e.jsx("div",{className:"text-sm text-green-600",children:"Categories"})]})]})]})]})}),e.jsxs(as,{value:"students",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:"text-lg font-semibold",children:"Enrolled Students"})}),t.enrolledStudents.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ye,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Students Enrolled"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"No students have been enrolled in this sport yet."})]}):e.jsx("div",{className:"border rounded-lg",children:e.jsxs(ji,{children:[e.jsx(Ni,{children:e.jsxs(ns,{children:[e.jsx(Oe,{children:"Student ID"}),e.jsx(Oe,{children:"Name"}),e.jsx(Oe,{children:"Age"}),e.jsx(Oe,{children:"Gender"}),e.jsx(Oe,{children:"Category"}),e.jsx(Oe,{children:"Sub-Category"}),e.jsx(Oe,{children:"Age Group"})]})}),e.jsx(Si,{children:t.enrolledStudents.map(l=>e.jsxs(ns,{children:[e.jsx(Me,{className:"font-medium",children:l.studentId}),e.jsx(Me,{children:l.fullName}),e.jsx(Me,{children:l.age}),e.jsx(Me,{children:e.jsx(me,{className:o(l.gender),children:l.gender})}),e.jsx(Me,{children:l.category}),e.jsx(Me,{children:l.subCategory}),e.jsx(Me,{children:l.ageGroup})]},l.id))})]})})]}),e.jsxs(as,{value:"categories",className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sport Categories"}),t.categories.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ie,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Categories"}),e.jsx("p",{className:"text-muted-foreground",children:"No categories have been defined for this sport."})]}):e.jsx("div",{className:"space-y-4",children:t.categories.map(l=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-semibold",children:l.name}),e.jsxs(me,{variant:"outline",children:[l.subCategories.length," sub-categories"]})]}),l.subCategories.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"Sub-Categories:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.subCategories.map(d=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-50 rounded-md",children:[e.jsx("span",{className:"text-sm",children:d.name}),e.jsx(me,{className:o(d.gender),children:d.gender}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Level ",d.level]})]},d.id))})]})]},l.id))})]})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t",children:e.jsx(O,{variant:"outline",onClick:s,children:"Close"})})]})})},tF=({sport:t,onClose:s,onSave:n})=>{const{toast:r}=Ee(),[a,i]=c.useState(!1),[o,l]=c.useState([]),[d,u]=c.useState([]),[f,m]=c.useState(null),[x,h]=c.useState(!1),[w,j]=c.useState(null),[S,y]=c.useState(!1),[p,v]=c.useState({name:t.name,type:t.type,sportType:t.sportType}),N=async()=>{s()},P=async()=>{try{i(!0);const A=await se.getStudentsBySport(t.id);if(console.log("API Response:",A),A.data&&A.data.success&&A.data.data&&A.data.data.students){const _=A.data.data.students;console.log("Enrolled students:",_),u(_)}else console.log("No students found or API error"),u([])}catch(A){console.error("Error fetching enrolled students:",A),r({title:"Error",description:"Failed to fetch enrolled students",variant:"destructive"}),u([])}finally{i(!1)}},I=A=>{m(A),h(!0)},g=async A=>{try{i(!0),(await se.removeStudentFromSport(A,t.id)).data.success&&(r({title:"Success",description:"Student removed from sport successfully"}),P(),y(!1),j(null))}catch(_){console.error("Error removing student from sport:",_),r({title:"Error",description:"Failed to remove student from sport",variant:"destructive"})}finally{i(!1)}},C=async(A,_)=>{try{i(!0),(await se.removeStudentFromCategory(A,_)).data.success&&(r({title:"Success",description:"Student removed from category successfully"}),P(),y(!1),j(null))}catch(M){console.error("Error removing student from category:",M),r({title:"Error",description:"Failed to remove student from category",variant:"destructive"})}finally{i(!1)}},E=(A,_,M)=>{j({...A,action:_,categoryId:M}),y(!0)};return c.useEffect(()=>{P()},[t.id]),e.jsxs(ze,{open:!0,onOpenChange:s,children:[e.jsxs(De,{className:"max-w-4xl max-h-[90vh] overflow-y-auto w-[95vw] sm:w-full",children:[e.jsx(Le,{children:e.jsxs($e,{children:["Sport Information: ",t.name]})}),o.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside",children:o.map((A,_)=>e.jsx("li",{children:A},_))})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"sportName",children:"Sport Name"}),e.jsx(D,{id:"sportName",value:p.name,disabled:!0,className:"bg-gray-50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"sportType",children:"Sport Type"}),e.jsx(D,{id:"sportType",value:p.type,disabled:!0,className:"bg-gray-50"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Categories Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sport categories and sub-categories are managed by the system administrator. You can only manage student assignments to these categories."}),e.jsx("div",{className:"space-y-3",children:t.categories.map(A=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("h4",{className:"text-md font-medium",children:A.name})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("h5",{className:"text-sm font-medium text-muted-foreground",children:["Sub-Categories (",A.subCategories.length,")"]})}),e.jsx("div",{className:"space-y-2",children:A.subCategories.map(_=>e.jsx("div",{className:"flex items-center p-2 bg-gray-50 rounded",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:_.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",_.gender,", Level ",_.level,")"]})]})},_.id))})]})]},A.id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Enrolled Students (",d.length,")"]}),e.jsx(O,{variant:"outline",size:"sm",onClick:P,disabled:a,children:a?e.jsx(Ue,{className:"h-4 w-4 animate-spin"}):"Refresh"})]}),d.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ye,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No students enrolled in this sport yet."}),e.jsx("p",{className:"text-sm",children:'Use the "Add Student to Sport" button on the main page to enroll students.'}),e.jsx("p",{className:"text-xs mt-2 text-muted-foreground",children:"Note: Only students enrolled under your institution will be displayed here."})]}):e.jsx("div",{className:"border rounded-lg",children:e.jsxs(ji,{children:[e.jsx(Ni,{children:e.jsxs(ns,{children:[e.jsx(Oe,{children:"Student Name"}),e.jsx(Oe,{children:"Student ID"}),e.jsx(Oe,{children:"Email"}),e.jsx(Oe,{children:"Category"}),e.jsx(Oe,{children:"Sub-Category"}),e.jsx(Oe,{children:"Actions"})]})}),e.jsx(Si,{children:d.map(A=>e.jsxs(ns,{children:[e.jsxs(Me,{className:"font-medium",children:[A.fname," ",A.mname," ",A.lname]}),e.jsx(Me,{children:A.student_id}),e.jsx(Me,{children:A.email}),e.jsx(Me,{children:e.jsx("div",{className:"space-y-1",children:A.sportAssignments&&A.sportAssignments.length>0?A.sportAssignments.map((_,M)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{variant:"secondary",children:_.categoryName||"Unknown Category"}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>E(A,"category",_.categoryId),className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",title:"Remove from category",children:e.jsx(On,{className:"h-3 w-3"})})]},M)):e.jsx(me,{variant:"outline",children:"Not Assigned"})})}),e.jsx(Me,{children:e.jsx("div",{className:"space-y-1",children:A.sportAssignments&&A.sportAssignments.length>0?A.sportAssignments.map((_,M)=>e.jsx(me,{variant:"outline",children:_.subCategoryName||"No Sub-Category"},M)):e.jsx(me,{variant:"outline",children:"Not Assigned"})})}),e.jsx(Me,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>I(A),title:"Edit Category Assignment",children:e.jsx(Ct,{className:"h-4 w-4"})}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>E(A,"sport"),className:"text-red-500 hover:text-red-700",title:"Remove from Sport",children:e.jsx(_t,{className:"h-4 w-4"})})]})})]},A.id))})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(O,{variant:"outline",onClick:s,disabled:a,children:"Cancel"}),e.jsx(O,{onClick:N,disabled:a,children:"Close"})]})]}),x&&f&&e.jsx(ze,{open:x,onOpenChange:h,children:e.jsxs(De,{className:"max-w-md",children:[e.jsx(Le,{children:e.jsx($e,{children:"Edit Student Category"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(R,{children:["Student: ",f.fname," ",f.lname]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Student ID: ",f.student_id]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"category",children:"Category *"}),e.jsxs(xe,{children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select category"})}),e.jsx(fe,{children:t.categories.map(A=>e.jsx(q,{value:A.id,children:A.name},A.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"subCategory",children:"Sub-Category *"}),e.jsxs(xe,{children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sub-category"})}),e.jsx(fe,{children:e.jsx(q,{value:"placeholder",children:"Select category first"})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx(O,{onClick:()=>{r({title:"Info",description:"Category update functionality will be implemented"}),h(!1)},children:"Save Changes"})]})]})}),S&&w&&e.jsx(ze,{open:S,onOpenChange:y,children:e.jsxs(De,{className:"max-w-md",children:[e.jsx(Le,{children:e.jsx($e,{children:"Confirm Removal"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to remove"," ",e.jsxs("span",{className:"font-medium",children:[w.fname," ",w.lname]})," ","from"," ",w.action==="sport"?e.jsx("span",{className:"font-medium",children:t.name}):e.jsx("span",{className:"font-medium",children:"this category"}),"?"]})}),w.action==="sport"&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-700",children:[e.jsx("strong",{children:"Warning:"})," This will remove the student from the entire sport and all its categories."]})}),w.action==="category"&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-700",children:[e.jsx("strong",{children:"Note:"})," This will only remove the student from this specific category. They will remain enrolled in other categories of the sport."]})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsxs(O,{variant:"destructive",onClick:()=>{w.action==="sport"?g(w.id):C(w.id,w.categoryId)},disabled:a,children:[a?e.jsx(Ue,{className:"h-4 w-4 animate-spin mr-2"}):null,w.action==="sport"?"Remove from Sport":"Remove from Category"]})]})]})})]})},sF=()=>{const{toast:t}=Ee(),[s,n]=c.useState([]),[r,a]=c.useState(!1),[i,o]=c.useState(""),[l,d]=c.useState("all"),[u,f]=c.useState(null),[m,x]=c.useState(!1),[h,w]=c.useState(!1),[j,S]=c.useState(!1);c.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0),console.log(" Fetching sports from API...");const g=await se.getInstitutionSports();console.log(" Sports API Response:",g),g.data&&g.data.data&&g.data.data.sports?(console.log(" Sports found:",g.data.data.sports),n(g.data.data.sports)):(console.log(" No sports in response - institution may not have enrolled in any sports yet"),n([]))}catch(g){console.error(" Error fetching sports:",g),t({title:"Error",description:"Failed to fetch sports data. Please check your connection and try again.",variant:"destructive"}),n([])}finally{a(!1)}},p=s.filter(g=>{const C=g.name.toLowerCase().includes(i.toLowerCase()),E=l==="all"||g.type===l;return C&&E}),v=g=>{f(g),x(!0)},N=g=>{f(g),w(!0)},P=g=>{switch(g){case"Individual":return"bg-blue-100 text-blue-800";case"Team":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},I=g=>g===0?{text:"No enrollments",color:"text-red-600"}:g<5?{text:"Low enrollment",color:"text-yellow-600"}:g<20?{text:"Good enrollment",color:"text-blue-600"}:{text:"High enrollment",color:"text-green-600"};return r?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading sports..."})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Sports Management"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage and view sports with enrolled students"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(O,{variant:"outline",onClick:y,className:"w-full sm:w-auto",children:"Refresh"}),e.jsxs(O,{onClick:()=>S(!0),className:"w-full sm:w-auto",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Student to Sport"]})]})]}),e.jsxs(J,{children:[e.jsx(ie,{className:"pb-3",children:e.jsxs(oe,{className:"flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(pn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Filters"]})}),e.jsx(Q,{className:"pt-0",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search Sports"}),e.jsxs("div",{className:"relative",children:[e.jsx(bs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Search by sport name...",value:i,onChange:g=>o(g.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Sport Type"}),e.jsxs(xe,{value:l,onValueChange:d,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"All Types"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Types"}),e.jsx(q,{value:"Individual",children:"Individual"}),e.jsx(q,{value:"Team",children:"Team"})]})]})]}),e.jsxs("div",{className:"space-y-2 sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Total Sports"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:p.length})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:p.map(g=>{const C=I(g.totalEnrolled);return e.jsxs(J,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(ie,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[e.jsx(oe,{className:"text-base sm:text-lg truncate",children:g.name}),e.jsx(me,{className:`${P(g.type)} text-xs`,children:g.type})]}),e.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>v(g),className:"h-8 w-8 p-0",children:e.jsx(us,{className:"h-4 w-4"})}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>N(g),className:"h-8 w-8 p-0",children:e.jsx(Ct,{className:"h-4 w-4"})})]})]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Categories"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.categories.slice(0,2).map(E=>e.jsx(me,{variant:"outline",className:"text-xs",children:E.name},E.id)),g.categories.length>2&&e.jsxs(me,{variant:"outline",className:"text-xs",children:["+",g.categories.length-2," more"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Enrolled Students"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold",children:g.totalEnrolled}),e.jsx("span",{className:`text-sm ${C.color}`,children:C.text})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:e.jsx(O,{size:"sm",variant:"outline",onClick:()=>v(g),className:"flex-1",children:"View Details"})})]})]},g.id)})}),p.length===0&&!r&&e.jsx(J,{children:e.jsxs(Q,{className:"text-center py-8",children:[e.jsx(Ie,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Sports Found"}),e.jsx("p",{className:"text-muted-foreground",children:i||l!=="all"?"Try adjusting your filters to see more results.":"No sports have been enrolled for your institution yet. Contact the admin to enroll in sports."})]})}),m&&u&&e.jsx(eF,{sport:u,onClose:()=>x(!1),onEdit:()=>{x(!1),w(!0)}}),h&&u&&e.jsx(tF,{sport:u,onClose:()=>w(!1),onSave:y}),j&&e.jsx(JO,{onClose:()=>S(!1),onSave:y})]})},nF=()=>{const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(""),[u,f]=c.useState("all"),[m,x]=c.useState({sponsorName:"",sponsorshipAmount:"",sponsorshipType:"full"}),[h,w]=c.useState({studentEmails:"",subject:"Payment Link for Sports Registration",message:"Dear Student, Please use the link below to complete your sports registration payment..."}),[j,S]=c.useState([]),[y,p]=c.useState(!0),[v,N]=c.useState(new Set),[P,I]=c.useState(new Set),[g,C]=c.useState({totalStudents:0,paidStudents:0,unpaidStudents:0,totalAmount:0,paidAmount:0,pendingAmount:0}),E=async()=>{try{const U=await se.getInstitutionStudents();console.log("Payment API Response:",U);let W=[];U.data&&U.data.data&&U.data.data.students?W=U.data.data.students:Array.isArray(U.data)&&(W=U.data),console.log("Payment Students Data:",W),S(W);const ne=W.length,H=W.filter(de=>de.payment_status==="Paid").length,z=ne-H,ee=W.reduce((de,F)=>de+(F.total_amount||0),0),K=W.filter(de=>de.payment_status==="Paid").reduce((de,F)=>de+(F.paid_amount||0),0),te=ee-K;C({totalStudents:ne,paidStudents:H,unpaidStudents:z,totalAmount:ee,paidAmount:K,pendingAmount:te})}catch(U){console.error("Error fetching students:",U),t({title:"Error",description:"Failed to fetch students data",variant:"destructive"})}finally{p(!1)}};c.useEffect(()=>{E()},[l,u]);const A=j.filter(U=>{var z,ee;const W=`${U.fname||""} ${U.mname||""} ${U.lname||""}`.trim(),ne=!l||W.toLowerCase().includes(l.toLowerCase())||((z=U.student_id)==null?void 0:z.toLowerCase().includes(l.toLowerCase())),H=u==="all"||((ee=U.payment_status)==null?void 0:ee.toLowerCase())===u.toLowerCase();return ne&&H}),_=async U=>{I(W=>new Set(W).add(U.id));try{const W={status:"Paid",amount:U.total_amount||500,method:"Online"},ne=await se.processStudentPayment(U.id,W);if(ne.data.success)t({title:"Payment Successful",description:`Payment processed for ${U.fname} ${U.lname}`}),E();else throw new Error(ne.data.message||"Payment failed")}catch(W){console.error("Payment error:",W),t({title:"Payment Failed",description:"Failed to process payment. Please try again.",variant:"destructive"})}finally{I(W=>{const ne=new Set(W);return ne.delete(U.id),ne})}},M=()=>{t({title:"Feature Coming Soon",description:"Sponsorship functionality will be implemented soon."}),a(!1)},$=async U=>{N(W=>new Set(W).add(U.id));try{const W={subject:" Sports Registration Payment - Action Required"},ne=await se.sendPaymentLinkToStudent(U.id,W);if(ne.data.success)t({title:"Email Sent Successfully",description:`Payment link sent to ${U.email}`});else throw new Error(ne.data.message||"Email sending failed")}catch(W){console.error("Email error:",W),t({title:"Email Failed",description:"Failed to send payment link. Please try again.",variant:"destructive"})}finally{N(W=>{const ne=new Set(W);return ne.delete(U.id),ne})}o(!1)},L=U=>{switch(U){case"Paid":return"bg-green-100 text-green-800";case"Unpaid":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return y?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading payments data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Payment Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage student payments and sponsorships"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Students"}),e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.totalStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Paid Students"}),e.jsx(vt,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.paidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed payments"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Unpaid Students"}),e.jsx(Za,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:g.unpaidStudents}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending payments"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(ws,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",g.totalAmount]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All registrations"})]})]})]}),e.jsx(J,{className:"shadow-soft",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search by student name or ID...",value:l,onChange:U=>d(U.target.value),className:"pl-10"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:e.jsxs(xe,{value:u,onValueChange:f,children:[e.jsxs(pe,{className:"w-full sm:w-[180px]",children:[e.jsx(pn,{className:"h-4 w-4 mr-2"}),e.jsx(ge,{placeholder:"Filter by Status"})]}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Status"}),e.jsx(q,{value:"Paid",children:"Paid"}),e.jsx(q,{value:"Unpaid",children:"Unpaid"}),e.jsx(q,{value:"Pending",children:"Pending"})]})]})})]})})}),e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsx(oe,{children:"Student Payments"}),e.jsx(_e,{children:"Manage and track student payment status"})]}),e.jsx(Q,{children:A.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:l||u!=="all"?"Try adjusting your search or filter criteria.":"No students have been registered yet."})]}):e.jsx("div",{className:"space-y-4",children:A.map(U=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(Ye,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium",children:`${U.fname||""} ${U.mname||""} ${U.lname||""}`.trim()}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",U.student_id,"  ",U.email]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:L(U.payment_status||"Unpaid"),children:U.payment_status||"Unpaid"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total: ",U.total_amount||0," | Paid: ",U.paid_amount||0]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>_(U),disabled:P.has(U.id),children:P.has(U.id)?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Pay Now"]})}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>a(!0),children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Sponsor"]}),e.jsx(O,{variant:"outline",size:"sm",onClick:()=>$(U),disabled:v.has(U.id),children:v.has(U.id)?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(HP,{className:"h-4 w-4 mr-2"}),"Pay by Student"]})})]})]},U.id))})})]}),e.jsx(ze,{open:r,onOpenChange:a,children:e.jsxs(De,{children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Apply for Sponsorship"}),e.jsx(Qe,{children:"Submit a sponsorship request for students"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"sponsorName",children:"Sponsor Name"}),e.jsx(D,{id:"sponsorName",value:m.sponsorName,onChange:U=>x({...m,sponsorName:U.target.value}),placeholder:"Enter sponsor name"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"sponsorshipAmount",children:"Sponsorship Amount"}),e.jsx(D,{id:"sponsorshipAmount",type:"number",value:m.sponsorshipAmount,onChange:U=>x({...m,sponsorshipAmount:U.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"sponsorshipType",children:"Sponsorship Type"}),e.jsxs(xe,{value:m.sponsorshipType,onValueChange:U=>x({...m,sponsorshipType:U}),children:[e.jsx(pe,{children:e.jsx(ge,{})}),e.jsxs(fe,{children:[e.jsx(q,{value:"full",children:"Full Sponsorship"}),e.jsx(q,{value:"partial",children:"Partial Sponsorship"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(O,{onClick:M,children:"Submit Request"})]})]})]})}),e.jsx(ze,{open:i,onOpenChange:o,children:e.jsxs(De,{children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Send Payment Reminder"}),e.jsx(Qe,{children:"Send payment reminder emails to students"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"studentEmails",children:"Student Emails"}),e.jsx(st,{id:"studentEmails",value:h.studentEmails,onChange:U=>w({...h,studentEmails:U.target.value}),placeholder:"Enter student emails (comma separated)"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"subject",children:"Subject"}),e.jsx(D,{id:"subject",value:h.subject,onChange:U=>w({...h,subject:U.target.value}),placeholder:"Enter email subject"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"message",children:"Message"}),e.jsx(st,{id:"message",value:h.message,onChange:U=>w({...h,message:U.target.value}),placeholder:"Enter email message"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(O,{onClick:$,children:"Send Email"})]})]})]})})]})},rF=()=>{const{toast:t}=Ee(),{student:s}=Lt(),[n,r]=c.useState(null),[a,i]=c.useState(!0),[o,l]=c.useState(!1),[d,u]=c.useState(!1),[f,m]=c.useState({name:"",email:"",contact_person:{name:"",email:"",phone:"",designation:""},institute_info:{phone_number:"",website:"",principal_name:"",principal_phone_number:""}});c.useEffect(()=>{x()},[]);const x=async()=>{var y,p,v,N,P,I,g,C;try{i(!0);const E=await se.getInstitutionProfile();if(E.data.success){const A=E.data.data;r(A),m({name:A.name||"",email:A.email||"",contact_person:{name:((y=A.contact_person)==null?void 0:y.name)||"",email:((p=A.contact_person)==null?void 0:p.email)||"",phone:((v=A.contact_person)==null?void 0:v.phone)||"",designation:((N=A.contact_person)==null?void 0:N.designation)||""},institute_info:{phone_number:((P=A.institute_info)==null?void 0:P.phone_number)||"",website:((I=A.institute_info)==null?void 0:I.website)||"",principal_name:((g=A.institute_info)==null?void 0:g.principal_name)||"",principal_phone_number:((C=A.institute_info)==null?void 0:C.principal_phone_number)||""}})}else throw new Error(E.data.message||"Failed to fetch profile")}catch(E){console.error("Error fetching profile:",E),t({title:"Error",description:"Failed to load institution profile",variant:"destructive"})}finally{i(!1)}},h=()=>{l(!0)},w=()=>{var y,p,v,N,P,I,g,C;l(!1),n&&m({name:n.name||"",email:n.email||"",contact_person:{name:((y=n.contact_person)==null?void 0:y.name)||"",email:((p=n.contact_person)==null?void 0:p.email)||"",phone:((v=n.contact_person)==null?void 0:v.phone)||"",designation:((N=n.contact_person)==null?void 0:N.designation)||""},institute_info:{phone_number:((P=n.institute_info)==null?void 0:P.phone_number)||"",website:((I=n.institute_info)==null?void 0:I.website)||"",principal_name:((g=n.institute_info)==null?void 0:g.principal_name)||"",principal_phone_number:((C=n.institute_info)==null?void 0:C.principal_phone_number)||""}})},j=async()=>{try{u(!0);const y=await se.updateInstitutionProfile(f);if(y.data.success)t({title:"Success",description:"Institution profile updated successfully"}),l(!1),await x();else throw new Error(y.data.message||"Failed to update profile")}catch(y){console.error("Error updating profile:",y),t({title:"Error",description:"Failed to update institution profile",variant:"destructive"})}finally{u(!1)}},S=(y,p,v)=>{m(v?N=>({...N,[v]:{...N[v],[y]:p}}):N=>({...N,[y]:p}))};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading profile..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Institution Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your institution's profile information"})]}),e.jsx("div",{className:"flex gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsxs(O,{variant:"outline",onClick:w,disabled:d,children:[e.jsx(On,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsx(O,{onClick:j,disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qo,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}):e.jsxs(O,{onClick:h,children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-5 w-5"}),"Basic Information"]}),e.jsx(_e,{children:"Your institution's basic details"})]}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"name",children:["Institution Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"name",value:f.name,onChange:y=>S("name",y.target.value),disabled:!o,placeholder:"Enter institution name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"email",type:"email",value:f.email,onChange:y=>S("email",y.target.value),disabled:!o,placeholder:"Enter email address"})]})]})})]}),e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"Contact Person"]}),e.jsx(_e,{children:"Primary contact person details"})]}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contact_name",children:["Contact Person Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contact_name",value:f.contact_person.name,onChange:y=>S("name",y.target.value,"contact_person"),disabled:!o,placeholder:"Enter contact person name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contact_email",children:["Contact Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contact_email",type:"email",value:f.contact_person.email,onChange:y=>S("email",y.target.value,"contact_person"),disabled:!o,placeholder:"Enter contact email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contact_phone",children:["Contact Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contact_phone",value:f.contact_person.phone,onChange:y=>S("phone",y.target.value,"contact_person"),disabled:!o,placeholder:"Enter contact phone"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"contact_designation",children:["Designation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"contact_designation",value:f.contact_person.designation,onChange:y=>S("designation",y.target.value,"contact_person"),disabled:!o,placeholder:"Enter designation"})]})]})})]}),e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Vo,{className:"h-5 w-5"}),"Institute Details"]}),e.jsx(_e,{children:"Additional institution information"})]}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"phone_number",children:["Institution Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"phone_number",value:f.institute_info.phone_number,onChange:y=>S("phone_number",y.target.value,"institute_info"),disabled:!o,placeholder:"Enter institution phone"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"website",children:"Website"}),e.jsx(D,{id:"website",value:f.institute_info.website,onChange:y=>S("website",y.target.value,"institute_info"),disabled:!o,placeholder:"Enter website URL"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"principal_name",children:["Principal Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"principal_name",value:f.institute_info.principal_name,onChange:y=>S("principal_name",y.target.value,"institute_info"),disabled:!o,placeholder:"Enter principal name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{htmlFor:"principal_phone",children:["Principal Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"principal_phone",value:f.institute_info.principal_phone_number,onChange:y=>S("principal_phone_number",y.target.value,"institute_info"),disabled:!o,placeholder:"Enter principal phone"})]})]})})]})]})]})},aF=()=>{const{studentId:t}=Wp(),s=Dt(),{toast:n}=Ee(),[r,a]=c.useState(null),[i,o]=c.useState(!0),[l,d]=c.useState(!1),[u,f]=c.useState("online"),[m,x]=c.useState({cardNumber:"",expiryDate:"",cvv:"",upiId:"",bankName:""});c.useEffect(()=>{t&&h()},[t]);const h=async()=>{var j;try{if(!t)throw new Error("Student ID is required");const y=(j=(await se.getStudentPaymentInfo(parseInt(t))).data)==null?void 0:j.data;if(y)a(y);else throw new Error("No student data received")}catch(S){console.error("Error fetching student data:",S),n({title:"Error",description:"Failed to load student information",variant:"destructive"})}finally{o(!1)}},w=async()=>{if(r){d(!0);try{await new Promise(S=>setTimeout(S,2e3));const j={status:"Paid",amount:r.total_amount,method:u==="online"?"Credit Card":"UPI"};n({title:"Payment Successful",description:`Payment of ${r.total_amount} processed successfully`}),s("/student-dashboard")}catch(j){console.error("Payment error:",j),n({title:"Payment Failed",description:"Failed to process payment. Please try again.",variant:"destructive"})}finally{d(!1)}}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Loading payment information..."})]})}):r?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(O,{variant:"ghost",onClick:()=>s("/"),className:"mb-4",children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Payment Portal"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Complete your sports registration payment"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center",children:[e.jsx(vr,{className:"h-5 w-5 mr-2"}),"Student Information"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-gray-500",children:"Student Name"}),e.jsxs("p",{className:"text-lg font-semibold",children:[r.fname," ",r.mname," ",r.lname]})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-gray-500",children:"Student ID"}),e.jsx("p",{className:"text-lg",children:r.student_id})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-lg",children:r.email})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(me,{className:r.payment_status==="Paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:r.payment_status})})]})]})]}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center",children:[e.jsx(ws,{className:"h-5 w-5 mr-2"}),"Payment Details"]})}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-medium",children:"Total Amount"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",r.total_amount]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Paid Amount"}),e.jsxs("span",{className:"text-sm",children:["",r.paid_amount]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Balance"}),e.jsxs("span",{className:"text-sm font-medium",children:["",r.total_amount-r.paid_amount]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(R,{className:"text-lg font-medium",children:"Payment Method"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${u==="online"?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>f("online"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xt,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Credit/Debit Card"})]})}),e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${u==="upi"?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>f("upi"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jj,{className:"h-5 w-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"UPI Payment"})]})})]})]}),u==="online"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"cardNumber",children:"Card Number"}),e.jsx(D,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:m.cardNumber,onChange:j=>x({...m,cardNumber:j.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"expiryDate",children:"Expiry Date"}),e.jsx(D,{id:"expiryDate",placeholder:"MM/YY",value:m.expiryDate,onChange:j=>x({...m,expiryDate:j.target.value})})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"cvv",children:"CVV"}),e.jsx(D,{id:"cvv",placeholder:"123",value:m.cvv,onChange:j=>x({...m,cvv:j.target.value})})]})]})]}),u==="upi"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(R,{htmlFor:"upiId",children:"UPI ID"}),e.jsx(D,{id:"upiId",placeholder:"yourname@paytm",value:m.upiId,onChange:j=>x({...m,upiId:j.target.value})})]})}),e.jsx(O,{onClick:w,disabled:l,className:"w-full",size:"lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing Payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"h-4 w-4 mr-2"}),"Pay ",r.total_amount-r.paid_amount]})})]})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ds,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),e.jsx("p",{children:"Student not found"}),e.jsxs(O,{onClick:()=>s("/"),className:"mt-4",children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})},iF=()=>{const t=Dt(),{toast:s}=Ee(),[n,r]=c.useState(""),[a,i]=c.useState(""),[o,l]=c.useState("email"),[d,u]=c.useState(!1),[f,m]=c.useState(""),x=async j=>{if(j.preventDefault(),!n){m("Please enter your email address");return}u(!0),m("");try{const S=await se.sendStudentLoginOTP({email:n});if(S.data.success)l("otp"),s({title:"OTP Sent",description:`OTP has been sent to ${n}`});else throw new Error(S.data.message||"Failed to send OTP")}catch(S){console.error("OTP send error:",S),m(S.message||"Failed to send OTP. Please try again.")}finally{u(!1)}},h=async j=>{if(j.preventDefault(),!a){m("Please enter the OTP");return}u(!0),m("");try{const S=await se.verifyOTPWithEmail(n,a);if(S.data.success){const y=S.data.data,p={id:y.id,email:y.email,fname:y.fname,lname:y.lname,student_id:y.student_id,role:"student",access_token:y.access_token};localStorage.setItem("studentSession",JSON.stringify(p)),s({title:"Login Successful",description:`Welcome back, ${y.fname} ${y.lname}!`}),t("/dashboard")}else throw new Error(S.data.message||"Invalid OTP")}catch(S){console.error("OTP verification error:",S),m(S.message||"Invalid OTP. Please try again.")}finally{u(!1)}},w=()=>{l("email"),i(""),m("")};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(O,{variant:"ghost",onClick:()=>t("/"),className:"mb-4",children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(Vo,{className:"h-8 w-8 text-blue-600"})})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Student Login"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:o==="email"?"Enter your email to receive OTP":"Enter the OTP sent to your email"})]}),e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsx(oe,{className:"text-center",children:o==="email"?"Enter Email Address":"Enter OTP"}),e.jsx(_e,{className:"text-center",children:o==="email"?"We'll send you a one-time password to verify your identity":`OTP sent to ${n}`})]}),e.jsxs(Q,{children:[f&&e.jsx(ct,{variant:"destructive",className:"mb-4",children:e.jsx(dt,{children:f})}),o==="email"?e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(R,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(D,{id:"email",type:"email",placeholder:"Enter your email address",value:n,onChange:j=>r(j.target.value),className:"pl-10",required:!0})]})]}),e.jsx(O,{type:"submit",className:"w-full",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending OTP..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Send OTP"]})})]}):e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(R,{htmlFor:"otp",children:["OTP ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(bc,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(D,{id:"otp",type:"text",placeholder:"Enter 6-digit OTP",value:a,onChange:j=>i(j.target.value),className:"pl-10",maxLength:6,required:!0})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(O,{type:"button",variant:"outline",className:"flex-1",onClick:w,children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx(O,{type:"submit",className:"flex-1",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2 animate-spin"}),"Verifying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Login"]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(O,{variant:"link",className:"p-0 h-auto",onClick:()=>t("/register"),children:"Register here"})]})})]})]})]})})},oF=[{title:"Dashboard",url:"/admin",icon:bp},{title:"Institutions",url:"/admin/admin-institutions",icon:Ys},{title:"Students",url:"/admin/admin-students",icon:Ye},{title:"Payments",url:"/admin/admin-payments",icon:Xt},{title:"Invoices",url:"/admin/admin-invoices",icon:Xt},{title:"Sponsorships",url:"/admin/admin-sponsorships",icon:yr},{title:"Sports Management",url:"/admin/admin-sports",icon:Ie}];function lF(){const t=Hs(),s=r=>t.pathname===r,n=r=>s(r)?"bg-primary text-primary-foreground font-medium shadow-soft":"hover:bg-muted/50";return e.jsxs(Ld,{collapsible:"offcanvas",children:[e.jsx(Bd,{className:"border-b border-border p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-primary flex items-center justify-center",children:e.jsx(Cc,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-foreground",children:"Sports Portal"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Panel"})]})]})}),e.jsx(zd,{children:e.jsxs(Vd,{children:[e.jsx(qd,{children:"Main Menu"}),e.jsx(Gd,{children:e.jsx(Yd,{children:oF.map(r=>e.jsx(Hd,{children:e.jsx(Wd,{asChild:!0,children:e.jsxs(Jp,{to:r.url,className:n(r.url),children:[e.jsx(r.icon,{className:"h-4 w-4"}),e.jsx("span",{children:r.title})]})})},r.title))})})]})})]})}function cF(){const{logout:t}=Lt(),s=Dt(),n=async()=>{try{await t(),localStorage.removeItem("adminSession"),s("/login")}catch(r){console.error("Logout error:",r),localStorage.removeItem("adminSession"),localStorage.removeItem("student"),localStorage.removeItem("authToken"),s("/login")}};return e.jsx("header",{className:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex h-14 items-center px-4",children:[e.jsx($d,{className:"-ml-1"}),e.jsx("div",{className:"ml-auto flex items-center space-x-4",children:e.jsxs(Xd,{children:[e.jsx(Zd,{asChild:!0,children:e.jsx(O,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(Xo,{className:"h-8 w-8",children:[e.jsx(Zo,{src:"/placeholder-avatar.jpg",alt:"Admin"}),e.jsx(el,{children:"AD"})]})})}),e.jsxs(nl,{className:"w-56 z-50 bg-background border shadow-medium",align:"end",forceMount:!0,children:[e.jsx(eu,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:"Admin User"}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:"admin@sportsportal.com"})]})}),e.jsx(sa,{}),e.jsxs(ls,{children:[e.jsx(Be,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(ls,{children:[e.jsx(Ap,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsx(sa,{}),e.jsxs(ls,{onClick:n,children:[e.jsx(Cp,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})})]})})}const dF=()=>{const t=Od();return e.jsx(Dd,{defaultOpen:!t,children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(lF,{}),e.jsxs(Ud,{children:[e.jsx(cF,{}),e.jsx("main",{className:"flex-1 p-4 sm:p-6",children:e.jsx(Kp,{})})]})]})})},uF=()=>{const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState(!1),[l,d]=c.useState(null),[u,f]=c.useState([]),[m,x]=c.useState(null),[h,w]=c.useState(!1),[j,S]=c.useState({total_institutions:0,active_institutions:0,verified_institutions:0,total_students:0,total_sports:0,total_sponsorships:0,total_payments:0,pending_payments:0}),[y,p]=c.useState([]),[v,N]=c.useState(!0),[P,I]=c.useState(!1),[g,C]=c.useState(1),[E,A]=c.useState(0),[_]=c.useState(10);console.log("djkdjdjddjdjkdjkdjjkdjkdjkjdjkddjkdjkkd",y);const M=async()=>{try{console.log("Fetching admin dashboard stats...");const K=await se.getAdminDashboardStats();if(console.log("Dashboard stats response:",K),K.data&&typeof K.data=="object"){const te=K.data;te.success&&te.data&&S(te.data)}}catch(K){console.error("Error fetching stats:",K),t({title:"Error",description:"Failed to fetch dashboard statistics",variant:"destructive"})}},$=async()=>{try{console.log("Fetching institution types...");const K=await se.getAdminInstitutionTypes();if(console.log("Institution types response:",K),K.data&&typeof K.data=="object"){const te=K.data;f(te.data.institution_types||[])}}catch(K){console.error("Error fetching institution types:",K)}},L=async(K=g)=>{I(!0);try{console.log("Fetching admin institutions...");const te=(K-1)*_,de=await se.getAdminInstitutions({search:s||void 0,institution_type:r!=="all"?r:void 0,skip:te,limit:_});if(console.log("Institutions response:",de),de.data&&typeof de.data=="object"){const F=de.data;p(F.data.institutions||[]),A(F.data.total||0)}}catch(te){console.error("Error fetching institutions:",te),t({title:"Error",description:"Failed to fetch institutions",variant:"destructive"})}finally{I(!1)}};c.useEffect(()=>{(async()=>{N(!0);try{await Promise.all([M(),$(),L()])}catch(te){console.error("Error loading data:",te)}finally{N(!1)}})()},[]),c.useEffect(()=>{C(1),L(1)},[s,r]);const U=K=>{C(K),L(K)},W=async K=>{w(!0);try{const te=await se.getInstitutionDetails(K);if(te.data&&typeof te.data=="object"){const de=te.data;de.success&&de.data&&x(de.data.institution)}}catch(te){console.error("Error fetching institution details:",te),t({title:"Error",description:"Failed to fetch institution details",variant:"destructive"})}finally{w(!1)}},ne=K=>{d(K),W(K.id)},H=()=>{o(!i)},z=K=>{switch(K){case"Paid":return"bg-green-100 text-green-800";case"Partial":return"bg-yellow-100 text-yellow-800";case"Pending":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ee=K=>K?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800";return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"System overview and management"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsxs(J,{className:"border-l-4 border-l-primary shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Institutions"}),e.jsx(Ys,{className:"h-4 w-4 text-primary"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.total_institutions||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.active_institutions||0," active"]})]})]}),e.jsxs(J,{className:"border-l-4 border-l-accent shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Students"}),e.jsx(Ye,{className:"h-4 w-4 text-accent"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.total_students||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered"})]})]}),e.jsxs(J,{className:"border-l-4 border-l-secondary shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Sports"}),e.jsx(Ie,{className:"h-4 w-4 text-secondary"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.total_sports||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active categories"})]})]}),e.jsxs(J,{className:"border-l-4 border-l-destructive shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Verified Institutions"}),e.jsx(yr,{className:"h-4 w-4 text-destructive"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.verified_institutions||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Verified"})]})]}),e.jsxs(J,{className:"border-l-4 border-l-success shadow-soft",children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Payments"}),e.jsx(Xt,{className:"h-4 w-4 text-success"})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(j.total_payments||0).toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total collected"})]})]}),e.jsxs(J,{className:"border-l-4 border-l-warning shadow-soft cursor-pointer hover:shadow-md transition-shadow",onClick:H,children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Pending Payments"}),e.jsx(Za,{className:"h-4 w-4 text-warning"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.pending_payments||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to filter"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search institutions...",value:s,onChange:K=>n(K.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:r,onValueChange:a,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Institution Types"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Institution Types"}),u.map(K=>e.jsx(q,{value:K.value,children:K.name},K.id))]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Institutions"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[E," institutions"]})]})]}),P?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading institutions..."})]}):y.length===0?e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No institutions found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"?"Try adjusting your search or filter criteria.":"No institutions have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(y||[]).map(K=>{var te,de,F,re,T,b,k,B,V,Y;return e.jsx(J,{className:"hover:shadow-md transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:K.name}),e.jsx(me,{className:ee(K.verified),children:K.verified?"Verified":"Pending"}),e.jsx(me,{className:z(K.payment_status),children:K.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",K.contact_person]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",K.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",K.type||"N/A"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Sports Enrolled:"})," ",K.sports_enrolled]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Amount:"})," ",(K.total_amount||0).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Paid Amount:"})," ",(K.paid_amount||0).toLocaleString()]})]})]}),e.jsx("div",{className:"flex items-center gap-2 ml-4",children:e.jsxs(ze,{children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>ne(K),children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"View"]})}),e.jsxs(De,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:(l==null?void 0:l.name)||K.name}),e.jsx(Qe,{children:"Institution details and management"})]}),e.jsx("div",{className:"space-y-6 mt-6 max-h-[70vh] overflow-y-auto",children:h?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading details..."})]}):m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Contact Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",m.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",m.type]}),m.contact_persons&&m.contact_persons.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Contact Persons:"}),m.contact_persons.map((X,ve)=>e.jsxs("div",{className:"ml-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",X.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Designation:"})," ",X.designation]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",X.phone]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",X.email]})]},ve))]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Payment Information"}),e.jsxs("div",{className:"space-y-2 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",((de=(te=m.payment_info)==null?void 0:te.total_amount)==null?void 0:de.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",((re=(F=m.payment_info)==null?void 0:F.paid_amount)==null?void 0:re.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Pending Amount:"})," ",((b=(T=m.payment_info)==null?void 0:T.pending_amount)==null?void 0:b.toLocaleString())||0]}),e.jsx(me,{className:z(((k=m.payment_info)==null?void 0:k.status)||"Pending"),children:((B=m.payment_info)==null?void 0:B.status)||"Pending"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 text-lg",children:["Students (",((V=m.students)==null?void 0:V.length)||0,")"]}),m.students&&m.students.length>0?e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.students.map((X,ve)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",X.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",X.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",X.phone]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",X.gender]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student ID:"})," ",X.student_id]})]},ve))}):e.jsx("p",{className:"text-muted-foreground",children:"No students registered"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 text-lg",children:["Sports Assignments (",((Y=m.sports_assignments)==null?void 0:Y.length)||0,")"]}),m.sports_assignments&&m.sports_assignments.length>0?e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.sports_assignments.map((X,ve)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Sport:"})," ",X.sport_name," (",X.sport_type,")"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student:"})," ",X.student_name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Fee:"})," ",X.fee]})]},ve))}):e.jsx("p",{className:"text-muted-foreground",children:"No sports assignments"})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Failed to load institution details"})]})})]})]})})]})})},K.id)})}),E>_&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(g-1)*_+1," to ",Math.min(g*_,E)," of ",E," institutions"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>U(g-1),disabled:g===1,children:[e.jsx(Sp,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(E/_)},(K,te)=>te+1).filter(K=>K===1||K===Math.ceil(E/_)||Math.abs(K-g)<=2).map((K,te,de)=>{const F=te>0&&K-de[te-1]>1;return e.jsxs("div",{className:"flex items-center gap-1",children:[F&&e.jsx("span",{className:"text-muted-foreground",children:"..."}),e.jsx(O,{variant:g===K?"default":"outline",size:"sm",onClick:()=>U(K),className:"w-8 h-8 p-0",children:K})]},K)})}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>U(g+1),disabled:g===Math.ceil(E/_),children:["Next",e.jsx(cd,{className:"h-4 w-4"})]})]})]})]})]})};var Fb="AlertDialog",[mF]=Ft(Fb,[kS]),Dn=kS(),Db=t=>{const{__scopeAlertDialog:s,...n}=t,r=Dn(s);return e.jsx(uf,{...r,...n,modal:!0})};Db.displayName=Fb;var hF="AlertDialogTrigger",Lb=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Dn(n);return e.jsx(mf,{...a,...r,ref:s})});Lb.displayName=hF;var pF="AlertDialogPortal",$b=t=>{const{__scopeAlertDialog:s,...n}=t,r=Dn(s);return e.jsx(hf,{...r,...n})};$b.displayName=pF;var fF="AlertDialogOverlay",Ub=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Dn(n);return e.jsx(Wo,{...a,...r,ref:s})});Ub.displayName=fF;var Da="AlertDialogContent",[xF,gF]=mF(Da),vF=Nj("AlertDialogContent"),Bb=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,children:r,...a}=t,i=Dn(n),o=c.useRef(null),l=Ce(s,o),d=c.useRef(null);return e.jsx(ek,{contentName:Da,titleName:zb,docsSlug:"alert-dialog",children:e.jsx(xF,{scope:n,cancelRef:d,children:e.jsxs(Ko,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ue(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=d.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(vF,{children:r}),e.jsx(jF,{contentRef:o})]})})})});Bb.displayName=Da;var zb="AlertDialogTitle",Vb=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Dn(n);return e.jsx(Jo,{...a,...r,ref:s})});Vb.displayName=zb;var qb="AlertDialogDescription",Gb=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Dn(n);return e.jsx(Qo,{...a,...r,ref:s})});Gb.displayName=qb;var yF="AlertDialogAction",Yb=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,a=Dn(n);return e.jsx(kd,{...a,...r,ref:s})});Yb.displayName=yF;var Hb="AlertDialogCancel",Wb=c.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:a}=gF(Hb,n),i=Dn(n),o=Ce(s,a);return e.jsx(kd,{...i,...r,ref:o})});Wb.displayName=Hb;var jF=({contentRef:t})=>{const s=`\`${Da}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Da}\` by passing a \`${qb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Da}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},NF=Db,SF=Lb,wF=$b,Kb=Ub,Jb=Bb,Qb=Yb,Xb=Wb,Zb=Vb,e1=Gb;const Uc=NF,Bc=SF,bF=wF,t1=c.forwardRef(({className:t,...s},n)=>e.jsx(Kb,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));t1.displayName=Kb.displayName;const Po=c.forwardRef(({className:t,...s},n)=>e.jsxs(bF,{children:[e.jsx(t1,{}),e.jsx(Jb,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Po.displayName=Jb.displayName;const Eo=({className:t,...s})=>e.jsx("div",{className:ae("flex flex-col space-y-2 text-center sm:text-left",t),...s});Eo.displayName="AlertDialogHeader";const Ao=({className:t,...s})=>e.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Ao.displayName="AlertDialogFooter";const Ro=c.forwardRef(({className:t,...s},n)=>e.jsx(Zb,{ref:n,className:ae("text-lg font-semibold",t),...s}));Ro.displayName=Zb.displayName;const Io=c.forwardRef(({className:t,...s},n)=>e.jsx(e1,{ref:n,className:ae("text-sm text-muted-foreground",t),...s}));Io.displayName=e1.displayName;const To=c.forwardRef(({className:t,...s},n)=>e.jsx(Qb,{ref:n,className:ae(Qp(),t),...s}));To.displayName=Qb.displayName;const _o=c.forwardRef(({className:t,...s},n)=>e.jsx(Xb,{ref:n,className:ae(Qp({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));_o.displayName=Xb.displayName;const CF=()=>{const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState(null),[i,o]=c.useState(!1),[l,d]=c.useState(!1),[u,f]=c.useState("all"),[m,x]=c.useState("all"),[h,w]=c.useState(!1),[j,S]=c.useState(!1),[y,p]=c.useState({institution_type:"",name:"",email:""}),[v,N]=c.useState([]),[P,I]=c.useState([]),[g,C]=c.useState(!0),[E,A]=c.useState(!1),[_,M]=c.useState(1),[$,L]=c.useState(0),[U]=c.useState(10),[W,ne]=c.useState(null),[H,z]=c.useState(!1),ee=async(Y=_)=>{var X,ve;A(!0);try{const G=(Y-1)*U,le=await se.getAdminInstitutions({search:s||void 0,institution_type:u!=="all"?u:void 0,payment_status:m!=="all"?m:void 0,skip:G,limit:U});if(le.data&&typeof le.data=="object"){const je=le.data;N(((X=je.data)==null?void 0:X.institutions)||[]),L(((ve=je.data)==null?void 0:ve.total)||0)}else N([]),L(0)}catch(G){console.error("Error fetching institutions:",G),t({title:"Error",description:"Failed to fetch institutions data",variant:"destructive"})}finally{A(!1)}},K=async()=>{var Y;try{const X=await se.getAdminInstitutionTypes();if(X.data&&typeof X.data=="object"){const ve=X.data;I(((Y=ve.data)==null?void 0:Y.institution_types)||[])}}catch(X){console.error("Error fetching institution types:",X)}};c.useEffect(()=>{(async()=>{C(!0);try{await Promise.all([K(),ee()])}finally{C(!1)}})()},[]),c.useEffect(()=>{M(1),ee(1)},[s,u,m]);const te=Y=>{M(Y),ee(Y)},de=async Y=>{z(!0);try{const X=await se.getInstitutionDetails(Y);if(X.data&&typeof X.data=="object"){const ve=X.data;ve.success&&ve.data&&ne(ve.data.institution)}}catch(X){console.error("Error fetching institution details:",X),t({title:"Error",description:"Failed to fetch institution details",variant:"destructive"})}finally{z(!1)}},F=Y=>{a(Y),de(Y.id)},re=Y=>{a(Y),d(!0),p({name:Y.name,email:Y.email,institution_type:Y.institution_type||""})},T=Y=>{t({title:"Feature Coming Soon",description:"Delete institution functionality will be implemented soon."})},b=()=>{t({title:"Feature Coming Soon",description:"Add institution functionality will be implemented soon."}),o(!1)},k=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},B=Y=>{switch(Y){case"Paid":return"bg-green-100 text-green-800";case"Partial":return"bg-yellow-100 text-yellow-800";case"Pending":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=Y=>Y?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800";return g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading institutions data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Institution Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage registered institutions and their details"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:k,variant:"outline",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export Data"]}),e.jsxs(ze,{open:i,onOpenChange:o,children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Institution"]})}),e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Add New Institution"}),e.jsx(Qe,{children:"Provide institute type, name and email"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"institution_type",children:"Institute Type"}),e.jsxs(xe,{value:y.institution_type,onValueChange:Y=>p({...y,institution_type:Y,name:""}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select institute type"})}),e.jsx(fe,{children:jb.map(Y=>e.jsx(q,{value:Y,children:Y},Y))})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"name",children:"Institute Name"}),y.institution_type==="Other"?e.jsx(D,{id:"name",value:y.name,onChange:Y=>p({...y,name:Y.target.value}),placeholder:"Enter institute name"}):e.jsxs(xe,{value:y.name,onValueChange:Y=>p({...y,name:Y}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select institute name"})}),e.jsx(fe,{className:"max-h-72",children:Nb(y.institution_type).map(Y=>e.jsx(q,{value:Y,children:Y},Y))})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"email",children:"Institute Email"}),e.jsx(D,{id:"email",type:"email",value:y.email,onChange:Y=>p({...y,email:Y.target.value}),placeholder:"Enter institute email"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(O,{onClick:b,children:"Add Institution"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search institutions...",value:s,onChange:Y=>n(Y.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:u,onValueChange:f,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Institution Types"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Institution Types"}),P.map(Y=>e.jsx(q,{value:Y.value,children:Y.name},Y.id))]})]}),e.jsxs(xe,{value:m,onValueChange:x,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Payment Status"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Payment Status"}),e.jsx(q,{value:"paid",children:"Paid"}),e.jsx(q,{value:"pending",children:"Pending"}),e.jsx(q,{value:"partial",children:"Partial"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Institution List"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[$," institutions"]})]})]}),E?e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center justify-center py-8",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading institutions..."})]})}):(v||[]).length===0?e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No institutions found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||u!=="all"||m!=="all"?"Try adjusting your search or filter criteria.":"No institutions have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(v||[]).map(Y=>{var X,ve,G,le,je,we,Xe,ft,Ln,Ge,Rr,Ks;return e.jsx(J,{className:"hover:shadow-md transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:Y.name}),e.jsx(me,{className:V(Y.verified),children:Y.verified?"Verified":"Pending"}),e.jsx(me,{className:B(Y.payment_status),children:Y.payment_status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",Y.institution_type||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact:"})," ",Y.contact_person]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",Y.email]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Students:"})," ",Y.sports_enrolled||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Sports:"})," ",Y.sports_enrolled||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Amount:"})," ",((X=Y.total_amount)==null?void 0:X.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Paid Amount:"})," ",((ve=Y.paid_amount)==null?void 0:ve.toLocaleString())||0]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(ze,{children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>F(Y),children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"View"]})}),e.jsxs(De,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:(r==null?void 0:r.name)||Y.name}),e.jsx(Qe,{children:"Institution details and management"})]}),r&&e.jsx("div",{className:"space-y-6 mt-6 max-h-[70vh] overflow-y-auto",children:H?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading details..."})]}):W?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Basic Information"}),e.jsxs("div",{className:"space-y-2 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",W.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",W.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",W.type]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Contact Information"}),W.contact_persons&&W.contact_persons.length>0?e.jsx("div",{className:"space-y-2",children:W.contact_persons.map((Et,Ir)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",Et.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Designation:"})," ",Et.designation]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",Et.phone]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",Et.email]})]},Ir))}):e.jsx("p",{className:"text-muted-foreground",children:"No contact persons available"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Payment Information"}),e.jsxs("div",{className:"space-y-2 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",((le=(G=W.payment_info)==null?void 0:G.total_amount)==null?void 0:le.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",((we=(je=W.payment_info)==null?void 0:je.paid_amount)==null?void 0:we.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Pending Amount:"})," ",((ft=(Xe=W.payment_info)==null?void 0:Xe.pending_amount)==null?void 0:ft.toLocaleString())||0]}),e.jsx(me,{className:B(((Ln=W.payment_info)==null?void 0:Ln.status)||"Pending"),children:((Ge=W.payment_info)==null?void 0:Ge.status)||"Pending"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 text-lg",children:["Students (",((Rr=W.students)==null?void 0:Rr.length)||0,")"]}),W.students&&W.students.length>0?e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:W.students.map((Et,Ir)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",Et.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",Et.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",Et.phone]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student ID:"})," ",Et.student_id]})]},Ir))}):e.jsx("p",{className:"text-muted-foreground",children:"No students registered"})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 text-lg",children:["Sports Assignments (",((Ks=W.sports_assignments)==null?void 0:Ks.length)||0,")"]}),W.sports_assignments&&W.sports_assignments.length>0?e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:W.sports_assignments.map((Et,Ir)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Sport:"})," ",Et.sport_name," (",Et.sport_type,")"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student:"})," ",Et.student_name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Fee:"})," ",Et.fee]})]},Ir))}):e.jsx("p",{className:"text-muted-foreground",children:"No sports assignments"})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Failed to load institution details"})]})})]})]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>re(Y),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(Uc,{children:[e.jsx(Bc,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Delete"]})}),e.jsxs(Po,{children:[e.jsxs(Eo,{children:[e.jsx(Ro,{children:"Delete Institution"}),e.jsxs(Io,{children:['Are you sure you want to delete "',Y.name,'"? This action cannot be undone.']})]}),e.jsxs(Ao,{children:[e.jsx(_o,{children:"Cancel"}),e.jsx(To,{onClick:()=>T(Y.id),children:"Delete"})]})]})]})]})]})})},Y.id)})}),$>U&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(_-1)*U+1," to ",Math.min(_*U,$)," of ",$," institutions"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>te(_-1),disabled:_===1,children:[e.jsx(Sp,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil($/U)},(Y,X)=>X+1).filter(Y=>Y===1||Y===Math.ceil($/U)||Math.abs(Y-_)<=2).map((Y,X,ve)=>{const G=X>0&&Y-ve[X-1]>1;return e.jsxs("div",{className:"flex items-center gap-1",children:[G&&e.jsx("span",{className:"text-muted-foreground",children:"..."}),e.jsx(O,{variant:_===Y?"default":"outline",size:"sm",onClick:()=>te(Y),className:"w-8 h-8 p-0",children:Y})]},Y)})}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>te(_+1),disabled:_===Math.ceil($/U),children:["Next",e.jsx(cd,{className:"h-4 w-4"})]})]})]})]})]})},Nh=({selectedSports:t,onSportsChange:s,studentAge:n,studentGender:r})=>{const{toast:a}=Ee(),[i,o]=c.useState([]),[l,d]=c.useState([]),[u,f]=c.useState([]),[m,x]=c.useState(!0),[h,w]=c.useState([]),[j,S]=c.useState(""),[y,p]=c.useState(""),[v,N]=c.useState(""),[P,I]=c.useState(""),[g,C]=c.useState(""),[E,A]=c.useState("Male"),_=["U6","U8","U10","U12","U14","U16","U18","U20","Senior"],[M,$]=c.useState(_),L=["Individual","Team"];c.useEffect(()=>{U()},[]);const U=async()=>{try{x(!0);const T=await se.getSports();o(T.data||[])}catch(T){console.error("Error fetching sports:",T),a({title:"Error",description:"Failed to fetch sports data",variant:"destructive"})}finally{x(!1)}},W=async T=>{try{const b=await se.getSportCategories(parseInt(T));d(b.data||[])}catch(b){console.error("Error fetching categories:",b),d([])}},ne=async T=>{try{const b=await se.getSubCategories(parseInt(T));f(b.data||[])}catch(b){console.error("Error fetching sub-categories:",b),f([])}},H=async T=>{try{const b=i.filter(B=>B.type===T||B.sportType===T),k=new Map;b.forEach(B=>{B.categories&&B.categories.forEach(V=>{k.set(V.id,V)})}),d(Array.from(k.values()))}catch(b){console.error("Error fetching categories by sport type:",b),d([])}},z=T=>{const b=l.find(k=>k.id===T);if(b&&b.ageGroups&&b.ageGroups.length>0){const k=_.filter(B=>b.ageGroups.includes(B));$(k.length>0?k:_)}else $(_)},ee=T=>{S(T),p(""),N(""),I(""),C(""),d([]),f([]),T&&H(T)},K=T=>{p(T),N(""),I(""),C(""),d([]),f([]),T&&W(T)},te=T=>{N(T),I(""),C(""),f([]),T&&(ne(T),z(T))},de=()=>{const T=[];if(j||T.push("Please select a sport type"),y||T.push("Please select a sport"),v||T.push("Please select a category"),P||T.push("Please select a sub-category"),g||T.push("Please select an age group"),E||T.push("Please select gender"),n&&g){const X=Ef(n,g,!1);X.isValid||T.push(X.message||"Student age does not match selected age group")}if(t.find(X=>X.sportId===y&&X.categoryId===v&&X.subCategoryId===P)&&T.push("This sport combination is already assigned"),T.length>0){w(T);return}const k=i.find(X=>X.id===y),B=l.find(X=>X.id===v),V=u.find(X=>X.id===P),Y={sportId:y,sportName:(k==null?void 0:k.name)||(k==null?void 0:k.sportName)||"",sportType:j,categoryId:v,categoryName:(B==null?void 0:B.name)||"",subCategoryId:P,subCategoryName:(V==null?void 0:V.name)||"",ageGroup:g,gender:E};s([...t,Y]),S(""),p(""),N(""),I(""),C(""),A("Male"),d([]),f([]),$(_),w([])},F=T=>{const b=t.filter((k,B)=>B!==T);s(b)},re=()=>n?M.filter(T=>{const b=parseInt(T.replace("U","").replace("Senior","21"));return n<=b}):M;return m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ie,{className:"h-8 w-8 animate-pulse mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sports data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[h.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.map((T,b)=>e.jsx("li",{children:T},b))})})}),e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Assign Sports to Student"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select sport type first, then choose from available categories and sub-categories"})]}),e.jsxs(Q,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"sportType",children:"Sport Type *"}),e.jsxs(xe,{value:j,onValueChange:ee,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sport type"})}),e.jsx(fe,{children:L.map(T=>e.jsx(q,{value:T,children:T},T))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"sport",children:"Sport *"}),e.jsxs(xe,{value:y,onValueChange:K,disabled:!j,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select a sport"})}),e.jsx(fe,{children:i.filter(T=>T.type===j||T.sportType===j).map(T=>e.jsx(q,{value:T.id,children:T.name||T.sportName},T.id))})]}),j&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.filter(T=>T.type===j||T.sportType===j).length," ",j.toLowerCase()," sports available"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"category",children:"Category *"}),e.jsxs(xe,{value:v,onValueChange:te,disabled:!j,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select a category"})}),e.jsx(fe,{children:l.map(T=>e.jsx(q,{value:T.id,children:T.name},T.id))})]}),j&&l.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.length," categories available for ",j.toLowerCase()," sports"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"subCategory",children:"Sub-Category *"}),e.jsxs(xe,{value:P,onValueChange:I,disabled:!v||u.length===0,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select a sub-category"})}),e.jsx(fe,{children:u.map(T=>e.jsx(q,{value:T.id,children:T.name},T.id))})]}),v&&u.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.length," sub-categories available"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"ageGroup",children:"Age Group *"}),e.jsxs(xe,{value:g,onValueChange:C,disabled:!v,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select age group"})}),e.jsx(fe,{children:re().map(T=>e.jsx(q,{value:T,children:T},T))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(R,{htmlFor:"gender",children:"Gender *"}),e.jsxs(xe,{value:E,onValueChange:A,children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsx(fe,{children:$c.map(T=>e.jsx(q,{value:T,children:T},T))})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(O,{onClick:de,disabled:!j||!y||!v||!P||!g||!E,className:"w-full md:w-auto",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Sport Assignment"]})})]})]}),t.length>0&&e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Go,{className:"h-5 w-5"}),"Assigned Sports (",t.length,")"]})}),e.jsx(Q,{children:e.jsxs(ji,{children:[e.jsx(Ni,{children:e.jsxs(ns,{children:[e.jsx(Oe,{children:"Sport Type"}),e.jsx(Oe,{children:"Sport"}),e.jsx(Oe,{children:"Category"}),e.jsx(Oe,{children:"Sub-Category"}),e.jsx(Oe,{children:"Age Group"}),e.jsx(Oe,{children:"Gender"}),e.jsx(Oe,{className:"w-16",children:"Action"})]})}),e.jsx(Si,{children:t.map((T,b)=>e.jsxs(ns,{children:[e.jsx(Me,{children:e.jsx(me,{variant:T.sportType==="Individual"?"default":"secondary",children:T.sportType})}),e.jsx(Me,{className:"font-medium",children:T.sportName}),e.jsx(Me,{children:e.jsx(me,{variant:"outline",children:T.categoryName})}),e.jsx(Me,{children:e.jsx(me,{variant:"secondary",children:T.subCategoryName})}),e.jsx(Me,{children:e.jsx(me,{variant:"default",children:T.ageGroup})}),e.jsx(Me,{children:e.jsx(me,{variant:"outline",children:T.gender})}),e.jsx(Me,{children:e.jsx(O,{variant:"outline",size:"sm",onClick:()=>F(b),children:e.jsx(_t,{className:"h-4 w-4"})})})]},b))})]})})]})]})},PF=()=>{const{toast:t}=Ee();Dt();const[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState("all"),[l,d]=c.useState(null),[u,f]=c.useState(!1),[m,x]=c.useState(!1),[h,w]=c.useState({}),[j,S]=c.useState(!1),[y,p]=c.useState({first_name:"",middle_name:"",last_name:"",email:"",student_id:"",institution_type:"",institution_name:"",assignedSports:[]}),[v,N]=c.useState([]),[P,I]=c.useState([]),[g,C]=c.useState(!0),[E,A]=c.useState(!1),[_,M]=c.useState(1),[$,L]=c.useState(0),[U]=c.useState(10),W=async(b=_)=>{var k,B;A(!0);try{const V=(b-1)*U,Y=await se.getAdminStudents({search:s||void 0,institution_type:r!=="all"?r:void 0,payment_status:i!=="all"?i:void 0,skip:V,limit:U});if(Y.data&&typeof Y.data=="object"){const X=Y.data;N(((k=X.data)==null?void 0:k.students)||[]),L(((B=X.data)==null?void 0:B.total)||0)}else N([]),L(0)}catch(V){console.error("Error fetching students:",V),t({title:"Error",description:"Failed to fetch students data",variant:"destructive"})}finally{A(!1)}},ne=async()=>{var b;try{const k=await se.getAdminInstitutionTypes();if(k.data&&typeof k.data=="object"){const B=k.data;I(((b=B.data)==null?void 0:b.institution_types)||[])}}catch(k){console.error("Error fetching institution types:",k)}};c.useEffect(()=>{(async()=>{C(!0);try{await Promise.all([ne(),W()])}finally{C(!1)}})()},[]),c.useEffect(()=>{M(1),W(1)},[s,r,i]);const H=b=>{M(b),W(b)},z=b=>{d(b),f(!0)},ee=b=>{d(b),w({first_name:b.first_name||"",middle_name:b.middle_name||"",last_name:b.last_name||"",email:b.email||"",student_id:b.student_id||"",institution_type:b.institution_type||"",institution_name:b.institution_name||"",assignedSports:b.assignedSports||[]}),x(!0)},K=async()=>{const b=[];if(h.first_name||b.push("First name is required"),h.last_name||b.push("Last name is required"),h.email||b.push("Email is required"),h.student_id||b.push("Student ID is required"),h.institution_type||b.push("Institution type is required"),h.institution_name||b.push("Institution name is required"),b.length>0){t({title:"Validation Error",description:b.join(", "),variant:"destructive"});return}try{await se.updateStudent(l.id,h),t({title:"Updated",description:"Student updated successfully"}),x(!1),W()}catch{t({title:"Error",description:"Failed to update student",variant:"destructive"})}},te=b=>{t({title:"Feature Coming Soon",description:"Delete student functionality will be implemented soon."})},de=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},F=async()=>{const b=[];if(y.first_name||b.push("First name is required"),y.last_name||b.push("Last name is required"),y.email||b.push("Email is required"),y.student_id||b.push("Student ID is required"),y.institution_type||b.push("Institution type is required"),y.institution_name||b.push("Institution name is required"),y.assignedSports&&y.assignedSports.length>0)for(const k of y.assignedSports)k.ageGroup||b.push(`Age group is required for ${k.sportName}`);if(b.length>0){t({title:"Validation Error",description:b.join(", "),variant:"destructive"});return}try{const k={first_name:y.first_name,middle_name:y.middle_name,last_name:y.last_name,email:y.email,student_id:y.student_id,institution_name:y.institution_name,institution_type:y.institution_type,assignedSports:y.assignedSports};await se.createStudent(k),t({title:"Created",description:"Student added successfully"}),S(!1),p({first_name:"",middle_name:"",last_name:"",email:"",student_id:"",institution_type:"",institution_name:"",assignedSports:[]}),W()}catch{t({title:"Error",description:"Failed to add student",variant:"destructive"})}},re=b=>b?"bg-green-100 text-green-800":"bg-red-100 text-red-800",T=(b,k=!1)=>{k?w(B=>({...B,assignedSports:b})):p(B=>({...B,assignedSports:b}))};return g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading students data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Student Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage student registrations and profiles"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:de,variant:"outline",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(O,{onClick:()=>S(!0),children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Add Student"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search students...",value:s,onChange:b=>n(b.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:r,onValueChange:a,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Institution Types"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Institution Types"}),P.map(b=>e.jsx(q,{value:b.value,children:b.name},b.id))]})]}),e.jsxs(xe,{value:i,onValueChange:o,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Payment Status"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Payment Status"}),e.jsx(q,{value:"paid",children:"Paid"}),e.jsx(q,{value:"pending",children:"Pending"}),e.jsx(q,{value:"partial",children:"Partial"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Students"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[$," students"]})]})]}),E?e.jsx(J,{children:e.jsxs(Q,{className:"flex items-center justify-center py-8",children:[e.jsx(Ue,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-muted-foreground",children:"Loading students..."})]})}):v.length===0?e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Be,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No students found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"||i!=="all"?"Try adjusting your search or filter criteria.":"No students have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(v||[]).map(b=>e.jsx(J,{className:"hover:shadow-md transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:b.name}),e.jsx(me,{className:re(b.is_active),children:b.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsxs("span",{children:["ID: ",b.id||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),e.jsx("span",{children:b.institution_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-4 w-4"}),e.jsxs("span",{children:["Joined: ",new Date(b.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Email:"})," ",b.email]}),b.assignedSports&&b.assignedSports.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[b.assignedSports.length," sport",b.assignedSports.length!==1?"s":""]}),e.jsxs("div",{className:"flex gap-1",children:[b.assignedSports.slice(0,3).map((k,B)=>e.jsx(me,{variant:"outline",className:"text-xs",children:k.sportName},B)),b.assignedSports.length>3&&e.jsxs(me,{variant:"outline",className:"text-xs",children:["+",b.assignedSports.length-3," more"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>z(b),children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>ee(b),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>te(b.id),children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})},b.id))}),$>U&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(_-1)*U+1," to ",Math.min(_*U,$)," of ",$," students"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>H(_-1),disabled:_===1,children:[e.jsx(Sp,{className:"h-4 w-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil($/U)},(b,k)=>k+1).filter(b=>b===1||b===Math.ceil($/U)||Math.abs(b-_)<=2).map((b,k,B)=>{const V=k>0&&b-B[k-1]>1;return e.jsxs("div",{className:"flex items-center gap-1",children:[V&&e.jsx("span",{className:"text-muted-foreground",children:"..."}),e.jsx(O,{variant:_===b?"default":"outline",size:"sm",onClick:()=>H(b),className:"w-8 h-8 p-0",children:b})]},b)})}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>H(_+1),disabled:_===Math.ceil($/U),children:["Next",e.jsx(cd,{className:"h-4 w-4"})]})]})]})]}),e.jsx(ze,{open:u,onOpenChange:f,children:e.jsxs(De,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Student Details"}),e.jsx(Qe,{children:"View and manage student information"})]}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Personal Information"}),e.jsxs("div",{className:"space-y-2 text-sm p-4 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",l.name||`${l.fname||""} ${l.lname||""}`]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Student ID:"})," ",l.student_id||l.id||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",l.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",l.phone||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",l.gender||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Date of Birth:"})," ",l.dob?new Date(l.dob).toLocaleDateString():"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Institution Information"}),e.jsxs("div",{className:"space-y-2 text-sm p-4 bg-gray-50 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Institution:"})," ",l.institution_name||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Institution Type:"})," ",l.institution_type||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(me,{className:`ml-2 ${re(l.is_active||l.verified)}`,children:l.is_active||l.verified?"Active":"Inactive"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Joined:"})," ",l.created_at?new Date(l.created_at).toLocaleDateString():"N/A"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-lg",children:"Payment Information"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",l.total_amount||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",l.paid_amount||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(me,{className:`ml-2 ${re(l.payment_status==="Paid")}`,children:l.payment_status||"Pending"})]})]})})]}),l.assignedSports&&l.assignedSports.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Assigned Sports"}),e.jsx("div",{className:"space-y-2",children:l.assignedSports.map((b,k)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"h-4 w-4 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:b.sportName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[b.categoryName," - ",b.subCategoryName,e.jsx("br",{}),"Age Group: ",b.ageGroup," | Gender: ",b.gender]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(me,{variant:b.sportType==="Individual"?"default":"secondary",children:b.sportType}),e.jsx(me,{variant:"outline",children:b.ageGroup})]})]},k))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:()=>ee(l),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit Student"]}),e.jsx(O,{variant:"outline",onClick:()=>f(!1),children:"Close"})]})]})]})]})}),e.jsx(ze,{open:j,onOpenChange:S,children:e.jsxs(De,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Add Student"}),e.jsx(Qe,{children:"Add a new student with basic details and sports assignments."})]}),e.jsxs(Co,{defaultValue:"details",className:"w-full",children:[e.jsxs(ai,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(rs,{value:"details",children:"Student Details"}),e.jsx(rs,{value:"sports",children:"Sports Assignment"})]}),e.jsxs(as,{value:"details",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"First Name"}),e.jsx(D,{value:y.first_name,onChange:b=>p({...y,first_name:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Middle Name"}),e.jsx(D,{value:y.middle_name,onChange:b=>p({...y,middle_name:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Last Name"}),e.jsx(D,{value:y.last_name,onChange:b=>p({...y,last_name:b.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"Email"}),e.jsx(D,{type:"email",value:y.email,onChange:b=>p({...y,email:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Student ID"}),e.jsx(D,{value:y.student_id,onChange:b=>p({...y,student_id:b.target.value})})]}),e.jsx("div",{})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"Institute Type"}),e.jsxs(xe,{value:y.institution_type,onValueChange:b=>p({...y,institution_type:b,institution_name:""}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select type"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Kaiso School",children:"Kaiso School"}),e.jsx(q,{value:"Goverment School",children:"Goverment School"}),e.jsx(q,{value:"Academics",children:"Academics"}),e.jsx(q,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Institute Name"}),y.institution_type==="Other"?e.jsx(D,{value:y.institution_name,onChange:b=>p({...y,institution_name:b.target.value})}):e.jsxs(xe,{value:y.institution_name,onValueChange:b=>p({...y,institution_name:b}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select name"})}),e.jsx(fe,{className:"max-h-72",children:(y.institution_type==="Kaiso School"?["Aga Khan Academy","Braeburn Garden Estate - BGE","Braeburn Gitanga Road - BGR","Braeside School, Thika","Braeside School, Lavington","Brookhouse School, Karen","Brookhouse School, Runda","Brookhurst International, Lavington","Brookhurst International, Kiserian","Crawford International School","The Banda School","French School","German School","Jawabu School","Light International School","Makini Cambridge School","Nairobi Academy","Nairobi Jaffery Academy","Oshwal Academy U15 & U17","Oshwal Academy U17 & U19","Peponi School (overall)","Peponi School (Girls Sport)","Peponi School (Boys Sport)","Rosslyn Academy (overall)","Kenton College","Rusinga School","SABIS International School","St Austin's Academy","St. Christopher's School","Swedish School","Woodcreek School","West Nairobi School - WNS","ISK","Durham International School - DIS"]:y.institution_type==="Goverment School"?["MBAGATHI ROAD PRIMARY","NEMBU PRIMARY","KAWANGWARE PRIMARY","TOI PRIMARY","RIRUTA HGM PRIMARY"]:y.institution_type==="Academics"?["Talanta","JB Academy","Muqs","Bumble Bee Sports","Discovery Tennis","TY SPORTS","Terriffic Tennis","TY SPORTS","Next Gen Multi Sport Academu"]:[]).map(b=>e.jsx(q,{value:b,children:b},b))})]})]}),e.jsx("div",{})]})]}),e.jsx(as,{value:"sports",className:"space-y-4",children:e.jsx(Nh,{selectedSports:y.assignedSports,onSportsChange:b=>T(b,!1),studentAge:18,studentGender:y.gender||"Open"})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(O,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e.jsx(O,{onClick:F,children:"Save Student"})]})]})}),e.jsx(ze,{open:m,onOpenChange:x,children:e.jsxs(De,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Edit Student"}),e.jsx(Qe,{children:"Update student details and sports assignments."})]}),e.jsxs(Co,{defaultValue:"details",className:"w-full",children:[e.jsxs(ai,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(rs,{value:"details",children:"Student Details"}),e.jsx(rs,{value:"sports",children:"Sports Assignment"})]}),e.jsxs(as,{value:"details",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"First Name"}),e.jsx(D,{value:h.first_name||"",onChange:b=>w({...h,first_name:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Middle Name"}),e.jsx(D,{value:h.middle_name||"",onChange:b=>w({...h,middle_name:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Last Name"}),e.jsx(D,{value:h.last_name||"",onChange:b=>w({...h,last_name:b.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"Email"}),e.jsx(D,{type:"email",value:h.email||"",onChange:b=>w({...h,email:b.target.value})})]}),e.jsx("div",{}),e.jsx("div",{})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"Student ID"}),e.jsx(D,{value:h.student_id||"",onChange:b=>w({...h,student_id:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Institute Type"}),e.jsxs(xe,{value:h.institution_type||"",onValueChange:b=>w({...h,institution_type:b,institution_name:""}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select type"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Kaiso School",children:"Kaiso School"}),e.jsx(q,{value:"Goverment School",children:"Goverment School"}),e.jsx(q,{value:"Academics",children:"Academics"}),e.jsx(q,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Institute Name"}),h.institution_type==="Other"?e.jsx(D,{value:h.institution_name||"",onChange:b=>w({...h,institution_name:b.target.value})}):e.jsxs(xe,{value:h.institution_name||"",onValueChange:b=>w({...h,institution_name:b}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select name"})}),e.jsx(fe,{className:"max-h-72",children:(h.institution_type==="Kaiso School"?["Aga Khan Academy","Braeburn Garden Estate - BGE","Braeburn Gitanga Road - BGR","Braeside School, Thika","Braeside School, Lavington","Brookhouse School, Karen","Brookhouse School, Runda","Brookhurst International, Lavington","Brookhurst International, Kiserian","Crawford International School","The Banda School","French School","German School","Jawabu School","Light International School","Makini Cambridge School","Nairobi Academy","Nairobi Jaffery Academy","Oshwal Academy U15 & U17","Oshwal Academy U17 & U19","Peponi School (overall)","Peponi School (Girls Sport)","Peponi School (Boys Sport)","Rosslyn Academy (overall)","Kenton College","Rusinga School","SABIS International School","St Austin's Academy","St. Christopher's School","Swedish School","Woodcreek School","West Nairobi School - WNS","ISK","Durham International School - DIS"]:h.institution_type==="Goverment School"?["MBAGATHI ROAD PRIMARY","NEMBU PRIMARY","KAWANGWARE PRIMARY","TOI PRIMARY","RIRUTA HGM PRIMARY"]:h.institution_type==="Academics"?["Talanta","JB Academy","Muqs","Bumble Bee Sports","Discovery Tennis","TY SPORTS","Terriffic Tennis","TY SPORTS","Next Gen Multi Sport Academu"]:[]).map(b=>e.jsx(q,{value:b,children:b},b))})]})]})]})]}),e.jsx(as,{value:"sports",className:"space-y-4",children:e.jsx(Nh,{selectedSports:h.assignedSports||[],onSportsChange:b=>T(b,!0),studentAge:18,studentGender:h.gender||"Open"})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(O,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(O,{onClick:K,children:"Save Changes"})]})]})})]})},EF=()=>{var I,g;const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState(null),[l,d]=c.useState({sponsorName:"",sponsorEmail:"",sponsoredAmount:"",notes:""}),[u,f]=c.useState([]),[m,x]=c.useState([]),[h,w]=c.useState(!0),j=async()=>{try{const[C,E]=await Promise.all([se.getAdminPayments({search:s||void 0,status:r!=="all"?r:void 0}),se.getAdminInstitutions()]);if(C.data&&typeof C.data=="object"){const A=C.data;f(A.payments||[])}else f([]);if(E.data&&typeof E.data=="object"){const A=E.data;x(A.institutions||[])}else x([])}catch(C){console.error("Error fetching data:",C),t({title:"Error",description:"Failed to fetch payments data",variant:"destructive"})}finally{w(!1)}};c.useEffect(()=>{j()},[s,r]);const S=C=>{o(C)},y=C=>{t({title:"Feature Coming Soon",description:"Edit payment functionality will be implemented soon."})},p=()=>{t({title:"Feature Coming Soon",description:"Sponsorship functionality will be implemented soon."}),d({sponsorName:"",sponsorEmail:"",sponsoredAmount:"",notes:""})},v=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},N=C=>{switch(C){case"Paid":return"bg-green-100 text-green-800";case"Partial":return"bg-yellow-100 text-yellow-800";case"Pending":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=C=>{switch(C){case"Approved":return"bg-green-100 text-green-800";case"Applied":return"bg-yellow-100 text-yellow-800";case"Not Applied":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading payments data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Payment Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage institution payments and sponsorships"})]}),e.jsxs(O,{onClick:v,variant:"outline",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search institutions...",value:s,onChange:C=>n(C.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:r,onValueChange:a,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Status"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Status"}),e.jsx(q,{value:"paid",children:"Paid"}),e.jsx(q,{value:"partial",children:"Partial"}),e.jsx(q,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Paid Amount"}),e.jsx(Xt,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed payments"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Pending Amount"}),e.jsx(hn,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Sponsored Amount"}),e.jsx(yr,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Through sponsorships"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Institution Payments"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.length," institutions"]})]})]}),m.length===0?e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No institutions found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"?"Try adjusting your search or filter criteria.":"No institutions have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(m||[]).map(C=>{var E,A;return e.jsx(J,{className:"hover:shadow-md transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:C.name}),e.jsx(me,{className:N(C.payment_status),children:C.payment_status}),e.jsx(me,{className:P("Not Applied"),children:"Not Applied"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",C.contact_person]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",C.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Payment:"})," N/A"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Amount:"})," ",((E=C.total_amount)==null?void 0:E.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Paid Amount:"})," ",((A=C.paid_amount)==null?void 0:A.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Pending Amount:"})," ",(C.total_amount||0)-(C.paid_amount||0)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Invoice ID:"})," N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>S(C),children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>y(),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(ze,{children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(yr,{className:"h-4 w-4 mr-2"}),"Sponsor"]})}),e.jsxs(De,{children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Sponsor Institution"}),e.jsxs(Qe,{children:["Provide sponsorship for ",C.name]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sponsor Name"}),e.jsx(D,{value:l.sponsorName,onChange:_=>d({...l,sponsorName:_.target.value}),placeholder:"Enter sponsor name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sponsor Email"}),e.jsx(D,{type:"email",value:l.sponsorEmail,onChange:_=>d({...l,sponsorEmail:_.target.value}),placeholder:"Enter sponsor email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sponsored Amount"}),e.jsx(D,{type:"number",value:l.sponsoredAmount,onChange:_=>d({...l,sponsoredAmount:_.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notes"}),e.jsx(D,{value:l.notes,onChange:_=>d({...l,notes:_.target.value}),placeholder:"Enter notes"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",children:"Cancel"}),e.jsx(O,{onClick:p,children:"Sponsor"})]})]})]})]})]})]})})},C.id)})})]}),e.jsx(ze,{children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Institution Payment Details"}),e.jsxs(Qe,{children:["View and manage payment information for ",i==null?void 0:i.name]})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Institution Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",i.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",i.contact_person]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",i.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",i.institution_type||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Payment Status"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(me,{className:`ml-2 ${N(i.payment_status)}`,children:i.payment_status})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",((I=i.total_amount)==null?void 0:I.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",((g=i.paid_amount)==null?void 0:g.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Pending Amount:"})," ",(i.total_amount||0)-(i.paid_amount||0)]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:()=>y(),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit Payment"]}),e.jsx(O,{variant:"outline",onClick:()=>o(null),children:"Close"})]})]})]})]})})]})},AF=()=>{var P,I;const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState(null),[i,o]=c.useState(!1),[l,d]=c.useState("all"),[u,f]=c.useState([]),[m,x]=c.useState([]),[h,w]=c.useState(!0),j=async()=>{try{const[g,C]=await Promise.all([se.getAdminInvoices({search:s||void 0,status:l!=="all"?l:void 0}),se.getAdminInstitutions()]);if(g.data&&typeof g.data=="object"){const E=g.data;f(E.invoices||[])}else f([]);if(C.data&&typeof C.data=="object"){const E=C.data;x(E.institutions||[])}else x([])}catch(g){console.error("Error fetching data:",g),t({title:"Error",description:"Failed to fetch invoices data",variant:"destructive"})}finally{w(!1)}};c.useEffect(()=>{j()},[s,l]);const S=g=>{a(g),o(!0)},y=g=>{t({title:"Feature Coming Soon",description:"Edit invoice functionality will be implemented soon."})},p=g=>{t({title:"Feature Coming Soon",description:"Generate invoice functionality will be implemented soon."})},v=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},N=g=>{switch(g){case"Paid":return"bg-green-100 text-green-800";case"Partial":return"bg-yellow-100 text-yellow-800";case"Pending":return"bg-red-100 text-red-800";case"Overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading invoices data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Invoice Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Generate and manage institution invoices"})]}),e.jsxs(O,{onClick:v,variant:"outline",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search invoices...",value:s,onChange:g=>n(g.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:l,onValueChange:d,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Status"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Status"}),e.jsx(q,{value:"paid",children:"Paid"}),e.jsx(q,{value:"partial",children:"Partial"}),e.jsx(q,{value:"pending",children:"Pending"}),e.jsx(q,{value:"overdue",children:"Overdue"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Invoices"}),e.jsx(Cn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Paid Invoices"}),e.jsx(ws,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Pending Invoices"}),e.jsx(hn,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting payment"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Overdue Invoices"}),e.jsx(Ys,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Past due date"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Institution Invoices"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.length," institutions"]})})]}),m.length===0?e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No institutions found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||l!=="all"?"Try adjusting your search or filter criteria.":"No institutions have been registered yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(m||[]).map(g=>{var C,E;return e.jsx(J,{className:"hover:shadow-md transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:g.name}),e.jsx(me,{className:N(g.payment_status),children:g.payment_status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",g.contact_person]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",g.email]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Invoice Number:"})," N/A"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Total Amount:"})," ",((C=g.total_amount)==null?void 0:C.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Paid Amount:"})," ",((E=g.paid_amount)==null?void 0:E.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Pending Amount:"})," ",(g.total_amount||0)-(g.paid_amount||0)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Due Date:"})," N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>S(g),children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>y(),children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>p(),children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Generate"]})]})]})})},g.id)})})]}),e.jsx(ze,{open:i,onOpenChange:o,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Invoice Details"}),e.jsxs(Qe,{children:["View and manage invoice for ",r==null?void 0:r.name]})]}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Institution Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",r.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",r.contact_person]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",r.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",r.institution_type||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Invoice Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Invoice Number:"})," N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Invoice Date:"})," N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Due Date:"})," N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(me,{className:`ml-2 ${N(r.payment_status)}`,children:r.payment_status})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Financial Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",((P=r.total_amount)==null?void 0:P.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Paid Amount:"})," ",((I=r.paid_amount)==null?void 0:I.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Pending Amount:"})," ",(r.total_amount||0)-(r.paid_amount||0)]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:()=>y(),children:[e.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]}),e.jsx(O,{variant:"outline",onClick:()=>o(!1),children:"Close"})]})]})]})]})})]})},RF=()=>{var A;const{toast:t}=Ee(),[s,n]=c.useState(""),[r,a]=c.useState("all"),[i,o]=c.useState(null),[l,d]=c.useState(!1),[u,f]=c.useState(!1),[m,x]=c.useState({name:"",email:"",phone:"",company:"",amount:""}),[h,w]=c.useState([]),[j,S]=c.useState([]),[y,p]=c.useState(!0),v=async()=>{try{const[_,M]=await Promise.all([se.getAdminSponsorships(),se.getAdminInstitutions()]);if(_.data&&typeof _.data=="object"){const $=_.data;w($.sponsorships||[])}else w([]);if(M.data&&typeof M.data=="object"){const $=M.data;S($.institutions||[])}else S([])}catch(_){console.error("Error fetching data:",_),t({title:"Error",description:"Failed to fetch sponsorships data",variant:"destructive"})}finally{p(!1)}};c.useEffect(()=>{v()},[]);const N=_=>{o(_),d(!0)},P=_=>{t({title:"Feature Coming Soon",description:"Edit sponsorship functionality will be implemented soon."})},I=_=>{t({title:"Feature Coming Soon",description:"Delete sponsorship functionality will be implemented soon."})},g=()=>{t({title:"Feature Coming Soon",description:"Add sponsor functionality will be implemented soon."}),f(!1),x({name:"",email:"",phone:"",company:"",amount:""})},C=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})},E=_=>{switch(_){case"Approved":return"bg-green-100 text-green-800";case"Applied":return"bg-yellow-100 text-yellow-800";case"Rejected":return"bg-red-100 text-red-800";case"Pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return y?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sponsorships data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sponsorship Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage sponsorships and sponsor relationships"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:C,variant:"outline",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(ze,{open:u,onOpenChange:f,children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{children:[e.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add Sponsor"]})}),e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Add New Sponsor"}),e.jsx(Qe,{children:"Register a new sponsor for the sports festival"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sponsor Name"}),e.jsx(D,{value:m.name,onChange:_=>x({...m,name:_.target.value}),placeholder:"Enter sponsor name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Company"}),e.jsx(D,{value:m.company,onChange:_=>x({...m,company:_.target.value}),placeholder:"Enter company name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(D,{type:"email",value:m.email,onChange:_=>x({...m,email:_.target.value}),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Phone"}),e.jsx(D,{value:m.phone,onChange:_=>x({...m,phone:_.target.value}),placeholder:"Enter phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Sponsorship Amount"}),e.jsx(D,{type:"number",value:m.amount,onChange:_=>x({...m,amount:_.target.value}),placeholder:"Enter sponsorship amount"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(O,{onClick:g,children:"Add Sponsor"})]})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(D,{placeholder:"Search sponsorships...",value:s,onChange:_=>n(_.target.value),className:"pl-10"})]}),e.jsxs(xe,{value:r,onValueChange:a,children:[e.jsx(pe,{className:"w-full sm:w-48",children:e.jsx(ge,{placeholder:"All Status"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"all",children:"All Status"}),e.jsx(q,{value:"approved",children:"Approved"}),e.jsx(q,{value:"applied",children:"Applied"}),e.jsx(q,{value:"pending",children:"Pending"}),e.jsx(q,{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Sponsors"}),e.jsx(yr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Approved Sponsors"}),e.jsx(ws,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active sponsors"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Pending Applications"}),e.jsx(hn,{className:"h-4 w-4 text-yellow-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Total Amount"}),e.jsx(Ys,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(Q,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Sponsored amount"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Sponsorship Applications"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.length," sponsorships"]})]})]}),h.length===0?e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No sponsorships found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:s||r!=="all"?"Try adjusting your search or filter criteria.":"No sponsorship applications have been submitted yet."})]})}):e.jsx("div",{className:"grid gap-4",children:(h||[]).map(_=>{var M;return e.jsx(J,{className:"hover:shadow-md transition-shadow",children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:_.name||"N/A"}),e.jsx(me,{className:E(_.status||"Pending"),children:_.status||"Pending"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Company:"})," ",_.company||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",_.email||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",_.phone||"N/A"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Amount:"})," ",((M=_.amount)==null?void 0:M.toLocaleString())||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Applied Date:"})," ",_.applied_date||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Notes:"})," ",_.notes||"N/A"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>N(_),children:[e.jsx(us,{className:"h-4 w-4 mr-2"}),"View"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>P(),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>I(_.id),children:[e.jsx(_t,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})},_.id)})})]}),e.jsx(ze,{open:l,onOpenChange:d,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Sponsorship Details"}),e.jsxs(Qe,{children:["View and manage sponsorship application for ",i==null?void 0:i.name]})]}),i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Sponsor Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Name:"})," ",i.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Company:"})," ",i.company||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",i.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," ",i.phone||"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Sponsorship Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Amount:"})," ",((A=i.amount)==null?void 0:A.toLocaleString())||0]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx(me,{className:`ml-2 ${E(i.status||"Pending")}`,children:i.status||"Pending"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Applied Date:"})," ",i.applied_date||"N/A"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Approved Date:"})," ",i.approved_date||"N/A"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.notes||"No notes available"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Actions"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:()=>P(),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit Sponsorship"]}),e.jsx(O,{variant:"outline",onClick:()=>d(!1),children:"Close"})]})]})]})]})})]})},IF=()=>{const{toast:t}=Ee();Dt();const[s,n]=c.useState([]),[r,a]=c.useState(!1),[i,o]=c.useState(!1),[l,d]=c.useState(null),[u,f]=c.useState(null),[m,x]=c.useState(!1),[h,w]=c.useState({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),[j,S]=c.useState([]),[y,p]=c.useState([]),[v,N]=c.useState({parentSport:"",name:"",fee:"",gender:"other",level:1}),[P,I]=c.useState([]),[g,C]=c.useState(!0),[E,A]=c.useState(1),[_,M]=c.useState(0),[$]=c.useState(10),L=async(F=E)=>{var re,T;try{console.log(" Fetching sports...");const b=(F-1)*$,k=await se.getAdminSports({skip:b,limit:$});console.log(" API Response:",k),console.log(" Response data:",k.data);const B=k.data,V=((re=B==null?void 0:B.data)==null?void 0:re.sports)||(B==null?void 0:B.sports)||[];console.log(" Sports data:",V),console.log(" Sports data type:",typeof V),console.log(" Is array:",Array.isArray(V)),I(Array.isArray(V)?V:[]),M(((T=B==null?void 0:B.data)==null?void 0:T.total)||0),console.log(" Sports set successfully")}catch(b){console.error("Error fetching sports:",b),t({title:"Error",description:"Failed to fetch sports data",variant:"destructive"})}finally{C(!1)}};c.useEffect(()=>{L()},[]);const U=F=>{A(F),L(F)};c.useEffect(()=>{console.log(" Render - Sports length:",P.length),console.log(" Render - Sports:",P),console.log(" Render - Loading:",g)},[P,g]);const W=async()=>{try{if(!h.sportType){t({title:"Validation Error",description:"Sport type is required",variant:"destructive"});return}if(!h.sportName.trim()){t({title:"Validation Error",description:"Sport name is required",variant:"destructive"});return}if(!h.ageFrom||!h.ageTo){t({title:"Validation Error",description:"Age from and age to are required",variant:"destructive"});return}if(!h.gender){t({title:"Validation Error",description:"Gender is required",variant:"destructive"});return}if(!h.fees||parseFloat(h.fees)<0){t({title:"Validation Error",description:"Valid fees amount is required",variant:"destructive"});return}const F=j.filter(b=>b.name.trim());for(const b of F){if(!b.name.trim()){t({title:"Validation Error",description:"Category name is required",variant:"destructive"});return}const k=(b.subCategories||[]).filter(B=>B.name.trim());for(const B of k)if(!B.name.trim()){t({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}}const re={sport_name:h.sportName,type:h.sportType,age_from:h.ageFrom,age_to:h.ageTo,gender:h.gender,fee:parseFloat(h.fees),min_limit:h.participantLimit?parseInt(h.participantLimit):null,max_limit:h.participantLimit?parseInt(h.participantLimit):null,categories:F.map(b=>({name:b.name,ageFrom:b.ageFrom,ageTo:b.ageTo,limitPerInstitution:b.limitPerInstitution?parseInt(b.limitPerInstitution):null,subCategories:(b.subCategories||[]).filter(k=>k.name.trim()).map(k=>({name:k.name,ageFrom:k.ageFrom,ageTo:k.ageTo}))}))},T=await se.createSport(re);t({title:"Success",description:"Sport created successfully!"}),a(!1),w({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),S([]),p([]),L()}catch(F){console.error("Error creating sport:",F),t({title:"Error",description:"Failed to create sport",variant:"destructive"})}},ne=F=>{d(F),w({sportType:F.type||"Individual",sportName:F.name||F.sport_name||"",ageFrom:F.age_from||F.ageFrom||"",ageTo:F.age_to||F.ageTo||"",gender:F.gender||"other",fees:F.fees||F.fee||"",participantLimit:F.min_limit&&F.max_limit?`${F.min_limit}-${F.max_limit}`:""}),S(F.categories||[]),p([]),o(!0)},H=async()=>{try{if(!h.sportType){t({title:"Validation Error",description:"Sport type is required",variant:"destructive"});return}if(!h.sportName){t({title:"Validation Error",description:"Sport name is required",variant:"destructive"});return}if(!h.ageFrom||!h.ageTo){t({title:"Validation Error",description:"Age from and age to are required",variant:"destructive"});return}if(!h.gender){t({title:"Validation Error",description:"Gender is required",variant:"destructive"});return}if(!h.fees||parseFloat(h.fees)<0){t({title:"Validation Error",description:"Valid fees amount is required",variant:"destructive"});return}const F=j.filter(T=>T.name.trim());for(const T of F){if(!T.name.trim()){t({title:"Validation Error",description:"Category name is required",variant:"destructive"});return}const b=(T.subCategories||[]).filter(k=>k.name.trim());for(const k of b)if(!k.name.trim()){t({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}}const re={sport_name:h.sportName,type:h.sportType,age_from:h.ageFrom,age_to:h.ageTo,gender:h.gender,fee:parseFloat(h.fees),min_limit:h.participantLimit?parseInt(h.participantLimit):null,max_limit:h.participantLimit?parseInt(h.participantLimit):null,categories:F.map(T=>({name:T.name,ageFrom:T.ageFrom,ageTo:T.ageTo,limitPerInstitution:T.limitPerInstitution?parseInt(T.limitPerInstitution):null,subCategories:(T.subCategories||[]).filter(b=>b.name.trim()).map(b=>({name:b.name,ageFrom:b.ageFrom,ageTo:b.ageTo}))}))};await se.updateSport(parseInt(l.id),re),t({title:"Success",description:"Sport updated successfully!"}),o(!1),d(null),w({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),S([]),p([]),L()}catch(F){console.error("Error updating sport:",F),t({title:"Error",description:"Failed to update sport",variant:"destructive"})}},z=async F=>{try{await se.deleteSport(parseInt(F)),t({title:"Success",description:"Sport deleted successfully!"}),L()}catch(re){console.error("Error deleting sport:",re),t({title:"Error",description:"Failed to delete sport",variant:"destructive"})}},ee=F=>{var re,T;f(F),N({parentSport:F.sportId||"",name:F.name||"",fee:((re=F.fee)==null?void 0:re.toString())||((T=F.fees)==null?void 0:T.toString())||"",gender:F.gender||F.gender_allowed||"other",level:F.level||1}),x(!0)},K=async()=>{try{if(!v.name.trim()){t({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}await se.updateSubCategory(parseInt(u.id),v),t({title:"Success",description:"Sub-category updated successfully!"}),x(!1),f(null),N({parentSport:"",name:"",fee:"",gender:"other",level:1}),L()}catch(F){console.error("Error updating subcategory:",F),t({title:"Error",description:"Failed to update sub-category",variant:"destructive"})}},te=async F=>{try{await se.deleteSubCategory(F),t({title:"Success",description:"Sub-category deleted successfully!"}),L()}catch(re){console.error("Error deleting subcategory:",re),t({title:"Error",description:"Failed to delete sub-category",variant:"destructive"})}},de=()=>{t({title:"Feature Coming Soon",description:"Export functionality will be implemented soon."})};return g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sports data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Sports Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage sports categories and subcategories"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs(O,{onClick:de,variant:"outline",className:"w-full sm:w-auto",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(ze,{open:r,onOpenChange:a,children:[e.jsx($s,{asChild:!0,children:e.jsxs(O,{className:"w-full sm:w-auto",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Sport"]})}),e.jsxs(De,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Add New Sport"}),e.jsx(Qe,{children:"Create a new sport with age groups, categories, and sub-categories."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"sportType",children:"Sport Type *"}),e.jsxs(xe,{value:h.sportType,onValueChange:F=>{w({...h,sportType:F,sportName:"",ageFrom:"",ageTo:""}),S([]),p([])},children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sport type"})}),e.jsx(fe,{children:Gg.map(F=>e.jsx(q,{value:F,children:F},F))})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"sportName",children:"Sport Name *"}),e.jsx(D,{id:"sportName",value:h.sportName,onChange:F=>w({...h,sportName:F.target.value}),placeholder:"e.g., Football, Athletics, Swimming"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"ageFrom",children:"Age From *"}),e.jsx(D,{id:"ageFrom",value:h.ageFrom,onChange:F=>w({...h,ageFrom:F.target.value}),placeholder:"e.g., U9, U11, 12, 15"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"ageTo",children:"Age To *"}),e.jsx(D,{id:"ageTo",value:h.ageTo,onChange:F=>w({...h,ageTo:F.target.value}),placeholder:"e.g., U19, U17, 18, 21"})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"gender",children:"Gender *"}),e.jsxs(xe,{value:h.gender,onValueChange:F=>w({...h,gender:F}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsx(fe,{children:$c.map(F=>e.jsx(q,{value:F,children:F},F))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"fees",children:"Fees () *"}),e.jsx(D,{id:"fees",type:"number",value:h.fees,onChange:F=>w({...h,fees:F.target.value}),placeholder:"e.g., 500, 1000, 1500"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"participantLimit",children:"Participant Limit"}),e.jsx(D,{id:"participantLimit",type:"number",value:h.participantLimit,onChange:F=>w({...h,participantLimit:F.target.value}),placeholder:"e.g., 50, 100, 200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-lg font-semibold",children:"Categories"}),e.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>{const F={name:"",ageFrom:"",ageTo:"",limitPerInstitution:"",subCategories:[]};S([...j,F])},children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Category"]})]}),j.map((F,re)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-4 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"text-sm font-medium",children:["Category ",re+1]}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(j.filter((T,b)=>b!==re)),className:"text-destructive hover:text-destructive",children:e.jsx(_t,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Category Name *"}),e.jsx(D,{placeholder:"e.g., Track, Field, 1v1, Doubles",value:F.name,onChange:T=>{const b=[...j];b[re].name=T.target.value,S(b)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Limit per Institution"}),e.jsx(D,{type:"number",placeholder:"Optional limit",value:F.limitPerInstitution,onChange:T=>{const b=[...j];b[re].limitPerInstitution=T.target.value,S(b)}})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:F.ageFrom,onChange:T=>{const b=[...j];b[re].ageFrom=T.target.value,S(b)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:F.ageTo,onChange:T=>{const b=[...j];b[re].ageTo=T.target.value,S(b)}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-sm font-medium",children:"Sub-Categories"}),e.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>{const T={name:"",ageFrom:"",ageTo:""},b=[...j];b[re].subCategories=[...b[re].subCategories||[],T],S(b)},children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Sub-Category"]})]}),(F.subCategories||[]).map((T,b)=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-3 bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"text-xs font-medium",children:["Sub-Category ",b+1]}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const k=[...j];k[re].subCategories=k[re].subCategories.filter((B,V)=>V!==b),S(k)},className:"text-destructive hover:text-destructive",children:e.jsx(_t,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Sub-Category Name *"}),e.jsx(D,{placeholder:"e.g., 50m, 100m, Doubles",value:T.name,onChange:k=>{const B=[...j];B[re].subCategories[b].name=k.target.value,S(B)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:T.ageFrom,onChange:k=>{const B=[...j];B[re].subCategories[b].ageFrom=k.target.value,S(B)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:T.ageTo,onChange:k=>{const B=[...j];B[re].subCategories[b].ageTo=k.target.value,S(B)}})]})]})]},b))]})]},re))]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(O,{variant:"outline",onClick:()=>{a(!1),w({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),S([]),p([])},children:"Cancel"}),e.jsx(O,{onClick:W,children:"Save Sport"})]})]})]})]})]})]}),e.jsx(ze,{open:i,onOpenChange:o,children:e.jsxs(De,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Edit Sport"}),e.jsx(Qe,{children:"Update sport information, categories, and sub-categories."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editSportType",children:"Sport Type *"}),e.jsxs(xe,{value:h.sportType,onValueChange:F=>w({...h,sportType:F}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sport type"})}),e.jsx(fe,{children:Gg.map(F=>e.jsx(q,{value:F,children:F},F))})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editSportName",children:"Sport Name *"}),e.jsx(D,{id:"editSportName",value:h.sportName,onChange:F=>w({...h,sportName:F.target.value}),placeholder:"e.g., Football, Basketball, Swimming, Badminton"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editAgeFrom",children:"Age From *"}),e.jsx(D,{id:"editAgeFrom",value:h.ageFrom,onChange:F=>w({...h,ageFrom:F.target.value}),placeholder:"e.g., U9, U11, 12, 15"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editAgeTo",children:"Age To *"}),e.jsx(D,{id:"editAgeTo",value:h.ageTo,onChange:F=>w({...h,ageTo:F.target.value}),placeholder:"e.g., U19, U17, 18, 21"})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editGender",children:"Gender *"}),e.jsxs(xe,{value:h.gender,onValueChange:F=>w({...h,gender:F}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsx(fe,{children:$c.map(F=>e.jsx(q,{value:F,children:F},F))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editFees",children:"Fees () *"}),e.jsx(D,{id:"editFees",type:"number",value:h.fees,onChange:F=>w({...h,fees:F.target.value}),placeholder:"e.g., 500, 1000, 1500"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editParticipantLimit",children:"Participant Limit"}),e.jsx(D,{id:"editParticipantLimit",type:"number",value:h.participantLimit,onChange:F=>w({...h,participantLimit:F.target.value}),placeholder:"e.g., 50, 100, 200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-lg font-semibold",children:"Categories"}),e.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>{const F={name:"",ageFrom:"",ageTo:"",limitPerInstitution:"",subCategories:[]};S([...j,F])},children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Category"]})]}),j.map((F,re)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-4 bg-muted/30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"text-sm font-medium",children:["Category ",re+1]}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>S(j.filter((T,b)=>b!==re)),className:"text-destructive hover:text-destructive",children:e.jsx(_t,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Category Name *"}),e.jsx(D,{placeholder:"e.g., Track, Field, 1v1, Doubles",value:F.name,onChange:T=>{const b=[...j];b[re].name=T.target.value,S(b)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Limit per Institution"}),e.jsx(D,{type:"number",placeholder:"Optional limit",value:F.limitPerInstitution,onChange:T=>{const b=[...j];b[re].limitPerInstitution=T.target.value,S(b)}})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:F.ageFrom,onChange:T=>{const b=[...j];b[re].ageFrom=T.target.value,S(b)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:F.ageTo,onChange:T=>{const b=[...j];b[re].ageTo=T.target.value,S(b)}})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-sm font-medium",children:"Sub-Categories"}),e.jsxs(O,{type:"button",variant:"outline",size:"sm",onClick:()=>{const T={name:"",ageFrom:"",ageTo:""},b=[...j];b[re].subCategories=[...b[re].subCategories||[],T],S(b)},children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Sub-Category"]})]}),(F.subCategories||[]).map((T,b)=>e.jsxs("div",{className:"p-3 border rounded-lg space-y-3 bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(R,{className:"text-xs font-medium",children:["Sub-Category ",b+1]}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const k=[...j];k[re].subCategories=k[re].subCategories.filter((B,V)=>V!==b),S(k)},className:"text-destructive hover:text-destructive",children:e.jsx(_t,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Sub-Category Name *"}),e.jsx(D,{placeholder:"e.g., 50m, 100m, Doubles",value:T.name,onChange:k=>{const B=[...j];B[re].subCategories[b].name=k.target.value,S(B)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age From"}),e.jsx(D,{placeholder:"e.g., U9, U11, 12, 15",value:T.ageFrom,onChange:k=>{const B=[...j];B[re].subCategories[b].ageFrom=k.target.value,S(B)}})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-xs text-muted-foreground",children:"Age To"}),e.jsx(D,{placeholder:"e.g., U19, U17, 18, 21",value:T.ageTo,onChange:k=>{const B=[...j];B[re].subCategories[b].ageTo=k.target.value,S(B)}})]})]})]},b))]})]},re))]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(O,{variant:"outline",onClick:()=>{o(!1),d(null),w({sportType:"Individual",sportName:"",ageFrom:"",ageTo:"",gender:"other",fees:"",participantLimit:""}),S([]),p([])},children:"Cancel"}),e.jsx(O,{onClick:H,children:"Update Sport"})]})]})]})}),e.jsx(ze,{open:m,onOpenChange:x,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Edit Sub-category"}),e.jsx(Qe,{children:"Update sub-category information."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editSubCategoryName",children:"Sub-category Name"}),e.jsx(D,{id:"editSubCategoryName",value:v.name,onChange:F=>N({...v,name:F.target.value}),placeholder:"e.g., Under 16 Boys"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editSubCategoryFee",children:"Fee ()"}),e.jsx(D,{id:"editSubCategoryFee",type:"number",value:v.fee,onChange:F=>N({...v,fee:F.target.value}),placeholder:"500"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editSubCategoryLevel",children:"Level"}),e.jsxs(xe,{value:(v.level||1).toString(),onValueChange:F=>N({...v,level:parseInt(F)}),children:[e.jsx(pe,{children:e.jsx(ge,{})}),e.jsxs(fe,{children:[e.jsx(q,{value:"1",children:"Level 1"}),e.jsx(q,{value:"2",children:"Level 2"}),e.jsx(q,{value:"3",children:"Level 3"}),e.jsx(q,{value:"4",children:"Level 4"}),e.jsx(q,{value:"5",children:"Level 5"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"editSubCategoryGender",children:"Gender Allowed"}),e.jsxs(xe,{value:v.gender,onValueChange:F=>N({...v,gender:F}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Both",children:"Both"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",onClick:()=>{x(!1),f(null),N({parentSport:"",name:"",fee:"",gender:"other",level:1})},children:"Cancel"}),e.jsx(O,{onClick:K,children:"Update Sub-category"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[P.length===0?e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Ie,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No sports found"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"No sports have been configured yet. Add your first sport category to get started."})]})}):(P||[]).map(F=>{var re;return e.jsxs(J,{className:"hover:shadow-md transition-shadow",children:[e.jsx(ie,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(oe,{className:"text-lg",children:F.name||F.sport_name}),e.jsxs(_e,{className:"text-sm",children:[F.type," Sport | Age: ",F.age_from,"-",F.age_to," | Gender: ",F.gender===1?"Male":F.gender===0?"Female":"Both",F.type==="Team"&&F.min_limit&&F.max_limit&&` | Team Size: ${F.min_limit}-${F.max_limit}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs(me,{variant:"outline",children:[e.jsx(Ye,{className:"h-3 w-3 mr-1"}),F.student_count||0," students"]}),e.jsxs(me,{variant:"outline",children:[e.jsx(ws,{className:"h-3 w-3 mr-1"}),F.institution_count||0," institutions"]}),e.jsxs(me,{variant:"outline",children:[((re=F.categories)==null?void 0:re.length)||0," categories"]}),e.jsx(me,{variant:F.is_active?"default":"secondary",children:F.is_active?"Active":"Inactive"}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ne(F),children:e.jsx(Ct,{className:"h-4 w-4"})}),e.jsxs(Uc,{children:[e.jsx(Bc,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(_t,{className:"h-4 w-4"})})}),e.jsxs(Po,{children:[e.jsxs(Eo,{children:[e.jsx(Ro,{children:"Delete Sport"}),e.jsxs(Io,{children:['Are you sure you want to delete "',F.name||F.sport_name,'"? This action cannot be undone.']})]}),e.jsxs(Ao,{children:[e.jsx(_o,{children:"Cancel"}),e.jsx(To,{onClick:()=>z(F.id),children:"Delete"})]})]})]})]})]})}),e.jsx(Q,{children:e.jsx("div",{className:"space-y-4",children:!F.categories||F.categories.length===0?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No categories available"}):e.jsx("div",{className:"grid gap-3",children:F.categories.map(T=>{var b;return e.jsx(J,{className:"bg-muted/30",children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:T.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fee: ",T.fee||0," | Status: ",T.is_active?"Active":"Inactive"]}),T.subcategories&&T.subcategories.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Subcategories: ",T.subcategories.map(k=>k.name).join(", ")]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(me,{variant:"outline",children:[((b=T.subcategories)==null?void 0:b.length)||0," subcategories"]}),e.jsx(O,{variant:"ghost",size:"sm",onClick:()=>ee(T),children:e.jsx(Ct,{className:"h-4 w-4"})}),e.jsxs(Uc,{children:[e.jsx(Bc,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"sm",children:e.jsx(_t,{className:"h-4 w-4"})})}),e.jsxs(Po,{children:[e.jsxs(Eo,{children:[e.jsx(Ro,{children:"Delete Category"}),e.jsxs(Io,{children:['Are you sure you want to delete "',T.name,'"? This action cannot be undone.']})]}),e.jsxs(Ao,{children:[e.jsx(_o,{children:"Cancel"}),e.jsx(To,{onClick:()=>te(T.id),children:"Delete"})]})]})]})]})]})})},T.id)})})})})]},F.id)}),_>$&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(E-1)*$+1," to ",Math.min(E*$,_)," of ",_," sports"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>U(E-1),disabled:E===1,children:[e.jsx(wc,{className:"h-4 w-4 rotate-90"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.ceil(_/$)},(F,re)=>re+1).filter(F=>F===1||F===Math.ceil(_/$)||Math.abs(F-E)<=2).map((F,re,T)=>{const b=re>0&&F-T[re-1]>1;return e.jsxs("div",{className:"flex items-center gap-1",children:[b&&e.jsx("span",{className:"text-muted-foreground",children:"..."}),e.jsx(O,{variant:E===F?"default":"outline",size:"sm",onClick:()=>U(F),className:"w-8 h-8 p-0",children:F})]},F)})}),e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>U(E+1),disabled:E===Math.ceil(_/$),children:["Next",e.jsx(wc,{className:"h-4 w-4 -rotate-90"})]})]})]})]})]})},TF=()=>{const{id:t}=Wp(),s=Dt(),{toast:n}=Ee(),[r,a]=c.useState(null),[i,o]=c.useState(!0),[l,d]=c.useState(null),[u,f]=c.useState(!1),[m,x]=c.useState({}),[h,w]=c.useState({name:"",gender:"Open",level:1}),[j,S]=c.useState(!1);c.useEffect(()=>{t&&(async()=>{try{o(!0);const g=(await se.getSport(parseInt(t))).data,C=(g==null?void 0:g.data)||g;a(C),x(C)}catch(I){console.error("Error fetching sport details:",I),d("Failed to load sport details"),n({title:"Error",description:"Failed to load sport details",variant:"destructive"})}finally{o(!1)}})()},[t,n]);const y=async()=>{try{await se.updateSport(parseInt(t),m),a(m),f(!1),n({title:"Success",description:"Sport updated successfully"})}catch(P){console.error("Error updating sport:",P),n({title:"Error",description:"Failed to update sport",variant:"destructive"})}},p=async()=>{try{if(!h.name.trim()){n({title:"Validation Error",description:"Sub-category name is required",variant:"destructive"});return}await se.addSubCategory(t,h);const P=await se.getSport(parseInt(t));a(P.data),x(P.data),w({name:"",gender:"Open",level:1}),S(!1),n({title:"Success",description:"Sub-category added successfully"})}catch(P){console.error("Error adding sub-category:",P),n({title:"Error",description:"Failed to add sub-category",variant:"destructive"})}},v=async(P,I)=>{try{await se.updateSubCategory(parseInt(P),I);const g=await se.getSport(parseInt(t));a(g.data),x(g.data),n({title:"Success",description:"Sub-category updated successfully"})}catch(g){console.error("Error updating sub-category:",g),n({title:"Error",description:"Failed to update sub-category",variant:"destructive"})}},N=async P=>{try{await se.deleteSubCategory(P);const I=await se.getSport(parseInt(t));a(I.data),x(I.data),n({title:"Success",description:"Sub-category deleted successfully"})}catch(I){console.error("Error deleting sub-category:",I),n({title:"Error",description:"Failed to delete sub-category",variant:"destructive"})}};return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading sport details..."})]})}):l||!r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ie,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Sport Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:l||"The requested sport could not be found."}),e.jsxs(O,{onClick:()=>s("/admin/admin-sports"),children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Back to Sports"]})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>s("/admin/admin-sports"),children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:r.name||r.sport_name}),e.jsx("p",{className:"text-muted-foreground",children:"Sport Details & Management"})]})]}),e.jsx("div",{className:"flex gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsxs(O,{variant:"outline",onClick:()=>f(!1),children:[e.jsx(On,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(O,{onClick:y,children:[e.jsx(qo,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):e.jsxs(O,{onClick:()=>f(!0),children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Update"]})})]}),e.jsxs(Co,{defaultValue:"overview",className:"w-full",children:[e.jsxs(ai,{className:"grid w-full grid-cols-3",children:[e.jsx(rs,{value:"overview",children:"Overview"}),e.jsx(rs,{value:"subcategories",children:"Sub-Categories"}),e.jsx(rs,{value:"settings",children:"Settings"})]}),e.jsxs(as,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Sport Type"}),e.jsx(Go,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Q,{children:e.jsx("div",{className:"text-2xl font-bold",children:e.jsx(me,{variant:r.type==="Individual"?"default":"secondary",children:r.type||"Individual"})})})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Age Range"}),e.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Q,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[r.age_from," - ",r.age_to]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Years"})]})]}),e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Gender"}),e.jsx(JP,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Q,{children:e.jsx("div",{className:"text-2xl font-bold",children:e.jsx(me,{variant:"outline",children:r.gender||"Open"})})})]}),r.fees&&e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Fees"}),e.jsx(ws,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Q,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["",r.fees]})})]}),(r.min_limit||r.max_limit)&&e.jsxs(J,{children:[e.jsxs(ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(oe,{className:"text-sm font-medium",children:"Participant Limit"}),e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Q,{children:e.jsx("div",{className:"text-2xl font-bold",children:r.min_limit&&r.max_limit?`${r.min_limit} - ${r.max_limit}`:r.min_limit||r.max_limit})})]})]}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsx(oe,{children:"Description"})}),e.jsx(Q,{children:u?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(R,{htmlFor:"description",children:"Description"}),e.jsx(D,{id:"description",value:m.description||"",onChange:P=>x({...m,description:P.target.value}),placeholder:"Enter sport description..."})]})}):e.jsx("p",{className:"text-muted-foreground",children:r.description||"No description available for this sport."})})]})]}),e.jsxs(as,{value:"subcategories",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Sub-Categories"}),e.jsxs(O,{onClick:()=>S(!0),children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add Sub-Category"]})]}),r.categories&&r.categories.length>0?e.jsx("div",{className:"space-y-4",children:r.categories.map((P,I)=>e.jsx(J,{children:e.jsx(Q,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold",children:P.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Level: ",P.level||1]}),e.jsxs("span",{children:["Gender: ",P.gender||"Open"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{variant:"outline",size:"sm",onClick:()=>{const g=prompt("Enter new name:",P.name);g&&g.trim()&&v(P.id,{...P,name:g.trim()})},children:e.jsx(Ct,{className:"h-4 w-4"})}),e.jsxs(Uc,{children:[e.jsx(Bc,{asChild:!0,children:e.jsx(O,{variant:"outline",size:"sm",children:e.jsx(_t,{className:"h-4 w-4"})})}),e.jsxs(Po,{children:[e.jsxs(Eo,{children:[e.jsx(Ro,{children:"Delete Sub-Category"}),e.jsxs(Io,{children:['Are you sure you want to delete "',P.name,'"? This action cannot be undone.']})]}),e.jsxs(Ao,{children:[e.jsx(_o,{children:"Cancel"}),e.jsx(To,{onClick:()=>N(P.id),children:"Delete"})]})]})]})]})]})})},P.id||I))}):e.jsx(J,{children:e.jsxs(Q,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Ie,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Sub-Categories"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"This sport doesn't have any sub-categories yet."}),e.jsxs(O,{onClick:()=>S(!0),children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Add First Sub-Category"]})]})})]}),e.jsx(as,{value:"settings",className:"space-y-6",children:e.jsxs(J,{children:[e.jsxs(ie,{children:[e.jsx(oe,{children:"Sport Settings"}),e.jsx(_e,{children:"Configure sport-specific settings and preferences"})]}),e.jsx(Q,{className:"space-y-4",children:u?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"sportName",children:"Sport Name"}),e.jsx(D,{id:"sportName",value:m.sportName||m.name||"",onChange:P=>x({...m,sportName:P.target.value,name:P.target.value}),placeholder:"Enter sport name"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"sportType",children:"Sport Type"}),e.jsxs(xe,{value:m.sportType||"Individual",onValueChange:P=>x({...m,sportType:P}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select sport type"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Individual",children:"Individual"}),e.jsx(q,{value:"Team",children:"Team"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"ageFrom",children:"Age From"}),e.jsx(D,{id:"ageFrom",value:m.ageFrom||"",onChange:P=>x({...m,ageFrom:P.target.value}),placeholder:"e.g., U6"})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"ageTo",children:"Age To"}),e.jsx(D,{id:"ageTo",value:m.ageTo||"",onChange:P=>x({...m,ageTo:P.target.value}),placeholder:"e.g., U18"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"gender",children:"Gender"}),e.jsxs(xe,{value:m.gender||"Open",onValueChange:P=>x({...m,gender:P}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Open",children:"Open"})]})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"fees",children:"Fees ()"}),e.jsx(D,{id:"fees",type:"number",value:m.fees||"",onChange:P=>x({...m,fees:P.target.value}),placeholder:"Enter fees"})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"participantLimit",children:"Participant Limit"}),e.jsx(D,{id:"participantLimit",type:"number",value:m.participantLimit||"",onChange:P=>x({...m,participantLimit:P.target.value}),placeholder:"Enter participant limit"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium",children:"Sport Name"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.name||r.sport_name})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium",children:"Sport Type"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.type||"Individual"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium",children:"Age Range"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.age_from," - ",r.age_to]})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium",children:"Gender"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.gender||"Open"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium",children:"Fees"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.fees?`${r.fees}`:"Not set"})]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm font-medium",children:"Participant Limit"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.min_limit&&r.max_limit?`${r.min_limit} - ${r.max_limit}`:r.min_limit||r.max_limit||"Not set"})]})]})]})})]})})]}),e.jsx(ze,{open:j,onOpenChange:S,children:e.jsxs(De,{children:[e.jsxs(Le,{children:[e.jsx($e,{children:"Add Sub-Category"}),e.jsx(Qe,{children:"Add a new sub-category for this sport."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"subCategoryName",children:"Name"}),e.jsx(D,{id:"subCategoryName",value:h.name,onChange:P=>w({...h,name:P.target.value}),placeholder:"e.g., Under 16 Boys"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{htmlFor:"subCategoryGender",children:"Gender"}),e.jsxs(xe,{value:h.gender,onValueChange:P=>w({...h,gender:P}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select gender"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Open",children:"Open"})]})]})]}),e.jsxs("div",{children:[e.jsx(R,{htmlFor:"subCategoryLevel",children:"Level"}),e.jsxs(xe,{value:h.level.toString(),onValueChange:P=>w({...h,level:parseInt(P)}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select level"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"1",children:"Level 1"}),e.jsx(q,{value:"2",children:"Level 2"}),e.jsx(q,{value:"3",children:"Level 3"}),e.jsx(q,{value:"4",children:"Level 4"}),e.jsx(q,{value:"5",children:"Level 5"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(O,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e.jsx(O,{onClick:p,children:"Add Sub-Category"})]})]})]})})]})},_F=()=>{const{id:t}=Wp(),s=Dt(),{toast:n}=Ee(),[r,a]=c.useState(null),[i,o]=c.useState(!0),[l,d]=c.useState(!1),[u,f]=c.useState(!1),[m,x]=c.useState([]),[h,w]=c.useState({first_name:"",middle_name:"",last_name:"",email:"",student_id:"",institution_type:"",institution_name:"",gender:"Open",assignedSports:[]});c.useEffect(()=>{t&&j()},[t]);const j=async()=>{try{o(!0),console.log("Fetching student with ID:",t);const N=await se.getStudent(t);console.log("Student response:",N);const P=N.data||N;if(!P)throw new Error("No student data received");a(P),w({first_name:P.first_name||"",middle_name:P.middle_name||"",last_name:P.last_name||"",email:P.email||"",student_id:P.student_id||"",institution_type:P.institution_type||"",institution_name:P.institution_name||"",gender:P.gender||"Open",assignedSports:P.assignedSports||[]})}catch(N){console.error("Error fetching student:",N),n({title:"Error",description:`Failed to fetch student details: ${N instanceof Error?N.message:"Unknown error"}`,variant:"destructive"})}finally{o(!1)}},S=()=>{d(!0),x([])},y=()=>{d(!1),x([]),r&&w({first_name:r.first_name||"",middle_name:r.middle_name||"",last_name:r.last_name||"",email:r.email||"",student_id:r.student_id||"",institution_type:r.institution_type||"",institution_name:r.institution_name||"",gender:r.gender||"Open",assignedSports:r.assignedSports||[]})},p=async()=>{const N=[];if(h.first_name.trim()||N.push("First name is required"),h.last_name.trim()||N.push("Last name is required"),h.email.trim()||N.push("Email is required"),h.student_id.trim()||N.push("Student ID is required"),h.institution_type||N.push("Institution type is required"),h.institution_name.trim()||N.push("Institution name is required"),N.length>0){x(N);return}try{f(!0),x([]);const P={first_name:h.first_name.trim(),middle_name:h.middle_name.trim(),last_name:h.last_name.trim(),email:h.email.trim(),student_id:h.student_id.trim(),institution_type:h.institution_type,institution_name:h.institution_name.trim(),gender:h.gender,assignedSports:h.assignedSports};await se.updateStudent(t,P),a(I=>I?{...I,...P}:null),d(!1),n({title:"Success",description:"Student updated successfully"})}catch(P){console.error("Error updating student:",P),n({title:"Error",description:"Failed to update student",variant:"destructive"})}finally{f(!1)}},v=N=>{w(P=>({...P,assignedSports:N}))};return i?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Loading student details..."})]})}):r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>s("/admin/admin-students"),children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Back to Students"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[r.first_name," ",r.middle_name," ",r.last_name]}),e.jsxs("p",{className:"text-muted-foreground",children:["Student ID: ",r.student_id]})]})]}),e.jsx("div",{className:"flex gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsxs(O,{variant:"outline",onClick:y,children:[e.jsx(On,{className:"h-4 w-4 mr-2"}),"Cancel"]}),e.jsxs(O,{onClick:p,disabled:u,children:[e.jsx(qo,{className:"h-4 w-4 mr-2"}),u?"Saving...":"Save Changes"]})]}):e.jsxs(O,{onClick:S,children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"Edit Student"]})})]}),m.length>0&&e.jsx(ct,{variant:"destructive",children:e.jsx(dt,{children:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:m.map((N,P)=>e.jsx("li",{children:N},P))})})}),e.jsxs(Co,{defaultValue:"details",className:"w-full",children:[e.jsxs(ai,{className:"grid w-full grid-cols-2",children:[e.jsx(rs,{value:"details",children:"Student Details"}),e.jsx(rs,{value:"sports",children:"Sports Assignment"})]}),e.jsxs(as,{value:"details",className:"space-y-6",children:[e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"Personal Information"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"First Name"}),l?e.jsx(D,{value:h.first_name,onChange:N=>w({...h,first_name:N.target.value})}):e.jsx("p",{className:"py-2 px-3 bg-muted rounded-md",children:r.first_name})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Middle Name"}),l?e.jsx(D,{value:h.middle_name,onChange:N=>w({...h,middle_name:N.target.value})}):e.jsx("p",{className:"py-2 px-3 bg-muted rounded-md",children:r.middle_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Last Name"}),l?e.jsx(D,{value:h.last_name,onChange:N=>w({...h,last_name:N.target.value})}):e.jsx("p",{className:"py-2 px-3 bg-muted rounded-md",children:r.last_name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"Email"}),l?e.jsx(D,{type:"email",value:h.email,onChange:N=>w({...h,email:N.target.value})}):e.jsxs("p",{className:"py-2 px-3 bg-muted rounded-md flex items-center gap-2",children:[e.jsx(Ot,{className:"h-4 w-4"}),r.email]})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Student ID"}),l?e.jsx(D,{value:h.student_id,onChange:N=>w({...h,student_id:N.target.value})}):e.jsxs("p",{className:"py-2 px-3 bg-muted rounded-md flex items-center gap-2",children:[e.jsx(Vo,{className:"h-4 w-4"}),r.student_id]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx(R,{children:"Gender"}),l?e.jsxs(xe,{value:h.gender,onValueChange:N=>w({...h,gender:N}),children:[e.jsx(pe,{children:e.jsx(ge,{})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Male",children:"Male"}),e.jsx(q,{value:"Female",children:"Female"}),e.jsx(q,{value:"Open",children:"Open"})]})]}):e.jsx("p",{className:"py-2 px-3 bg-muted rounded-md",children:r.gender||"Open"})]})})]})]}),e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(vr,{className:"h-5 w-5"}),"Institution Information"]})}),e.jsx(Q,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:"Institution Type"}),l?e.jsxs(xe,{value:h.institution_type,onValueChange:N=>w({...h,institution_type:N,institution_name:""}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select type"})}),e.jsxs(fe,{children:[e.jsx(q,{value:"Kaiso School",children:"Kaiso School"}),e.jsx(q,{value:"Goverment School",children:"Goverment School"}),e.jsx(q,{value:"Academics",children:"Academics"}),e.jsx(q,{value:"Other",children:"Other"})]})]}):e.jsx("p",{className:"py-2 px-3 bg-muted rounded-md",children:r.institution_type})]}),e.jsxs("div",{children:[e.jsx(R,{children:"Institution Name"}),l?h.institution_type==="Other"?e.jsx(D,{value:h.institution_name,onChange:N=>w({...h,institution_name:N.target.value})}):e.jsxs(xe,{value:h.institution_name,onValueChange:N=>w({...h,institution_name:N}),children:[e.jsx(pe,{children:e.jsx(ge,{placeholder:"Select name"})}),e.jsx(fe,{className:"max-h-72",children:(h.institution_type==="Kaiso School"?["Aga Khan Academy","Braeburn Garden Estate - BGE","Braeburn Gitanga Road - BGR","Braeside School, Thika","Braeside School, Lavington","Brookhouse School, Karen","Brookhouse School, Runda","Brookhurst International, Lavington","Brookhurst International, Kiserian","Crawford International School","The Banda School","French School","German School","Jawabu School","Light International School","Makini Cambridge School","Nairobi Academy","Nairobi Jaffery Academy","Oshwal Academy U15 & U17","Oshwal Academy U17 & U19","Peponi School (overall)","Peponi School (Girls Sport)","Peponi School (Boys Sport)","Rosslyn Academy (overall)","Kenton College","Rusinga School","SABIS International School","St Austin's Academy","St. Christopher's School","Swedish School","Woodcreek School","West Nairobi School - WNS","ISK","Durham International School - DIS"]:h.institution_type==="Goverment School"?["MBAGATHI ROAD PRIMARY","NEMBU PRIMARY","KAWANGWARE PRIMARY","TOI PRIMARY","RIRUTA HGM PRIMARY"]:h.institution_type==="Academics"?["Talanta","JB Academy","Muqs","Bumble Bee Sports","Discovery Tennis","TY SPORTS","Terriffic Tennis","TY SPORTS","Next Gen Multi Sport Academu"]:[]).map(N=>e.jsx(q,{value:N,children:N},N))})]}):e.jsx("p",{className:"py-2 px-3 bg-muted rounded-md",children:r.institution_name})]})]})})]})]}),e.jsx(as,{value:"sports",className:"space-y-6",children:e.jsxs(J,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Sports Assignment"]})}),e.jsx(Q,{children:l?e.jsx(Nh,{selectedSports:h.assignedSports,onSportsChange:v,studentAge:r.dob?Ki(r.dob):void 0,studentGender:h.gender}):e.jsx("div",{className:"space-y-4",children:r.assignedSports&&r.assignedSports.length>0?e.jsx("div",{className:"space-y-3",children:r.assignedSports.map((N,P)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ie,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:N.sportName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[N.categoryName," - ",N.subCategoryName,e.jsx("br",{}),"Age Group: ",N.ageGroup," | Gender: ",N.gender]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(me,{variant:N.sportType==="Individual"?"default":"secondary",children:N.sportType}),e.jsx(me,{variant:"outline",children:N.ageGroup})]})]},P))}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Ie,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No sports assigned to this student"}),e.jsx("p",{className:"text-sm",children:'Click "Edit Student" to assign sports'})]})})})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Student not found"}),e.jsxs(O,{onClick:()=>s("/admin/admin-students"),children:[e.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Back to Students"]})]})})},kF=({children:t})=>{const[s,n]=c.useState(null),{toast:r}=Ee();return c.useEffect(()=>{(async()=>{try{const i=localStorage.getItem("adminSession"),o=localStorage.getItem("authToken");if(!i||!o){console.log("Missing admin session or auth token"),r({title:"Access Denied",description:"Please log in as an admin to access this page.",variant:"destructive"}),n(!1);return}if(JSON.parse(i).role!=="admin"){console.log("Invalid admin role"),r({title:"Access Denied",description:"You don't have admin privileges to access this page.",variant:"destructive"}),n(!1);return}try{const d=await fetch("http://localhost:8000/api/v1/admin/dashboard/stats",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});d.ok?(console.log("Admin access verified"),n(!0)):d.status===401?(console.log("Token expired or invalid"),localStorage.removeItem("authToken"),localStorage.removeItem("adminSession"),localStorage.removeItem("student"),r({title:"Session Expired",description:"Your admin session has expired. Please log in again.",variant:"destructive"}),n(!1)):(console.log("API call failed with status:",d.status),r({title:"Authentication Error",description:"Failed to verify admin access. Please log in again.",variant:"destructive"}),n(!1))}catch(d){console.error("API verification failed:",d),r({title:"Connection Error",description:"Unable to verify admin access. Please check your connection.",variant:"destructive"}),n(!1)}}catch(i){console.error("Error checking admin access:",i),r({title:"Authentication Error",description:"Failed to verify admin access. Please log in again.",variant:"destructive"}),n(!1)}})()},[r]),s===null?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Verifying admin access..."})]})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(an,{to:"/login",replace:!0})},MF=({children:t})=>{const{isAuthenticated:s}=Lt(),[n,r]=c.useState(!0),[a,i]=c.useState(!1);if(c.useEffect(()=>{const l=localStorage.getItem("student"),d=localStorage.getItem("authToken");if(!l||!d){i(!1),r(!1);return}try{const u=JSON.parse(l);u&&u.email?i(!0):i(!1)}catch(u){console.error("Error parsing stored student:",u),i(!1)}r(!1)},[]),n)return e.jsx("div",{children:"Loading..."});if(!s||!a)return e.jsx(an,{to:"/institution/login",replace:!0});const o=localStorage.getItem("institutionSession");if(!o)return e.jsx(an,{to:"/institution/login",replace:!0});try{if(JSON.parse(o).role!=="institution")return e.jsx(an,{to:"/institution/login",replace:!0})}catch(l){return console.error("Error parsing institution session:",l),e.jsx(an,{to:"/institution/login",replace:!0})}return e.jsx(e.Fragment,{children:t})},OF=new wI,FF=({children:t})=>{const{isAuthenticated:s}=Lt();return s?t:e.jsx(an,{to:"/login",replace:!0})},kl=({children:t})=>{const{isAuthenticated:s}=Lt();if(!s)return t;const n=localStorage.getItem("adminSession"),r=localStorage.getItem("institutionSession");if(n)try{if(JSON.parse(n).role==="admin")return e.jsx(an,{to:"/admin",replace:!0})}catch(a){console.error("Error parsing admin session:",a)}if(r)try{if(JSON.parse(r).role==="institution")return e.jsx(an,{to:"/institution",replace:!0})}catch(a){console.error("Error parsing institution session:",a)}return e.jsx(an,{to:"/dashboard",replace:!0})},DF=()=>e.jsx(CI,{client:OF,children:e.jsxs(BN,{children:[e.jsx(cN,{}),e.jsx(dA,{}),e.jsx(_T,{children:e.jsx(bT,{children:e.jsxs(xT,{children:[e.jsx(Re,{path:"/",element:e.jsx(an,{to:"/login",replace:!0})}),e.jsx(Re,{path:"/register",element:e.jsx(kl,{children:e.jsx(lk,{})})}),e.jsx(Re,{path:"/register-old",element:e.jsx(kl,{children:e.jsx(f_,{})})}),e.jsx(Re,{path:"/login",element:e.jsx(kl,{children:e.jsx(dk,{})})}),e.jsx(Re,{path:"/student-payment/:studentId",element:e.jsx(aF,{})}),e.jsx(Re,{path:"/student-login",element:e.jsx(iF,{})}),e.jsxs(Re,{path:"/dashboard",element:e.jsx(FF,{children:e.jsx(iO,{})}),children:[e.jsx(Re,{index:!0,element:e.jsx(oO,{})}),e.jsx(Re,{path:"profile",element:e.jsx(lO,{})}),e.jsx(Re,{path:"sports-registration",element:e.jsx(CO,{})}),e.jsx(Re,{path:"guardian-info",element:e.jsx(PO,{})}),e.jsx(Re,{path:"medical-info",element:e.jsx(EO,{})}),e.jsx(Re,{path:"student-payments",element:e.jsx(AO,{})}),e.jsx(Re,{path:"consent",element:e.jsx(RO,{})}),e.jsx(Re,{path:"notifications",element:e.jsx(IO,{})})]}),e.jsx(Re,{path:"/institution/register",element:e.jsx(Kg,{})}),e.jsx(Re,{path:"/institution/register/phase1",element:e.jsx(Kg,{})}),e.jsx(Re,{path:"/institution/register-old",element:e.jsx(FO,{})}),e.jsx(Re,{path:"/institution/login",element:e.jsx(kl,{children:e.jsx(ck,{})})}),e.jsxs(Re,{path:"/institution",element:e.jsx(MF,{children:e.jsx(OO,{})}),children:[e.jsx(Re,{index:!0,element:e.jsx(WO,{})}),e.jsx(Re,{path:"profile",element:e.jsx(rF,{})}),e.jsx(Re,{path:"institution-students",element:e.jsx(KO,{})}),e.jsx(Re,{path:"institution-sports",element:e.jsx(sF,{})}),e.jsx(Re,{path:"institution-payments",element:e.jsx(nF,{})})]}),e.jsxs(Re,{path:"/admin",element:e.jsx(kF,{children:e.jsx(dF,{})}),children:[e.jsx(Re,{index:!0,element:e.jsx(uF,{})}),e.jsx(Re,{path:"admin-institutions",element:e.jsx(CF,{})}),e.jsx(Re,{path:"admin-students",element:e.jsx(PF,{})}),e.jsx(Re,{path:"admin-payments",element:e.jsx(EF,{})}),e.jsx(Re,{path:"admin-invoices",element:e.jsx(AF,{})}),e.jsx(Re,{path:"admin-sponsorships",element:e.jsx(RF,{})}),e.jsx(Re,{path:"admin-sports",element:e.jsx(IF,{})}),e.jsx(Re,{path:"admin-sports/:id",element:e.jsx(TF,{})}),e.jsx(Re,{path:"admin-students/:id",element:e.jsx(_F,{})})]}),e.jsx(Re,{path:"*",element:e.jsx(TO,{})})]})})})]})});class LF extends he.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,n){console.error("Error caught by boundary:",s,n)}render(){return this.state.hasError?e.jsx("div",{children:"Something went wrong with the notification context."}):this.props.children}}yj(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(LF,{children:e.jsxs(_E,{children:[e.jsx(DF,{}),e.jsx(cN,{})]})})}));
